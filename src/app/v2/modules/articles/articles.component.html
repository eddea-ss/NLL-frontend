<!-- Breadcrumbs -->
<app-breadcrumbs [breadcrumbs]="breadcrumbs"></app-breadcrumbs>

<main class="container mx-auto py-8 px-4">
  <h1 class="text-3xl font-bold mb-8 text-gray-900 border-b pb-4">Artículos</h1>

  <!-- Filter Bar Placeholder -->
  <div class="mb-8 p-4 bg-gray-50 rounded-lg shadow-sm">
    <h2 class="text-xl font-semibold mb-4 text-gray-700">Filtrar Artículos</h2>
    <!-- Add filter controls here (e.g., dropdowns, text inputs) -->
    <div class="flex space-x-4">
      <input type="text" placeholder="Buscar por título..." class="p-2 border rounded w-full md:w-1/3">
      <select class="p-2 border rounded">
        <option value="">Todas las categorías</option>
        <!-- Add category options here -->
      </select>
      <button 
        (click)="applyFilters({})" 
        class="bg-[#fbcc2c] text-gray-900 px-4 py-2 rounded hover:bg-yellow-500 transition duration-200">
        Aplicar Filtros
      </button>
    </div>
    <p class="text-sm text-gray-500 mt-2">Funcionalidad de filtro en desarrollo.</p>
  </div>

  <!-- Loading State -->
  @if (loading()) {
    <div class="flex justify-center items-center py-12">
      <div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-gray-900"></div>
    </div>
  } @else if (error()) {
    <!-- Error State -->
    <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative text-center" role="alert">
      <strong class="font-bold">Error:</strong>
      <span class="block sm:inline">{{ error() }}</span>
    </div>
  } @else if (articles().length === 0) {
    <!-- Empty State -->
    <div class="text-center py-12">
      <p class="text-gray-500 text-lg">No se encontraron artículos.</p>
    </div>
  } @else {
    <!-- Articles Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      @for (article of articles(); track article.id) { 
        <app-article-item 
          [data]="article" 
          (click)="openArticleModal(article)"
          (keypress.enter)="openArticleModal(article)"
          class="cursor-pointer">
        </app-article-item>
      }
    </div>
  }
</main>

<!-- Article Modal -->
@if (isModalOpen() && selectedArticle()) {
  <app-article-modal 
    [data]="selectedArticle()" 
    (close)="closeModal()">
  </app-article-modal>
} 