<div
  style="padding: 0px; align-content: center; height: 100vh"
  class="max-w-screen-lg mx-auto"
>
  <div class="grid grid-cols-1 md:grid-cols-12 border">
    <div class="bg-gray-900 md:col-span-4 p-10 text-white">
      <p class="mt-4 text-sm leading-7 font-regular uppercase">
        Registro | @if (tipoRegistro==='proveedor') { Proveedor } @else if
        (tipoRegistro==='empresa') { Industria 4.0 } @else { Persona }
      </p>
      <h3
        class="text-3xl sm:text-4xl leading-normal font-extrabold tracking-tight"
      >
        NuevoLosLagos
      </h3>
      <p style="margin-top: 24px" class="mt-4 leading-7 text-gray-200">
        @if (tipoRegistro==='proveedor') { Accede a nuestra plataforma como
        proveedor y conecta con empresas de la Industria 4.0 para ofrecer tus
        productos o servicios especializados. Únete a una red de colaboración y
        aprovecha oportunidades de negocio en crecimiento. } @else if
        (tipoRegistro==='empresa') { Únete como empresa de la región de Los
        Lagos para aumentar tu visibilidad y competitividad en la Industria 4.0.
        Accede a recursos exclusivos, oportunidades de financiamiento y contacto
        directo con proveedores e innovadores. } @else { Regístrate como usuario
        profesional y explora oportunidades de desarrollo, empleo y formación en
        el ecosistema de la Industria 4.0. Conecta con empresas, accede a cursos
        en línea y mantente actualizado sobre las últimas tendencias del sector
        }
      </p>
    </div>
    <form
      class="md:col-span-8 p-10"
      style="overflow-y: auto; height: auto; max-height: 95vh"
      [formGroup]="formGroup"
      (ngSubmit)="onSubmit()"
    >
      <div *ngFor="let field of formFields" class="flex flex-wrap -mx-3 mb-6">
        <div class="w-full px-3">
          <label
            class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"
            [for]="field.name"
          >
            {{ field.label }}
          </label>
          <ng-container [ngSwitch]="field.type">
            <input
              *ngSwitchCase="'text'"
              class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
              [formControlName]="field.name"
              [id]="field.name"
              [placeholder]="field.placeholder"
            />
            <input
              *ngSwitchCase="'email'"
              type="email"
              class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
              [formControlName]="field.name"
              [id]="field.name"
              [placeholder]="field.placeholder"
            />
            <input
              *ngSwitchCase="'password'"
              type="password"
              class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
              [formControlName]="field.name"
              [id]="field.name"
              [placeholder]="field.placeholder"
            />
            <!-- Campo de tipo "rating" -->
            <div *ngSwitchCase="'rating'" class="mb-3">
              <div style="gap: 12px" class="flex items-center">
                <ng-container *ngFor="let star of [1, 2, 3, 4, 5]">
                  <svg
                    (click)="rate(field.name, star)"
                    [ngClass]="{
                      'text-yellow-500':
                        formGroup.get(field.name)?.value >= star,
                      'text-gray-300': formGroup.get(field.name)?.value < star
                    }"
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-6 w-6 cursor-pointer"
                    fill="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      d="M12 .587l3.668 7.568L24 9.748l-6 5.848 1.42 8.304L12 18.897l-7.42 4.003L6 15.596 0 9.748l8.332-1.593L12 .587z"
                    />
                  </svg>
                </ng-container>
              </div>
              <div
                *ngIf="
                  formGroup.get(field.name)?.invalid &&
                  formGroup.get(field.name)?.touched
                "
                class="text-red-500 text-xs italic"
              >
                {{ field.error }}
              </div>
            </div>
          </ng-container>
          @if (field.type == 'password') {
          <div class="text-red-500 text-xs italic">
            {{ errorGeneral }}
          </div>
          }
          <div
            *ngIf="
              formGroup.get(field.name)?.invalid &&
              formGroup.get(field.name)?.touched
            "
            class="text-red-500 text-xs italic"
          >
            {{ field.error }}
          </div>
        </div>
      </div>

      <div class="flex justify-between w-full px-3">
        <button
          type="button"
          routerLink="/registro"
          style="gap: 6px; padding: 8px 16px"
          class="border border-blue-100 text-blue bg-blue-white hover:bg-white-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center"
        >
          Volver
        </button>
        <button
          style="margin-left: auto"
          class="shadow bg-indigo-600 hover:bg-indigo-400 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-6 rounded"
          type="submit"
          [disabled]="formGroup.invalid"
        >
          Registrar
        </button>
      </div>
    </form>
  </div>
</div>
