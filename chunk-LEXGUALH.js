import{t as Ac,u as kc,v as Lc,w as Fc,x as jc}from"./chunk-IEG4H7K2.js";import{A as Dc,C as Mc,g as Vc,k as Ic,l as Tc,m as Ts,n as Qn,p as Ut,q as Sc,r as Ec,s as Wt,t as Oc,u as Ss,x as Rc,y as xr,z as _r}from"./chunk-YLVLDHJE.js";import{$ as _,A as an,Aa as Nt,B,Ba as qt,C as N,Ca as Qt,D as _e,E as xs,Ea as xc,F as G,G as vr,Ga as ne,Ha as oe,I as bc,Ia as un,J as gt,Ja as Ps,K as ln,Ka as _t,L as Dt,La as wt,M as Cc,N as h,Na as pe,O as Le,P as yr,Pa as _c,Q as _s,Qa as Ht,S as vt,U as $,V as x,W as Z,X as f,Xa as Ae,Y as Ne,Ya as Y,Za as Vs,_ as Ee,_a as Is,ab as zt,c as Cs,cb as br,d as hi,ea as P,fa as I,ga as O,ha as H,ia as z,ja as ze,ka as fe,kb as Cr,la as ws,ma as J,mb as wc,na as v,oa as mi,ob as Pc,pa as gi,r as gc,s as vc,sa as Fe,ta as je,u as hr,ua as Be,v as Nn,va as Ue,w as j,wa as re,x as yc,xa as me,y as mr,ya as qn,z as gr}from"./chunk-JAORLPYH.js";var wr=Cs((vi,Es)=>{"use strict";(function(c,s){typeof vi=="object"&&typeof Es=="object"?Es.exports=s():typeof define=="function"&&define.amd?define("survey-core",[],s):typeof vi=="object"?vi["survey-core"]=s():c.Survey=s()})(vi,function(){return function(a){var c={};function s(p){if(c[p])return c[p].exports;var g=c[p]={i:p,l:!1,exports:{}};return a[p].call(g.exports,g,g.exports,s),g.l=!0,g.exports}return s.m=a,s.c=c,s.d=function(p,g,S){s.o(p,g)||Object.defineProperty(p,g,{enumerable:!0,get:S})},s.r=function(p){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},s.t=function(p,g){if(g&1&&(p=s(p)),g&8||g&4&&typeof p=="object"&&p&&p.__esModule)return p;var S=Object.create(null);if(s.r(S),Object.defineProperty(S,"default",{enumerable:!0,value:p}),g&2&&typeof p!="string")for(var ue in p)s.d(S,ue,function(D){return p[D]}.bind(null,ue));return S},s.n=function(p){var g=p&&p.__esModule?function(){return p.default}:function(){return p};return s.d(g,"a",g),g},s.o=function(p,g){return Object.prototype.hasOwnProperty.call(p,g)},s.p="",s(s.s="./src/entries/core.ts")}({"./src/entries/core.ts":function(a,c,s){"use strict";s.r(c),s.d(c,"Version",function(){return pi}),s.d(c,"ReleaseDate",function(){return ls}),s.d(c,"checkLibraryVersion",function(){return Wh}),s.d(c,"setLicenseKey",function(){return $h}),s.d(c,"slk",function(){return hu}),s.d(c,"hasLicense",function(){return Gh}),s.d(c,"settings",function(){return R}),s.d(c,"Helpers",function(){return D}),s.d(c,"AnswerCountValidator",function(){return ja}),s.d(c,"EmailValidator",function(){return Xr}),s.d(c,"NumericValidator",function(){return La}),s.d(c,"RegexValidator",function(){return Ba}),s.d(c,"SurveyValidator",function(){return yn}),s.d(c,"TextValidator",function(){return Fa}),s.d(c,"ValidatorResult",function(){return Ct}),s.d(c,"ExpressionValidator",function(){return Na}),s.d(c,"ValidatorRunner",function(){return ka}),s.d(c,"ItemValue",function(){return de}),s.d(c,"Base",function(){return be}),s.d(c,"Event",function(){return Ar}),s.d(c,"EventBase",function(){return ft}),s.d(c,"ArrayChanges",function(){return mn}),s.d(c,"ComputedUpdater",function(){return qe}),s.d(c,"SurveyError",function(){return st}),s.d(c,"SurveyElementCore",function(){return Li}),s.d(c,"SurveyElement",function(){return et}),s.d(c,"DragTypeOverMeEnum",function(){return xa}),s.d(c,"CalculatedValue",function(){return Ha}),s.d(c,"CustomError",function(){return ht}),s.d(c,"AnswerRequiredError",function(){return Oa}),s.d(c,"OneAnswerRequiredError",function(){return Ra}),s.d(c,"RequreNumericError",function(){return Da}),s.d(c,"ExceedSizeError",function(){return Ma}),s.d(c,"LocalizableString",function(){return bt}),s.d(c,"LocalizableStrings",function(){return _a}),s.d(c,"HtmlConditionItem",function(){return za}),s.d(c,"UrlConditionItem",function(){return Ua}),s.d(c,"ChoicesRestful",function(){return bn}),s.d(c,"ChoicesRestfull",function(){return of}),s.d(c,"FunctionFactory",function(){return Ve}),s.d(c,"registerFunction",function(){return Mp}),s.d(c,"ConditionRunner",function(){return rt}),s.d(c,"ExpressionRunner",function(){return hn}),s.d(c,"ExpressionExecutor",function(){return ha}),s.d(c,"Operand",function(){return On}),s.d(c,"Const",function(){return Mr}),s.d(c,"BinaryOperand",function(){return ua}),s.d(c,"Variable",function(){return ca}),s.d(c,"FunctionOperand",function(){return pa}),s.d(c,"ArrayOperand",function(){return Ri}),s.d(c,"UnaryOperand",function(){return Dr}),s.d(c,"ConditionsParser",function(){return da}),s.d(c,"ProcessValue",function(){return lt}),s.d(c,"JsonError",function(){return Sn}),s.d(c,"JsonIncorrectTypeError",function(){return Zs}),s.d(c,"JsonMetadata",function(){return Ws}),s.d(c,"JsonMetadataClass",function(){return Us}),s.d(c,"JsonMissingTypeError",function(){return Gs}),s.d(c,"JsonMissingTypeErrorBase",function(){return Rr}),s.d(c,"JsonObject",function(){return nt}),s.d(c,"JsonObjectProperty",function(){return Si}),s.d(c,"JsonRequiredPropertyError",function(){return Js}),s.d(c,"JsonUnknownPropertyError",function(){return $s}),s.d(c,"Serializer",function(){return L}),s.d(c,"property",function(){return V}),s.d(c,"propertyArray",function(){return Xe}),s.d(c,"MatrixDropdownCell",function(){return ho}),s.d(c,"MatrixDropdownRowModelBase",function(){return Ft}),s.d(c,"QuestionMatrixDropdownModelBase",function(){return An}),s.d(c,"MatrixDropdownColumn",function(){return ei}),s.d(c,"matrixDropdownColumnTypes",function(){return uo}),s.d(c,"QuestionMatrixDropdownRenderedCell",function(){return St}),s.d(c,"QuestionMatrixDropdownRenderedRow",function(){return po}),s.d(c,"QuestionMatrixDropdownRenderedErrorRow",function(){return el}),s.d(c,"QuestionMatrixDropdownRenderedTable",function(){return fo}),s.d(c,"MatrixDropdownRowModel",function(){return nl}),s.d(c,"QuestionMatrixDropdownModel",function(){return mo}),s.d(c,"MatrixDynamicRowModel",function(){return sl}),s.d(c,"QuestionMatrixDynamicModel",function(){return Co}),s.d(c,"MatrixRowModel",function(){return Pl}),s.d(c,"MatrixCells",function(){return Vl}),s.d(c,"QuestionMatrixModel",function(){return Mo}),s.d(c,"QuestionMatrixBaseModel",function(){return oo}),s.d(c,"MultipleTextItemModel",function(){return Fo}),s.d(c,"MultipleTextCell",function(){return Bo}),s.d(c,"MultipleTextErrorCell",function(){return kl}),s.d(c,"MutlipleTextErrorRow",function(){return Al}),s.d(c,"MutlipleTextRow",function(){return jo}),s.d(c,"QuestionMultipleTextModel",function(){return nr}),s.d(c,"MultipleTextEditorModel",function(){return Ml}),s.d(c,"PanelModel",function(){return ri}),s.d(c,"PanelModelBase",function(){return Po}),s.d(c,"QuestionRowModel",function(){return ml}),s.d(c,"FlowPanelModel",function(){return Ll}),s.d(c,"PageModel",function(){return Vo}),s.d(c,"DefaultTitleModel",function(){return Jf}),s.d(c,"Question",function(){return tt}),s.d(c,"QuestionNonValue",function(){return ir}),s.d(c,"QuestionEmptyModel",function(){return Fl}),s.d(c,"QuestionCheckboxBase",function(){return oi}),s.d(c,"QuestionSelectBase",function(){return Io}),s.d(c,"QuestionCheckboxModel",function(){return ai}),s.d(c,"QuestionTagboxModel",function(){return No}),s.d(c,"QuestionRankingModel",function(){return qo}),s.d(c,"QuestionCommentModel",function(){return Qo}),s.d(c,"QuestionDropdownModel",function(){return si}),s.d(c,"QuestionFactory",function(){return Se}),s.d(c,"ElementFactory",function(){return Jt}),s.d(c,"QuestionFileModel",function(){return zo}),s.d(c,"QuestionFilePage",function(){return zl}),s.d(c,"QuestionHtmlModel",function(){return Uo}),s.d(c,"QuestionRadiogroupModel",function(){return Wo}),s.d(c,"QuestionRatingModel",function(){return Go}),s.d(c,"RenderedRatingItem",function(){return or}),s.d(c,"QuestionExpressionModel",function(){return lo}),s.d(c,"QuestionTextBase",function(){return er}),s.d(c,"CharacterCounter",function(){return Sl}),s.d(c,"QuestionTextModel",function(){return tr}),s.d(c,"QuestionBooleanModel",function(){return Zo}),s.d(c,"QuestionImagePickerModel",function(){return ui}),s.d(c,"ImageItemValue",function(){return $l}),s.d(c,"QuestionImageModel",function(){return Jo}),s.d(c,"QuestionSignaturePadModel",function(){return Yo}),s.d(c,"QuestionPanelDynamicModel",function(){return es}),s.d(c,"QuestionPanelDynamicItem",function(){return it}),s.d(c,"SurveyTimer",function(){return xo}),s.d(c,"SurveyTimerModel",function(){return ul}),s.d(c,"tryFocusPage",function(){return Bf}),s.d(c,"createTOCListModel",function(){return yl}),s.d(c,"getTocRootCss",function(){return Cl}),s.d(c,"TOCModel",function(){return Cn}),s.d(c,"SurveyProgressModel",function(){return Th}),s.d(c,"ProgressButtons",function(){return gl}),s.d(c,"ProgressButtonsResponsivityManager",function(){return jf}),s.d(c,"SurveyModel",function(){return Yt}),s.d(c,"SurveyTrigger",function(){return wn}),s.d(c,"SurveyTriggerComplete",function(){return Xl}),s.d(c,"SurveyTriggerSetValue",function(){return eu}),s.d(c,"SurveyTriggerVisible",function(){return Yl}),s.d(c,"SurveyTriggerCopyValue",function(){return iu}),s.d(c,"SurveyTriggerRunExpression",function(){return nu}),s.d(c,"SurveyTriggerSkip",function(){return tu}),s.d(c,"Trigger",function(){return Kl}),s.d(c,"PopupSurveyModel",function(){return ou}),s.d(c,"SurveyWindowModel",function(){return Eh}),s.d(c,"TextPreProcessor",function(){return so}),s.d(c,"Notifier",function(){return cl}),s.d(c,"Cover",function(){return Ki}),s.d(c,"CoverCell",function(){return pl}),s.d(c,"dxSurveyService",function(){return ll}),s.d(c,"englishStrings",function(){return Pt}),s.d(c,"surveyLocalization",function(){return Ye}),s.d(c,"surveyStrings",function(){return Sp}),s.d(c,"getLocaleString",function(){return Ge}),s.d(c,"getLocaleStrings",function(){return Ip}),s.d(c,"setupLocale",function(){return Tp}),s.d(c,"QuestionCustomWidget",function(){return qa}),s.d(c,"CustomWidgetCollection",function(){return eo}),s.d(c,"QuestionCustomModel",function(){return Ka}),s.d(c,"QuestionCompositeModel",function(){return Ya}),s.d(c,"ComponentQuestionJSON",function(){return Za}),s.d(c,"ComponentCollection",function(){return Hi}),s.d(c,"ListModel",function(){return $n}),s.d(c,"MultiSelectListModel",function(){return jl}),s.d(c,"PopupModel",function(){return Gn}),s.d(c,"createDialogOptions",function(){return Cd}),s.d(c,"PopupBaseViewModel",function(){return Eo}),s.d(c,"PopupDropdownViewModel",function(){return Ro}),s.d(c,"PopupModalViewModel",function(){return ts}),s.d(c,"createPopupViewModel",function(){return Dh}),s.d(c,"createPopupModalViewModel",function(){return Rh}),s.d(c,"DropdownListModel",function(){return Xi}),s.d(c,"DropdownMultiSelectListModel",function(){return Bl}),s.d(c,"QuestionButtonGroupModel",function(){return lu}),s.d(c,"ButtonGroupItemModel",function(){return Mh}),s.d(c,"ButtonGroupItemValue",function(){return au}),s.d(c,"IsMobile",function(){return Gi}),s.d(c,"IsTouch",function(){return Qe}),s.d(c,"_setIsTouch",function(){return vf}),s.d(c,"confirmAction",function(){return wa}),s.d(c,"confirmActionAsync",function(){return Jn}),s.d(c,"detectIEOrEdge",function(){return Kn}),s.d(c,"doKey2ClickUp",function(){return Ta}),s.d(c,"doKey2ClickDown",function(){return kd}),s.d(c,"doKey2ClickBlur",function(){return Ia}),s.d(c,"loadFileFromBase64",function(){return Pa}),s.d(c,"increaseHeightByContent",function(){return Zr}),s.d(c,"createSvg",function(){return Dd}),s.d(c,"chooseFiles",function(){return Ea}),s.d(c,"sanitizeEditableContent",function(){return Bd}),s.d(c,"prepareElementForVerticalAnimation",function(){return Tt}),s.d(c,"cleanHtmlElementAfterAnimation",function(){return pt}),s.d(c,"classesToSelector",function(){return ct}),s.d(c,"renamedIcons",function(){return Wr}),s.d(c,"getIconNameFromProxy",function(){return Va}),s.d(c,"InputMaskBase",function(){return lr}),s.d(c,"InputMaskPattern",function(){return ss}),s.d(c,"InputMaskNumeric",function(){return as}),s.d(c,"InputMaskDateTime",function(){return pu}),s.d(c,"InputMaskCurrency",function(){return fu}),s.d(c,"CssClassBuilder",function(){return F}),s.d(c,"TextAreaModel",function(){return qi}),s.d(c,"surveyCss",function(){return Ze}),s.d(c,"defaultV2Css",function(){return Zi}),s.d(c,"defaultV2ThemeName",function(){return al}),s.d(c,"DragDropCore",function(){return vo}),s.d(c,"DragDropChoices",function(){return Nl}),s.d(c,"DragDropRankingSelectToRank",function(){return Ql}),s.d(c,"StylesManager",function(){return gu}),s.d(c,"defaultStandardCss",function(){return sn}),s.d(c,"modernCss",function(){return vu}),s.d(c,"SvgIconRegistry",function(){return yu}),s.d(c,"SvgRegistry",function(){return sm}),s.d(c,"SvgThemeSets",function(){return cr}),s.d(c,"addIconsToThemeSet",function(){return am}),s.d(c,"RendererFactory",function(){return Qa}),s.d(c,"ResponsivityManager",function(){return kr}),s.d(c,"VerticalResponsivityManager",function(){return md}),s.d(c,"unwrap",function(){return Ad}),s.d(c,"getOriginalEvent",function(){return Ld}),s.d(c,"getElement",function(){return Hr}),s.d(c,"activateLazyRenderingChecks",function(){return zr}),s.d(c,"createDropdownActionModel",function(){return _d}),s.d(c,"createDropdownActionModelAdvanced",function(){return Fr}),s.d(c,"createPopupModelWithListModel",function(){return jr}),s.d(c,"getActionDropdownButtonTarget",function(){return ya}),s.d(c,"BaseAction",function(){return Mi}),s.d(c,"Action",function(){return Te}),s.d(c,"ActionDropdownViewModel",function(){return wd}),s.d(c,"AnimationUtils",function(){return Br}),s.d(c,"AnimationPropertyUtils",function(){return ba}),s.d(c,"AnimationGroupUtils",function(){return Nr}),s.d(c,"AnimationProperty",function(){return ki}),s.d(c,"AnimationBoolean",function(){return qr}),s.d(c,"AnimationGroup",function(){return Zt}),s.d(c,"AnimationTab",function(){return Qr}),s.d(c,"AdaptiveActionContainer",function(){return Ai}),s.d(c,"defaultActionBarCss",function(){return Lr}),s.d(c,"ActionContainer",function(){return Vt}),s.d(c,"DragOrClickHelper",function(){return yo}),s.d(c,"Model",function(){return Yt});var p=function(){function r(){}return r.isAvailable=function(){return typeof window<"u"},r.isFileReaderAvailable=function(){return r.isAvailable()?!!window.FileReader:!1},r.getLocation=function(){if(r.isAvailable())return window.location},r.getVisualViewport=function(){return r.isAvailable()?window.visualViewport:null},r.getInnerWidth=function(){if(r.isAvailable())return window.innerWidth},r.getInnerHeight=function(){return r.isAvailable()?window.innerHeight:null},r.getWindow=function(){if(r.isAvailable())return window},r.hasOwn=function(t){if(r.isAvailable())return t in window},r.getSelection=function(){if(r.isAvailable()&&window.getSelection)return window.getSelection()},r.requestAnimationFrame=function(t){if(r.isAvailable())return window.requestAnimationFrame(t)},r.addEventListener=function(t,e){r.isAvailable()&&window.addEventListener(t,e)},r.removeEventListener=function(t,e){r.isAvailable()&&window.removeEventListener(t,e)},r.matchMedia=function(t){return!r.isAvailable()||typeof window.matchMedia>"u"?null:window.matchMedia(t)},r}(),g=function(){function r(){}return r.isAvailable=function(){return typeof document<"u"},r.getBody=function(){if(r.isAvailable())return document.body},r.getDocumentElement=function(){if(r.isAvailable())return document.documentElement},r.getDocument=function(){if(r.isAvailable())return document},r.getCookie=function(){if(r.isAvailable())return document.cookie},r.setCookie=function(t){r.isAvailable()&&(document.cookie=t)},r.activeElementBlur=function(){if(r.isAvailable()){var t=document.activeElement;t&&t.blur&&t.blur()}},r.createElement=function(t){if(r.isAvailable())return document.createElement(t)},r.getComputedStyle=function(t){return r.isAvailable()?document.defaultView.getComputedStyle(t):new CSSStyleDeclaration},r.addEventListener=function(t,e){r.isAvailable()&&document.addEventListener(t,e)},r.removeEventListener=function(t,e){r.isAvailable()&&document.removeEventListener(t,e)},r}();function S(r,t){if(!t)return new Date;!R.storeUtcDates&&typeof t=="string"&&ue(t)&&(t+="T00:00:00");var e=new Date(t);return R.onDateCreated(e,r,t)}function ue(r){return r.indexOf("T")>0||!/\d{4}-\d{2}-\d{2}/.test(r)?!1:!isNaN(new Date(r).getTime())}var D=function(){function r(){}return r.isValueEmpty=function(t){if(Array.isArray(t)&&t.length===0)return!0;if(t&&r.isValueObject(t)&&t.constructor===Object){for(var e in t)if(!r.isValueEmpty(t[e]))return!1;return!0}return!t&&t!==0&&t!==!1},r.isArrayContainsEqual=function(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;n++){for(var i=0;i<e.length&&!r.isTwoValueEquals(t[n],e[i]);i++);if(i===e.length)return!1}return!0},r.isArraysEqual=function(t,e,n,i,o){if(n===void 0&&(n=!1),!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;if(n){for(var l=[],u=[],d=0;d<t.length;d++)l.push(t[d]),u.push(e[d]);l.sort(),u.sort(),t=l,e=u}for(var d=0;d<t.length;d++)if(!r.isTwoValueEquals(t[d],e[d],n,i,o))return!1;return!0},r.compareStrings=function(t,e){var n=R.comparator.normalizeTextCallback;if(t&&(t=n(t,"compare").trim()),e&&(e=n(e,"compare").trim()),!t&&!e)return 0;if(!t)return-1;if(!e)return 1;if(t===e)return 0;for(var i=-1,o=0;o<t.length&&o<e.length;o++){if(this.isCharDigit(t[o])&&this.isCharDigit(e[o])){i=o;break}if(t[o]!==e[o])break}if(i>-1){var l=this.getNumberFromStr(t,i),u=this.getNumberFromStr(e,i);if(!Number.isNaN(l)&&!Number.isNaN(u)&&l!==u)return l>u?1:-1}return t>e?1:-1},r.isTwoValueEquals=function(t,e,n,i,o){if(n===void 0&&(n=!1),t===e||Array.isArray(t)&&t.length===0&&typeof e>"u"||Array.isArray(e)&&e.length===0&&typeof t>"u"||t==null&&e===""||e==null&&t==="")return!0;if(o===void 0&&(o=R.comparator.trimStrings),i===void 0&&(i=R.comparator.caseSensitive),typeof t=="string"&&typeof e=="string"){var l=R.comparator.normalizeTextCallback;return t=l(t,"compare"),e=l(e,"compare"),o&&(t=t.trim(),e=e.trim()),i||(t=t.toLowerCase(),e=e.toLowerCase()),t===e}if(t instanceof Date&&e instanceof Date)return t.getTime()==e.getTime();if(r.isConvertibleToNumber(t)&&r.isConvertibleToNumber(e)&&parseInt(t)===parseInt(e)&&parseFloat(t)===parseFloat(e))return!0;if(!r.isValueEmpty(t)&&r.isValueEmpty(e)||r.isValueEmpty(t)&&!r.isValueEmpty(e))return!1;if((t===!0||t===!1)&&typeof e=="string")return t.toString()===e.toLocaleLowerCase();if((e===!0||e===!1)&&typeof t=="string")return e.toString()===t.toLocaleLowerCase();if(!r.isValueObject(t)&&!r.isValueObject(e))return t==e;if(!r.isValueObject(t)||!r.isValueObject(e))return!1;if(t.equals&&e.equals)return t.equals(e);if(Array.isArray(t)&&Array.isArray(e))return r.isArraysEqual(t,e,n,i,o);for(var u in t)if(t.hasOwnProperty(u)&&(!e.hasOwnProperty(u)||!this.isTwoValueEquals(t[u],e[u],n,i,o)))return!1;for(u in e)if(e.hasOwnProperty(u)&&!t.hasOwnProperty(u))return!1;return!0},r.randomizeArray=function(t){for(var e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1)),i=t[e];t[e]=t[n],t[n]=i}return t},r.getUnbindValue=function(t){if(Array.isArray(t)){for(var e=[],n=0;n<t.length;n++)e.push(r.getUnbindValue(t[n]));return e}return t&&r.isValueObject(t)&&!(t instanceof Date)?JSON.parse(JSON.stringify(t)):t},r.createCopy=function(t){var e={};if(!t)return e;for(var n in t)e[n]=t[n];return e},r.isConvertibleToNumber=function(t){return t!=null&&!Array.isArray(t)&&!isNaN(t)},r.isValueObject=function(t,e){return t instanceof Object&&(!e||!Array.isArray(t))},r.isNumber=function(t){return!isNaN(this.getNumber(t))},r.getNumber=function(t){var e=r.getNumberCore(t);return R.parseNumber(t,e)},r.getNumberCore=function(t){if(typeof t=="string"){if(t=t.trim(),!t)return NaN;if(t.indexOf("0x")==0)return t.length>32?NaN:parseInt(t);if(t.length>15&&r.isDigitsOnly(t))return NaN;if(r.isStringHasOperator(t))return NaN}t=this.prepareStringToNumber(t);var e=parseFloat(t);return isNaN(e)||!isFinite(t)?NaN:e},r.isStringHasOperator=function(t){if(t.lastIndexOf("-")>0||t.lastIndexOf("+")>0)return!1;for(var e="*^/%",n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return!0;return!1},r.prepareStringToNumber=function(t){if(typeof t!="string"||!t)return t;var e=t.indexOf(",");return e>-1&&t.indexOf(",",e+1)<0?t.replace(",","."):t},r.getMaxLength=function(t,e){return t<0&&(t=e),t>0?t:null},r.getRemainingCharacterCounterText=function(t,e){if(!e||e<=0||!R.showMaxLengthIndicator)return"";var n=t?t.length:"0";return[n,e].join("/")},r.getNumberByIndex=function(t,e,n){if(t<0)return"";var i=1,o="",l=".",u=!0,d="A",m="",w=function(ie){if(!ie)return!1;for(var K=0;K<ie.length;K++)if(r.isCharDigit(ie[K]))return!0;return!1};if(e){m=e;for(var E=m.length-1,A=w(m),U=function(){return A&&!r.isCharDigit(m[E])||r.isCharNotLetterAndDigit(m[E])};E>=0&&U();)E--;var W="";for(E<m.length-1&&(W=m.substring(E+1),m=m.substring(0,E+1)),E=m.length-1;E>=0&&!(U()||(E--,!A)););d=m.substring(E+1),o=m.substring(0,E+1),parseInt(d)?i=parseInt(d):d.length==1&&(u=!1),(W||o)&&(l=W)}if(n>-1&&w(o)&&(o=this.getNumberByIndex(n,o)),u){for(var se=(t+i).toString();se.length<d.length;)se="0"+se;return o+se+l}return o+String.fromCharCode(d.charCodeAt(0)+t)+l},r.isCharNotLetterAndDigit=function(t){return t.toUpperCase()==t.toLowerCase()&&!r.isCharDigit(t)},r.isCharDigit=function(t){return t>="0"&&t<="9"},r.isDigitsOnly=function(t){if(!t)return!1;for(var e=0;e<t.length;e++)if(!r.isCharDigit(t[e]))return!1;return!0},r.getNumberFromStr=function(t,e){if(!this.isCharDigit(t[e]))return NaN;for(var n="";e<t.length&&this.isCharDigit(t[e]);)n+=t[e],e++;return n?this.getNumber(n):NaN},r.countDecimals=function(t){if(r.isNumber(t)&&Math.floor(t)!==t){var e=t.toString().split(".");return e.length>1&&e[1].length||0}return 0},r.correctAfterPlusMinis=function(t,e,n){var i=r.countDecimals(t),o=r.countDecimals(e);if(i>0||o>0){var l=Math.max(i,o);n=parseFloat(n.toFixed(l))}return n},r.sumAnyValues=function(t,e){if(!r.isNumber(t)||!r.isNumber(e)){if(Array.isArray(t)&&Array.isArray(e))return[].concat(t).concat(e);if(Array.isArray(t)||Array.isArray(e)){var n=Array.isArray(t)?t:e,i=n===t?e:t;if(typeof i=="string"){var o=n.join(", ");return n===t?o+i:i+o}if(typeof i=="number"){for(var l=0,u=0;u<n.length;u++)typeof n[u]=="number"&&(l=r.correctAfterPlusMinis(l,n[u],l+n[u]));return r.correctAfterPlusMinis(l,i,l+i)}}return t+e}return typeof t=="string"||typeof e=="string"?t+e:r.correctAfterPlusMinis(t,e,t+e)},r.correctAfterMultiple=function(t,e,n){var i=r.countDecimals(t)+r.countDecimals(e);return i>0&&(n=parseFloat(n.toFixed(i))),n},r.convertArrayValueToObject=function(t,e,n){n===void 0&&(n=void 0);var i=new Array;if(!t||!Array.isArray(t))return i;for(var o=0;o<t.length;o++){var l=void 0;Array.isArray(n)&&(l=r.findObjByPropValue(n,e,t[o])),l||(l={},l[e]=t[o]),i.push(l)}return i},r.findObjByPropValue=function(t,e,n){for(var i=0;i<t.length;i++)if(r.isTwoValueEquals(t[i][e],n))return t[i]},r.convertArrayObjectToValue=function(t,e){var n=new Array;if(!t||!Array.isArray(t))return n;for(var i=0;i<t.length;i++){var o=t[i]?t[i][e]:void 0;r.isValueEmpty(o)||n.push(o)}return n},r.convertDateToString=function(t){var e=function(n){return n<10?"0"+n.toString():n.toString()};return t.getFullYear()+"-"+e(t.getMonth()+1)+"-"+e(t.getDate())},r.convertDateTimeToString=function(t){var e=function(n){return n<10?"0"+n.toString():n.toString()};return this.convertDateToString(t)+" "+e(t.getHours())+":"+e(t.getMinutes())},r.convertValToQuestionVal=function(t,e){return t instanceof Date?e==="datetime-local"?r.convertDateTimeToString(t):r.convertDateToString(t):this.getUnbindValue(t)},r.compareVerions=function(t,e){if(!t&&!e)return 0;for(var n=t.split("."),i=e.split("."),o=n.length,l=i.length,u=0;u<o&&u<l;u++){var d=n[u],m=i[u];if(d.length===m.length){if(d!==m)return d<m?-1:1}else return d.length<m.length?-1:1}return o===l?0:o<l?-1:1},r.isUrlYoutubeVideo=function(t){if(!t)return!1;var e=["www.youtube.com","m.youtube.com","youtube.com","youtu.be"];t=t.toLowerCase(),t=t.replace(/^https?:\/\//,"");for(var n=0;n<e.length;n++)if(t.indexOf(e[n]+"/")===0)return!0;return!1},r}();String.prototype.format||(String.prototype.format=function(){var r=arguments;return this.replace(/{(\d+)}/g,function(t,e){return typeof r[e]<"u"?r[e]:t})});var Pt={pagePrevText:"Previous",pageNextText:"Next",completeText:"Complete",previewText:"Preview",editText:"Edit",startSurveyText:"Start",otherItemText:"Other (describe)",noneItemText:"None",refuseItemText:"Refuse to answer",dontKnowItemText:"Don't know",selectAllItemText:"Select All",deselectAllItemText:"Deselect all",progressText:"Page {0} of {1}",indexText:"{0} of {1}",panelDynamicProgressText:"{0} of {1}",panelDynamicTabTextFormat:"Panel {panelIndex}",questionsProgressText:"Answered {0}/{1} questions",emptySurvey:"The survey doesn't contain any visible elements.",completingSurvey:"Thank you for completing the survey",completingSurveyBefore:"You have already completed this survey.",loadingSurvey:"Loading Survey...",placeholder:"Select...",ratingOptionsCaption:"Select...",value:"value",requiredError:"Response required.",requiredErrorInPanel:"Response required: answer at least one question.",requiredInAllRowsError:"Response required: answer questions in all rows.",eachRowUniqueError:"Each row must have a unique value.",numericError:"The value should be numeric.",minError:"The value should not be less than {0}",maxError:"The value should not be greater than {0}",textNoDigitsAllow:"Numbers are not allowed.",textMinLength:"Please enter at least {0} character(s).",textMaxLength:"Please enter no more than {0} character(s).",textMinMaxLength:"Please enter at least {0} and no more than {1} characters.",minRowCountError:"Please fill in at least {0} row(s).",minSelectError:"Please select at least {0} option(s).",maxSelectError:"Please select no more than {0} option(s).",numericMinMax:"The '{0}' should be at least {1} and at most {2}",numericMin:"The '{0}' should be at least {1}",numericMax:"The '{0}' should be at most {1}",invalidEmail:"Please enter a valid e-mail address.",invalidExpression:"The expression: {0} should return 'true'.",urlRequestError:"The request returned error '{0}'. {1}",urlGetChoicesError:"The request returned empty data or the 'path' property is incorrect",exceedMaxSize:"The file size should not exceed {0}.",noUploadFilesHandler:"Files cannot be uploaded. Please add a handler for the 'onUploadFiles' event.",otherRequiredError:"Response required: enter another value.",uploadingFile:"Your file is uploading. Please wait several seconds and try again.",loadingFile:"Loading...",chooseFile:"Choose file(s)...",noFileChosen:"No file selected",filePlaceholder:"Drag and drop a file here or click the button below to select a file to upload.",confirmDelete:"Are you sure you want to delete this record?",keyDuplicationError:"This value should be unique.",addColumn:"Add Column",addRow:"Add Row",removeRow:"Remove",emptyRowsText:"There are no rows.",addPanel:"Add new",removePanel:"Remove",showDetails:"Show Details",hideDetails:"Hide Details",choices_Item:"item",matrix_column:"Column",matrix_row:"Row",multipletext_itemname:"text",savingData:"The results are being saved on the server...",savingDataError:"An error occurred and we could not save the results.",savingDataSuccess:"The results were saved successfully!",savingExceedSize:"Your response exceeds 64KB. Please reduce the size of your file(s) and try again or contact the survey owner.",saveAgainButton:"Try again",timerMin:"min",timerSec:"sec",timerSpentAll:"You have spent {0} on this page and {1} in total.",timerSpentPage:"You have spent {0} on this page.",timerSpentSurvey:"You have spent {0} in total.",timerLimitAll:"You have spent {0} of {1} on this page and {2} of {3} in total.",timerLimitPage:"You have spent {0} of {1} on this page.",timerLimitSurvey:"You have spent {0} of {1} in total.",clearCaption:"Clear",signaturePlaceHolder:"Sign here",signaturePlaceHolderReadOnly:"No signature",chooseFileCaption:"Select File",takePhotoCaption:"Take Photo",photoPlaceholder:"Click the button below to take a photo using the camera.",fileOrPhotoPlaceholder:"Drag and drop or select a file to upload or take a photo using the camera.",replaceFileCaption:"Replace file",removeFileCaption:"Remove this file",booleanCheckedLabel:"Yes",booleanUncheckedLabel:"No",confirmRemoveFile:"Are you sure that you want to remove this file: {0}?",confirmRemoveAllFiles:"Are you sure that you want to remove all files?",questionTitlePatternText:"Question Title",modalCancelButtonText:"Cancel",modalApplyButtonText:"Apply",filterStringPlaceholder:"Type to search...",emptyMessage:"No data to display",noEntriesText:`No entries yet.
Click the button below to add a new entry.`,noEntriesReadonlyText:"No entries",tabTitlePlaceholder:"New Panel",more:"More",tagboxDoneButtonCaption:"OK",selectToRankEmptyRankedAreaText:"All choices are selected for ranking",selectToRankEmptyUnrankedAreaText:"Drag choices here to rank them",ok:"OK",cancel:"Cancel"},Ye={currentLocaleValue:"",defaultLocaleValue:"en",locales:{},localeNames:{},localeNamesInEnglish:{},localeDirections:{},supportedLocales:[],useEnglishNames:!1,get showNamesInEnglish(){return this.useEnglishNames},set showNamesInEnglish(r){this.useEnglishNames=r},setupLocale:function(r){var t=r.localeCode;this.locales[t]=r.strings,this.localeNames[t]=r.nativeName,this.localeNamesInEnglish[t]=r.englishName,r.rtl!==void 0&&(this.localeDirections[t]=r.rtl)},get currentLocale(){return this.currentLocaleValue===this.defaultLocaleValue?"":this.currentLocaleValue},set currentLocale(r){r==="cz"&&(r="cs"),this.currentLocaleValue=r},get defaultLocale(){return this.defaultLocaleValue},set defaultLocale(r){r==="cz"&&(r="cs"),this.defaultLocaleValue=r},getLocaleStrings:function(r){return this.locales[r]},getString:function(r,t){var e=this;t===void 0&&(t=null);var n=new Array,i=function(d){var m=e.locales[d];m&&n.push(m)},o=function(d){if(d){i(d);var m=d.indexOf("-");m<1||(d=d.substring(0,m),i(d))}};o(t),o(this.currentLocale),o(this.defaultLocale),this.defaultLocale!=="en"&&i("en");for(var l=0;l<n.length;l++){var u=n[l][r];if(u!==void 0)return u}return this.onGetExternalString(r,t)},getLocaleName:function(r,t){if(!r)return"";t===void 0&&(t=this.showNamesInEnglish);var e=t?this.localeNamesInEnglish:this.localeNames,n=t?this.localeNames:this.localeNamesInEnglish;return e[r]||n[r]||r},getLocales:function(r){var t=this;r===void 0&&(r=!1);var e=[];e.push("");var n=this.locales;if(this.supportedLocales&&this.supportedLocales.length>0){n={};for(var i=0;i<this.supportedLocales.length;i++)n[this.supportedLocales[i]]=!0}for(var o in n)r&&o==this.defaultLocale||e.push(o);var l=function(u){return t.getLocaleName(u).toLowerCase()};return e.sort(function(u,d){var m=l(u),w=l(d);return m===w?0:m<w?-1:1}),e},onGetExternalString:function(r,t){}};function Ge(r,t){return t===void 0&&(t=null),Ye.getString(r,t)}function Ip(r){return Ye.getLocaleStrings(r)}function Tp(r){Ye.setupLocale(r)}var Sp=Pt;Ye.locales.en=Pt,Ye.localeNames.en="english";var fn=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ep=function(r,t){for(var e=0,n=t.length,i=r.length;e<n;e++,i++)r[i]=t[e];return r};function Or(r,t,e){var n=r.getLocalizableString(e);if(!n){var i=void 0;typeof t.localizable=="object"&&t.localizable.defaultStr&&(i=t.localizable.defaultStr),n=r.createLocalizableString(e,r,!0,i),typeof t.localizable=="object"&&typeof t.localizable.onGetTextCallback=="function"&&(n.onGetTextCallback=t.localizable.onGetTextCallback)}}function Op(r,t,e){Or(r,t,e);var n=r.getLocalizableStringText(e);if(n)return n;if(typeof t.localizable=="object"&&t.localizable.defaultStr){var i=r.getLocale?r.getLocale():"";return Ge(t.localizable.defaultStr,i)}return""}function V(r){return r===void 0&&(r={}),function(t,e){var n=function(i,o){if(o&&typeof o=="object"&&o.type===qe.ComputedUpdaterType){be.startCollectDependencies(function(){return i[e]=o.updater()},i,e);var l=o.updater(),u=be.finishCollectDependencies();return o.setDependencies(u),i.dependencies[e]&&i.dependencies[e].dispose(),i.dependencies[e]=o,l}return o};!r||!r.localizable?Object.defineProperty(t,e,{get:function(){var i=null;return r&&(typeof r.getDefaultValue=="function"&&(i=r.getDefaultValue(this)),r.defaultValue!==void 0&&(i=r.defaultValue)),this.getPropertyValue(e,i)},set:function(i){var o=n(this,i),l=this.getPropertyValue(e);o!==l&&(this.setPropertyValue(e,o),r&&r.onSet&&r.onSet(o,this,l))}}):(Object.defineProperty(t,e,{get:function(){return Op(this,r,e)},set:function(i){Or(this,r,e);var o=n(this,i);this.setLocalizableStringText(e,o),r&&r.onSet&&r.onSet(o,this)}}),Object.defineProperty(t,typeof r.localizable=="object"&&r.localizable.name?r.localizable.name:"loc"+e.charAt(0).toUpperCase()+e.slice(1),{get:function(){return Or(this,r,e),this.getLocalizableString(e)}}))}}function zs(r,t,e){r.ensureArray(e,function(n,i){var o=t?t.onPush:null;o&&o(n,i,r)},function(n,i){var o=t?t.onRemove:null;o&&o(n,i,r)})}function Xe(r){return function(t,e){Object.defineProperty(t,e,{get:function(){return zs(this,r,e),this.getPropertyValue(e)},set:function(n){zs(this,r,e);var i=this.getPropertyValue(e);n!==i&&(i?i.splice.apply(i,Ep([0,i.length],n||[])):this.setPropertyValue(e,n),r&&r.onSet&&r.onSet(n,this))}})}}var Si=function(){function r(t,e,n){n===void 0&&(n=!1),this.name=e,this.isRequiredValue=!1,this.isUniqueValue=!1,this.isSerializable=!0,this.isLightSerializable=!0,this.isCustom=!1,this.isDynamicChoices=!1,this.isBindable=!1,this.category="",this.categoryIndex=-1,this.visibleIndex=-1,this.maxLength=-1,this.isArray=!1,this.classInfoValue=t,this.isRequiredValue=n,this.idValue=r.Index++}return Object.defineProperty(r.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"classInfo",{get:function(){return this.classInfoValue},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"type",{get:function(){return this.typeValue?this.typeValue:"string"},set:function(t){t==="itemvalues"&&(t="itemvalue[]"),t==="textitems"&&(t="textitem[]"),this.typeValue=t,this.typeValue.indexOf("[]")===this.typeValue.length-2&&(this.isArray=!0,this.className=this.typeValue.substring(0,this.typeValue.length-2))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isRequired",{get:function(){return this.isRequiredValue},set:function(t){t!==this.isRequired&&(this.isRequiredValue=t,this.classInfo&&this.classInfo.resetAllProperties())},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isUnique",{get:function(){return this.isUniqueValue},set:function(t){this.isUniqueValue=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"uniquePropertyName",{get:function(){return this.uniquePropertyValue},set:function(t){this.uniquePropertyValue=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hasToUseGetValue",{get:function(){return this.onGetValue||this.serializationProperty},enumerable:!1,configurable:!0}),r.prototype.getDefaultValue=function(t){var e=this.defaultValueFunc?this.defaultValueFunc(t):this.defaultValueValue;return r.getItemValuesDefaultValue&&L.isDescendantOf(this.className,"itemvalue")&&(e=r.getItemValuesDefaultValue(this.defaultValueValue||[],this.className)),e},Object.defineProperty(r.prototype,"defaultValue",{get:function(){return this.getDefaultValue(void 0)},set:function(t){this.defaultValueValue=t},enumerable:!1,configurable:!0}),r.prototype.isDefaultValue=function(t){return this.isDefaultValueByObj(void 0,t)},r.prototype.isDefaultValueByObj=function(t,e){if(this.isLocalizable)return e==null;var n=this.getDefaultValue(t);return D.isValueEmpty(n)?e===!1&&(this.type=="boolean"||this.type=="switch")&&!this.defaultValueFunc||e===""||D.isValueEmpty(e):D.isTwoValueEquals(e,n,!1,!0,!1)},r.prototype.getSerializableValue=function(t,e){if(this.onSerializeValue)return this.onSerializeValue(t);var n=this.getValue(t);if(n!=null&&!(!e&&this.isDefaultValueByObj(t,n)))return n},r.prototype.getValue=function(t){return this.onGetValue?(t=this.getOriginalObj(t),this.onGetValue(t)):this.serializationProperty&&t[this.serializationProperty]?t[this.serializationProperty].getJson():t[this.name]},r.prototype.getPropertyValue=function(t){return this.isLocalizable?t[this.serializationProperty]?t[this.serializationProperty].text:null:this.getValue(t)},Object.defineProperty(r.prototype,"hasToUseSetValue",{get:function(){return this.onSetValue||this.serializationProperty},enumerable:!1,configurable:!0}),r.prototype.settingValue=function(t,e){return!this.onSettingValue||t.isLoadingFromJson?e:this.onSettingValue(t,e)},r.prototype.setValue=function(t,e,n){this.onSetValue?(t=this.getOriginalObj(t),this.onSetValue(t,e,n)):this.serializationProperty&&t[this.serializationProperty]?t[this.serializationProperty].setJson(e,!0):(e&&typeof e=="string"&&(this.type=="number"&&(e=parseInt(e)),(this.type=="boolean"||this.type=="switch")&&(e=e.toLowerCase()==="true")),t[this.name]=e)},r.prototype.validateValue=function(t){var e=this.choices;return!Array.isArray(e)||e.length===0?!0:e.indexOf(t)>-1},r.prototype.getObjType=function(t){return this.classNamePart?t.replace(this.classNamePart,""):t},Object.defineProperty(r.prototype,"choices",{get:function(){return this.getChoices(null)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hasChoices",{get:function(){return!!this.choicesValue||!!this.choicesfunc},enumerable:!1,configurable:!0}),r.prototype.getChoices=function(t,e){return e===void 0&&(e=null),this.choicesValue!=null?this.choicesValue:this.choicesfunc!=null?this.choicesfunc(t,e):null},r.prototype.setChoices=function(t,e){e===void 0&&(e=null),this.choicesValue=t,this.choicesfunc=e},r.prototype.getBaseValue=function(){return this.baseValue?typeof this.baseValue=="function"?this.baseValue():this.baseValue:""},r.prototype.setBaseValue=function(t){this.baseValue=t},Object.defineProperty(r.prototype,"readOnly",{get:function(){return this.readOnlyValue!=null?this.readOnlyValue:!1},set:function(t){this.readOnlyValue=t},enumerable:!1,configurable:!0}),r.prototype.isEnable=function(t){return this.readOnly?!1:!t||!this.enableIf?!0:this.enableIf(this.getOriginalObj(t))},r.prototype.isVisible=function(t,e){e===void 0&&(e=null);var n=!this.layout||!t||this.layout===t;return!this.visible||!n?!1:this.visibleIf&&e?this.visibleIf(this.getOriginalObj(e)):!0},r.prototype.getOriginalObj=function(t){if(t&&t.getOriginalObj){var e=t.getOriginalObj();if(e&&L.findProperty(e.getType(),this.name))return e}return t},Object.defineProperty(r.prototype,"visible",{get:function(){return this.visibleValue!=null?this.visibleValue:!0},set:function(t){this.visibleValue=t},enumerable:!1,configurable:!0}),r.prototype.isAvailableInVersion=function(t){return this.alternativeName||this.oldName?!0:this.isAvailableInVersionCore(t)},r.prototype.getSerializedName=function(t){return this.alternativeName?this.isAvailableInVersionCore(t)?this.name:this.alternativeName||this.oldName:this.name},r.prototype.getSerializedProperty=function(t,e){return!this.oldName||this.isAvailableInVersionCore(e)?this:!t||!t.getType?null:L.findProperty(t.getType(),this.oldName)},r.prototype.isAvailableInVersionCore=function(t){return!t||!this.version?!0:D.compareVerions(this.version,t)<=0},Object.defineProperty(r.prototype,"isLocalizable",{get:function(){return this.isLocalizableValue!=null?this.isLocalizableValue:!1},set:function(t){this.isLocalizableValue=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dataList",{get:function(){return Array.isArray(this.dataListValue)?this.dataListValue:[]},set:function(t){this.dataListValue=t},enumerable:!1,configurable:!0}),r.prototype.mergeWith=function(t){for(var e=r.mergableValues,n=0;n<e.length;n++)this.mergeValue(t,e[n])},r.prototype.addDependedProperty=function(t){this.dependedProperties||(this.dependedProperties=[]),this.dependedProperties.indexOf(t)<0&&this.dependedProperties.push(t)},r.prototype.getDependedProperties=function(){return this.dependedProperties?this.dependedProperties:[]},r.prototype.schemaType=function(){if(this.className!=="choicesByUrl")return this.className==="string"?this.className:this.className||this.baseClassName?"array":this.type=="switch"?"boolean":this.type=="boolean"||this.type=="number"?this.type:"string"},r.prototype.schemaRef=function(){if(this.className)return this.className},r.prototype.mergeValue=function(t,e){this[e]==null&&t[e]!=null&&(this[e]=t[e])},r.Index=1,r.mergableValues=["typeValue","choicesValue","baseValue","readOnlyValue","visibleValue","isSerializable","isLightSerializable","isCustom","isBindable","isUnique","uniquePropertyName","isDynamicChoices","isLocalizableValue","className","alternativeName","oldName","layout","version","classNamePart","baseClassName","defaultValue","defaultValueFunc","serializationProperty","onGetValue","onSetValue","onSettingValue","displayName","category","categoryIndex","visibleIndex","nextToProperty","overridingProperty","showMode","dependedProperties","visibleIf","enableIf","onExecuteExpression","onPropertyEditorUpdate","maxLength","maxValue","minValue","dataListValue"],r}(),kt=function(){function r(){}return r.addProperty=function(t,e){t=t.toLowerCase();var n=r.properties;n[t]||(n[t]=[]),n[t].push(e)},r.removeProperty=function(t,e){t=t.toLowerCase();var n=r.properties;if(n[t]){for(var i=n[t],o=0;o<i.length;o++)if(i[o].name==e){n[t].splice(o,1);break}}},r.removeAllProperties=function(t){t=t.toLowerCase(),delete r.properties[t]},r.addClass=function(t,e){t=t.toLowerCase(),e&&(e=e.toLowerCase()),r.parentClasses[t]=e},r.getProperties=function(t){t=t.toLowerCase();for(var e=[],n=r.properties;t;){var i=n[t];if(i)for(var o=0;o<i.length;o++)e.push(i[o]);t=r.parentClasses[t]}return e},r.createProperties=function(t){!t||!t.getType||r.createPropertiesCore(t,t.getType())},r.createPropertiesCore=function(t,e){var n=r.properties;n[e]&&r.createPropertiesInObj(t,n[e]);var i=r.parentClasses[e];i&&r.createPropertiesCore(t,i)},r.createPropertiesInObj=function(t,e){for(var n=0;n<e.length;n++)r.createPropertyInObj(t,e[n])},r.createPropertyInObj=function(t,e){if(!r.checkIsPropertyExists(t,e.name)&&!(e.serializationProperty&&r.checkIsPropertyExists(t,e.serializationProperty))){if(e.isLocalizable&&e.serializationProperty&&t.createCustomLocalizableObj){var n=t.createCustomLocalizableObj(e.name);n.defaultValue=e.getDefaultValue(t);var i={get:function(){return t.getLocalizableString(e.name)}};Object.defineProperty(t,e.serializationProperty,i);var o={get:function(){return t.getLocalizableStringText(e.name)},set:function(d){t.setLocalizableStringText(e.name,d)}};Object.defineProperty(t,e.name,o)}else{var l=e.isArray||e.type==="multiplevalues";if(typeof t.createNewArray=="function"&&(L.isDescendantOf(e.className,"itemvalue")?(t.createNewArray(e.name,function(d){d.locOwner=t,d.ownerPropertyName=e.name}),l=!0):l&&t.createNewArray(e.name),l)){var u=e.getDefaultValue(t);Array.isArray(u)&&t.setPropertyValue(e.name,u)}if(t.getPropertyValue&&t.setPropertyValue){var o={get:function(){return e.onGetValue?e.onGetValue(t):t.getPropertyValue(e.name,void 0)},set:function(m){e.onSetValue?e.onSetValue(t,m,null):t.setPropertyValue(e.name,m)}};Object.defineProperty(t,e.name,o)}}(e.type==="condition"||e.type==="expression")&&e.onExecuteExpression&&t.addExpressionProperty(e.name,e.onExecuteExpression)}},r.checkIsPropertyExists=function(t,e){return t.hasOwnProperty(e)||t[e]},r.properties={},r.parentClasses={},r}(),Us=function(){function r(t,e,n,i){n===void 0&&(n=null),i===void 0&&(i=null),this.name=t,this.creator=n,this.parentName=i,t=t.toLowerCase(),this.isCustomValue=!n&&t!=="survey",this.parentName&&(this.parentName=this.parentName.toLowerCase(),kt.addClass(t,this.parentName),n&&this.makeParentRegularClass()),this.properties=new Array;for(var o=0;o<e.length;o++)this.createProperty(e[o],this.isCustom)}return r.prototype.find=function(t){for(var e=0;e<this.properties.length;e++)if(this.properties[e].name==t)return this.properties[e];return null},r.prototype.findProperty=function(t){return this.fillAllProperties(),this.hashProperties[t]},r.prototype.getAllProperties=function(){return this.fillAllProperties(),this.allProperties},r.prototype.getRequiredProperties=function(){if(this.requiredProperties)return this.requiredProperties;this.requiredProperties=[];for(var t=this.getAllProperties(),e=0;e<t.length;e++)t[e].isRequired&&this.requiredProperties.push(t[e]);return this.requiredProperties},r.prototype.resetAllProperties=function(){this.allProperties=void 0,this.requiredProperties=void 0,this.hashProperties=void 0;for(var t=L.getChildrenClasses(this.name),e=0;e<t.length;e++)t[e].resetAllProperties()},Object.defineProperty(r.prototype,"isCustom",{get:function(){return this.isCustomValue},enumerable:!1,configurable:!0}),r.prototype.fillAllProperties=function(){var t=this;if(!this.allProperties){this.allProperties=[],this.hashProperties={};var e={};this.properties.forEach(function(o){return e[o.name]=o});var n=this.parentName?L.findClass(this.parentName):null;if(n){var i=n.getAllProperties();i.forEach(function(o){var l=e[o.name];l?(l.mergeWith(o),t.addPropCore(l)):t.addPropCore(o)})}this.properties.forEach(function(o){t.hashProperties[o.name]||t.addPropCore(o)})}},r.prototype.addPropCore=function(t){this.allProperties.push(t),this.hashProperties[t.name]=t,t.alternativeName&&(this.hashProperties[t.alternativeName]=t)},r.prototype.isOverridedProp=function(t){return!!this.parentName&&!!L.findProperty(this.parentName,t)},r.prototype.hasRegularChildClass=function(){if(this.isCustom){this.isCustomValue=!1;for(var t=0;t<this.properties.length;t++)this.properties[t].isCustom=!1;kt.removeAllProperties(this.name),this.makeParentRegularClass()}},r.prototype.makeParentRegularClass=function(){if(this.parentName){var t=L.findClass(this.parentName);t&&t.hasRegularChildClass()}},r.prototype.createProperty=function(t,e){e===void 0&&(e=!1);var n=typeof t=="string"?t:t.name;if(n){var i=null,o=n.indexOf(r.typeSymbol);o>-1&&(i=n.substring(o+1),n=n.substring(0,o));var l=this.getIsPropertyNameRequired(n)||!!t.isRequired;n=this.getPropertyName(n);var u=new Si(this,n,l);if(i&&(u.type=i),typeof t=="object"){if(t.type&&(u.type=t.type),t.default!==void 0&&(u.defaultValue=t.default),t.defaultFunc!==void 0&&(u.defaultValueFunc=t.defaultFunc),D.isValueEmpty(t.isSerializable)||(u.isSerializable=t.isSerializable),D.isValueEmpty(t.isLightSerializable)||(u.isLightSerializable=t.isLightSerializable),D.isValueEmpty(t.maxLength)||(u.maxLength=t.maxLength),t.displayName!==void 0&&(u.displayName=t.displayName),D.isValueEmpty(t.category)||(u.category=t.category),D.isValueEmpty(t.categoryIndex)||(u.categoryIndex=t.categoryIndex),D.isValueEmpty(t.nextToProperty)||(u.nextToProperty=t.nextToProperty),D.isValueEmpty(t.overridingProperty)||(u.overridingProperty=t.overridingProperty),D.isValueEmpty(t.visibleIndex)||(u.visibleIndex=t.visibleIndex),D.isValueEmpty(t.showMode)||(u.showMode=t.showMode),D.isValueEmpty(t.maxValue)||(u.maxValue=t.maxValue),D.isValueEmpty(t.minValue)||(u.minValue=t.minValue),D.isValueEmpty(t.dataList)||(u.dataList=t.dataList),D.isValueEmpty(t.isDynamicChoices)||(u.isDynamicChoices=t.isDynamicChoices),D.isValueEmpty(t.isBindable)||(u.isBindable=t.isBindable),D.isValueEmpty(t.isUnique)||(u.isUnique=t.isUnique),D.isValueEmpty(t.uniqueProperty)||(u.uniquePropertyName=t.uniqueProperty),D.isValueEmpty(t.isArray)||(u.isArray=t.isArray),(t.visible===!0||t.visible===!1)&&(u.visible=t.visible),t.visibleIf&&(u.visibleIf=t.visibleIf),t.enableIf&&(u.enableIf=t.enableIf),t.onExecuteExpression&&(u.onExecuteExpression=t.onExecuteExpression),t.onPropertyEditorUpdate&&(u.onPropertyEditorUpdate=t.onPropertyEditorUpdate),t.readOnly===!0&&(u.readOnly=!0),t.availableInMatrixColumn===!0&&(u.availableInMatrixColumn=!0),t.choices){var d=typeof t.choices=="function"?t.choices:null,m=typeof t.choices!="function"?t.choices:null;u.setChoices(m,d)}if(t.baseValue&&u.setBaseValue(t.baseValue),t.onSerializeValue&&(u.onSerializeValue=t.onSerializeValue),t.onGetValue&&(u.onGetValue=t.onGetValue),t.onSetValue&&(u.onSetValue=t.onSetValue),t.onSettingValue&&(u.onSettingValue=t.onSettingValue),t.isLocalizable&&(t.serializationProperty="loc"+u.name),t.serializationProperty){u.serializationProperty=t.serializationProperty;var w;u.serializationProperty&&u.serializationProperty.indexOf("loc")==0&&(u.isLocalizable=!0)}t.isLocalizable&&(u.isLocalizable=t.isLocalizable),t.className&&(u.className=t.className),t.baseClassName&&(u.baseClassName=t.baseClassName,u.isArray=!0),u.isArray===!0&&(u.isArray=!0),t.classNamePart&&(u.classNamePart=t.classNamePart),t.alternativeName&&(u.alternativeName=t.alternativeName),t.oldName&&(u.oldName=t.oldName),t.layout&&(u.layout=t.layout),t.version&&(u.version=t.version),t.dependsOn&&this.addDependsOnProperties(u,t.dependsOn)}return this.properties.push(u),e&&!this.isOverridedProp(u.name)&&(u.isCustom=!0,kt.addProperty(this.name,u)),u}},r.prototype.addDependsOnProperties=function(t,e){var n=Array.isArray(e)?e:[e];t.dependsOn=n;for(var i=0;i<n.length;i++)this.addDependsOnProperty(t,n[i])},r.prototype.addDependsOnProperty=function(t,e){var n=this.find(e);n||(n=L.findProperty(this.parentName,e)),n&&n.addDependedProperty(t.name)},r.prototype.getIsPropertyNameRequired=function(t){return t.length>0&&t[0]==r.requiredSymbol},r.prototype.getPropertyName=function(t){return this.getIsPropertyNameRequired(t)&&(t=t.slice(1)),t},r.requiredSymbol="!",r.typeSymbol=":",r}(),Ws=function(){function r(){this.classes={},this.alternativeNames={},this.childrenClasses={},this.dynamicPropsCache={}}return r.prototype.getObjPropertyValue=function(t,e){if(this.isObjWrapper(t)&&this.isNeedUseObjWrapper(t,e)){var n=t.getOriginalObj(),i=L.findProperty(n.getType(),e);if(i)return this.getObjPropertyValueCore(n,i)}var o=L.findProperty(t.getType(),e);return o?this.getObjPropertyValueCore(t,o):t[e]},r.prototype.setObjPropertyValue=function(t,e,n){if(t[e]!==n)if(t[e]&&t[e].setJson)t[e].setJson(n,!0);else{if(Array.isArray(n)){for(var i=[],o=0;o<n.length;o++)i.push(n[o]);n=i}t[e]=n}},r.prototype.getObjPropertyValueCore=function(t,e){if(!e.isSerializable)return t[e.name];if(e.isLocalizable){if(e.isArray)return t[e.name];if(e.serializationProperty)return t[e.serializationProperty].text}return t.getPropertyValue(e.name)},r.prototype.isObjWrapper=function(t){return!!t.getOriginalObj&&!!t.getOriginalObj()},r.prototype.isNeedUseObjWrapper=function(t,e){if(!t.getDynamicProperties)return!0;var n=t.getDynamicProperties();if(!Array.isArray(n))return!1;for(var i=0;i<n.length;i++)if(n[i].name===e)return!0;return!1},r.prototype.addClass=function(t,e,n,i){n===void 0&&(n=null),i===void 0&&(i=null),t=t.toLowerCase();var o=new Us(t,e,n,i);if(this.classes[t]=o,i){i=i.toLowerCase();var l=this.childrenClasses[i];l||(this.childrenClasses[i]=[]),this.childrenClasses[i].push(o)}return o},r.prototype.removeClass=function(t){var e=this.findClass(t);if(e&&(delete this.classes[e.name],e.parentName)){var n=this.childrenClasses[e.parentName].indexOf(e);n>-1&&this.childrenClasses[e.parentName].splice(n,1)}},r.prototype.overrideClassCreatore=function(t,e){this.overrideClassCreator(t,e)},r.prototype.overrideClassCreator=function(t,e){t=t.toLowerCase();var n=this.findClass(t);n&&(n.creator=e)},r.prototype.getProperties=function(t){var e=this.findClass(t);return e?e.getAllProperties():[]},r.prototype.getPropertiesByObj=function(t){var e=t&&t.getType?t.getType():void 0;if(!e)return[];for(var n=this.getProperties(e),i=this.getDynamicPropertiesByObj(t),o=i.length-1;o>=0;o--)this.findProperty(e,i[o].name)&&i.splice(o,1);return i.length===0?n:[].concat(n).concat(i)},r.prototype.addDynamicPropertiesIntoObj=function(t,e,n){var i=this;n.forEach(function(o){i.addDynamicPropertyIntoObj(t,e,o.name,!1),o.serializationProperty&&i.addDynamicPropertyIntoObj(t,e,o.serializationProperty,!0),o.alternativeName&&i.addDynamicPropertyIntoObj(t,e,o.alternativeName,!1)})},r.prototype.addDynamicPropertyIntoObj=function(t,e,n,i){var o={configurable:!0,get:function(){return e[n]}};i||(o.set=function(l){e[n]=l}),Object.defineProperty(t,n,o)},r.prototype.getDynamicPropertiesByObj=function(t,e){if(e===void 0&&(e=null),!t||!t.getType)return[];if(t.getDynamicProperties)return t.getDynamicProperties();if(!t.getDynamicType&&!e)return[];var n=e||t.getDynamicType();return this.getDynamicPropertiesByTypes(t.getType(),n)},r.prototype.getDynamicPropertiesByTypes=function(t,e,n){if(!e)return[];var i=e+"-"+t;if(this.dynamicPropsCache[i])return this.dynamicPropsCache[i];var o=this.getProperties(e);if(!o||o.length==0)return[];for(var l={},u=this.getProperties(t),d=0;d<u.length;d++)l[u[d].name]=u[d];var m=[];n||(n=[]);for(var w=0;w<o.length;w++){var E=o[w];n.indexOf(E.name)<0&&this.canAddDybamicProp(E,l[E.name])&&m.push(E)}return this.dynamicPropsCache[i]=m,m},r.prototype.canAddDybamicProp=function(t,e){if(!e)return!0;if(t===e)return!1;for(var n=t.classInfo;n&&n.parentName;){if(t=this.findProperty(n.parentName,t.name),t&&t===e)return!0;n=t?t.classInfo:void 0}return!1},r.prototype.hasOriginalProperty=function(t,e){return!!this.getOriginalProperty(t,e)},r.prototype.getOriginalProperty=function(t,e){var n=this.findProperty(t.getType(),e);return n||(this.isObjWrapper(t)?this.findProperty(t.getOriginalObj().getType(),e):null)},r.prototype.getProperty=function(t,e){var n=this.findProperty(t,e);if(!n)return n;var i=this.findClass(t);if(n.classInfo===i)return n;var o=new Si(i,n.name,n.isRequired);return o.mergeWith(n),o.isArray=n.isArray,i.properties.push(o),i.resetAllProperties(),o},r.prototype.findProperty=function(t,e){var n=this.findClass(t);return n?n.findProperty(e):null},r.prototype.findProperties=function(t,e){var n=new Array,i=this.findClass(t);if(!i)return n;for(var o=0;o<e.length;o++){var l=i.findProperty(e[o]);l&&n.push(l)}return n},r.prototype.getAllPropertiesByName=function(t){for(var e=new Array,n=this.getAllClasses(),i=0;i<n.length;i++)for(var o=this.findClass(n[i]),l=0;l<o.properties.length;l++)if(o.properties[l].name==t){e.push(o.properties[l]);break}return e},r.prototype.getAllClasses=function(){var t=new Array;for(var e in this.classes)t.push(e);return t},r.prototype.createClass=function(t,e){e===void 0&&(e=void 0),t=t.toLowerCase();var n=this.findClass(t);if(!n)return null;if(n.creator)return n.creator(e);for(var i=n.parentName;i;){if(n=this.findClass(i),!n)return null;if(i=n.parentName,n.creator)return this.createCustomType(t,n.creator,e)}return null},r.prototype.createCustomType=function(t,e,n){n===void 0&&(n=void 0),t=t.toLowerCase();var i=e(n),o=t,l=i.getTemplate?i.getTemplate():i.getType();return i.getType=function(){return o},i.getTemplate=function(){return l},kt.createProperties(i),i},r.prototype.getChildrenClasses=function(t,e){e===void 0&&(e=!1),t=t.toLowerCase();var n=[];return this.fillChildrenClasses(t,e,n),n},r.prototype.getRequiredProperties=function(t){var e=this.findClass(t);if(!e)return[];for(var n=e.getRequiredProperties(),i=[],o=0;o<n.length;o++)i.push(n[o].name);return i},r.prototype.addProperties=function(t,e){t=t.toLowerCase();for(var n=this.findClass(t),i=0;i<e.length;i++)this.addCustomPropertyCore(n,e[i])},r.prototype.addProperty=function(t,e){return this.addCustomPropertyCore(this.findClass(t),e)},r.prototype.addCustomPropertyCore=function(t,e){if(!t)return null;var n=t.createProperty(e,!0);return n&&(this.clearDynamicPropsCache(t),t.resetAllProperties()),n},r.prototype.removeProperty=function(t,e){var n=this.findClass(t);if(!n)return!1;var i=n.find(e);i&&(this.clearDynamicPropsCache(n),this.removePropertyFromClass(n,i),n.resetAllProperties(),kt.removeProperty(n.name,e))},r.prototype.clearDynamicPropsCache=function(t){this.dynamicPropsCache={}},r.prototype.removePropertyFromClass=function(t,e){var n=t.properties.indexOf(e);n<0||t.properties.splice(n,1)},r.prototype.fillChildrenClasses=function(t,e,n){var i=this.childrenClasses[t];if(i)for(var o=0;o<i.length;o++)(!e||i[o].creator)&&n.push(i[o]),this.fillChildrenClasses(i[o].name,e,n)},r.prototype.findClass=function(t){t=t.toLowerCase();var e=this.classes[t];if(!e){var n=this.alternativeNames[t];if(n&&n!=t)return this.findClass(n)}return e},r.prototype.isDescendantOf=function(t,e){if(!t||!e)return!1;t=t.toLowerCase(),e=e.toLowerCase();var n=this.findClass(t);if(!n)return!1;var i=n;do{if(i.name===e)return!0;i=this.classes[i.parentName]}while(i);return!1},r.prototype.addAlterNativeClassName=function(t,e){this.alternativeNames[e.toLowerCase()]=t.toLowerCase()},r.prototype.generateSchema=function(t){t===void 0&&(t=void 0),t||(t="survey");var e=this.findClass(t);if(!e)return null;var n={$schema:"http://json-schema.org/draft-07/schema#",title:"SurveyJS Library json schema",type:"object",properties:{},definitions:{locstring:this.generateLocStrClass()}};return this.generateSchemaProperties(e,n,n.definitions,!0),n},r.prototype.generateLocStrClass=function(){var t={},e=L.findProperty("survey","locale");if(e){var n=e.getChoices(null);Array.isArray(n)&&(n.indexOf("en")<0&&n.splice(0,0,"en"),n.splice(0,0,"default"),n.forEach(function(i){i&&(t[i]={type:"string"})}))}return{$id:"locstring",type:"object",properties:t}},r.prototype.generateSchemaProperties=function(t,e,n,i){if(t){var o=e.properties,l=[];(t.name==="question"||t.name==="panel")&&(o.type={type:"string"},l.push("type"));for(var u=0;u<t.properties.length;u++){var d=t.properties[u];t.parentName&&L.findProperty(t.parentName,d.name)||(o[d.name]=this.generateSchemaProperty(d,n,i),d.isRequired&&l.push(d.name))}l.length>0&&(e.required=l)}},r.prototype.generateSchemaProperty=function(t,e,n){if(t.isLocalizable)return{oneOf:[{type:"string"},{$ref:this.getChemeRefName("locstring",n)}]};var i=t.schemaType(),o=t.schemaRef(),l={};if(i&&(l.type=i),t.hasChoices){var u=t.getChoices(null);Array.isArray(u)&&u.length>0&&(l.enum=this.getChoicesValues(u))}if(o&&(i==="array"?t.className==="string"?l.items={type:t.className}:l.items={$ref:this.getChemeRefName(t.className,n)}:l.$ref=this.getChemeRefName(o,n),this.generateChemaClass(t.className,e,!1)),t.baseClassName){var d=this.getChildrenClasses(t.baseClassName,!0);t.baseClassName=="question"&&d.push(this.findClass("panel")),l.items={anyOf:[]};for(var m=0;m<d.length;m++){var w=d[m].name;l.items.anyOf.push({$ref:this.getChemeRefName(w,n)}),this.generateChemaClass(w,e,!1)}}return l},r.prototype.getChemeRefName=function(t,e){return e?"#/definitions/"+t:t},r.prototype.generateChemaClass=function(t,e,n){if(!e[t]){var i=this.findClass(t);if(i){var o=!!i.parentName&&i.parentName!="base";o&&this.generateChemaClass(i.parentName,e,n);var l={type:"object",$id:t};e[t]=l;var u={properties:{}};this.generateSchemaProperties(i,u,e,n),o?l.allOf=[{$ref:this.getChemeRefName(i.parentName,n)},{properties:u.properties}]:l.properties=u.properties,Array.isArray(u.required)&&(l.required=u.required)}}},r.prototype.getChoicesValues=function(t){var e=new Array;return t.forEach(function(n){typeof n=="object"&&n.value!==void 0?e.push(n.value):e.push(n)}),e},r}(),Sn=function(){function r(t,e){this.type=t,this.message=e,this.description="",this.at=-1,this.end=-1}return r.prototype.getFullDescription=function(){return this.message+(this.description?`
`+this.description:"")},r}(),$s=function(r){fn(t,r);function t(e,n){var i=r.call(this,"unknownproperty","Unknown property in class '"+n+"': '"+e+"'.")||this;return i.propertyName=e,i.className=n,i}return t}(Sn),Rr=function(r){fn(t,r);function t(e,n,i){var o=r.call(this,n,i)||this;return o.baseClassName=e,o.type=n,o.message=i,o}return t}(Sn),Gs=function(r){fn(t,r);function t(e,n){var i=r.call(this,n,"missingtypeproperty","The property type is missing in the object. Please take a look at property: '"+e+"'.")||this;return i.propertyName=e,i.baseClassName=n,i}return t}(Rr),Zs=function(r){fn(t,r);function t(e,n){var i=r.call(this,n,"incorrecttypeproperty","The property type is incorrect in the object. Please take a look at property: '"+e+"'.")||this;return i.propertyName=e,i.baseClassName=n,i}return t}(Rr),Js=function(r){fn(t,r);function t(e,n){var i=r.call(this,"requiredproperty","The property '"+e+"' is required in class '"+n+"'.")||this;return i.propertyName=e,i.className=n,i}return t}(Sn),Rp=function(r){fn(t,r);function t(e,n){var i=r.call(this,"arrayproperty","The property '"+e+"' should be an array in '"+n+"'.")||this;return i.propertyName=e,i.className=n,i}return t}(Sn),Dp=function(r){fn(t,r);function t(e,n){var i=r.call(this,"incorrectvalue","The property value: '"+n+"' is incorrect for property '"+e.name+"'.")||this;return i.property=e,i.value=n,i}return t}(Sn),nt=function(){function r(){this.errors=new Array,this.lightSerializing=!1}return Object.defineProperty(r,"metaData",{get:function(){return r.metaDataValue},enumerable:!1,configurable:!0}),r.prototype.toJsonObject=function(t,e){return this.toJsonObjectCore(t,null,e)},r.prototype.toObject=function(t,e,n){this.toObjectCore(t,e,n);var i=this.getRequiredError(e,t);i&&this.addNewError(i,t,e)},r.prototype.toObjectCore=function(t,e,n){if(t){var i=null,o=void 0,l=!0;if(e.getType&&(o=e.getType(),i=L.getProperties(o),l=!!o&&!L.isDescendantOf(o,"itemvalue")),!!i){e.startLoadingFromJson&&e.startLoadingFromJson(t),i=this.addDynamicProperties(e,t,i),this.options=n;var u={};u[r.typePropertyName]=!0;var d={};for(var m in t)this.setPropertyValueToObj(t,e,m,i,u,d,o,l,n);this.options=void 0,e.endLoadingFromJson&&e.endLoadingFromJson()}}},r.prototype.setPropertyValueToObj=function(t,e,n,i,o,l,u,d,m){var w=this;if(!o[n]){if(n===r.positionPropertyName){e[n]=t[n];return}var E=this.findProperty(i,n);if(!E&&d&&this.addNewError(new $s(n.toString(),u),t,e),E){var A=E.dependsOn;Array.isArray(A)&&(l[n]=!0,A.forEach(function(U){l[U]||w.setPropertyValueToObj(t,e,U,i,o,l,u,!1,m)})),this.valueToObj(t[n],e,E,t,m),o[n]=!0}}},r.prototype.toJsonObjectCore=function(t,e,n){if(!t||!t.getType)return t;if(!t.isSurvey&&typeof t.getData=="function")return t.getData();var i={};e!=null&&!e.className&&(i[r.typePropertyName]=e.getObjType(t.getType()));var o=n===!0;return(!n||n===!0)&&(n={}),o&&(n.storeDefaults=o),this.propertiesToJson(t,L.getProperties(t.getType()),i,n),this.propertiesToJson(t,this.getDynamicProperties(t),i,n),i},r.prototype.getDynamicProperties=function(t){return L.getDynamicPropertiesByObj(t)},r.prototype.addDynamicProperties=function(t,e,n){if(!t.getDynamicPropertyName&&!t.getDynamicProperties)return n;if(t.getDynamicPropertyName){var i=t.getDynamicPropertyName();if(!i)return n;i&&e[i]&&(t[i]=e[i])}var o=this.getDynamicProperties(t);return o.length===0?n:[].concat(n).concat(o)},r.prototype.propertiesToJson=function(t,e,n,i){for(var o=0;o<e.length;o++)this.valueToJson(t,n,e[o],i)},r.prototype.valueToJson=function(t,e,n,i){i||(i={}),!(n.isSerializable===!1||n.isLightSerializable===!1&&this.lightSerializing)&&(i.version&&!n.isAvailableInVersion(i.version)||this.valueToJsonCore(t,e,n,i))},r.prototype.valueToJsonCore=function(t,e,n,i){var o=n.getSerializedProperty(t,i.version);if(o&&o!==n){this.valueToJsonCore(t,e,o,i);return}var l=n.getSerializableValue(t,i.storeDefaults);if(l!==void 0){if(this.isValueArray(l)){for(var u=[],d=0;d<l.length;d++)u.push(this.toJsonObjectCore(l[d],n,i));l=u.length>0?u:null}else l=this.toJsonObjectCore(l,n,i);if(l!=null){var m=n.getSerializedName(i.version),w=typeof t.getPropertyValue=="function"&&t.getPropertyValue(m,null)!==null;(i.storeDefaults&&w||!n.isDefaultValueByObj(t,l))&&(!L.onSerializingProperty||!L.onSerializingProperty(t,n,l,e))&&(e[m]=this.removePosOnValueToJson(n,l))}}},r.prototype.valueToObj=function(t,e,n,i,o){if(t!=null){if(this.removePos(n,t),n!=null&&n.hasToUseSetValue){n.setValue(e,t,this);return}if(n.isArray&&!Array.isArray(t)&&t){t=[t];var l=i&&n.alternativeName&&i[n.alternativeName]?n.alternativeName:n.name;this.addNewError(new Rp(l,e.getType()),i||t,e)}if(this.isValueArray(t)){this.valueToArray(t,e,n.name,n,o);return}var u=this.createNewObj(t,n);u.newObj&&(this.toObjectCore(t,u.newObj,o),t=u.newObj),u.error||(n!=null?(n.setValue(e,t,this),o&&o.validatePropertyValues&&(n.validateValue(t)||this.addNewError(new Dp(n,t),i,e))):e[n.name]=t)}},r.prototype.removePosOnValueToJson=function(t,e){return!t.isCustom||!e||this.removePosFromObj(e),e},r.prototype.removePos=function(t,e){!t||!t.type||t.type.indexOf("value")<0||this.removePosFromObj(e)},r.prototype.removePosFromObj=function(t){if(!(!t||typeof t.getType=="function")){if(Array.isArray(t))for(var e=0;e<t.length;e++)this.removePosFromObj(t[e]);if(typeof t=="object"){t[r.positionPropertyName]&&delete t[r.positionPropertyName];for(var n in t)this.removePosFromObj(t[n])}}},r.prototype.isValueArray=function(t){return t&&Array.isArray(t)},r.prototype.createNewObj=function(t,e){var n={newObj:null,error:null},i=this.getClassNameForNewObj(t,e);return n.newObj=i?L.createClass(i,t):null,n.error=this.checkNewObjectOnErrors(n.newObj,t,e,i),n},r.prototype.getClassNameForNewObj=function(t,e){var n=e!=null&&e.className?e.className:void 0;if(n||(n=t[r.typePropertyName]),!n)return n;n=n.toLowerCase();var i=e.classNamePart;return i&&n.indexOf(i)<0&&(n+=i),n},r.prototype.checkNewObjectOnErrors=function(t,e,n,i){var o=null;return t?o=this.getRequiredError(t,e):n.baseClassName&&(i?o=new Zs(n.name,n.baseClassName):o=new Gs(n.name,n.baseClassName)),o&&this.addNewError(o,e,t),o},r.prototype.getRequiredError=function(t,e){if(!t.getType||typeof t.getData=="function")return null;var n=L.findClass(t.getType());if(!n)return null;var i=n.getRequiredProperties();if(!Array.isArray(i))return null;for(var o=0;o<i.length;o++){var l=i[o];if(D.isValueEmpty(l.defaultValue)&&!e[l.name])return new Js(l.name,t.getType())}return null},r.prototype.addNewError=function(t,e,n){if(t.jsonObj=e,t.element=n,this.errors.push(t),!!e){var i=e[r.positionPropertyName];i&&(t.at=i.start,t.end=i.end)}},r.prototype.valueToArray=function(t,e,n,i,o){if(!(e[n]&&!this.isValueArray(e[n]))){e[n]&&t.length>0&&e[n].splice(0,e[n].length);var l=e[n]?e[n]:[];this.addValuesIntoArray(t,l,i,o),e[n]||(e[n]=l)}},r.prototype.addValuesIntoArray=function(t,e,n,i){for(var o=0;o<t.length;o++){var l=this.createNewObj(t[o],n);l.newObj?(t[o].name&&(l.newObj.name=t[o].name),t[o].valueName&&(l.newObj.valueName=t[o].valueName.toString()),e.push(l.newObj),this.toObjectCore(t[o],l.newObj,i)):l.error||e.push(t[o])}},r.prototype.findProperty=function(t,e){if(!t)return null;for(var n=0;n<t.length;n++){var i=t[n];if(i.name==e||i.alternativeName==e)return i}return null},r.typePropertyName="type",r.positionPropertyName="pos",r.metaDataValue=new Ws,r}(),L=nt.metaData,Ks="@survey",lt=function(){function r(){this.values=null,this.properties=null,this.asyncValues={}}return r.prototype.getFirstName=function(t,e){if(e===void 0&&(e=null),!t)return t;var n="";if(e&&(n=this.getFirstPropertyName(t,e),n))return n;for(var i=0;i<t.length;i++){var o=t[i];if(o=="."||o=="[")break;n+=o}return n},r.prototype.hasValue=function(t,e){e===void 0&&(e=null),e||(e=this.values);var n=this.getValueCore(t,e);return n.hasValue},r.prototype.getValue=function(t,e){e===void 0&&(e=null),e||(e=this.values);var n=this.getValueCore(t,e);return n.value},r.prototype.setValue=function(t,e,n){if(e){var i=this.getNonNestedObject(t,e,!0);i&&(t=i.value,e=i.text,t&&e&&(t[e]=n))}},r.prototype.getValueInfo=function(t){if(t.path){t.value=this.getValueFromPath(t.path,this.values),t.hasValue=t.value!==null&&!D.isValueEmpty(t.value),!t.hasValue&&t.path.length>1&&t.path[t.path.length-1]=="length"&&(t.hasValue=!0,t.value=0);return}var e=this.getValueCore(t.name,this.values);t.value=e.value,t.hasValue=e.hasValue,t.path=e.hasValue?e.path:null,t.sctrictCompare=e.sctrictCompare},r.prototype.isAnyKeyChanged=function(t,e){for(var n=0;n<e.length;n++){var i=e[n];if(i){var o=i.toLowerCase();if(t.hasOwnProperty(i)||i!==o&&t.hasOwnProperty(o))return!0;var l=this.getFirstName(i);if(t.hasOwnProperty(l)){if(i===l)return!0;var u=t[l];if(u!=null){if(!u.hasOwnProperty("oldValue")||!u.hasOwnProperty("newValue"))return!0;var d={};d[l]=u.oldValue;var m=this.getValue(i,d);d[l]=u.newValue;var w=this.getValue(i,d);if(!D.isTwoValueEquals(m,w,!1,!1,!1))return!0}}}}return!1},r.prototype.getValueFromPath=function(t,e){if(t.length===2&&t[0]===Ks)return this.getValueFromSurvey(t[1]);for(var n=0;e&&n<t.length;){var i=t[n];if(D.isNumber(i)&&Array.isArray(e)&&i>=e.length)return null;e=e[i],n++}return e},r.prototype.getValueCore=function(t,e){var n=this.getQuestionDirectly(t);if(n)return{hasValue:!0,value:n.value,path:[t],sctrictCompare:n.requireStrictCompare};var i=this.getValueFromValues(t,e);if(t&&!i.hasValue){var o=this.getValueFromSurvey(t);o!==void 0&&(i.hasValue=!0,i.value=o,i.path=[Ks,t])}return i},r.prototype.getQuestionDirectly=function(t){if(this.properties&&this.properties.survey)return this.properties.survey.getQuestionByValueName(t)},r.prototype.getValueFromSurvey=function(t){if(this.properties&&this.properties.survey)return this.properties.survey.getBuiltInVariableValue(t.toLocaleLowerCase())},r.prototype.getValueFromValues=function(t,e){var n={hasValue:!1,value:null,path:null},i=e;if(!i&&i!==0&&i!==!1)return n;t&&t.lastIndexOf(".length")>-1&&t.lastIndexOf(".length")===t.length-7&&(n.value=0,n.hasValue=!0);var o=this.getNonNestedObject(i,t,!1);return o&&(n.path=o.path,n.value=o.text?this.getObjectValue(o.value,o.text):o.value,n.hasValue=!D.isValueEmpty(n.value)),n},r.prototype.getNonNestedObject=function(t,e,n){for(var i=new Array,o=0,l=this.getNonNestedObjectCore(t,e,n,i);!l&&o<i.length;)o=i.length,l=this.getNonNestedObjectCore(t,e,n,i);return l},r.prototype.getNonNestedObjectCore=function(t,e,n,i){var o=this.getFirstPropertyName(e,t,n,i);o&&i.push(o);for(var l=o?[o]:null;e!=o&&t;){var u=e[0]=="[";if(u){var d=this.getObjInArray(t,e);if(!d)return null;t=d.value,e=d.text,l.push(d.index)}else{if(!o&&e==this.getFirstName(e))return{value:t,text:e,path:l};if(t=this.getObjectValue(t,o),D.isValueEmpty(t)&&!n)return null;e=e.substring(o.length)}e&&e[0]=="."&&(e=e.substring(1)),o=this.getFirstPropertyName(e,t,n,i),o&&l.push(o)}return{value:t,text:e,path:l}},r.prototype.getObjInArray=function(t,e){if(!Array.isArray(t))return null;for(var n=1,i="";n<e.length&&e[n]!="]";)i+=e[n],n++;return e=n<e.length?e.substring(n+1):"",n=this.getIntValue(i),n<0||n>=t.length?null:{value:t[n],text:e,index:n}},r.prototype.getFirstPropertyName=function(t,e,n,i){if(n===void 0&&(n=!1),i===void 0&&(i=void 0),!t||(e||(e={}),e.hasOwnProperty(t)))return t;var o=t.toLowerCase(),l=o[0],u=l.toUpperCase();for(var d in e)if(!(Array.isArray(i)&&i.indexOf(d)>-1)){var m=d[0];if(m===u||m===l){var w=d.toLowerCase();if(w==o)return d;if(o.length<=w.length)continue;var E=o[w.length];if(E!="."&&E!="[")continue;if(w==o.substring(0,w.length))return d}}if(n&&t[0]!=="["){var A=t.indexOf(".");return A>-1&&(t=t.substring(0,A),e[t]={}),t}return""},r.prototype.getObjectValue=function(t,e){return e?t[e]:null},r.prototype.getIntValue=function(t){return t=="0"||(t|0)>0&&t%1==0?Number(t):-1},r}(),Lt=function(){function r(){}return r.disposedObjectChangedProperty=function(t,e){r.warn('An attempt to set a property "'+t+'" of a disposed object "'+e+'"')},r.inCorrectQuestionValue=function(t,e){var n=JSON.stringify(e,null,3);r.warn("An attempt to assign an incorrect value"+n+' to the following question: "'+t+'"')},r.warn=function(t){console.warn(t)},r.error=function(t){console.error(t)},r}(),Ve=function(){function r(){this.functionHash={},this.isAsyncHash={}}return r.prototype.register=function(t,e,n){n===void 0&&(n=!1),this.functionHash[t]=e,n&&(this.isAsyncHash[t]=!0)},r.prototype.unregister=function(t){delete this.functionHash[t],delete this.isAsyncHash[t]},r.prototype.hasFunction=function(t){return!!this.functionHash[t]},r.prototype.isAsyncFunction=function(t){return!!this.isAsyncHash[t]},r.prototype.clear=function(){this.functionHash={}},r.prototype.getAll=function(){var t=[];for(var e in this.functionHash)t.push(e);return t.sort()},r.prototype.run=function(t,e,n,i){n===void 0&&(n=null);var o=this.functionHash[t];if(!o)return Lt.warn("Unknown function name: "+t),null;var l={func:o};if(n)for(var u in n)l[u]=n[u];return l.func(e,i)},r.Instance=new r,r}(),Mp=Ve.Instance.register;function Un(r,t){if(r!=null)if(Array.isArray(r))for(var e=0;e<r.length;e++)Un(r[e],t);else D.isNumber(r)&&(r=D.getNumber(r)),t.push(r)}function Ys(r){var t=[];Un(r,t);for(var e=0,n=0;n<t.length;n++)e=D.correctAfterPlusMinis(e,t[n],e+t[n]);return e}Ve.Instance.register("sum",Ys);function Xs(r,t){var e=[];Un(r,e);for(var n=void 0,i=0;i<e.length;i++)n===void 0&&(n=e[i]),t?n>e[i]&&(n=e[i]):n<e[i]&&(n=e[i]);return n}function Ap(r){return Xs(r,!0)}Ve.Instance.register("min",Ap);function kp(r){return Xs(r,!1)}Ve.Instance.register("max",kp);function Lp(r){var t=[];return Un(r,t),t.length}Ve.Instance.register("count",Lp);function Fp(r){var t=[];Un(r,t);var e=Ys(r);return t.length>0?e/t.length:0}Ve.Instance.register("avg",Fp);function jp(r,t){if(r.length<2||r.length>3)return null;var e=r[0];if(!e||!Array.isArray(e)&&!Array.isArray(Object.keys(e)))return null;var n=r[1];if(typeof n!="string"&&!(n instanceof String))return null;var i=r.length>2?r[2]:void 0;if(typeof i!="string"&&!(i instanceof String)&&(i=void 0),!i){var o=Array.isArray(t)&&t.length>2?t[2]:void 0;o&&o.toString()&&(i=o.toString())}return{data:e,name:n,expression:i}}function Bp(r){return typeof r=="string"?D.isNumber(r)?D.getNumber(r):void 0:r}function ea(r,t,e,n,i,o){if(!r||D.isValueEmpty(r[t])||o&&!o.run(r))return e;var l=i?Bp(r[t]):1;return n(e,l)}function Ei(r,t,e,n){n===void 0&&(n=!0);var i=jp(r,t);if(i){var o=i.expression?new rt(i.expression):void 0;o&&o.isAsync&&(o=void 0);var l=void 0;if(Array.isArray(i.data))for(var u=0;u<i.data.length;u++)l=ea(i.data[u],i.name,l,e,n,o);else for(var d in i.data)l=ea(i.data[d],i.name,l,e,n,o);return l}}function ta(r,t){var e=Ei(r,t,function(n,i){return n==null&&(n=0),i==null||i==null?n:D.correctAfterPlusMinis(n,i,n+i)});return e!==void 0?e:0}Ve.Instance.register("sumInArray",ta);function Np(r,t){return Ei(r,t,function(e,n){return e==null?n:n==null||n==null||e<n?e:n})}Ve.Instance.register("minInArray",Np);function qp(r,t){return Ei(r,t,function(e,n){return e==null?n:n==null||n==null||e>n?e:n})}Ve.Instance.register("maxInArray",qp);function na(r,t){var e=Ei(r,t,function(n,i){return n==null&&(n=0),i==null||i==null?n:n+1},!1);return e!==void 0?e:0}Ve.Instance.register("countInArray",na);function Qp(r,t){var e=na(r,t);return e==0?0:ta(r,t)/e}Ve.Instance.register("avgInArray",Qp);function Hp(r){return!r&&r.length!==3?"":r[0]?r[1]:r[2]}Ve.Instance.register("iif",Hp);function zp(r){return!r&&r.length<1||!r[0]?null:S("function-getDate",r[0])}Ve.Instance.register("getDate",zp);function ia(r,t,e){if(e==="days")return sa([r,t]);var n=S("function-dateDiffMonths",r),i=S("function-dateDiffMonths",t),o=i.getFullYear()-n.getFullYear();e=e||"years";var l=o*12+i.getMonth()-n.getMonth();return i.getDate()<n.getDate()&&(l-=1),e==="months"?l:~~(l/12)}function Up(r){return!Array.isArray(r)||r.length<1||!r[0]?null:ia(r[0],void 0,(r.length>1?r[1]:"")||"years")}Ve.Instance.register("age",Up);function Wp(r){return!Array.isArray(r)||r.length<2||!r[0]||!r[1]?null:ia(r[0],r[1],(r.length>2?r[2]:"")||"days")}Ve.Instance.register("dateDiff",Wp);function $p(r){if(!Array.isArray(r)||r.length<2||!r[0]||!r[1])return null;var t=S("function-dateAdd",r[0]),e=r[1],n=r[2]||"days";return n==="days"&&t.setDate(t.getDate()+e),n==="months"&&t.setMonth(t.getMonth()+e),n==="years"&&t.setFullYear(t.getFullYear()+e),t}Ve.Instance.register("dateAdd",$p);function ra(r){if(!r)return!1;for(var t=r.questions,e=0;e<t.length;e++)if(!t[e].validate(!1))return!1;return!0}function Gp(r){if(!r&&r.length<1||!r[0]||!this.survey)return!1;var t=r[0],e=this.survey.getPageByName(t);if(e||(e=this.survey.getPanelByName(t)),!e){var n=this.survey.getQuestionByName(t);if(!n||!Array.isArray(n.panels))return!1;if(r.length>1)r[1]<n.panels.length&&(e=n.panels[r[1]]);else{for(var i=0;i<n.panels.length;i++)if(!ra(n.panels[i]))return!1;return!0}}return ra(e)}Ve.Instance.register("isContainerReady",Gp);function Zp(){return this.survey&&this.survey.isDisplayMode}Ve.Instance.register("isDisplayMode",Zp);function Jp(){return S("function-currentDate")}Ve.Instance.register("currentDate",Jp);function oa(r){var t=S("function-today");return R.localization.useLocalTimeZone?t.setHours(0,0,0,0):t.setUTCHours(0,0,0,0),Array.isArray(r)&&r.length==1&&t.setDate(t.getDate()+r[0]),t}Ve.Instance.register("today",oa);function Kp(r){if(!(r.length!==1||!r[0]))return S("function-getYear",r[0]).getFullYear()}Ve.Instance.register("getYear",Kp);function Yp(){return S("function-currentYear").getFullYear()}Ve.Instance.register("currentYear",Yp);function sa(r){if(!Array.isArray(r)||r.length!==2||!r[0]||!r[1])return 0;var t=S("function-diffDays",r[0]),e=S("function-diffDays",r[1]),n=Math.abs(e-t);return Math.ceil(n/(1e3*60*60*24))}Ve.Instance.register("diffDays",sa);function Oi(r,t){var e=oa(void 0);return t&&t[0]&&(e=S("function-"+r,t[0])),e}function Xp(r){var t=Oi("year",r);return t.getFullYear()}Ve.Instance.register("year",Xp);function ed(r){var t=Oi("month",r);return t.getMonth()+1}Ve.Instance.register("month",ed);function td(r){var t=Oi("day",r);return t.getDate()}Ve.Instance.register("day",td);function nd(r){var t=Oi("weekday",r);return t.getDay()}Ve.Instance.register("weekday",nd);function aa(r,t){if(!(!r||!t)){for(var e=r.question;e&&e.parent;){var n=e.parent.getQuestionByName(t);if(n)return n;e=e.parentQuestion}for(var i=["row","panel","survey"],o=0;o<i.length;o++){var l=r[i[o]];if(l&&l.getQuestionByName){var n=l.getQuestionByName(t);if(n)return n}}return null}}function la(r,t){return t.length>1&&!D.isValueEmpty(t[1])?r.getDisplayValue(!0,t[1]):r.displayValue}function id(r){var t=this,e=aa(this,r[0]);if(!e)return"";if(e.isReady)this.returnResult(la(e,r));else{var n=function(i,o){i.isReady&&(i.onReadyChanged.remove(n),t.returnResult(la(i,r)))};e.onReadyChanged.add(n)}}Ve.Instance.register("displayValue",id,!0);function rd(r){if(!(r.length!==2||!r[0]||!r[1])){var t=aa(this,r[0]);return t?t[r[1]]:void 0}}Ve.Instance.register("propertyValue",rd);function od(r){if(r.length<2)return"";var t=r[0];if(!t||typeof t!="string")return"";var e=r[1];if(!D.isNumber(e))return"";var n=r.length>2?r[2]:void 0;return D.isNumber(n)?t.substring(e,n):t.substring(e)}Ve.Instance.register("substring",od);var En=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),On=function(){function r(){this._id=r.counter++}return Object.defineProperty(r.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),r.prototype.toString=function(t){return t===void 0&&(t=void 0),""},r.prototype.hasFunction=function(){return!1},r.prototype.hasAsyncFunction=function(){return!1},r.prototype.addToAsyncList=function(t){},r.prototype.isEqual=function(t){return!!t&&t.getType()===this.getType()&&this.isContentEqual(t)},r.prototype.areOperatorsEquals=function(t,e){return!t&&!e||!!t&&t.isEqual(e)},r.counter=1,r}(),ua=function(r){En(t,r);function t(e,n,i,o){n===void 0&&(n=null),i===void 0&&(i=null),o===void 0&&(o=!1);var l=r.call(this)||this;return l.operatorName=e,l.left=n,l.right=i,l.isArithmeticValue=o,o?l.consumer=yt.binaryFunctions.arithmeticOp(e):l.consumer=yt.binaryFunctions[e],l.consumer==null&&yt.throwInvalidOperatorError(e),l}return Object.defineProperty(t.prototype,"requireStrictCompare",{get:function(){return this.getIsOperandRequireStrict(this.left)||this.getIsOperandRequireStrict(this.right)},enumerable:!1,configurable:!0}),t.prototype.getIsOperandRequireStrict=function(e){return!!e&&e.requireStrictCompare},t.prototype.getType=function(){return"binary"},Object.defineProperty(t.prototype,"isArithmetic",{get:function(){return this.isArithmeticValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isConjunction",{get:function(){return this.operatorName=="or"||this.operatorName=="and"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"conjunction",{get:function(){return this.isConjunction?this.operatorName:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"operator",{get:function(){return this.operatorName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftOperand",{get:function(){return this.left},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightOperand",{get:function(){return this.right},enumerable:!1,configurable:!0}),t.prototype.isContentEqual=function(e){var n=e;return n.operator===this.operator&&this.areOperatorsEquals(this.left,n.left)&&this.areOperatorsEquals(this.right,n.right)},t.prototype.evaluateParam=function(e,n){return e==null?null:e.evaluate(n)},t.prototype.evaluate=function(e){return this.consumer.call(this,this.evaluateParam(this.left,e),this.evaluateParam(this.right,e),this.requireStrictCompare)},t.prototype.toString=function(e){if(e===void 0&&(e=void 0),e){var n=e(this);if(n)return n}return"("+yt.safeToString(this.left,e)+" "+yt.operatorToString(this.operatorName)+" "+yt.safeToString(this.right,e)+")"},t.prototype.setVariables=function(e){this.left!=null&&this.left.setVariables(e),this.right!=null&&this.right.setVariables(e)},t.prototype.hasFunction=function(){return!!this.left&&this.left.hasFunction()||!!this.right&&this.right.hasFunction()},t.prototype.hasAsyncFunction=function(){return!!this.left&&this.left.hasAsyncFunction()||!!this.right&&this.right.hasAsyncFunction()},t.prototype.addToAsyncList=function(e){this.left&&this.left.addToAsyncList(e),this.right&&this.right.addToAsyncList(e)},t}(On),Dr=function(r){En(t,r);function t(e,n){var i=r.call(this)||this;return i.expressionValue=e,i.operatorName=n,i.consumer=yt.unaryFunctions[n],i.consumer==null&&yt.throwInvalidOperatorError(n),i}return Object.defineProperty(t.prototype,"operator",{get:function(){return this.operatorName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expression",{get:function(){return this.expressionValue},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"unary"},t.prototype.toString=function(e){if(e===void 0&&(e=void 0),e){var n=e(this);if(n)return n}return yt.operatorToString(this.operatorName)+" "+this.expression.toString(e)},t.prototype.isContentEqual=function(e){var n=e;return n.operator==this.operator&&this.areOperatorsEquals(this.expression,n.expression)},t.prototype.hasFunction=function(){return this.expression.hasFunction()},t.prototype.hasAsyncFunction=function(){return this.expression.hasAsyncFunction()},t.prototype.addToAsyncList=function(e){this.expression.addToAsyncList(e)},t.prototype.evaluate=function(e){var n=this.expression.evaluate(e);return this.consumer.call(this,n)},t.prototype.setVariables=function(e){this.expression.setVariables(e)},t}(On),Ri=function(r){En(t,r);function t(e){var n=r.call(this)||this;return n.values=e,n}return t.prototype.getType=function(){return"array"},t.prototype.toString=function(e){if(e===void 0&&(e=void 0),e){var n=e(this);if(n)return n}return"["+this.values.map(function(i){return i.toString(e)}).join(", ")+"]"},t.prototype.evaluate=function(e){return this.values.map(function(n){return n.evaluate(e)})},t.prototype.setVariables=function(e){this.values.forEach(function(n){n.setVariables(e)})},t.prototype.hasFunction=function(){return this.values.some(function(e){return e.hasFunction()})},t.prototype.hasAsyncFunction=function(){return this.values.some(function(e){return e.hasAsyncFunction()})},t.prototype.addToAsyncList=function(e){this.values.forEach(function(n){return n.addToAsyncList(e)})},t.prototype.isContentEqual=function(e){var n=e;if(n.values.length!==this.values.length)return!1;for(var i=0;i<this.values.length;i++)if(!n.values[i].isEqual(this.values[i]))return!1;return!0},t}(On),Mr=function(r){En(t,r);function t(e){var n=r.call(this)||this;return n.value=e,n}return t.prototype.getType=function(){return"const"},t.prototype.toString=function(e){if(e===void 0&&(e=void 0),e){var n=e(this);if(n)return n}return this.value.toString()},Object.defineProperty(t.prototype,"correctValue",{get:function(){return this.getCorrectValue(this.value)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requireStrictCompare",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.evaluate=function(){return this.getCorrectValue(this.value)},t.prototype.setVariables=function(e){},t.prototype.getCorrectValue=function(e){if(!e||typeof e!="string")return e;if(yt.isBooleanValue(e))return e.toLowerCase()==="true";if(e.length>1&&this.isQuote(e[0])&&this.isQuote(e[e.length-1]))return e.substring(1,e.length-1);if(D.isNumber(e)){if(e[0]==="0"&&e.indexOf("0x")!=0){var n=e.length,i=n>1&&(e[1]==="."||e[1]===",");if(!i&&n>1||i&&n<2)return e}return D.getNumber(e)}return e},t.prototype.isContentEqual=function(e){var n=e;return n.value==this.value},t.prototype.isQuote=function(e){return e=="'"||e=='"'},t}(On),ca=function(r){En(t,r);function t(e){var n=r.call(this,e)||this;return n.variableName=e,n.valueInfo={},n.useValueAsItIs=!1,n.variableName&&n.variableName.length>1&&n.variableName[0]===t.DisableConversionChar&&(n.variableName=n.variableName.substring(1),n.useValueAsItIs=!0),n}return Object.defineProperty(t,"DisableConversionChar",{get:function(){return R.expressionDisableConversionChar},set:function(e){R.expressionDisableConversionChar=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requireStrictCompare",{get:function(){return this.valueInfo.sctrictCompare===!0},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"variable"},t.prototype.toString=function(e){if(e===void 0&&(e=void 0),e){var n=e(this);if(n)return n}var i=this.useValueAsItIs?t.DisableConversionChar:"";return"{"+i+this.variableName+"}"},Object.defineProperty(t.prototype,"variable",{get:function(){return this.variableName},enumerable:!1,configurable:!0}),t.prototype.evaluate=function(e){return this.valueInfo.name=this.variableName,e.getValueInfo(this.valueInfo),this.valueInfo.hasValue?this.getCorrectValue(this.valueInfo.value):null},t.prototype.setVariables=function(e){e.push(this.variableName)},t.prototype.getCorrectValue=function(e){return this.useValueAsItIs?e:r.prototype.getCorrectValue.call(this,e)},t.prototype.isContentEqual=function(e){var n=e;return n.variable==this.variable},t}(Mr),pa=function(r){En(t,r);function t(e,n){var i=r.call(this)||this;return i.originalValue=e,i.parameters=n,Array.isArray(n)&&n.length===0&&(i.parameters=new Ri([])),i}return t.prototype.getType=function(){return"function"},t.prototype.evaluate=function(e){var n=this.getAsynValue(e);return n?n.value:this.evaluateCore(e)},t.prototype.evaluateCore=function(e){var n=e.properties;if(this.isAsyncFunction){n=D.createCopy(e.properties);var i=this.id,o=e.asyncValues,l=e.onCompleteAsyncFunc,u=this;n.returnResult=function(d){o[i]={value:d},l(u)}}return Ve.Instance.run(this.originalValue,this.parameters.evaluate(e),n,this.parameters.values)},t.prototype.toString=function(e){if(e===void 0&&(e=void 0),e){var n=e(this);if(n)return n}return this.originalValue+"("+this.parameters.toString(e)+")"},t.prototype.setVariables=function(e){this.parameters.setVariables(e)},t.prototype.isReady=function(e){return!!this.getAsynValue(e)},t.prototype.getAsynValue=function(e){return e.asyncValues[this.id]},t.prototype.hasFunction=function(){return!0},t.prototype.hasAsyncFunction=function(){return this.isAsyncFunction()||this.parameters.hasAsyncFunction()},t.prototype.isAsyncFunction=function(){return Ve.Instance.isAsyncFunction(this.originalValue)},t.prototype.addToAsyncList=function(e){var n=void 0;if(this.isAsyncFunction()&&(n={operand:this}),this.parameters.hasAsyncFunction()){var i=new Array;this.parameters.addToAsyncList(i),i.forEach(function(o){return o.parent=n}),n||(n={}),n.children=i}n&&e.push(n)},t.prototype.isContentEqual=function(e){var n=e;return n.originalValue==this.originalValue&&this.areOperatorsEquals(n.parameters,this.parameters)},t}(On),yt=function(){function r(){}return r.throwInvalidOperatorError=function(t){throw new Error("Invalid operator: '"+t+"'")},r.safeToString=function(t,e){return t==null?"":t.toString(e)},r.toOperandString=function(t){return t&&!D.isNumber(t)&&!r.isBooleanValue(t)&&(t="'"+t+"'"),t},r.isBooleanValue=function(t){return!!t&&(t.toLowerCase()==="true"||t.toLowerCase()==="false")},r.countDecimals=function(t){if(D.isNumber(t)&&Math.floor(t)!==t){var e=t.toString().split(".");return e.length>1&&e[1].length||0}return 0},r.plusMinus=function(t,e,n){var i=r.countDecimals(t),o=r.countDecimals(e);if(i>0||o>0){var l=Math.max(i,o);n=parseFloat(n.toFixed(l))}return n},r.isTwoValueEquals=function(t,e,n){return n===void 0&&(n=!0),t==="undefined"&&(t=void 0),e==="undefined"&&(e=void 0),D.isTwoValueEquals(t,e,n)},r.operatorToString=function(t){var e=r.signs[t];return e??t},r.convertValForDateCompare=function(t,e){if(e instanceof Date&&typeof t=="string"){var n=S("expression-operand",t);return n.setHours(0,0,0),n}return t},r.unaryFunctions={empty:function(t){return D.isValueEmpty(t)},notempty:function(t){return!r.unaryFunctions.empty(t)},negate:function(t){return!t}},r.binaryFunctions={arithmeticOp:function(t){var e=function(n,i){return D.isValueEmpty(n)?typeof i=="number"?0:typeof n=="string"?n:typeof i=="string"?"":Array.isArray(i)?[]:0:n};return function(n,i){n=e(n,i),i=e(i,n);var o=r.binaryFunctions[t];return o==null?null:o.call(this,n,i)}},and:function(t,e){return t&&e},or:function(t,e){return t||e},plus:function(t,e){return D.sumAnyValues(t,e)},minus:function(t,e){return D.correctAfterPlusMinis(t,e,t-e)},mul:function(t,e){return D.correctAfterMultiple(t,e,t*e)},div:function(t,e){return e?t/e:null},mod:function(t,e){return e?t%e:null},power:function(t,e){return Math.pow(t,e)},greater:function(t,e){return t==null||e==null?!1:(t=r.convertValForDateCompare(t,e),e=r.convertValForDateCompare(e,t),t>e)},less:function(t,e){return t==null||e==null?!1:(t=r.convertValForDateCompare(t,e),e=r.convertValForDateCompare(e,t),t<e)},greaterorequal:function(t,e){return r.binaryFunctions.equal(t,e)?!0:r.binaryFunctions.greater(t,e)},lessorequal:function(t,e){return r.binaryFunctions.equal(t,e)?!0:r.binaryFunctions.less(t,e)},equal:function(t,e,n){return t=r.convertValForDateCompare(t,e),e=r.convertValForDateCompare(e,t),r.isTwoValueEquals(t,e,n!==!0)},notequal:function(t,e,n){return!r.binaryFunctions.equal(t,e,n)},contains:function(t,e){return r.binaryFunctions.containsCore(t,e,!0)},notcontains:function(t,e){return!t&&!D.isValueEmpty(e)?!0:r.binaryFunctions.containsCore(t,e,!1)},anyof:function(t,e){if(D.isValueEmpty(t)&&D.isValueEmpty(e))return!0;if(D.isValueEmpty(t)||!Array.isArray(t)&&t.length===0)return!1;if(D.isValueEmpty(e))return!0;if(!Array.isArray(t))return r.binaryFunctions.contains(e,t);if(!Array.isArray(e))return r.binaryFunctions.contains(t,e);for(var n=0;n<e.length;n++)if(r.binaryFunctions.contains(t,e[n]))return!0;return!1},allof:function(t,e){if(!t&&!D.isValueEmpty(e))return!1;if(!Array.isArray(e))return r.binaryFunctions.contains(t,e);for(var n=0;n<e.length;n++)if(!r.binaryFunctions.contains(t,e[n]))return!1;return!0},containsCore:function(t,e,n){if(!t&&t!==0&&t!==!1)return!1;if(t.length||(t=t.toString(),(typeof e=="string"||e instanceof String)&&(t=t.toUpperCase(),e=e.toUpperCase())),typeof t=="string"||t instanceof String){if(!e)return!1;e=e.toString();var i=t.indexOf(e)>-1;return n?i:!i}for(var o=Array.isArray(e)?e:[e],l=0;l<o.length;l++){var u=0;for(e=o[l];u<t.length&&!r.isTwoValueEquals(t[u],e);u++);if(u==t.length)return!n}return n}},r.signs={less:"<",lessorequal:"<=",greater:">",greaterorequal:">=",equal:"==",notequal:"!=",plus:"+",minus:"-",mul:"*",div:"/",and:"and",or:"or",power:"^",mod:"%",negate:"!"},r}(),sd=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Di=function(r){sd(t,r);function t(e,n,i,o){var l=r.call(this)||this;return l.message=e,l.expected=n,l.found=i,l.location=o,l.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(l,t),l}return t.buildMessage=function(e,n){function i(w){return w.charCodeAt(0).toString(16).toUpperCase()}function o(w){return w.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(E){return"\\x0"+i(E)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(E){return"\\x"+i(E)})}function l(w){return w.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(E){return"\\x0"+i(E)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(E){return"\\x"+i(E)})}function u(w){switch(w.type){case"literal":return'"'+o(w.text)+'"';case"class":var E=w.parts.map(function(A){return Array.isArray(A)?l(A[0])+"-"+l(A[1]):l(A)});return"["+(w.inverted?"^":"")+E+"]";case"any":return"any character";case"end":return"end of input";case"other":return w.description}}function d(w){var E=w.map(u),A,U;if(E.sort(),E.length>0){for(A=1,U=1;A<E.length;A++)E[A-1]!==E[A]&&(E[U]=E[A],U++);E.length=U}switch(E.length){case 1:return E[0];case 2:return E[0]+" or "+E[1];default:return E.slice(0,-1).join(", ")+", or "+E[E.length-1]}}function m(w){return w?'"'+o(w)+'"':"end of input"}return"Expected "+d(e)+" but "+m(n)+" found."},t}(Error);function ad(r,t){t=t!==void 0?t:{};var e={},n={Expression:In},i=In,o=function(y,C){return mc(y,C,!0)},l="||",u=he("||",!1),d="or",m=he("or",!0),w=function(){return"or"},E="&&",A=he("&&",!1),U="and",W=he("and",!0),se=function(){return"and"},ie=function(y,C){return mc(y,C)},K="<=",ye=he("<=",!1),He="lessorequal",$e=he("lessorequal",!0),mt=function(){return"lessorequal"},xt=">=",jn=he(">=",!1),Pn="greaterorequal",lm=he("greaterorequal",!0),um=function(){return"greaterorequal"},bu="==",cm=he("==",!1),Cu="equal",xu=he("equal",!0),_u=function(){return"equal"},pm="=",dm=he("=",!1),wu="!=",fm=he("!=",!1),hm="notequal",mm=he("notequal",!0),gm=function(){return"notequal"},vm="<",ym=he("<",!1),bm="less",Cm=he("less",!0),xm=function(){return"less"},_m=">",wm=he(">",!1),Pm="greater",Vm=he("greater",!0),Im=function(){return"greater"},Tm="+",Sm=he("+",!1),Em=function(){return"plus"},Om="-",Rm=he("-",!1),Dm=function(){return"minus"},Mm="*",Am=he("*",!1),km=function(){return"mul"},Lm="/",Fm=he("/",!1),jm=function(){return"div"},Bm="%",Nm=he("%",!1),qm=function(){return"mod"},Qm="^",Hm=he("^",!1),zm="power",Um=he("power",!0),Wm=function(){return"power"},Pu="*=",$m=he("*=",!1),Gm="contains",Zm=he("contains",!0),Jm="contain",Km=he("contain",!0),Ym=function(){return"contains"},Xm="notcontains",eg=he("notcontains",!0),tg="notcontain",ng=he("notcontain",!0),ig=function(){return"notcontains"},rg="anyof",og=he("anyof",!0),sg=function(){return"anyof"},ag="allof",lg=he("allof",!0),ug=function(){return"allof"},Vu="(",Iu=he("(",!1),Tu=")",Su=he(")",!1),cg=function(y){return y},pg=function(y,C){return new pa(y,C)},dg="!",fg=he("!",!1),hg="negate",mg=he("negate",!0),gg=function(y){return new Dr(y,"negate")},vg=function(y,C){return new Dr(y,C)},yg="empty",bg=he("empty",!0),Cg=function(){return"empty"},xg="notempty",_g=he("notempty",!0),wg=function(){return"notempty"},Eu="undefined",Pg=he("undefined",!1),Ou="null",Vg=he("null",!1),Ig=function(){return null},Tg=function(y){return new Mr(y)},Sg="{",Eg=he("{",!1),Og="}",Rg=he("}",!1),Dg=function(y){return new ca(y)},us=function(y){return y},Ru="''",Mg=he("''",!1),Du=function(){return""},Mu='""',Ag=he('""',!1),Au="'",ku=he("'",!1),Lu=function(y){return"'"+y+"'"},Fu='"',ju=he('"',!1),kg="[",Lg=he("[",!1),Fg="]",jg=he("]",!1),Bg=function(y){return y},Bu=",",Nu=he(",",!1),Ng=function(y,C){if(y==null)return new Ri([]);var M=[y];if(Array.isArray(C))for(var T=Iv(C),k=3;k<T.length;k+=4)M.push(T[k]);return new Ri(M)},qg="true",Qg=he("true",!0),Hg=function(){return!0},zg="false",Ug=he("false",!0),Wg=function(){return!1},qu="0x",$g=he("0x",!1),Gg=function(){return parseInt(fr(),16)},Zg=/^[\-]/,Jg=Vn(["-"],!1,!1),Kg=function(y,C){return y==null?C:-C},Yg=".",Xg=he(".",!1),ev=function(){return parseFloat(fr())},tv=function(){return parseInt(fr(),10)},nv="0",iv=he("0",!1),rv=function(){return 0},Qu=function(y){return y.join("")},Hu="\\'",ov=he("\\'",!1),sv=function(){return"'"},zu='\\"',av=he('\\"',!1),lv=function(){return'"'},uv=/^[^"']/,cv=Vn(['"',"'"],!0,!1),cs=function(){return fr()},pv=/^[^{}]/,dv=Vn(["{","}"],!0,!1),Uu=/^[0-9]/,Wu=Vn([["0","9"]],!1,!1),$u=/^[1-9]/,Gu=Vn([["1","9"]],!1,!1),Zu=/^[a-zA-Z_]/,Ju=Vn([["a","z"],["A","Z"],"_"],!1,!1),fv=Xu("whitespace"),Ku=/^[ \t\n\r]/,Yu=Vn([" ","	",`
`,"\r"],!1,!1),b=0,ce=0,pr=[{line:1,column:1}],Rt=0,ps=[],X=0,ae={},dr;if(t.startRule!==void 0){if(!(t.startRule in n))throw new Error(`Can't start parsing from rule "`+t.startRule+'".');i=n[t.startRule]}function fr(){return r.substring(ce,b)}function XV(){return di(ce,b)}function e5(y,C){throw C=C!==void 0?C:di(ce,b),tc([Xu(y)],r.substring(ce,b),C)}function t5(y,C){throw C=C!==void 0?C:di(ce,b),mv(y,C)}function he(y,C){return{type:"literal",text:y,ignoreCase:C}}function Vn(y,C,M){return{type:"class",parts:y,inverted:C,ignoreCase:M}}function n5(){return{type:"any"}}function hv(){return{type:"end"}}function Xu(y){return{type:"other",description:y}}function ec(y){var C=pr[y],M;if(C)return C;for(M=y-1;!pr[M];)M--;for(C=pr[M],C={line:C.line,column:C.column};M<y;)r.charCodeAt(M)===10?(C.line++,C.column=1):C.column++,M++;return pr[y]=C,C}function di(y,C){var M=ec(y),T=ec(C);return{start:{offset:y,line:M.line,column:M.column},end:{offset:C,line:T.line,column:T.column}}}function te(y){b<Rt||(b>Rt&&(Rt=b,ps=[]),ps.push(y))}function mv(y,C){return new Di(y,[],"",C)}function tc(y,C,M){return new Di(Di.buildMessage(y,C),y,C,M)}function In(){var y,C,M,T,k,q,ee,le,Oe,De=b*34+0,bs=ae[De];if(bs)return b=bs.nextPos,bs.result;if(y=b,C=Ce(),C!==e)if(M=ds(),M!==e){for(T=[],k=b,q=Ce(),q!==e?(ee=nc(),ee!==e?(le=Ce(),le!==e?(Oe=ds(),Oe!==e?(q=[q,ee,le,Oe],k=q):(b=k,k=e)):(b=k,k=e)):(b=k,k=e)):(b=k,k=e);k!==e;)T.push(k),k=b,q=Ce(),q!==e?(ee=nc(),ee!==e?(le=Ce(),le!==e?(Oe=ds(),Oe!==e?(q=[q,ee,le,Oe],k=q):(b=k,k=e)):(b=k,k=e)):(b=k,k=e)):(b=k,k=e);T!==e?(k=Ce(),k!==e?(ce=y,C=o(M,T),y=C):(b=y,y=e)):(b=y,y=e)}else b=y,y=e;else b=y,y=e;return ae[De]={nextPos:b,result:y},y}function nc(){var y,C,M=b*34+1,T=ae[M];return T?(b=T.nextPos,T.result):(y=b,r.substr(b,2)===l?(C=l,b+=2):(C=e,X===0&&te(u)),C===e&&(r.substr(b,2).toLowerCase()===d?(C=r.substr(b,2),b+=2):(C=e,X===0&&te(m))),C!==e&&(ce=y,C=w()),y=C,ae[M]={nextPos:b,result:y},y)}function ds(){var y,C,M,T,k,q,ee,le,Oe=b*34+2,De=ae[Oe];if(De)return b=De.nextPos,De.result;if(y=b,C=fs(),C!==e){for(M=[],T=b,k=Ce(),k!==e?(q=ic(),q!==e?(ee=Ce(),ee!==e?(le=fs(),le!==e?(k=[k,q,ee,le],T=k):(b=T,T=e)):(b=T,T=e)):(b=T,T=e)):(b=T,T=e);T!==e;)M.push(T),T=b,k=Ce(),k!==e?(q=ic(),q!==e?(ee=Ce(),ee!==e?(le=fs(),le!==e?(k=[k,q,ee,le],T=k):(b=T,T=e)):(b=T,T=e)):(b=T,T=e)):(b=T,T=e);M!==e?(ce=y,C=o(C,M),y=C):(b=y,y=e)}else b=y,y=e;return ae[Oe]={nextPos:b,result:y},y}function ic(){var y,C,M=b*34+3,T=ae[M];return T?(b=T.nextPos,T.result):(y=b,r.substr(b,2)===E?(C=E,b+=2):(C=e,X===0&&te(A)),C===e&&(r.substr(b,3).toLowerCase()===U?(C=r.substr(b,3),b+=3):(C=e,X===0&&te(W))),C!==e&&(ce=y,C=se()),y=C,ae[M]={nextPos:b,result:y},y)}function fs(){var y,C,M,T,k,q,ee,le,Oe=b*34+4,De=ae[Oe];if(De)return b=De.nextPos,De.result;if(y=b,C=hs(),C!==e){for(M=[],T=b,k=Ce(),k!==e?(q=rc(),q!==e?(ee=Ce(),ee!==e?(le=hs(),le!==e?(k=[k,q,ee,le],T=k):(b=T,T=e)):(b=T,T=e)):(b=T,T=e)):(b=T,T=e);T!==e;)M.push(T),T=b,k=Ce(),k!==e?(q=rc(),q!==e?(ee=Ce(),ee!==e?(le=hs(),le!==e?(k=[k,q,ee,le],T=k):(b=T,T=e)):(b=T,T=e)):(b=T,T=e)):(b=T,T=e);M!==e?(ce=y,C=ie(C,M),y=C):(b=y,y=e)}else b=y,y=e;return ae[Oe]={nextPos:b,result:y},y}function rc(){var y,C,M=b*34+5,T=ae[M];return T?(b=T.nextPos,T.result):(y=b,r.substr(b,2)===K?(C=K,b+=2):(C=e,X===0&&te(ye)),C===e&&(r.substr(b,11).toLowerCase()===He?(C=r.substr(b,11),b+=11):(C=e,X===0&&te($e))),C!==e&&(ce=y,C=mt()),y=C,y===e&&(y=b,r.substr(b,2)===xt?(C=xt,b+=2):(C=e,X===0&&te(jn)),C===e&&(r.substr(b,14).toLowerCase()===Pn?(C=r.substr(b,14),b+=14):(C=e,X===0&&te(lm))),C!==e&&(ce=y,C=um()),y=C,y===e&&(y=b,r.substr(b,2)===bu?(C=bu,b+=2):(C=e,X===0&&te(cm)),C===e&&(r.substr(b,5).toLowerCase()===Cu?(C=r.substr(b,5),b+=5):(C=e,X===0&&te(xu))),C!==e&&(ce=y,C=_u()),y=C,y===e&&(y=b,r.charCodeAt(b)===61?(C=pm,b++):(C=e,X===0&&te(dm)),C===e&&(r.substr(b,5).toLowerCase()===Cu?(C=r.substr(b,5),b+=5):(C=e,X===0&&te(xu))),C!==e&&(ce=y,C=_u()),y=C,y===e&&(y=b,r.substr(b,2)===wu?(C=wu,b+=2):(C=e,X===0&&te(fm)),C===e&&(r.substr(b,8).toLowerCase()===hm?(C=r.substr(b,8),b+=8):(C=e,X===0&&te(mm))),C!==e&&(ce=y,C=gm()),y=C,y===e&&(y=b,r.charCodeAt(b)===60?(C=vm,b++):(C=e,X===0&&te(ym)),C===e&&(r.substr(b,4).toLowerCase()===bm?(C=r.substr(b,4),b+=4):(C=e,X===0&&te(Cm))),C!==e&&(ce=y,C=xm()),y=C,y===e&&(y=b,r.charCodeAt(b)===62?(C=_m,b++):(C=e,X===0&&te(wm)),C===e&&(r.substr(b,7).toLowerCase()===Pm?(C=r.substr(b,7),b+=7):(C=e,X===0&&te(Vm))),C!==e&&(ce=y,C=Im()),y=C)))))),ae[M]={nextPos:b,result:y},y)}function hs(){var y,C,M,T,k,q,ee,le,Oe=b*34+6,De=ae[Oe];if(De)return b=De.nextPos,De.result;if(y=b,C=ms(),C!==e){for(M=[],T=b,k=Ce(),k!==e?(q=oc(),q!==e?(ee=Ce(),ee!==e?(le=ms(),le!==e?(k=[k,q,ee,le],T=k):(b=T,T=e)):(b=T,T=e)):(b=T,T=e)):(b=T,T=e);T!==e;)M.push(T),T=b,k=Ce(),k!==e?(q=oc(),q!==e?(ee=Ce(),ee!==e?(le=ms(),le!==e?(k=[k,q,ee,le],T=k):(b=T,T=e)):(b=T,T=e)):(b=T,T=e)):(b=T,T=e);M!==e?(ce=y,C=o(C,M),y=C):(b=y,y=e)}else b=y,y=e;return ae[Oe]={nextPos:b,result:y},y}function oc(){var y,C,M=b*34+7,T=ae[M];return T?(b=T.nextPos,T.result):(y=b,r.charCodeAt(b)===43?(C=Tm,b++):(C=e,X===0&&te(Sm)),C!==e&&(ce=y,C=Em()),y=C,y===e&&(y=b,r.charCodeAt(b)===45?(C=Om,b++):(C=e,X===0&&te(Rm)),C!==e&&(ce=y,C=Dm()),y=C),ae[M]={nextPos:b,result:y},y)}function ms(){var y,C,M,T,k,q,ee,le,Oe=b*34+8,De=ae[Oe];if(De)return b=De.nextPos,De.result;if(y=b,C=gs(),C!==e){for(M=[],T=b,k=Ce(),k!==e?(q=sc(),q!==e?(ee=Ce(),ee!==e?(le=gs(),le!==e?(k=[k,q,ee,le],T=k):(b=T,T=e)):(b=T,T=e)):(b=T,T=e)):(b=T,T=e);T!==e;)M.push(T),T=b,k=Ce(),k!==e?(q=sc(),q!==e?(ee=Ce(),ee!==e?(le=gs(),le!==e?(k=[k,q,ee,le],T=k):(b=T,T=e)):(b=T,T=e)):(b=T,T=e)):(b=T,T=e);M!==e?(ce=y,C=o(C,M),y=C):(b=y,y=e)}else b=y,y=e;return ae[Oe]={nextPos:b,result:y},y}function sc(){var y,C,M=b*34+9,T=ae[M];return T?(b=T.nextPos,T.result):(y=b,r.charCodeAt(b)===42?(C=Mm,b++):(C=e,X===0&&te(Am)),C!==e&&(ce=y,C=km()),y=C,y===e&&(y=b,r.charCodeAt(b)===47?(C=Lm,b++):(C=e,X===0&&te(Fm)),C!==e&&(ce=y,C=jm()),y=C,y===e&&(y=b,r.charCodeAt(b)===37?(C=Bm,b++):(C=e,X===0&&te(Nm)),C!==e&&(ce=y,C=qm()),y=C)),ae[M]={nextPos:b,result:y},y)}function gs(){var y,C,M,T,k,q,ee,le,Oe=b*34+10,De=ae[Oe];if(De)return b=De.nextPos,De.result;if(y=b,C=vs(),C!==e){for(M=[],T=b,k=Ce(),k!==e?(q=ac(),q!==e?(ee=Ce(),ee!==e?(le=vs(),le!==e?(k=[k,q,ee,le],T=k):(b=T,T=e)):(b=T,T=e)):(b=T,T=e)):(b=T,T=e);T!==e;)M.push(T),T=b,k=Ce(),k!==e?(q=ac(),q!==e?(ee=Ce(),ee!==e?(le=vs(),le!==e?(k=[k,q,ee,le],T=k):(b=T,T=e)):(b=T,T=e)):(b=T,T=e)):(b=T,T=e);M!==e?(ce=y,C=o(C,M),y=C):(b=y,y=e)}else b=y,y=e;return ae[Oe]={nextPos:b,result:y},y}function ac(){var y,C,M=b*34+11,T=ae[M];return T?(b=T.nextPos,T.result):(y=b,r.charCodeAt(b)===94?(C=Qm,b++):(C=e,X===0&&te(Hm)),C===e&&(r.substr(b,5).toLowerCase()===zm?(C=r.substr(b,5),b+=5):(C=e,X===0&&te(Um))),C!==e&&(ce=y,C=Wm()),y=C,ae[M]={nextPos:b,result:y},y)}function vs(){var y,C,M,T,k,q,ee,le,Oe=b*34+12,De=ae[Oe];if(De)return b=De.nextPos,De.result;if(y=b,C=ys(),C!==e){for(M=[],T=b,k=Ce(),k!==e?(q=lc(),q!==e?(ee=Ce(),ee!==e?(le=ys(),le===e&&(le=null),le!==e?(k=[k,q,ee,le],T=k):(b=T,T=e)):(b=T,T=e)):(b=T,T=e)):(b=T,T=e);T!==e;)M.push(T),T=b,k=Ce(),k!==e?(q=lc(),q!==e?(ee=Ce(),ee!==e?(le=ys(),le===e&&(le=null),le!==e?(k=[k,q,ee,le],T=k):(b=T,T=e)):(b=T,T=e)):(b=T,T=e)):(b=T,T=e);M!==e?(ce=y,C=ie(C,M),y=C):(b=y,y=e)}else b=y,y=e;return ae[Oe]={nextPos:b,result:y},y}function lc(){var y,C,M=b*34+13,T=ae[M];return T?(b=T.nextPos,T.result):(y=b,r.substr(b,2)===Pu?(C=Pu,b+=2):(C=e,X===0&&te($m)),C===e&&(r.substr(b,8).toLowerCase()===Gm?(C=r.substr(b,8),b+=8):(C=e,X===0&&te(Zm)),C===e&&(r.substr(b,7).toLowerCase()===Jm?(C=r.substr(b,7),b+=7):(C=e,X===0&&te(Km)))),C!==e&&(ce=y,C=Ym()),y=C,y===e&&(y=b,r.substr(b,11).toLowerCase()===Xm?(C=r.substr(b,11),b+=11):(C=e,X===0&&te(eg)),C===e&&(r.substr(b,10).toLowerCase()===tg?(C=r.substr(b,10),b+=10):(C=e,X===0&&te(ng))),C!==e&&(ce=y,C=ig()),y=C,y===e&&(y=b,r.substr(b,5).toLowerCase()===rg?(C=r.substr(b,5),b+=5):(C=e,X===0&&te(og)),C!==e&&(ce=y,C=sg()),y=C,y===e&&(y=b,r.substr(b,5).toLowerCase()===ag?(C=r.substr(b,5),b+=5):(C=e,X===0&&te(lg)),C!==e&&(ce=y,C=ug()),y=C))),ae[M]={nextPos:b,result:y},y)}function ys(){var y,C,M,T,k,q,ee=b*34+14,le=ae[ee];return le?(b=le.nextPos,le.result):(y=b,r.charCodeAt(b)===40?(C=Vu,b++):(C=e,X===0&&te(Iu)),C!==e?(M=Ce(),M!==e?(T=In(),T!==e?(k=Ce(),k!==e?(r.charCodeAt(b)===41?(q=Tu,b++):(q=e,X===0&&te(Su)),q===e&&(q=null),q!==e?(ce=y,C=cg(T),y=C):(b=y,y=e)):(b=y,y=e)):(b=y,y=e)):(b=y,y=e)):(b=y,y=e),y===e&&(y=gv(),y===e&&(y=vv(),y===e&&(y=uc(),y===e&&(y=Cv())))),ae[ee]={nextPos:b,result:y},y)}function gv(){var y,C,M,T,k,q=b*34+15,ee=ae[q];return ee?(b=ee.nextPos,ee.result):(y=b,C=hc(),C!==e?(r.charCodeAt(b)===40?(M=Vu,b++):(M=e,X===0&&te(Iu)),M!==e?(T=cc(),T!==e?(r.charCodeAt(b)===41?(k=Tu,b++):(k=e,X===0&&te(Su)),k===e&&(k=null),k!==e?(ce=y,C=pg(C,T),y=C):(b=y,y=e)):(b=y,y=e)):(b=y,y=e)):(b=y,y=e),ae[q]={nextPos:b,result:y},y)}function vv(){var y,C,M,T,k=b*34+16,q=ae[k];return q?(b=q.nextPos,q.result):(y=b,r.charCodeAt(b)===33?(C=dg,b++):(C=e,X===0&&te(fg)),C===e&&(r.substr(b,6).toLowerCase()===hg?(C=r.substr(b,6),b+=6):(C=e,X===0&&te(mg))),C!==e?(M=Ce(),M!==e?(T=In(),T!==e?(ce=y,C=gg(T),y=C):(b=y,y=e)):(b=y,y=e)):(b=y,y=e),y===e&&(y=b,C=uc(),C!==e?(M=Ce(),M!==e?(T=yv(),T!==e?(ce=y,C=vg(C,T),y=C):(b=y,y=e)):(b=y,y=e)):(b=y,y=e)),ae[k]={nextPos:b,result:y},y)}function yv(){var y,C,M=b*34+17,T=ae[M];return T?(b=T.nextPos,T.result):(y=b,r.substr(b,5).toLowerCase()===yg?(C=r.substr(b,5),b+=5):(C=e,X===0&&te(bg)),C!==e&&(ce=y,C=Cg()),y=C,y===e&&(y=b,r.substr(b,8).toLowerCase()===xg?(C=r.substr(b,8),b+=8):(C=e,X===0&&te(_g)),C!==e&&(ce=y,C=wg()),y=C),ae[M]={nextPos:b,result:y},y)}function uc(){var y,C,M,T,k,q=b*34+18,ee=ae[q];return ee?(b=ee.nextPos,ee.result):(y=b,C=Ce(),C!==e?(r.substr(b,9)===Eu?(M=Eu,b+=9):(M=e,X===0&&te(Pg)),M===e&&(r.substr(b,4)===Ou?(M=Ou,b+=4):(M=e,X===0&&te(Vg))),M!==e?(ce=y,C=Ig(),y=C):(b=y,y=e)):(b=y,y=e),y===e&&(y=b,C=Ce(),C!==e?(M=bv(),M!==e?(ce=y,C=Tg(M),y=C):(b=y,y=e)):(b=y,y=e),y===e&&(y=b,C=Ce(),C!==e?(r.charCodeAt(b)===123?(M=Sg,b++):(M=e,X===0&&te(Eg)),M!==e?(T=Pv(),T!==e?(r.charCodeAt(b)===125?(k=Og,b++):(k=e,X===0&&te(Rg)),k!==e?(ce=y,C=Dg(T),y=C):(b=y,y=e)):(b=y,y=e)):(b=y,y=e)):(b=y,y=e))),ae[q]={nextPos:b,result:y},y)}function bv(){var y,C,M,T,k=b*34+19,q=ae[k];return q?(b=q.nextPos,q.result):(y=b,C=xv(),C!==e&&(ce=y,C=us(C)),y=C,y===e&&(y=b,C=_v(),C!==e&&(ce=y,C=us(C)),y=C,y===e&&(y=b,C=hc(),C!==e&&(ce=y,C=us(C)),y=C,y===e&&(y=b,r.substr(b,2)===Ru?(C=Ru,b+=2):(C=e,X===0&&te(Mg)),C!==e&&(ce=y,C=Du()),y=C,y===e&&(y=b,r.substr(b,2)===Mu?(C=Mu,b+=2):(C=e,X===0&&te(Ag)),C!==e&&(ce=y,C=Du()),y=C,y===e&&(y=b,r.charCodeAt(b)===39?(C=Au,b++):(C=e,X===0&&te(ku)),C!==e?(M=pc(),M!==e?(r.charCodeAt(b)===39?(T=Au,b++):(T=e,X===0&&te(ku)),T!==e?(ce=y,C=Lu(M),y=C):(b=y,y=e)):(b=y,y=e)):(b=y,y=e),y===e&&(y=b,r.charCodeAt(b)===34?(C=Fu,b++):(C=e,X===0&&te(ju)),C!==e?(M=pc(),M!==e?(r.charCodeAt(b)===34?(T=Fu,b++):(T=e,X===0&&te(ju)),T!==e?(ce=y,C=Lu(M),y=C):(b=y,y=e)):(b=y,y=e)):(b=y,y=e))))))),ae[k]={nextPos:b,result:y},y)}function Cv(){var y,C,M,T,k=b*34+20,q=ae[k];return q?(b=q.nextPos,q.result):(y=b,r.charCodeAt(b)===91?(C=kg,b++):(C=e,X===0&&te(Lg)),C!==e?(M=cc(),M!==e?(r.charCodeAt(b)===93?(T=Fg,b++):(T=e,X===0&&te(jg)),T!==e?(ce=y,C=Bg(M),y=C):(b=y,y=e)):(b=y,y=e)):(b=y,y=e),ae[k]={nextPos:b,result:y},y)}function cc(){var y,C,M,T,k,q,ee,le,Oe=b*34+21,De=ae[Oe];if(De)return b=De.nextPos,De.result;if(y=b,C=In(),C===e&&(C=null),C!==e){for(M=[],T=b,k=Ce(),k!==e?(r.charCodeAt(b)===44?(q=Bu,b++):(q=e,X===0&&te(Nu)),q!==e?(ee=Ce(),ee!==e?(le=In(),le!==e?(k=[k,q,ee,le],T=k):(b=T,T=e)):(b=T,T=e)):(b=T,T=e)):(b=T,T=e);T!==e;)M.push(T),T=b,k=Ce(),k!==e?(r.charCodeAt(b)===44?(q=Bu,b++):(q=e,X===0&&te(Nu)),q!==e?(ee=Ce(),ee!==e?(le=In(),le!==e?(k=[k,q,ee,le],T=k):(b=T,T=e)):(b=T,T=e)):(b=T,T=e)):(b=T,T=e);M!==e?(ce=y,C=Ng(C,M),y=C):(b=y,y=e)}else b=y,y=e;return ae[Oe]={nextPos:b,result:y},y}function xv(){var y,C,M=b*34+22,T=ae[M];return T?(b=T.nextPos,T.result):(y=b,r.substr(b,4).toLowerCase()===qg?(C=r.substr(b,4),b+=4):(C=e,X===0&&te(Qg)),C!==e&&(ce=y,C=Hg()),y=C,y===e&&(y=b,r.substr(b,5).toLowerCase()===zg?(C=r.substr(b,5),b+=5):(C=e,X===0&&te(Ug)),C!==e&&(ce=y,C=Wg()),y=C),ae[M]={nextPos:b,result:y},y)}function _v(){var y,C,M,T=b*34+23,k=ae[T];return k?(b=k.nextPos,k.result):(y=b,r.substr(b,2)===qu?(C=qu,b+=2):(C=e,X===0&&te($g)),C!==e?(M=Bn(),M!==e?(ce=y,C=Gg(),y=C):(b=y,y=e)):(b=y,y=e),y===e&&(y=b,Zg.test(r.charAt(b))?(C=r.charAt(b),b++):(C=e,X===0&&te(Jg)),C===e&&(C=null),C!==e?(M=wv(),M!==e?(ce=y,C=Kg(C,M),y=C):(b=y,y=e)):(b=y,y=e)),ae[T]={nextPos:b,result:y},y)}function wv(){var y,C,M,T,k=b*34+24,q=ae[k];return q?(b=q.nextPos,q.result):(y=b,C=Bn(),C!==e?(r.charCodeAt(b)===46?(M=Yg,b++):(M=e,X===0&&te(Xg)),M!==e?(T=Bn(),T!==e?(ce=y,C=ev(),y=C):(b=y,y=e)):(b=y,y=e)):(b=y,y=e),y===e&&(y=b,C=Vv(),C!==e?(M=Bn(),M===e&&(M=null),M!==e?(ce=y,C=tv(),y=C):(b=y,y=e)):(b=y,y=e),y===e&&(y=b,r.charCodeAt(b)===48?(C=nv,b++):(C=e,X===0&&te(iv)),C!==e&&(ce=y,C=rv()),y=C)),ae[k]={nextPos:b,result:y},y)}function Pv(){var y,C,M,T=b*34+25,k=ae[T];if(k)return b=k.nextPos,k.result;if(y=b,C=[],M=fc(),M!==e)for(;M!==e;)C.push(M),M=fc();else C=e;return C!==e&&(ce=y,C=Qu(C)),y=C,ae[T]={nextPos:b,result:y},y}function pc(){var y,C,M,T=b*34+26,k=ae[T];if(k)return b=k.nextPos,k.result;if(y=b,C=[],M=dc(),M!==e)for(;M!==e;)C.push(M),M=dc();else C=e;return C!==e&&(ce=y,C=Qu(C)),y=C,ae[T]={nextPos:b,result:y},y}function dc(){var y,C,M=b*34+27,T=ae[M];return T?(b=T.nextPos,T.result):(y=b,r.substr(b,2)===Hu?(C=Hu,b+=2):(C=e,X===0&&te(ov)),C!==e&&(ce=y,C=sv()),y=C,y===e&&(y=b,r.substr(b,2)===zu?(C=zu,b+=2):(C=e,X===0&&te(av)),C!==e&&(ce=y,C=lv()),y=C,y===e&&(y=b,uv.test(r.charAt(b))?(C=r.charAt(b),b++):(C=e,X===0&&te(cv)),C!==e&&(ce=y,C=cs()),y=C)),ae[M]={nextPos:b,result:y},y)}function fc(){var y,C,M=b*34+28,T=ae[M];return T?(b=T.nextPos,T.result):(y=b,pv.test(r.charAt(b))?(C=r.charAt(b),b++):(C=e,X===0&&te(dv)),C!==e&&(ce=y,C=cs()),y=C,ae[M]={nextPos:b,result:y},y)}function hc(){var y,C,M,T,k,q,ee,le=b*34+29,Oe=ae[le];if(Oe)return b=Oe.nextPos,Oe.result;if(y=b,C=fi(),C!==e){if(M=[],T=b,k=Bn(),k!==e){for(q=[],ee=fi();ee!==e;)q.push(ee),ee=fi();q!==e?(k=[k,q],T=k):(b=T,T=e)}else b=T,T=e;for(;T!==e;)if(M.push(T),T=b,k=Bn(),k!==e){for(q=[],ee=fi();ee!==e;)q.push(ee),ee=fi();q!==e?(k=[k,q],T=k):(b=T,T=e)}else b=T,T=e;M!==e?(ce=y,C=cs(),y=C):(b=y,y=e)}else b=y,y=e;return ae[le]={nextPos:b,result:y},y}function Bn(){var y,C,M=b*34+30,T=ae[M];if(T)return b=T.nextPos,T.result;if(y=[],Uu.test(r.charAt(b))?(C=r.charAt(b),b++):(C=e,X===0&&te(Wu)),C!==e)for(;C!==e;)y.push(C),Uu.test(r.charAt(b))?(C=r.charAt(b),b++):(C=e,X===0&&te(Wu));else y=e;return ae[M]={nextPos:b,result:y},y}function Vv(){var y,C,M=b*34+31,T=ae[M];if(T)return b=T.nextPos,T.result;if(y=[],$u.test(r.charAt(b))?(C=r.charAt(b),b++):(C=e,X===0&&te(Gu)),C!==e)for(;C!==e;)y.push(C),$u.test(r.charAt(b))?(C=r.charAt(b),b++):(C=e,X===0&&te(Gu));else y=e;return ae[M]={nextPos:b,result:y},y}function fi(){var y,C,M=b*34+32,T=ae[M];if(T)return b=T.nextPos,T.result;if(y=[],Zu.test(r.charAt(b))?(C=r.charAt(b),b++):(C=e,X===0&&te(Ju)),C!==e)for(;C!==e;)y.push(C),Zu.test(r.charAt(b))?(C=r.charAt(b),b++):(C=e,X===0&&te(Ju));else y=e;return ae[M]={nextPos:b,result:y},y}function Ce(){var y,C,M=b*34+33,T=ae[M];if(T)return b=T.nextPos,T.result;for(X++,y=[],Ku.test(r.charAt(b))?(C=r.charAt(b),b++):(C=e,X===0&&te(Yu));C!==e;)y.push(C),Ku.test(r.charAt(b))?(C=r.charAt(b),b++):(C=e,X===0&&te(Yu));return X--,y===e&&(C=e,X===0&&te(fv)),ae[M]={nextPos:b,result:y},y}function mc(y,C,M){return M===void 0&&(M=!1),C.reduce(function(T,k){return new ua(k[1],T,k[3],M)},y)}function Iv(y){return[].concat.apply([],y)}if(dr=i(),dr!==e&&b===r.length)return dr;throw dr!==e&&b<r.length&&te(hv()),tc(ps,Rt<r.length?r.charAt(Rt):null,Rt<r.length?di(Rt,Rt+1):di(Rt,Rt))}var ld=ad,ud=function(){function r(t,e){this.at=t,this.code=e}return r}(),da=function(){function r(){}return r.prototype.patchExpression=function(t){return t.replace(/=>/g,">=").replace(/=</g,"<=").replace(/<>/g,"!=").replace(/equals/g,"equal ").replace(/notequals/g,"notequal ")},r.prototype.createCondition=function(t){return this.parseExpression(t)},r.prototype.parseExpression=function(t){try{var e=r.parserCache[t];return e===void 0&&(e=ld(this.patchExpression(t)),e.hasAsyncFunction()||(r.parserCache[t]=e)),e}catch(n){n instanceof Di&&(this.conditionError=new ud(n.location.start.offset,n.message))}},Object.defineProperty(r.prototype,"error",{get:function(){return this.conditionError},enumerable:!1,configurable:!0}),r.parserCache={},r}(),fa=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),cd=function(){function r(t,e,n,i,o){this.operand=t,this.id=e,this.onComplete=n,this.processValue=new lt,this.processValue.values=i,this.processValue.properties=o}return r.prototype.run=function(t){var e=this;if(!t)return this.runValues();this.processValue.values=D.createCopy(this.processValue.values),this.processValue.onCompleteAsyncFunc=function(i){var o=e.getAsyncItemByOperand(i,e.asyncFuncList);o&&e.doAsyncFunctionReady(o)},this.asyncFuncList=new Array,this.operand.addToAsyncList(this.asyncFuncList);for(var n=0;n<this.asyncFuncList.length;n++)this.runAsyncItem(this.asyncFuncList[n]);return!1},r.prototype.getAsyncItemByOperand=function(t,e){if(!Array.isArray(e))return null;for(var n=0;n<e.length;n++){if(e[n].operand===t)return e[n];var i=this.getAsyncItemByOperand(t,e[n].children);if(i)return i}return null},r.prototype.runAsyncItem=function(t){var e=this;t.children?t.children.forEach(function(n){return e.runAsyncItem(n)}):this.runAsyncItemCore(t)},r.prototype.runAsyncItemCore=function(t){t.operand?t.operand.evaluate(this.processValue):this.doAsyncFunctionReady(t)},r.prototype.doAsyncFunctionReady=function(t){if(t.parent&&this.isAsyncChildrenReady(t)){this.runAsyncItemCore(t.parent);return}for(var e=0;e<this.asyncFuncList.length;e++)if(!this.isAsyncFuncReady(this.asyncFuncList[e]))return;this.runValues()},r.prototype.isAsyncFuncReady=function(t){return t.operand&&!t.operand.isReady(this.processValue)?!1:this.isAsyncChildrenReady(t)},r.prototype.isAsyncChildrenReady=function(t){if(t.children){for(var e=0;e<t.children.length;e++)if(!this.isAsyncFuncReady(t.children[e]))return!1}return!0},r.prototype.runValues=function(){var t=this.operand.evaluate(this.processValue);return this.onComplete&&this.onComplete(t,this.id),t},r}(),ha=function(){function r(t){this.parser=new da,this.isAsyncValue=!1,this.hasFunctionValue=!1,this.setExpression(t)}return Object.defineProperty(r.prototype,"expression",{get:function(){return this.expressionValue},enumerable:!1,configurable:!0}),r.prototype.setExpression=function(t){this.expression!==t&&(this.expressionValue=t,this.operand=this.parser.parseExpression(t),this.hasFunctionValue=this.canRun()?this.operand.hasFunction():!1,this.isAsyncValue=this.hasFunction()?this.operand.hasAsyncFunction():!1)},r.prototype.getVariables=function(){if(!this.operand)return[];var t=[];return this.operand.setVariables(t),t},r.prototype.hasFunction=function(){return this.hasFunctionValue},Object.defineProperty(r.prototype,"isAsync",{get:function(){return this.isAsyncValue},enumerable:!1,configurable:!0}),r.prototype.canRun=function(){return!!this.operand},r.prototype.run=function(t,e,n){if(e===void 0&&(e=null),!this.operand)return this.expression&&Lt.warn("Invalid expression: "+this.expression),null;var i=new cd(this.operand,n,this.onComplete,t,e);return i.run(this.isAsync)},r.createExpressionExecutor=function(t){return new r(t)},r}(),ma=function(){function r(t){this.expression=t}return Object.defineProperty(r.prototype,"expression",{get:function(){return this.expressionExecutor?this.expressionExecutor.expression:""},set:function(t){var e=this;this.expressionExecutor&&t===this.expression||(this.expressionExecutor=ha.createExpressionExecutor(t),this.expressionExecutor.onComplete=function(n,i){e.doOnComplete(n,i)},this.variables=void 0,this.containsFunc=void 0)},enumerable:!1,configurable:!0}),r.prototype.getVariables=function(){return this.variables===void 0&&(this.variables=this.expressionExecutor.getVariables()),this.variables},r.prototype.hasFunction=function(){return this.containsFunc===void 0&&(this.containsFunc=this.expressionExecutor.hasFunction()),this.containsFunc},Object.defineProperty(r.prototype,"isAsync",{get:function(){return this.expressionExecutor.isAsync},enumerable:!1,configurable:!0}),r.prototype.canRun=function(){return this.expressionExecutor.canRun()},r.prototype.runCore=function(t,e){e===void 0&&(e=null);var n=r.IdRunnerCounter++;return this.onBeforeAsyncRun&&this.isAsync&&this.onBeforeAsyncRun(n),this.expressionExecutor.run(t,e,n)},r.prototype.doOnComplete=function(t,e){this.onAfterAsyncRun&&this.isAsync&&this.onAfterAsyncRun(e)},r.IdRunnerCounter=1,r}(),rt=function(r){fa(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.run=function(e,n){return n===void 0&&(n=null),this.runCore(e,n)==!0},t.prototype.doOnComplete=function(e,n){this.onRunComplete&&this.onRunComplete(e==!0),r.prototype.doOnComplete.call(this,e,n)},t}(ma),hn=function(r){fa(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.run=function(e,n){return n===void 0&&(n=null),this.runCore(e,n)},t.prototype.doOnComplete=function(e,n){this.onRunComplete&&this.onRunComplete(e),r.prototype.doOnComplete.call(this,e,n)},t}(ma),pd=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ga=function(r,t){for(var e=0,n=t.length,i=r.length;e<n;e++,i++)r[i]=t[e];return r},dd=function(){function r(t){this.obj=t,this.properties=null,this.values=null}return r.prototype.getType=function(){return"bindings"},r.prototype.getNames=function(){var t=[];this.fillProperties();for(var e=0;e<this.properties.length;e++)this.properties[e].isVisible("",this.obj)&&t.push(this.properties[e].name);return t},r.prototype.getProperties=function(){var t=[];this.fillProperties();for(var e=0;e<this.properties.length;e++)t.push(this.properties[e]);return t},r.prototype.setBinding=function(t,e){this.values||(this.values={});var n=this.getJson();n!==e&&(e?this.values[t]=e:(delete this.values[t],Object.keys(this.values).length==0&&(this.values=null)),this.onChangedJSON(n))},r.prototype.clearBinding=function(t){this.setBinding(t,"")},r.prototype.isEmpty=function(){if(!this.values)return!0;for(var t in this.values)return!1;return!0},r.prototype.getValueNameByPropertyName=function(t){if(this.values)return this.values[t]},r.prototype.getPropertiesByValueName=function(t){if(!this.values)return[];var e=[];for(var n in this.values)this.values[n]==t&&e.push(n);return e},r.prototype.getJson=function(){if(!this.isEmpty()){var t={};for(var e in this.values)t[e]=this.values[e];return t}},r.prototype.setJson=function(t,e){var n=this.getJson();if(this.values=null,t){this.values={};for(var i in t)this.values[i]=t[i]}e||this.onChangedJSON(n)},r.prototype.fillProperties=function(){if(this.properties===null){this.properties=[];for(var t=L.getPropertiesByObj(this.obj),e=0;e<t.length;e++)t[e].isBindable&&this.properties.push(t[e])}},r.prototype.onChangedJSON=function(t){this.obj&&this.obj.onBindingChanged(t,this.getJson())},r}(),fd=function(){function r(t,e,n){this.currentDependency=t,this.target=e,this.property=n,this.dependencies=[],this.id=""+ ++r.DependenciesCount}return r.prototype.addDependency=function(t,e){this.target===t&&this.property===e||this.dependencies.some(function(n){return n.obj===t&&n.prop===e})||(this.dependencies.push({obj:t,prop:e,id:this.id}),t.registerPropertyChangedHandlers([e],this.currentDependency,this.id))},r.prototype.dispose=function(){this.dependencies.forEach(function(t){t.obj.unregisterPropertyChangedHandlers([t.prop],t.id)})},r.DependenciesCount=0,r}(),qe=function(){function r(t){this._updater=t,this.dependencies=void 0,this.type=r.ComputedUpdaterType}return Object.defineProperty(r.prototype,"updater",{get:function(){return this._updater},enumerable:!1,configurable:!0}),r.prototype.setDependencies=function(t){this.clearDependencies(),this.dependencies=t},r.prototype.getDependencies=function(){return this.dependencies},r.prototype.clearDependencies=function(){this.dependencies&&(this.dependencies.dispose(),this.dependencies=void 0)},r.prototype.dispose=function(){this.clearDependencies(),this._updater=void 0},r.ComputedUpdaterType="__dependency_computed",r}(),be=function(){function r(){this.dependencies={},this.propertyHash=r.createPropertiesHash(),this.eventList=[],this.isLoadingFromJsonValue=!1,this.loadingOwner=null,this.onPropertyChanged=this.addEvent(),this.onItemValuePropertyChanged=this.addEvent(),this.isCreating=!0,this.animationAllowedLock=0,this.supportOnElementRerenderedEvent=!0,this.onElementRerenderedEventEnabled=!1,this._onElementRerendered=new ft,this.bindingsValue=new dd(this),kt.createProperties(this),this.onBaseCreating(),this.isCreating=!1}return r.finishCollectDependencies=function(){var t=r.currentDependencis;return r.currentDependencis=void 0,t},r.startCollectDependencies=function(t,e,n){if(r.currentDependencis!==void 0)throw new Error("Attempt to collect nested dependencies. Nested dependencies are not supported.");r.currentDependencis=new fd(t,e,n)},r.collectDependency=function(t,e){r.currentDependencis!==void 0&&r.currentDependencis.addDependency(t,e)},Object.defineProperty(r,"commentSuffix",{get:function(){return R.commentSuffix},set:function(t){R.commentSuffix=t},enumerable:!1,configurable:!0}),Object.defineProperty(r,"commentPrefix",{get:function(){return r.commentSuffix},set:function(t){r.commentSuffix=t},enumerable:!1,configurable:!0}),r.prototype.isValueEmpty=function(t,e){return e===void 0&&(e=!0),e&&(t=this.trimValue(t)),D.isValueEmpty(t)},r.prototype.equals=function(t){return!t||this.isDisposed||t.isDisposed||this.getType()!=t.getType()?!1:this.equalsCore(t)},r.prototype.equalsCore=function(t){return this.name!==t.name?!1:D.isTwoValueEquals(this.toJSON(),t.toJSON(),!1,!0,!1)},r.prototype.trimValue=function(t){return t&&(typeof t=="string"||t instanceof String)?t.trim():t},r.prototype.isPropertyEmpty=function(t){return t!==""&&this.isValueEmpty(t)},r.createPropertiesHash=function(){return{}},r.prototype.dispose=function(){for(var t=this,e=0;e<this.eventList.length;e++)this.eventList[e].clear();this.onPropertyValueChangedCallback=void 0,this.isDisposedValue=!0,Object.keys(this.dependencies).forEach(function(n){return t.dependencies[n].dispose()}),Object.keys(this.propertyHash).forEach(function(n){var i=t.getPropertyValueCore(t.propertyHash,n);i&&i.type==qe.ComputedUpdaterType&&i.dispose()})},Object.defineProperty(r.prototype,"isDisposed",{get:function(){return this.isDisposedValue===!0},enumerable:!1,configurable:!0}),r.prototype.addEvent=function(){var t=new ft;return this.eventList.push(t),t},r.prototype.onBaseCreating=function(){},r.prototype.getType=function(){return"base"},r.prototype.isDescendantOf=function(t){return L.isDescendantOf(this.getType(),t)},r.prototype.getSurvey=function(t){return t===void 0&&(t=!1),null},Object.defineProperty(r.prototype,"isDesignMode",{get:function(){var t=this.getSurvey();return!!t&&t.isDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isDesignModeV2",{get:function(){return R.supportCreatorV2&&this.isDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"inSurvey",{get:function(){return!!this.getSurvey(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bindings",{get:function(){return this.bindingsValue},enumerable:!1,configurable:!0}),r.prototype.checkBindings=function(t,e){},r.prototype.updateBindings=function(t,e){var n=this.bindings.getValueNameByPropertyName(t);n&&this.updateBindingValue(n,e)},r.prototype.updateBindingValue=function(t,e){},r.prototype.getTemplate=function(){return this.getType()},Object.defineProperty(r.prototype,"isLoadingFromJson",{get:function(){return this.isLoadingFromJsonValue||this.getIsLoadingFromJson()},enumerable:!1,configurable:!0}),r.prototype.getIsLoadingFromJson=function(){return this.loadingOwner&&this.loadingOwner.isLoadingFromJson?!0:this.isLoadingFromJsonValue},r.prototype.startLoadingFromJson=function(t){this.isLoadingFromJsonValue=!0,this.jsonObj=t},r.prototype.endLoadingFromJson=function(){this.isLoadingFromJsonValue=!1},r.prototype.toJSON=function(t){return new nt().toJsonObject(this,t)},r.prototype.fromJSON=function(t,e){new nt().toObject(t,this,e),this.onSurveyLoad()},r.prototype.onSurveyLoad=function(){},r.prototype.clone=function(){var t=L.createClass(this.getType());return t.fromJSON(this.toJSON()),t},r.prototype.getPropertyByName=function(t){var e=this.getType();return(!this.classMetaData||this.classMetaData.name!==e)&&(this.classMetaData=L.findClass(e)),this.classMetaData?this.classMetaData.findProperty(t):null},r.prototype.isPropertyVisible=function(t){var e=this.getPropertyByName(t);return e?e.isVisible("",this):!1},r.createProgressInfo=function(){return{questionCount:0,answeredQuestionCount:0,requiredQuestionCount:0,requiredAnsweredQuestionCount:0}},r.prototype.getProgressInfo=function(){return r.createProgressInfo()},r.prototype.localeChanged=function(){},r.prototype.locStrsChanged=function(){if(this.arraysInfo)for(var t in this.arraysInfo){var e=this.arraysInfo[t];if(e&&e.isItemValues){var n=this.getPropertyValue(t);n&&r.itemValueLocStrChanged&&r.itemValueLocStrChanged(n)}}if(this.localizableStrings)for(var t in this.localizableStrings){var e=this.getLocalizableString(t);e&&e.strChanged()}},r.prototype.getPropertyValue=function(t,e,n){var i=this.getPropertyValueWithoutDefault(t);if(this.isPropertyEmpty(i)){var o=this.localizableStrings?this.localizableStrings[t]:void 0;if(o)return o.text;if(e!=null)return e;if(n){var l=n();if(l!==void 0)if(Array.isArray(l)){var u=this.createNewArray(t);return u.splice.apply(u,ga([0,0],l)),u}else return this.setPropertyValueDirectly(t,l),l}var d=this.getDefaultPropertyValue(t);if(d!==void 0)return d}return i},r.prototype.getDefaultPropertyValue=function(t){var e=this.getPropertyByName(t);if(!(!e||e.isCustom&&this.isCreating)){if(e.defaultValueFunc)return e.defaultValueFunc(this);var n=e.getDefaultValue(this);if(!this.isPropertyEmpty(n)&&!Array.isArray(n))return n;var i=this.localizableStrings?this.localizableStrings[t]:void 0;if(i&&i.localizationName)return this.getLocalizationString(i.localizationName);if(e.type=="boolean"||e.type=="switch")return!1;if(e.isCustom&&e.onGetValue)return e.onGetValue(this)}},r.prototype.hasDefaultPropertyValue=function(t){return this.getDefaultPropertyValue(t)!==void 0},r.prototype.resetPropertyValue=function(t){var e=this.localizableStrings?this.localizableStrings[t]:void 0;e?(this.setLocalizableStringText(t,void 0),e.clear()):this.setPropertyValue(t,void 0)},r.prototype.getPropertyValueWithoutDefault=function(t){return this.getPropertyValueCore(this.propertyHash,t)},r.prototype.getPropertyValueCore=function(t,e){return this.isLoadingFromJson||r.collectDependency(this,e),this.getPropertyValueCoreHandler?this.getPropertyValueCoreHandler(t,e):t[e]},r.prototype.geValueFromHash=function(){return this.propertyHash.value},r.prototype.setPropertyValueCore=function(t,e,n){this.setPropertyValueCoreHandler?this.isDisposedValue?Lt.disposedObjectChangedProperty(e,this.getType()):this.setPropertyValueCoreHandler(t,e,n):t[e]=n},Object.defineProperty(r.prototype,"isEditingSurveyElement",{get:function(){var t=this.getSurvey();return!!t&&t.isEditingSurveyElement},enumerable:!1,configurable:!0}),r.prototype.iteratePropertiesHash=function(t){var e=this,n=[];for(var i in this.propertyHash)i==="value"&&this.isEditingSurveyElement&&Array.isArray(this.value)||n.push(i);n.forEach(function(o){return t(e.propertyHash,o)})},r.prototype.setPropertyValue=function(t,e){if(!this.isLoadingFromJson){var n=this.getPropertyByName(t);n&&(e=n.settingValue(this,e))}var i=this.getPropertyValue(t);i&&Array.isArray(i)&&this.arraysInfo&&(!e||Array.isArray(e))?this.isTwoValueEquals(i,e)||this.setArrayPropertyDirectly(t,e):(this.setPropertyValueDirectly(t,e),!this.isDisposedValue&&!this.isTwoValueEquals(i,e)&&this.propertyValueChanged(t,i,e))},r.prototype.setArrayPropertyDirectly=function(t,e,n){n===void 0&&(n=!0);var i=this.arraysInfo[t];this.setArray(t,this.getPropertyValue(t),e,i?i.isItemValues:!1,i?n&&i.onPush:null)},r.prototype.setPropertyValueDirectly=function(t,e){this.setPropertyValueCore(this.propertyHash,t,e)},r.prototype.clearPropertyValue=function(t){this.setPropertyValueCore(this.propertyHash,t,null),delete this.propertyHash[t]},r.prototype.onPropertyValueChangedCallback=function(t,e,n,i,o){},r.prototype.itemValuePropertyChanged=function(t,e,n,i){this.onItemValuePropertyChanged.fire(this,{obj:t,name:e,oldValue:n,newValue:i,propertyName:t.ownerPropertyName})},r.prototype.onPropertyValueChanged=function(t,e,n){},r.prototype.propertyValueChanged=function(t,e,n,i,o){if(!this.isLoadingFromJson&&(this.updateBindings(t,n),this.onPropertyValueChanged(t,e,n),this.onPropertyChanged.fire(this,{name:t,oldValue:e,newValue:n,arrayChanges:i,target:o}),this.doPropertyValueChangedCallback(t,e,n,i,this),this.checkConditionPropertyChanged(t),!!this.onPropChangeFunctions))for(var l=0;l<this.onPropChangeFunctions.length;l++)this.onPropChangeFunctions[l].name==t&&this.onPropChangeFunctions[l].func(n,i)},r.prototype.onBindingChanged=function(t,e){this.isLoadingFromJson||this.doPropertyValueChangedCallback("bindings",t,e)},Object.defineProperty(r.prototype,"isInternal",{get:function(){return!1},enumerable:!1,configurable:!0}),r.prototype.doPropertyValueChangedCallback=function(t,e,n,i,o){var l=function(d){d&&d.onPropertyValueChangedCallback&&d.onPropertyValueChangedCallback(t,e,n,o,i)};if(this.isInternal){l(this);return}o||(o=this);var u=this.getSurvey();u||(u=this),l(u),u!==this&&l(this)},r.prototype.addExpressionProperty=function(t,e,n){this.expressionInfo||(this.expressionInfo={}),this.expressionInfo[t]={onExecute:e,canRun:n}},r.prototype.getDataFilteredValues=function(){return{}},r.prototype.getDataFilteredProperties=function(){return{}},r.prototype.runConditionCore=function(t,e){if(this.expressionInfo)for(var n in this.expressionInfo)this.runConditionItemCore(n,t,e)},r.prototype.canRunConditions=function(){return!this.isDesignMode},r.prototype.checkConditionPropertyChanged=function(t){!this.expressionInfo||!this.expressionInfo[t]||this.canRunConditions()&&this.runConditionItemCore(t,this.getDataFilteredValues(),this.getDataFilteredProperties())},r.prototype.runConditionItemCore=function(t,e,n){var i=this,o=this.expressionInfo[t],l=this.getPropertyValue(t);l&&(o.canRun&&!o.canRun(this)||(o.runner||(o.runner=this.createExpressionRunner(l),o.runner.onRunComplete=function(u){o.onExecute(i,u)}),o.runner.expression=l,o.runner.run(e,n)))},r.prototype.doBeforeAsynRun=function(t){this.asynExpressionHash||(this.asynExpressionHash={});var e=!this.isAsyncExpressionRunning;this.asynExpressionHash[t]=!0,e&&this.onAsyncRunningChanged()},r.prototype.doAfterAsynRun=function(t){this.asynExpressionHash&&(delete this.asynExpressionHash[t],this.isAsyncExpressionRunning||this.onAsyncRunningChanged())},r.prototype.onAsyncRunningChanged=function(){},Object.defineProperty(r.prototype,"isAsyncExpressionRunning",{get:function(){return!!this.asynExpressionHash&&Object.keys(this.asynExpressionHash).length>0},enumerable:!1,configurable:!0}),r.prototype.createExpressionRunner=function(t){var e=this,n=new hn(t);return n.onBeforeAsyncRun=function(i){e.doBeforeAsynRun(i)},n.onAfterAsyncRun=function(i){e.doAfterAsynRun(i)},n},r.prototype.registerPropertyChangedHandlers=function(t,e,n){n===void 0&&(n=null);for(var i=0;i<t.length;i++)this.registerFunctionOnPropertyValueChanged(t[i],e,n)},r.prototype.unregisterPropertyChangedHandlers=function(t,e){e===void 0&&(e=null);for(var n=0;n<t.length;n++)this.unRegisterFunctionOnPropertyValueChanged(t[n],e)},r.prototype.registerFunctionOnPropertyValueChanged=function(t,e,n){if(n===void 0&&(n=null),this.onPropChangeFunctions||(this.onPropChangeFunctions=[]),n)for(var i=0;i<this.onPropChangeFunctions.length;i++){var o=this.onPropChangeFunctions[i];if(o.name==t&&o.key==n){o.func=e;return}}this.onPropChangeFunctions.push({name:t,func:e,key:n})},r.prototype.registerFunctionOnPropertiesValueChanged=function(t,e,n){n===void 0&&(n=null),this.registerPropertyChangedHandlers(t,e,n)},r.prototype.unRegisterFunctionOnPropertyValueChanged=function(t,e){if(e===void 0&&(e=null),!!this.onPropChangeFunctions)for(var n=0;n<this.onPropChangeFunctions.length;n++){var i=this.onPropChangeFunctions[n];if(i.name==t&&i.key==e){this.onPropChangeFunctions.splice(n,1);return}}},r.prototype.unRegisterFunctionOnPropertiesValueChanged=function(t,e){e===void 0&&(e=null),this.unregisterPropertyChangedHandlers(t,e)},r.prototype.createCustomLocalizableObj=function(t){var e=this.getLocalizableString(t);return e||this.createLocalizableString(t,this,!1,!0)},r.prototype.getLocale=function(){var t=this.getSurvey();return t?t.getLocale():""},r.prototype.getLocalizationString=function(t){return Ge(t,this.getLocale())},r.prototype.getLocalizationFormatString=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=this.getLocalizationString(t);return!i||!i.format?"":i.format.apply(i,e)},r.prototype.createLocalizableString=function(t,e,n,i){var o=this;n===void 0&&(n=!1),i===void 0&&(i=!1);var l=void 0;i&&(l=i===!0?t:i);var u=new bt(e,n,t,l);u.onStrChanged=function(m,w){o.propertyValueChanged(t,m,w)},this.localizableStrings||(this.localizableStrings={}),this.localizableStrings[t]=u;var d=this.getPropertyByName(t);return u.disableLocalization=d&&d.isLocalizable===!1,u},r.prototype.getLocalizableString=function(t){return this.localizableStrings?this.localizableStrings[t]:null},r.prototype.getLocalizableStringText=function(t,e){e===void 0&&(e=""),r.collectDependency(this,t);var n=this.getLocalizableString(t);if(!n)return"";var i=n.text;return i||e},r.prototype.setLocalizableStringText=function(t,e){var n=this.getLocalizableString(t);if(n){var i=n.text;i!=e&&(n.text=e)}},r.prototype.addUsedLocales=function(t){if(this.localizableStrings)for(var e in this.localizableStrings){var n=this.getLocalizableString(e);n&&this.AddLocStringToUsedLocales(n,t)}if(this.arraysInfo)for(var e in this.arraysInfo){var i=this.getPropertyByName(e);if(!(!i||!i.isSerializable)){var o=this.getPropertyValue(e);if(!(!o||!o.length))for(var l=0;l<o.length;l++){var n=o[l];n&&n.addUsedLocales&&n.addUsedLocales(t)}}}},r.prototype.searchText=function(t,e){var n=[];this.getSearchableLocalizedStrings(n);for(var i=0;i<n.length;i++)n[i].setFindText(t)&&e.push({element:this,str:n[i]})},r.prototype.getSearchableLocalizedStrings=function(t){if(this.localizableStrings){var e=[];this.getSearchableLocKeys(e);for(var n=0;n<e.length;n++){var i=this.getLocalizableString(e[n]);i&&t.push(i)}}if(this.arraysInfo){var o=[];this.getSearchableItemValueKeys(o);for(var n=0;n<o.length;n++){var l=this.getPropertyValue(o[n]);if(l)for(var u=0;u<l.length;u++)t.push(l[u].locText)}}},r.prototype.getSearchableLocKeys=function(t){},r.prototype.getSearchableItemValueKeys=function(t){},r.prototype.AddLocStringToUsedLocales=function(t,e){for(var n=t.getLocales(),i=0;i<n.length;i++)e.indexOf(n[i])<0&&e.push(n[i])},r.prototype.createItemValues=function(t){var e=this,n=this.createNewArray(t,function(i){if(i.locOwner=e,i.ownerPropertyName=t,typeof i.getSurvey=="function"){var o=i.getSurvey();o&&typeof o.makeReactive=="function"&&o.makeReactive(i)}});return this.arraysInfo[t].isItemValues=!0,n},r.prototype.notifyArrayChanged=function(t,e){t.onArrayChanged&&t.onArrayChanged(e)},r.prototype.createNewArrayCore=function(t){var e=null;return this.createArrayCoreHandler&&(e=this.createArrayCoreHandler(this.propertyHash,t)),e||(e=new Array,this.setPropertyValueCore(this.propertyHash,t,e)),e},r.prototype.ensureArray=function(t,e,n){if(e===void 0&&(e=null),n===void 0&&(n=null),!(this.arraysInfo&&this.arraysInfo[t]))return this.createNewArray(t,e,n)},r.prototype.createNewArray=function(t,e,n){e===void 0&&(e=null),n===void 0&&(n=null);var i=this.createNewArrayCore(t);this.arraysInfo||(this.arraysInfo={}),this.arraysInfo[t]={onPush:e,isItemValues:!1};var o=this;return i.push=function(l){var u=Object.getPrototypeOf(i).push.call(i,l);if(!o.isDisposedValue){e&&e(l,i.length-1);var d=new mn(i.length-1,0,[l],[]);o.propertyValueChanged(t,i,i,d),o.notifyArrayChanged(i,d)}return u},i.shift=function(){var l=Object.getPrototypeOf(i).shift.call(i);if(!o.isDisposedValue&&l){n&&n(l);var u=new mn(i.length-1,1,[],[]);o.propertyValueChanged(t,i,i,u),o.notifyArrayChanged(i,u)}return l},i.unshift=function(l){var u=Object.getPrototypeOf(i).unshift.call(i,l);if(!o.isDisposedValue){e&&e(l,i.length-1);var d=new mn(0,0,[l],[]);o.propertyValueChanged(t,i,i,d),o.notifyArrayChanged(i,d)}return u},i.pop=function(){var l=Object.getPrototypeOf(i).pop.call(i);if(!o.isDisposedValue){n&&n(l);var u=new mn(i.length-1,1,[],[]);o.propertyValueChanged(t,i,i,u),o.notifyArrayChanged(i,u)}return l},i.splice=function(l,u){for(var d,m=[],w=2;w<arguments.length;w++)m[w-2]=arguments[w];l||(l=0),u||(u=0);var E=(d=Object.getPrototypeOf(i).splice).call.apply(d,ga([i,l,u],m));if(m||(m=[]),!o.isDisposedValue){if(n&&E)for(var A=0;A<E.length;A++)n(E[A]);if(e)for(var A=0;A<m.length;A++)e(m[A],l+A);var U=new mn(l,u,m,E);o.propertyValueChanged(t,i,i,U),o.notifyArrayChanged(i,U)}return E},i},r.prototype.getItemValueType=function(){},r.prototype.setArray=function(t,e,n,i,o){var l=[].concat(e);if(Object.getPrototypeOf(e).splice.call(e,0,e.length),n)for(var u=0;u<n.length;u++){var d=n[u];i&&r.createItemValue&&(d=r.createItemValue(d,this.getItemValueType())),Object.getPrototypeOf(e).push.call(e,d),o&&o(e[u])}var m=new mn(0,l.length,e,l);this.propertyValueChanged(t,l,e,m),this.notifyArrayChanged(e,m)},r.prototype.isTwoValueEquals=function(t,e,n,i){return n===void 0&&(n=!1),i===void 0&&(i=!1),D.isTwoValueEquals(t,e,!1,!n,i)},r.copyObject=function(t,e){for(var n in e){var i=e[n];typeof i=="object"&&(i={},this.copyObject(i,e[n])),t[n]=i}},r.prototype.copyCssClasses=function(t,e){e&&(typeof e=="string"||e instanceof String?t.root=e:r.copyObject(t,e))},r.prototype.getValueInLowCase=function(t){return t&&typeof t=="string"?t.toLowerCase():t},r.prototype.getElementsInDesign=function(t){return t===void 0&&(t=!1),[]},Object.defineProperty(r.prototype,"animationAllowed",{get:function(){return this.getIsAnimationAllowed()},enumerable:!1,configurable:!0}),r.prototype.getIsAnimationAllowed=function(){return R.animationEnabled&&this.animationAllowedLock>=0&&!this.isLoadingFromJson&&!this.isDisposed&&(!!this.onElementRerendered||!this.supportOnElementRerenderedEvent)},r.prototype.blockAnimations=function(){this.animationAllowedLock--},r.prototype.releaseAnimations=function(){this.animationAllowedLock++},r.prototype.enableOnElementRerenderedEvent=function(){this.onElementRerenderedEventEnabled=!0},r.prototype.disableOnElementRerenderedEvent=function(){var t;(t=this.onElementRerendered)===null||t===void 0||t.fire(this,{isCancel:!0}),this.onElementRerenderedEventEnabled=!1},Object.defineProperty(r.prototype,"onElementRerendered",{get:function(){return this.supportOnElementRerenderedEvent&&this.onElementRerenderedEventEnabled?this._onElementRerendered:void 0},enumerable:!1,configurable:!0}),r.prototype.afterRerender=function(){var t;(t=this.onElementRerendered)===null||t===void 0||t.fire(this,{isCancel:!1})},r.currentDependencis=void 0,r}(),mn=function(){function r(t,e,n,i){this.index=t,this.deleteCount=e,this.itemsToAdd=n,this.deletedItems=i}return r}(),Ar=function(){function r(){}return Object.defineProperty(r.prototype,"isEmpty",{get:function(){return this.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"length",{get:function(){return this.callbacks?this.callbacks.length:0},enumerable:!1,configurable:!0}),r.prototype.fireByCreatingOptions=function(t,e){if(this.callbacks){for(var n=0;n<this.callbacks.length;n++)if(this.callbacks[n](t,e()),!this.callbacks)return}},r.prototype.fire=function(t,e){if(this.callbacks){for(var n=[].concat(this.callbacks),i=0;i<n.length;i++)if(n[i](t,e),!this.callbacks)return}},r.prototype.clear=function(){this.callbacks=void 0},r.prototype.add=function(t){this.hasFunc(t)||(this.callbacks||(this.callbacks=new Array),this.callbacks.push(t),this.fireCallbackChanged())},r.prototype.remove=function(t){if(this.hasFunc(t)){var e=this.callbacks.indexOf(t,0);this.callbacks.splice(e,1),this.fireCallbackChanged()}},r.prototype.hasFunc=function(t){return this.callbacks==null?!1:this.callbacks.indexOf(t,0)>-1},r.prototype.fireCallbackChanged=function(){this.onCallbacksChanged&&this.onCallbacksChanged()},r}(),ft=function(r){pd(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t}(Ar),hd=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),kr=function(){function r(t,e,n,i,o){var l=this;i===void 0&&(i=null),o===void 0&&(o=function(u){queueMicrotask?queueMicrotask(u):u()}),this.container=t,this.model=e,this.itemsSelector=n,this.dotsItemSize=i,this.delayedUpdateFunction=o,this.resizeObserver=void 0,this.isInitialized=!1,this.minDimensionConst=56,this.separatorSize=17,this.separatorAddConst=1,this.paddingSizeConst=8,this.dotsSizeConst=48,this.dotsIconClass=".sv-dots",this.iconClass=".sv-svg-icon",this.recalcMinDimensionConst=!0,this.getComputedStyle=function(u){return g.getComputedStyle(u)},this.model.updateCallback=function(u){u&&(l.isInitialized=!1),setTimeout(function(){l.process()},1)},typeof ResizeObserver<"u"&&(this.resizeObserver=new ResizeObserver(function(u){p.requestAnimationFrame(function(){l.process()})}),this.resizeObserver.observe(this.container.parentElement))}return r.prototype.getDimensions=function(t){return{scroll:t.scrollWidth,offset:t.offsetWidth}},r.prototype.getAvailableSpace=function(){var t=this.getComputedStyle(this.container),e=this.container.offsetWidth;return t.boxSizing==="border-box"&&(e-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)),e},r.prototype.calcItemSize=function(t){return t.offsetWidth||t.getBoundingClientRect().width},r.prototype.calcMinDimension=function(t,e){var n;if(e&&(!t.iconSize||t.iconSize==="auto")){var i=e.querySelector(this.iconClass);n=i&&this.calcItemSize(i)}else t.iconSize&&typeof t.iconSize=="number"&&this.recalcMinDimensionConst&&(n=t.iconSize);var o=n?n+2*this.paddingSizeConst:this.minDimensionConst;return t.canShrink?o+(t.needSeparator?this.separatorSize:0):t.maxDimension},r.prototype.calcItemsSizes=function(){var t=this;if(!(!this.container||this.isInitialized)){var e=this.model.actions,n=this.container.querySelectorAll(this.itemsSelector);(n||[]).forEach(function(i,o){var l=e[o];l&&t.calcActionDimensions(l,i)})}},r.prototype.calcActionDimensions=function(t,e){t.maxDimension=this.calcItemSize(e),t.minDimension=this.calcMinDimension(t,e)},Object.defineProperty(r.prototype,"isContainerVisible",{get:function(){return!!this.container&&Kr(this.container)},enumerable:!1,configurable:!0}),r.prototype.process=function(){var t=this;if(this.isContainerVisible&&!this.model.isResponsivenessDisabled){this.isInitialized||this.model.setActionsMode("large");var e=function(){var i,o=t.dotsItemSize;if(!t.dotsItemSize){var l=(i=t.container)===null||i===void 0?void 0:i.querySelector(t.dotsIconClass);o=l&&t.calcItemSize(l)||t.dotsSizeConst}t.model.fit(t.getAvailableSpace(),o)};if(this.isInitialized)e();else{var n=function(){t.container&&(t.calcItemsSizes(),t.isInitialized=!0,e())};this.delayedUpdateFunction?this.delayedUpdateFunction(n):n()}}},r.prototype.dispose=function(){this.model.updateCallback=void 0,this.resizeObserver&&this.resizeObserver.disconnect(),this.resizeObserver=void 0,this.container=void 0},r}(),md=function(r){hd(t,r);function t(e,n,i,o,l,u){l===void 0&&(l=40);var d=r.call(this,e,n,i,o,u)||this;return d.minDimensionConst=l,d.recalcMinDimensionConst=!1,d}return t.prototype.getDimensions=function(){return{scroll:this.container.scrollHeight,offset:this.container.offsetHeight}},t.prototype.getAvailableSpace=function(){var e=this.getComputedStyle(this.container),n=this.container.offsetHeight;return e.boxSizing==="border-box"&&(n-=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)),n},t.prototype.calcItemSize=function(e){return e.offsetHeight},t.prototype.calcActionDimensions=function(e,n){e.maxDimension=this.calcItemSize(n),e.minDimension=this.calcItemSize(n)},t}(kr),F=function(){function r(){this.classes=[]}return r.prototype.isEmpty=function(){return this.toString()===""},r.prototype.append=function(t,e){return e===void 0&&(e=!0),t&&e&&(typeof t=="string"&&(t=t.trim()),this.classes.push(t)),this},r.prototype.toString=function(){return this.classes.join(" ")},r}(),gd=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Wn=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Lr={root:"sv-action-bar",defaultSizeMode:"sv-action-bar--default-size-mode",smallSizeMode:"sv-action-bar--small-size-mode",item:"sv-action-bar-item",itemWithTitle:"",itemAsIcon:"sv-action-bar-item--icon",itemActive:"sv-action-bar-item--active",itemPressed:"sv-action-bar-item--pressed",itemIcon:"sv-action-bar-item__icon",itemTitle:"sv-action-bar-item__title",itemTitleWithIcon:"sv-action-bar-item__title--with-icon"},Vt=function(r){gd(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.sizeMode="default",e}return t.prototype.getMarkdownHtml=function(e,n){return this.locOwner?this.locOwner.getMarkdownHtml(e,n):void 0},t.prototype.getRenderer=function(e){return this.locOwner?this.locOwner.getRenderer(e):null},t.prototype.getRendererContext=function(e){return this.locOwner?this.locOwner.getRendererContext(e):e},t.prototype.getProcessedText=function(e){return this.locOwner?this.locOwner.getProcessedText(e):e},t.prototype.getLocale=function(){return this.locOwner?this.locOwner.getLocale():""},t.prototype.getRenderedActions=function(){return this.actions},t.prototype.locStrsChanged=function(){r.prototype.locStrsChanged.call(this),this.actions.forEach(function(e){e.locTitle&&e.locTitle.strChanged(),e.locStrsChanged()})},t.prototype.raiseUpdate=function(e){this.isEmpty=!this.actions.some(function(n){return n.visible}),this.updateCallback&&this.updateCallback(e)},t.prototype.onSet=function(){var e=this;this.actions.forEach(function(n){e.setActionCssClasses(n)}),this.raiseUpdate(!0)},t.prototype.onPush=function(e){this.setActionCssClasses(e),e.owner=this,this.raiseUpdate(!0)},t.prototype.onRemove=function(e){e.owner=null,this.raiseUpdate(!0)},t.prototype.setActionCssClasses=function(e){e.cssClasses=this.cssClasses},Object.defineProperty(t.prototype,"hasActions",{get:function(){return(this.actions||[]).length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedActions",{get:function(){return this.getRenderedActions()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleActions",{get:function(){return this.actions.filter(function(e){return e.visible!==!1})},enumerable:!1,configurable:!0}),t.prototype.getRootCss=function(){var e=this.sizeMode==="small"?this.cssClasses.smallSizeMode:this.cssClasses.defaultSizeMode;return new F().append(this.cssClasses.root+(e?" "+e:"")+(this.containerCss?" "+this.containerCss:"")).append(this.cssClasses.root+"--empty",this.isEmpty).toString()},t.prototype.getDefaultCssClasses=function(){return Lr},Object.defineProperty(t.prototype,"cssClasses",{get:function(){return this.cssClassesValue||(this.cssClassesValue=this.getDefaultCssClasses()),this.cssClassesValue},set:function(e){var n=this;this.cssClassesValue={},this.copyCssClasses(this.cssClassesValue,this.getDefaultCssClasses()),Dn(e,this.cssClasses),this.actions.forEach(function(i){n.setActionCssClasses(i)})},enumerable:!1,configurable:!0}),t.prototype.createAction=function(e){return e instanceof Mi?e:new Te(e)},t.prototype.addAction=function(e,n){n===void 0&&(n=!0);var i=this.createAction(e);if(n&&!this.isActionVisible(i))return i;var o=[].concat(this.actions,i);return this.sortItems(o),this.actions=o,i},t.prototype.setItems=function(e,n){var i=this;n===void 0&&(n=!0);var o=[];e.forEach(function(l){(!n||i.isActionVisible(l))&&o.push(i.createAction(l))}),n&&this.sortItems(o),this.actions=o},t.prototype.sortItems=function(e){this.hasSetVisibleIndex(e)&&e.sort(this.compareByVisibleIndex)},t.prototype.hasSetVisibleIndex=function(e){for(var n=0;n<e.length;n++){var i=e[n].visibleIndex;if(i!==void 0&&i>=0)return!0}return!1},t.prototype.compareByVisibleIndex=function(e,n){return e.visibleIndex-n.visibleIndex},t.prototype.isActionVisible=function(e){return e.visibleIndex>=0||e.visibleIndex===void 0},t.prototype.popupAfterShowCallback=function(e){},t.prototype.mouseOverHandler=function(e){var n=this;e.isHovered=!0,this.actions.forEach(function(i){i===e&&e.popupModel&&(e.showPopupDelayed(n.subItemsShowDelay),n.popupAfterShowCallback(e))})},t.prototype.initResponsivityManager=function(e,n){},t.prototype.resetResponsivityManager=function(){},t.prototype.getActionById=function(e){for(var n=0;n<this.actions.length;n++)if(this.actions[n].id===e)return this.actions[n];return null},t.prototype.dispose=function(){r.prototype.dispose.call(this),this.resetResponsivityManager(),this.actions.forEach(function(e){return e.dispose()}),this.actions.length=0},Wn([Xe({onSet:function(e,n){n.onSet()},onPush:function(e,n,i){i.onPush(e)},onRemove:function(e,n,i){i.onRemove(e)}})],t.prototype,"actions",void 0),Wn([V({})],t.prototype,"containerCss",void 0),Wn([V({defaultValue:!1})],t.prototype,"isEmpty",void 0),Wn([V({defaultValue:300})],t.prototype,"subItemsShowDelay",void 0),Wn([V({defaultValue:300})],t.prototype,"subItemsHideDelay",void 0),t}(be),Rn=function(){function r(){}return r.focusElement=function(t){t&&t.focus()},r.visibility=function(t){var e=g.getComputedStyle(t);return e.display==="none"||e.visibility==="hidden"?!1:t.parentElement?this.visibility(t.parentElement):!0},r.getNextElementPreorder=function(t){var e=t.nextElementSibling?t.nextElementSibling:t.parentElement.firstElementChild;return this.visibility(e)?e:this.getNextElementPreorder(e)},r.getNextElementPostorder=function(t){var e=t.previousElementSibling?t.previousElementSibling:t.parentElement.lastElementChild;return this.visibility(e)?e:this.getNextElementPostorder(e)},r.hasHorizontalScroller=function(t){return t?t.scrollWidth>t.offsetWidth:!1},r.hasVerticalScroller=function(t){return t?t.scrollHeight>t.offsetHeight:!1},r}(),vd=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ut=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},yd={root:"sv-list__container",item:"sv-list__item",searchClearButtonIcon:"sv-list__filter-clear-button",loadingIndicator:"sv-list__loading-indicator",itemSelected:"sv-list__item--selected",itemGroup:"sv-list__item--group",itemGroupSelected:"sv-list__item--group-selected",itemWithIcon:"sv-list__item--with-icon",itemDisabled:"sv-list__item--disabled",itemFocused:"sv-list__item--focused",itemHovered:"sv-list__item--hovered",itemTextWrap:"sv-list__item-text--wrap",itemIcon:"sv-list__item-icon",itemMarkerIcon:"sv-list-item__marker-icon",itemSeparator:"sv-list__item-separator",itemBody:"sv-list__item-body",itemsContainer:"sv-list",itemsContainerFiltering:"sv-list--filtering",filter:"sv-list__filter",filterIcon:"sv-list__filter-icon",filterInput:"sv-list__input",emptyContainer:"sv-list__empty-container",emptyText:"sv-list__empty-text"},$n=function(r){vd(t,r);function t(e,n,i,o,l){var u=r.call(this)||this;if(u.onSelectionChanged=n,u.allowSelection=i,u.elementId=l,u.onItemClick=function(m){if(!u.isItemDisabled(m)){u.isExpanded=!1,u.allowSelection&&(u.selectedItem=m),u.onSelectionChanged&&u.onSelectionChanged(m);var w=m.action;w&&w(m)}},u.onItemHover=function(m){u.mouseOverHandler(m)},u.isItemDisabled=function(m){return m.enabled!==void 0&&!m.enabled},u.isItemSelected=function(m){return u.areSameItems(u.selectedItem,m)},u.isItemFocused=function(m){return u.areSameItems(u.focusedItem,m)},u.getListClass=function(){return new F().append(u.cssClasses.itemsContainer).append(u.cssClasses.itemsContainerFiltering,!!u.filterString&&u.visibleActions.length!==u.visibleItems.length).toString()},u.getItemClass=function(m){var w=u.isItemSelected(m);return new F().append(u.cssClasses.item).append(u.cssClasses.itemWithIcon,!!m.iconName).append(u.cssClasses.itemDisabled,u.isItemDisabled(m)).append(u.cssClasses.itemFocused,u.isItemFocused(m)).append(u.cssClasses.itemSelected,!m.hasSubItems&&w).append(u.cssClasses.itemGroup,m.hasSubItems).append(u.cssClasses.itemGroupSelected,m.hasSubItems&&w).append(u.cssClasses.itemHovered,m.isHovered).append(u.cssClasses.itemTextWrap,u.textWrapEnabled).append(m.css).toString()},u.getItemStyle=function(m){var w=m.level||0;return{"--sjs-list-item-level":w+1}},Object.keys(e).indexOf("items")!==-1){var d=e;Object.keys(d).forEach(function(m){switch(m){case"items":u.setItems(d.items);break;case"onFilterStringChangedCallback":u.setOnFilterStringChangedCallback(d.onFilterStringChangedCallback);break;case"onTextSearchCallback":u.setOnTextSearchCallback(d.onTextSearchCallback);break;default:u[m]=d[m]}}),u.updateActionsIds()}else u.setItems(e),u.selectedItem=o;return u}return t.prototype.hasText=function(e,n){if(!n)return!0;var i=e.title||"";if(this.onTextSearchCallback)return this.onTextSearchCallback(e,n);var o=i.toLocaleLowerCase();return o=R.comparator.normalizeTextCallback(o,"filter"),o.indexOf(n.toLocaleLowerCase())>-1},t.prototype.isItemVisible=function(e){return e.visible&&(!this.shouldProcessFilter||this.hasText(e,this.filterString))},t.prototype.getRenderedActions=function(){var e=r.prototype.getRenderedActions.call(this);if(this.filterString){var n=[];return e.forEach(function(i){n.push(i),i.items&&i.items.forEach(function(o){var l=new Te(o);l.iconName||(l.iconName=i.iconName),n.push(l)})}),n}return e},Object.defineProperty(t.prototype,"visibleItems",{get:function(){var e=this;return this.visibleActions.filter(function(n){return e.isItemVisible(n)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldProcessFilter",{get:function(){return!this.onFilterStringChangedCallback},enumerable:!1,configurable:!0}),t.prototype.onFilterStringChanged=function(e){this.onFilterStringChangedCallback&&this.onFilterStringChangedCallback(e),this.updateIsEmpty()},t.prototype.updateIsEmpty=function(){var e=this;this.isEmpty=this.renderedActions.filter(function(n){return e.isItemVisible(n)}).length===0},t.prototype.scrollToItem=function(e,n){var i=this;n===void 0&&(n=0),setTimeout(function(){if(i.listContainerHtmlElement){var o=i.listContainerHtmlElement.querySelector(ct(e));o&&setTimeout(function(){o.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})},n)}},n)},t.prototype.setOnFilterStringChangedCallback=function(e){this.onFilterStringChangedCallback=e},t.prototype.setOnTextSearchCallback=function(e){this.onTextSearchCallback=e},t.prototype.setItems=function(e,n){n===void 0&&(n=!0),r.prototype.setItems.call(this,e,n),this.updateActionsIds(),!this.isAllDataLoaded&&this.actions.length&&this.actions.push(this.loadingIndicator)},t.prototype.updateActionsIds=function(){var e=this;this.elementId&&this.renderedActions.forEach(function(n){n.elementId=e.elementId+n.id})},t.prototype.setSearchEnabled=function(e){this.searchEnabled=e,this.showSearchClearButton=e},t.prototype.onSet=function(){this.showFilter=this.searchEnabled&&(this.forceShowFilter||(this.actions||[]).length>t.MINELEMENTCOUNT),r.prototype.onSet.call(this)},t.prototype.getDefaultCssClasses=function(){return yd},t.prototype.popupAfterShowCallback=function(e){this.addScrollEventListener(function(){e.hidePopup()})},t.prototype.onItemLeave=function(e){e.hidePopupDelayed(this.subItemsHideDelay)},t.prototype.areSameItems=function(e,n){return this.areSameItemsCallback?this.areSameItemsCallback(e,n):!!e&&!!n&&e.id==n.id},Object.defineProperty(t.prototype,"filterStringPlaceholder",{get:function(){return this.getLocalizationString("filterStringPlaceholder")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"emptyMessage",{get:function(){return this.isAllDataLoaded?this.getLocalizationString("emptyMessage"):this.loadingText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scrollableContainer",{get:function(){return this.listContainerHtmlElement.querySelector(ct(this.cssClasses.itemsContainer))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loadingText",{get:function(){return this.getLocalizationString("loadingFile")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loadingIndicator",{get:function(){return this.loadingIndicatorValue||(this.loadingIndicatorValue=new Te({id:"loadingIndicator",title:this.loadingText,action:function(){},css:this.cssClasses.loadingIndicator})),this.loadingIndicatorValue},enumerable:!1,configurable:!0}),t.prototype.goToItems=function(e){if(e.key==="ArrowDown"||e.keyCode===40){var n=e.target.parentElement,i=n.parentElement.querySelector("ul"),o=Fd(i);i&&o&&(Rn.focusElement(o),e.preventDefault())}},t.prototype.onMouseMove=function(e){this.resetFocusedItem()},t.prototype.onKeyDown=function(e){var n=e.target;e.key==="ArrowDown"||e.keyCode===40?(Rn.focusElement(Rn.getNextElementPreorder(n)),e.preventDefault()):(e.key==="ArrowUp"||e.keyCode===38)&&(Rn.focusElement(Rn.getNextElementPostorder(n)),e.preventDefault())},t.prototype.onPointerDown=function(e,n){},t.prototype.refresh=function(){this.filterString!==""?this.filterString="":this.updateIsEmpty(),this.resetFocusedItem()},t.prototype.onClickSearchClearButton=function(e){e.currentTarget.parentElement.querySelector("input").focus(),this.refresh()},t.prototype.resetFocusedItem=function(){this.focusedItem=void 0},t.prototype.focusFirstVisibleItem=function(){this.focusedItem=this.visibleItems[0]},t.prototype.focusLastVisibleItem=function(){this.focusedItem=this.visibleItems[this.visibleItems.length-1]},t.prototype.initFocusedItem=function(){var e=this;this.focusedItem=this.visibleItems.filter(function(n){return n.visible&&e.isItemSelected(n)})[0],this.focusedItem||this.focusFirstVisibleItem()},t.prototype.focusNextVisibleItem=function(){if(!this.focusedItem)this.initFocusedItem();else{var e=this.visibleItems,n=e.indexOf(this.focusedItem),i=e[n+1];i?this.focusedItem=i:this.focusFirstVisibleItem()}},t.prototype.focusPrevVisibleItem=function(){if(!this.focusedItem)this.initFocusedItem();else{var e=this.visibleItems,n=e.indexOf(this.focusedItem),i=e[n-1];i?this.focusedItem=i:this.focusLastVisibleItem()}},t.prototype.selectFocusedItem=function(){this.focusedItem&&this.onItemClick(this.focusedItem)},t.prototype.initListContainerHtmlElement=function(e){this.listContainerHtmlElement=e},t.prototype.onLastItemRended=function(e){this.isAllDataLoaded||e===this.actions[this.actions.length-1]&&this.listContainerHtmlElement&&(this.hasVerticalScroller=Rn.hasVerticalScroller(this.scrollableContainer))},t.prototype.scrollToFocusedItem=function(){this.scrollToItem(this.cssClasses.itemFocused)},t.prototype.scrollToSelectedItem=function(){this.selectedItem&&this.selectedItem.items&&this.selectedItem.items.length>0?this.scrollToItem(this.cssClasses.itemGroupSelected,110):this.scrollToItem(this.cssClasses.itemSelected,110)},t.prototype.addScrollEventListener=function(e){e&&(this.removeScrollEventListener(),this.scrollHandler=e),this.scrollHandler&&this.scrollableContainer.addEventListener("scroll",this.scrollHandler)},t.prototype.removeScrollEventListener=function(){this.scrollHandler&&this.scrollableContainer.removeEventListener("scroll",this.scrollHandler)},t.prototype.dispose=function(){r.prototype.dispose.call(this),this.loadingIndicatorValue&&this.loadingIndicatorValue.dispose(),this.listContainerHtmlElement=void 0},t.INDENT=16,t.MINELEMENTCOUNT=10,ut([V({defaultValue:!0,onSet:function(e,n){n.onSet()}})],t.prototype,"searchEnabled",void 0),ut([V({defaultValue:!1})],t.prototype,"showFilter",void 0),ut([V({defaultValue:!1})],t.prototype,"forceShowFilter",void 0),ut([V({defaultValue:!1})],t.prototype,"isExpanded",void 0),ut([V({})],t.prototype,"selectedItem",void 0),ut([V()],t.prototype,"focusedItem",void 0),ut([V({onSet:function(e,n){n.onFilterStringChanged(n.filterString)}})],t.prototype,"filterString",void 0),ut([V({defaultValue:!1})],t.prototype,"hasVerticalScroller",void 0),ut([V({defaultValue:!0})],t.prototype,"isAllDataLoaded",void 0),ut([V({defaultValue:!1})],t.prototype,"showSearchClearButton",void 0),ut([V({defaultValue:!0})],t.prototype,"renderElements",void 0),ut([V({defaultValue:!1})],t.prototype,"textWrapEnabled",void 0),ut([V({defaultValue:"sv-list-item-content"})],t.prototype,"itemComponent",void 0),t}(Vt),bd=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ot=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Gn=function(r){bd(t,r);function t(e,n,i,o){var l=r.call(this)||this;if(l.focusFirstInputSelector="",l.onCancel=function(){},l.onApply=function(){return!0},l.onHide=function(){},l.onShow=function(){},l.onDispose=function(){},l.onVisibilityChanged=l.addEvent(),l.onFooterActionsCreated=l.addEvent(),l.onRecalculatePosition=l.addEvent(),l.contentComponentName=e,l.contentComponentData=n,i&&typeof i=="string")l.verticalPosition=i,l.horizontalPosition=o;else if(i){var u=i;for(var d in u)l[d]=u[d]}return l}return t.prototype.refreshInnerModel=function(){var e=this.contentComponentData.model;e&&e.refresh&&e.refresh()},Object.defineProperty(t.prototype,"isVisible",{get:function(){return this.getPropertyValue("isVisible",!1)},set:function(e){this.isVisible!==e&&(this.setPropertyValue("isVisible",e),this.onVisibilityChanged.fire(this,{model:this,isVisible:e}))},enumerable:!1,configurable:!0}),t.prototype.toggleVisibility=function(){this.isVisible=!this.isVisible},t.prototype.show=function(){this.isVisible||(this.isVisible=!0)},t.prototype.hide=function(){this.isVisible&&(this.isVisible=!1)},t.prototype.recalculatePosition=function(e){this.onRecalculatePosition.fire(this,{isResetHeight:e})},t.prototype.updateFooterActions=function(e){var n={actions:e};return this.onFooterActionsCreated.fire(this,n),n.actions},t.prototype.updateDisplayMode=function(e){switch(this.displayMode!==e&&(this.setWidthByTarget=e==="dropdown"),e){case"dropdown":{this.displayMode="popup";break}case"popup":{this.displayMode="overlay",this.overlayDisplayMode="tablet-dropdown-overlay";break}case"overlay":{this.displayMode="overlay",this.overlayDisplayMode="dropdown-overlay";break}}},t.prototype.onHiding=function(){this.refreshInnerModel(),this.onHide()},t.prototype.dispose=function(){r.prototype.dispose.call(this),this.onDispose()},ot([V()],t.prototype,"contentComponentName",void 0),ot([V()],t.prototype,"contentComponentData",void 0),ot([V({defaultValue:"bottom"})],t.prototype,"verticalPosition",void 0),ot([V({defaultValue:"left"})],t.prototype,"horizontalPosition",void 0),ot([V({defaultValue:!0})],t.prototype,"showPointer",void 0),ot([V({defaultValue:!1})],t.prototype,"isModal",void 0),ot([V({defaultValue:!0})],t.prototype,"canShrink",void 0),ot([V({defaultValue:!0})],t.prototype,"isFocusedContent",void 0),ot([V({defaultValue:!0})],t.prototype,"isFocusedContainer",void 0),ot([V({defaultValue:""})],t.prototype,"cssClass",void 0),ot([V({defaultValue:""})],t.prototype,"title",void 0),ot([V({defaultValue:"auto"})],t.prototype,"overlayDisplayMode",void 0),ot([V({defaultValue:"popup"})],t.prototype,"displayMode",void 0),ot([V({defaultValue:"flex"})],t.prototype,"positionMode",void 0),t}(be);function Cd(r,t,e,n,i,o,l,u,d){return i===void 0&&(i=function(){}),o===void 0&&(o=function(){}),d===void 0&&(d="popup"),Lt.warn("The `showModal()` and `createDialogOptions()` methods are obsolete. Use the `showDialog()` method instead."),{componentName:r,data:t,onApply:e,onCancel:n,onHide:i,onShow:o,cssClass:l,title:u,displayMode:d}}var va=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ie=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},xd=function(r,t){for(var e=0,n=t.length,i=r.length;e<n;e++,i++)r[i]=t[e];return r};function _d(r,t,e){return t.locOwner=e,Fr(r,t,t)}function Fr(r,t,e){var n,i=t.onSelectionChanged;t.onSelectionChanged=function(d){for(var m=[],w=1;w<arguments.length;w++)m[w-1]=arguments[w];u.hasTitle&&(u.title=d.title),i&&i(d,m)};var o=jr(t,e);o.getTargetCallback=ya;var l=Object.assign({},r,{component:"sv-action-bar-item-dropdown",popupModel:o,action:function(d,m){r.action&&r.action(),o.isFocusedContent=o.isFocusedContent||!m,o.show()}}),u=new Te(l);return u.data=(n=o.contentComponentData)===null||n===void 0?void 0:n.model,u}function jr(r,t){var e=new $n(r);e.onSelectionChanged=function(o){r.onSelectionChanged&&r.onSelectionChanged(o),i.hide()};var n=t||{};n.onDispose=function(){e.dispose()};var i=new Gn("sv-list",{model:e},n);return i.isFocusedContent=e.showFilter,i.onShow=function(){n.onShow&&n.onShow(),e.scrollToSelectedItem()},i}function ya(r){return r?.previousElementSibling}var Mi=function(r){va(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.rendredIdValue=t.getNextRendredId(),e}return t.getNextRendredId=function(){return t.renderedId++},Object.defineProperty(t.prototype,"renderedId",{get:function(){return this.rendredIdValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"owner",{get:function(){return this.ownerValue},set:function(e){e!==this.owner&&(this.ownerValue=e,this.locStrsChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this.getVisible()},set:function(e){this.setVisible(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.getEnabled()},set:function(e){this.setEnabled(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.getComponent()},set:function(e){this.setComponent(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTitle",{get:function(){return this.getLocTitle()},set:function(e){this.setLocTitle(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.getTitle()},set:function(e){this.setTitle(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssClasses",{get:function(){return this.cssClassesValue||Lr},set:function(e){this.cssClassesValue=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this.visible&&this.mode!=="popup"&&this.mode!=="removed"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.enabled!==void 0&&!this.enabled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canShrink",{get:function(){return!this.disableShrink&&!!this.iconName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTitle",{get:function(){return(this.mode!="small"&&(this.showTitle||this.showTitle===void 0)||!this.iconName)&&!!this.title},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasSubItems",{get:function(){return!!this.items&&this.items.length>0},enumerable:!1,configurable:!0}),t.prototype.getActionBarItemTitleCss=function(){return new F().append(this.cssClasses.itemTitle).append(this.cssClasses.itemTitleWithIcon,!!this.iconName).toString()},t.prototype.getActionBarItemCss=function(){return new F().append(this.cssClasses.item).append(this.cssClasses.itemWithTitle,this.hasTitle).append(this.cssClasses.itemAsIcon,!this.hasTitle).append(this.cssClasses.itemActive,!!this.active).append(this.cssClasses.itemPressed,!!this.pressed).append(this.innerCss).toString()},t.prototype.getActionRootCss=function(){return new F().append("sv-action").append(this.css).append("sv-action--space",this.needSpace).append("sv-action--hidden",!this.isVisible).toString()},t.prototype.getTooltip=function(){return this.tooltip||this.title},t.prototype.getIsTrusted=function(e){return e.originalEvent?e.originalEvent.isTrusted:e.isTrusted},t.prototype.showPopup=function(){this.popupModel&&this.popupModel.show()},t.prototype.hidePopup=function(){this.popupModel&&this.popupModel.hide()},t.prototype.clearPopupTimeouts=function(){this.showPopupTimeout&&clearTimeout(this.showPopupTimeout),this.hidePopupTimeout&&clearTimeout(this.hidePopupTimeout)},t.prototype.showPopupDelayed=function(e){var n=this;this.clearPopupTimeouts(),this.showPopupTimeout=setTimeout(function(){n.clearPopupTimeouts(),n.showPopup()},e)},t.prototype.hidePopupDelayed=function(e){var n=this,i;!((i=this.popupModel)===null||i===void 0)&&i.isVisible?(this.clearPopupTimeouts(),this.hidePopupTimeout=setTimeout(function(){n.clearPopupTimeouts(),n.hidePopup(),n.isHovered=!1},e)):(this.clearPopupTimeouts(),this.isHovered=!1)},t.renderedId=1,Ie([V()],t.prototype,"tooltip",void 0),Ie([V()],t.prototype,"showTitle",void 0),Ie([V()],t.prototype,"innerCss",void 0),Ie([V()],t.prototype,"active",void 0),Ie([V()],t.prototype,"pressed",void 0),Ie([V()],t.prototype,"data",void 0),Ie([V()],t.prototype,"popupModel",void 0),Ie([V()],t.prototype,"needSeparator",void 0),Ie([V()],t.prototype,"template",void 0),Ie([V({defaultValue:"large"})],t.prototype,"mode",void 0),Ie([V()],t.prototype,"visibleIndex",void 0),Ie([V()],t.prototype,"disableTabStop",void 0),Ie([V()],t.prototype,"disableShrink",void 0),Ie([V()],t.prototype,"disableHide",void 0),Ie([V({defaultValue:!1})],t.prototype,"needSpace",void 0),Ie([V()],t.prototype,"ariaChecked",void 0),Ie([V()],t.prototype,"ariaExpanded",void 0),Ie([V({defaultValue:"button"})],t.prototype,"ariaRole",void 0),Ie([V()],t.prototype,"iconName",void 0),Ie([V({defaultValue:24})],t.prototype,"iconSize",void 0),Ie([V()],t.prototype,"markerIconName",void 0),Ie([V()],t.prototype,"css",void 0),Ie([V({defaultValue:!1})],t.prototype,"isPressed",void 0),Ie([V({defaultValue:!1})],t.prototype,"isHovered",void 0),t}(be),Te=function(r){va(t,r);function t(e){var n=r.call(this)||this;n.locTitleChanged=function(){var l=n.locTitle.renderedHtml;n.setPropertyValue("_title",l||void 0)};var i=e instanceof t?e.innerItem:e;if(n.innerItem=i,n.locTitle=i?i.locTitle:null,i)for(var o in i)o==="locTitle"||o==="title"&&n.locTitle&&n.title||(n[o]=i[o]);return n.locTitleName&&n.locTitleChanged(),n.registerFunctionOnPropertyValueChanged("_title",function(){n.raiseUpdate(!0)}),n.locStrChangedInPopupModel(),n}return t.prototype.raiseUpdate=function(e){e===void 0&&(e=!1),this.updateCallback&&this.updateCallback(e)},t.prototype.createLocTitle=function(){return this.createLocalizableString("title",this,!0)},t.prototype.setSubItems=function(e){this.markerIconName="icon-next_16x16",this.component="sv-list-item-group",this.items=xd([],e.items);var n=Object.assign({},e);n.searchEnabled=!1;var i=jr(n,{horizontalPosition:"right",showPointer:!1,canShrink:!1});i.cssClass="sv-popup-inner",this.popupModel=i},t.prototype.getLocTitle=function(){return this.locTitleValue},t.prototype.setLocTitle=function(e){!e&&!this.locTitleValue&&(e=this.createLocTitle()),this.locTitleValue&&this.locTitleValue.onStringChanged.remove(this.locTitleChanged),this.locTitleValue=e,this.locTitleValue.onStringChanged.add(this.locTitleChanged),this.locTitleChanged()},t.prototype.getTitle=function(){return this._title},t.prototype.setTitle=function(e){this._title=e},Object.defineProperty(t.prototype,"locTitleName",{get:function(){return this.locTitle.localizationName},set:function(e){this.locTitle.localizationName=e},enumerable:!1,configurable:!0}),t.prototype.locStrsChanged=function(){r.prototype.locStrsChanged.call(this),this.locTooltipChanged(),this.locStrChangedInPopupModel()},t.prototype.doAction=function(e){var n=e.originalEvent?e.originalEvent:e;return this.action(this,n.isTrusted),n.preventDefault(),n.stopPropagation(),!0},t.prototype.doMouseDown=function(e){this.isMouseDown=!0},t.prototype.doFocus=function(e){if(this.onFocus){var n=e.originalEvent?e.originalEvent:e;this.onFocus(this.isMouseDown,n)}this.isMouseDown=!1},t.prototype.locStrChangedInPopupModel=function(){if(!(!this.popupModel||!this.popupModel.contentComponentData||!this.popupModel.contentComponentData.model)){var e=this.popupModel.contentComponentData.model;if(Array.isArray(e.actions)){var n=e.actions;n.forEach(function(i){i.locStrsChanged&&i.locStrsChanged()})}}},t.prototype.locTooltipChanged=function(){this.locTooltipName&&(this.tooltip=Ge(this.locTooltipName,this.locTitle.locale))},t.prototype.getLocale=function(){return this.owner?this.owner.getLocale():""},t.prototype.getMarkdownHtml=function(e,n){return this.owner?this.owner.getMarkdownHtml(e,n):void 0},t.prototype.getProcessedText=function(e){return this.owner?this.owner.getProcessedText(e):e},t.prototype.getRenderer=function(e){return this.owner?this.owner.getRenderer(e):null},t.prototype.getRendererContext=function(e){return this.owner?this.owner.getRendererContext(e):e},t.prototype.setVisible=function(e){this.visible!==e&&(this._visible=e)},t.prototype.getVisible=function(){return this._visible},t.prototype.setEnabled=function(e){this._enabled=e},t.prototype.getEnabled=function(){return this.enabledIf?this.enabledIf():this._enabled},t.prototype.setComponent=function(e){this._component=e},t.prototype.getComponent=function(){return this._component},t.prototype.dispose=function(){this.updateCallback=void 0,this.locTitleValue&&this.locTitleValue.onStringChanged.remove(this.locTitleChanged),this.locTitleChanged=void 0,this.action=void 0,r.prototype.dispose.call(this),this.popupModel&&this.popupModel.dispose()},Ie([V()],t.prototype,"id",void 0),Ie([V({defaultValue:!0,onSet:function(e,n){n.raiseUpdate()}})],t.prototype,"_visible",void 0),Ie([V({onSet:function(e,n){n.locTooltipChanged()}})],t.prototype,"locTooltipName",void 0),Ie([V()],t.prototype,"_enabled",void 0),Ie([V()],t.prototype,"action",void 0),Ie([V()],t.prototype,"onFocus",void 0),Ie([V()],t.prototype,"_component",void 0),Ie([V()],t.prototype,"items",void 0),Ie([V({onSet:function(e,n){n.locTitleValue.text!==e&&(n.locTitleValue.text=e)}})],t.prototype,"_title",void 0),t}(Mi),wd=function(){function r(t){this.item=t,this.funcKey="sv-dropdown-action",this.setupPopupCallbacks()}return r.prototype.setupPopupCallbacks=function(){var t=this,e=this.popupModel=this.item.popupModel;e&&e.registerPropertyChangedHandlers(["isVisible"],function(){e.isVisible?t.item.pressed=!0:t.item.pressed=!1},this.funcKey)},r.prototype.removePopupCallbacks=function(){this.popupModel&&this.popupModel.unregisterPropertyChangedHandlers(["isVisible"],this.funcKey)},r.prototype.dispose=function(){this.removePopupCallbacks()},r}(),Pd=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ai=function(r){Pd(t,r);function t(){var e=r.call(this)||this;return e.minVisibleItemsCount=0,e.isResponsivenessDisabled=!1,e.dotsItem=Fr({id:"dotsItem-id"+t.ContainerID++,css:"sv-dots",innerCss:"sv-dots__item",iconName:"icon-more",visible:!1,tooltip:Ge("more")},{items:[],allowSelection:!1}),e}return t.prototype.hideItemsGreaterN=function(e){var n=this.getActionsToHide();e=Math.max(e,this.minVisibleItemsCount-(this.visibleActions.length-n.length));var i=[];n.forEach(function(o){e<=0&&(o.removePriority?o.mode="removed":(o.mode="popup",i.push(o.innerItem))),e--}),this.hiddenItemsListModel.setItems(i)},t.prototype.getActionsToHide=function(){return this.visibleActions.filter(function(e){return!e.disableHide}).sort(function(e,n){return e.removePriority||0-n.removePriority||0})},t.prototype.getVisibleItemsCount=function(e){this.visibleActions.filter(function(l){return l.disableHide}).forEach(function(l){return e-=l.minDimension});for(var n=this.getActionsToHide().map(function(l){return l.minDimension}),i=0,o=0;o<n.length;o++)if(i+=n[o],i>e)return o;return o},t.prototype.updateItemMode=function(e,n){for(var i=this.visibleActions,o=i.length-1;o>=0;o--)n>e&&!i[o].disableShrink?(n-=i[o].maxDimension-i[o].minDimension,i[o].mode="small"):i[o].mode="large";if(n>e){var l=this.visibleActions.filter(function(u){return u.removePriority});l.sort(function(u,d){return u.removePriority-d.removePriority});for(var o=0;o<l.length;o++)n>e&&(n-=i[o].disableShrink?l[o].maxDimension:l[o].minDimension,l[o].mode="removed")}},Object.defineProperty(t.prototype,"hiddenItemsListModel",{get:function(){return this.dotsItem.data},enumerable:!1,configurable:!0}),t.prototype.onSet=function(){var e=this;this.actions.forEach(function(n){return n.updateCallback=function(i){return e.raiseUpdate(i)}}),r.prototype.onSet.call(this)},t.prototype.onPush=function(e){var n=this;e.updateCallback=function(i){return n.raiseUpdate(i)},r.prototype.onPush.call(this,e)},t.prototype.getRenderedActions=function(){return this.actions.length===1&&this.actions[0].iconName?this.actions:this.actions.concat([this.dotsItem])},t.prototype.raiseUpdate=function(e){this.isResponsivenessDisabled||r.prototype.raiseUpdate.call(this,e)},t.prototype.fit=function(e,n){if(!(e<=0)){this.dotsItem.visible=!1;var i=0,o=0,l=this.visibleActions;l.forEach(function(u){i+=u.minDimension,o+=u.maxDimension}),e>=o?this.setActionsMode("large"):e<i?(this.setActionsMode("small"),this.hideItemsGreaterN(this.getVisibleItemsCount(e-n)),this.dotsItem.visible=!!this.hiddenItemsListModel.actions.length):this.updateItemMode(e,o)}},t.prototype.initResponsivityManager=function(e,n){if(this.responsivityManager){if(this.responsivityManager.container==e)return;this.responsivityManager.dispose()}this.responsivityManager=new kr(e,this,":scope > .sv-action:not(.sv-dots) > .sv-action__content",null,n)},t.prototype.resetResponsivityManager=function(){this.responsivityManager&&(this.responsivityManager.dispose(),this.responsivityManager=void 0)},t.prototype.setActionsMode=function(e){this.actions.forEach(function(n){e=="small"&&n.disableShrink?n.mode="large":n.mode=e})},t.prototype.dispose=function(){r.prototype.dispose.call(this),this.dotsItem.data.dispose(),this.dotsItem.dispose(),this.resetResponsivityManager()},t.ContainerID=1,t}(Vt),GV=function(){function r(t,e){var n=this;e===void 0&&(e=!1),this.func=t,this.isMultiple=e,this._isCompleted=!1,this.execute=function(){n._isCompleted||(n.func(),n._isCompleted=!n.isMultiple)}}return r.prototype.discard=function(){this._isCompleted=!0},Object.defineProperty(r.prototype,"isCompleted",{get:function(){return this._isCompleted},enumerable:!1,configurable:!0}),r}(),ZV=function(){function r(t){t===void 0&&(t=100),this.interval=t,setTimeout(r.Instance().tick,t)}return r.Instance=function(){return r.instance||(r.instance=new r),r.instance},r.prototype.tick=function(){try{for(var t=[],e=0;e<r.tasks.length;e++){var n=r.tasks[e];n.execute(),n.isCompleted?typeof n.dispose=="function"&&n.dispose():t.push(n)}r.tasks=t}finally{setTimeout(r.Instance().tick,this.interval)}},r.schedule=function(t){r.tasks.push(t)},r.instance=void 0,r.tasks=[],r}();function Vd(r){var t=this,e=!1,n=!1,i;return{run:function(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];n=!1,i=o,e||(e=!0,queueMicrotask(function(){n||r.apply(t,i),n=!1,e=!1}))},cancel:function(){n=!0}}}var Zn=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Br=function(){function r(){this.cancelQueue=[]}return r.prototype.getMsFromRule=function(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3},r.prototype.reflow=function(t){return t.offsetHeight},r.prototype.getAnimationsCount=function(t){var e="";return getComputedStyle&&(e=getComputedStyle(t).animationName),e&&e!="none"?e.split(", ").length:0},r.prototype.getAnimationDuration=function(t){for(var e=getComputedStyle(t),n=e.animationDelay.split(", "),i=e.animationDuration.split(", "),o=0,l=0;l<Math.max(i.length,n.length);l++)o=Math.max(o,this.getMsFromRule(i[l%i.length])+this.getMsFromRule(n[l%n.length]));return o},r.prototype.addCancelCallback=function(t){this.cancelQueue.push(t)},r.prototype.removeCancelCallback=function(t){this.cancelQueue.indexOf(t)>=0&&this.cancelQueue.splice(this.cancelQueue.indexOf(t),1)},r.prototype.onAnimationEnd=function(t,e,n){var i=this,o,l=this.getAnimationsCount(t),u=function(m){m===void 0&&(m=!0),e(m),clearTimeout(o),i.removeCancelCallback(u),t.removeEventListener("animationend",d)},d=function(m){m.target==m.currentTarget&&--l<=0&&u(!1)};l>0?(t.addEventListener("animationend",d),this.addCancelCallback(u),o=setTimeout(function(){u(!1)},this.getAnimationDuration(t)+10)):e(!0)},r.prototype.afterAnimationRun=function(t,e){t&&e&&e.onAfterRunAnimation&&e.onAfterRunAnimation(t)},r.prototype.beforeAnimationRun=function(t,e){t&&e&&e.onBeforeRunAnimation&&e.onBeforeRunAnimation(t)},r.prototype.getCssClasses=function(t){return t.cssClass.replace(/\s+$/,"").split(/\s+/)},r.prototype.runAnimation=function(t,e,n){t&&e?.cssClass?(this.reflow(t),this.getCssClasses(e).forEach(function(i){t.classList.add(i)}),this.onAnimationEnd(t,n,e)):n(!0)},r.prototype.clearHtmlElement=function(t,e){t&&e.cssClass&&this.getCssClasses(e).forEach(function(n){t.classList.remove(n)}),this.afterAnimationRun(t,e)},r.prototype.onNextRender=function(t,e){var n=this;if(e===void 0&&(e=!1),!e&&p.isAvailable()){var i=function(){t(!0),cancelAnimationFrame(o)},o=p.requestAnimationFrame(function(){o=p.requestAnimationFrame(function(){t(!1),n.removeCancelCallback(i)})});this.addCancelCallback(i)}else t(!0)},r.prototype.cancel=function(){var t=[].concat(this.cancelQueue);t.forEach(function(e){return e()}),this.cancelQueue=[]},r}(),ba=function(r){Zn(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.onEnter=function(e){var n=this,i=e.getAnimatedElement(),o=e.getEnterOptions?e.getEnterOptions():{};this.beforeAnimationRun(i,o),this.runAnimation(i,o,function(){n.clearHtmlElement(i,o)})},t.prototype.onLeave=function(e,n){var i=this,o=e.getAnimatedElement(),l=e.getLeaveOptions?e.getLeaveOptions():{};this.beforeAnimationRun(o,l),this.runAnimation(o,l,function(u){n(),i.onNextRender(function(){i.clearHtmlElement(o,l)},u)})},t}(Br),Nr=function(r){Zn(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.runGroupAnimation=function(e,n,i,o,l){var u=this,d={isAddingRunning:n.length>0,isDeletingRunning:i.length>0,isReorderingRunning:o.length>0},m=n.map(function(K){return e.getAnimatedElement(K)}),w=n.map(function(K){return e.getEnterOptions?e.getEnterOptions(K,d):{}}),E=i.map(function(K){return e.getAnimatedElement(K)}),A=i.map(function(K){return e.getLeaveOptions?e.getLeaveOptions(K,d):{}}),U=o.map(function(K){return e.getAnimatedElement(K.item)}),W=o.map(function(K){return e.getReorderOptions?e.getReorderOptions(K.item,K.movedForward,d):{}});n.forEach(function(K,ye){u.beforeAnimationRun(m[ye],w[ye])}),i.forEach(function(K,ye){u.beforeAnimationRun(E[ye],A[ye])}),o.forEach(function(K,ye){u.beforeAnimationRun(U[ye],W[ye])});var se=n.length+i.length+U.length,ie=function(K){--se<=0&&(l&&l(),u.onNextRender(function(){n.forEach(function(ye,He){u.clearHtmlElement(m[He],w[He])}),i.forEach(function(ye,He){u.clearHtmlElement(E[He],A[He])}),o.forEach(function(ye,He){u.clearHtmlElement(U[He],W[He])})},K))};n.forEach(function(K,ye){u.runAnimation(m[ye],w[ye],ie)}),i.forEach(function(K,ye){u.runAnimation(E[ye],A[ye],ie)}),o.forEach(function(K,ye){u.runAnimation(U[ye],W[ye],ie)})},t}(Br),ki=function(){function r(t,e,n){var i=this;this.animationOptions=t,this.update=e,this.getCurrentValue=n,this._debouncedSync=Vd(function(o){i.cancelAnimations();try{i._sync(o)}catch{i.update(o)}})}return r.prototype.onNextRender=function(t,e){var n=this,i=this.animationOptions.getRerenderEvent();if(i){var l=function(){i.remove(u),n.cancelCallback=void 0},u=function(d,m){m.isCancel?e&&e():t(),l()};this.cancelCallback=function(){e&&e(),l()},i.add(u)}else if(p.isAvailable()){var o=p.requestAnimationFrame(function(){t(),n.cancelCallback=void 0});this.cancelCallback=function(){e&&e(),cancelAnimationFrame(o),n.cancelCallback=void 0}}else throw new Error("Can't get next render")},r.prototype.sync=function(t){this.animationOptions.isAnimationEnabled()?this._debouncedSync.run(t):(this.cancel(),this.update(t))},r.prototype.cancel=function(){this._debouncedSync.cancel(),this.cancelAnimations()},r.prototype.cancelAnimations=function(){this.cancelCallback&&this.cancelCallback(),this.animation.cancel()},r}(),qr=function(r){Zn(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.animation=new ba,e}return t.prototype._sync=function(e){var n=this;e!==this.getCurrentValue()?e?(this.onNextRender(function(){n.animation.onEnter(n.animationOptions)}),this.update(e)):this.animation.onLeave(this.animationOptions,function(){n.update(e)}):this.update(e)},t}(ki),Zt=function(r){Zn(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.animation=new Nr,e}return t.prototype._sync=function(e){var n=this,i,o;e=[].concat(e);var l=[].concat(this.getCurrentValue()),u=(i=this.animationOptions.allowSyncRemovalAddition)!==null&&i!==void 0?i:!0,d=Qd(l,e,(o=this.animationOptions.getKey)!==null&&o!==void 0?o:function(W){return W});!u&&(d.reorderedItems.length>0||d.addedItems.length>0)&&(d.deletedItems=[],d.mergedItems=e),this.animationOptions.onCompareArrays&&this.animationOptions.onCompareArrays(d);var m=d.addedItems,w=d.reorderedItems,E=d.deletedItems,A=d.mergedItems,U=function(){n.animation.runGroupAnimation(n.animationOptions,m,E,w,function(){E.length>0&&n.update(e)})};[m,E,w].some(function(W){return W.length>0})?E.length<=0||w.length>0||m.length>0?(this.onNextRender(U,function(){n.update(e)}),this.update(A)):U():this.update(e)},t}(ki),Qr=function(r){Zn(t,r);function t(e,n,i,o){var l=r.call(this,e,n,i)||this;return l.mergeValues=o,l.animation=new Nr,l}return t.prototype._sync=function(e){var n=this,i=[].concat(this.getCurrentValue());if(i[0]!==e[0]){var o=this.mergeValues?this.mergeValues(e,i):[].concat(i,e);this.onNextRender(function(){n.animation.runGroupAnimation(n.animationOptions,e,i,[],function(){n.update(e)})},function(){return n.update(e)}),this.update(o,!0)}else this.update(e)},t}(ki),Ca=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),It=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Li=function(r){Ca(t,r);function t(){var e=r.call(this)||this;return e.createLocTitleProperty(),e}return t.prototype.createLocTitleProperty=function(){return this.createLocalizableString("title",this,!0)},Object.defineProperty(t.prototype,"isPage",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPanel",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isQuestion",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSurvey",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.getLocalizableStringText("title",this.getDefaultTitleValue())},set:function(e){this.setTitleValue(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTitle",{get:function(){return this.getLocalizableString("title")},enumerable:!1,configurable:!0}),t.prototype.getDefaultTitleValue=function(){},t.prototype.setTitleValue=function(e){this.setLocalizableStringText("title",e)},t.prototype.updateDescriptionVisibility=function(e){var n=!1;if(this.isDesignMode){var i=L.findProperty(this.getType(),"description");n=!!i?.placeholder}this.hasDescription=!!e||n&&this.isDesignMode},Object.defineProperty(t.prototype,"locDescription",{get:function(){return this.getLocalizableString("description")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleTagName",{get:function(){var e=this.getDefaultTitleTagName(),n=this.getSurvey();return n?n.getElementTitleTagName(this,e):e},enumerable:!1,configurable:!0}),t.prototype.getDefaultTitleTagName=function(){return R.titleTags[this.getType()]},Object.defineProperty(t.prototype,"hasTitle",{get:function(){return this.title.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTitleActions",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTitleEvents",{get:function(){return this.hasTitleActions},enumerable:!1,configurable:!0}),t.prototype.getTitleToolbar=function(){return null},t.prototype.getTitleOwner=function(){},Object.defineProperty(t.prototype,"isTitleOwner",{get:function(){return!!this.getTitleOwner()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isTitleRenderedAsString",{get:function(){return this.getIsTitleRenderedAsString()},enumerable:!1,configurable:!0}),t.prototype.toggleState=function(){},Object.defineProperty(t.prototype,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssTitle",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaTitleId",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaDescriptionId",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleTabIndex",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleAriaExpanded",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleAriaRole",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaLabel",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleAriaLabel",{get:function(){return this.ariaLabel},enumerable:!1,configurable:!0}),t.prototype.getIsTitleRenderedAsString=function(){return!this.isTitleOwner},It([V({})],t.prototype,"hasDescription",void 0),It([V({localizable:!0,onSet:function(e,n){n.updateDescriptionVisibility(e)}})],t.prototype,"description",void 0),t}(be),xa=function(r){return r[r.InsideEmptyPanel=1]="InsideEmptyPanel",r[r.MultilineRight=2]="MultilineRight",r[r.MultilineLeft=3]="MultilineLeft",r[r.Top=4]="Top",r[r.Right=5]="Right",r[r.Bottom=6]="Bottom",r[r.Left=7]="Left",r}(xa||{}),et=function(r){Ca(t,r);function t(e){var n=r.call(this)||this;return n.selectedElementInDesignValue=n,n.disableDesignActions=t.CreateDisabledDesignElements,n.parentQuestionValue=null,n.isContentElement=!1,n.isEditableTemplateElement=!1,n.isInteractiveDesignElement=!0,n.isSingleInRow=!0,n._renderedIsExpanded=!0,n._isAnimatingCollapseExpand=!1,n.animationCollapsed=new qr(n.getExpandCollapseAnimationOptions(),function(i){n._renderedIsExpanded=i,n.animationAllowed&&(i?n.isAnimatingCollapseExpand=!0:n.updateElementCss(!1))},function(){return n.renderedIsExpanded}),n.onAfterRenderElement=n.addEvent(),n.name=e,n.createNewArray("errors"),n.createNewArray("titleActions"),n.registerPropertyChangedHandlers(["isReadOnly"],function(){n.onReadOnlyChanged()}),n.registerPropertyChangedHandlers(["errors"],function(){n.updateVisibleErrors()}),n.registerPropertyChangedHandlers(["isSingleInRow"],function(){n.updateElementCss(!1)}),n.registerPropertyChangedHandlers(["minWidth","maxWidth","renderWidth","allowRootStyle","parent"],function(){n.updateRootStyle()}),n}return t.getProgressInfoByElements=function(e,n){for(var i=be.createProgressInfo(),o=0;o<e.length;o++)if(e[o].isVisible){var l=e[o].getProgressInfo();i.questionCount+=l.questionCount,i.answeredQuestionCount+=l.answeredQuestionCount,i.requiredQuestionCount+=l.requiredQuestionCount,i.requiredAnsweredQuestionCount+=l.requiredAnsweredQuestionCount}return n&&i.questionCount>0&&(i.requiredQuestionCount==0&&(i.requiredQuestionCount=1),i.answeredQuestionCount>0&&(i.requiredAnsweredQuestionCount=1)),i},t.IsNeedScrollIntoView=function(e,n,i){var o=i?-1:e.getBoundingClientRect().top,l=o<0,u=-1;if(!l&&n&&(u=e.getBoundingClientRect().left,l=u<0),!l&&p.isAvailable()){var d=p.getInnerHeight();if(l=d>0&&d<o,!l&&n){var m=p.getInnerWidth();l=m>0&&m<u}}return l},t.ScrollIntoView=function(e,n,i){if(e.scrollIntoView(n),typeof i=="function"){var o=null,l=0,u=function(){var d=e.getBoundingClientRect().top;if(d===o){if(l++>2){i();return}}else o=d,l=0;requestAnimationFrame(u)};p.requestAnimationFrame(u)}},t.ScrollElementToTop=function(e,n,i,o){var l=R.environment.root;if(!e||typeof l>"u")return!1;var u=l.getElementById(e);return t.ScrollElementToViewCore(u,!1,n,i,o)},t.ScrollElementToViewCore=function(e,n,i,o,l){if(!e||!e.scrollIntoView)return l&&l(),!1;var u=t.IsNeedScrollIntoView(e,n,i);return u?t.ScrollIntoView(e,o,l):l&&l(),u},t.GetFirstNonTextElement=function(e,n){if(n===void 0&&(n=!1),!e||!e.length||e.length==0)return null;if(n){var i=e[0];i.nodeName==="#text"&&(i.data=""),i=e[e.length-1],i.nodeName==="#text"&&(i.data="")}for(var o=0;o<e.length;o++)if(e[o].nodeName!="#text"&&e[o].nodeName!="#comment")return e[o];return null},t.FocusElement=function(e,n,i){if(!e||!g.isAvailable())return!1;var o=n?!1:t.focusElementCore(e,i);return o||setTimeout(function(){t.focusElementCore(e,i)},n?100:10),o},t.focusElementCore=function(e,n){var i=R.environment.root;if(!i&&!n)return!1;var o=n?n.querySelector("#"+CSS.escape(e)):i.getElementById(e);return o&&!o.disabled&&o.style.display!=="none"&&o.offsetParent!==null?(t.ScrollElementToViewCore(o,!0,!1),o.focus(),!0):!1},Object.defineProperty(t.prototype,"colSpan",{get:function(){return this.getPropertyValue("colSpan",1)},set:function(e){this.setPropertyValue("colSpan",e)},enumerable:!1,configurable:!0}),t.prototype.onPropertyValueChanged=function(e,n,i){r.prototype.onPropertyValueChanged.call(this,e,n,i),e==="state"&&(this.updateElementCss(!1),this.notifyStateChanged(n),this.stateChangedCallback&&this.stateChangedCallback())},t.prototype.getSkeletonComponentNameCore=function(){return this.survey?this.survey.getSkeletonComponentName(this):""},Object.defineProperty(t.prototype,"parentQuestion",{get:function(){return this.parentQuestionValue},enumerable:!1,configurable:!0}),t.prototype.setParentQuestion=function(e){this.parentQuestionValue=e,this.onParentQuestionChanged()},t.prototype.onParentQuestionChanged=function(){},t.prototype.updateElementVisibility=function(){this.setPropertyValue("isVisible",this.isVisible)},Object.defineProperty(t.prototype,"skeletonComponentName",{get:function(){return this.getSkeletonComponentNameCore()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this.getPropertyValue("state")},set:function(e){this.setPropertyValue("state",e),this.renderedIsExpanded=!(this.state==="collapsed"&&!this.isDesignMode)},enumerable:!1,configurable:!0}),t.prototype.notifyStateChanged=function(e){this.survey&&this.survey.elementContentVisibilityChanged(this)},Object.defineProperty(t.prototype,"isCollapsed",{get:function(){return this.state==="collapsed"&&!this.isDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isExpanded",{get:function(){return this.state==="expanded"},enumerable:!1,configurable:!0}),t.prototype.collapse=function(){this.isDesignMode||(this.state="collapsed")},t.prototype.expand=function(){this.state="expanded"},t.prototype.toggleState=function(){return this.isCollapsed?(this.expand(),!0):this.isExpanded?(this.collapse(),!1):!0},Object.defineProperty(t.prototype,"hasStateButton",{get:function(){return this.isExpanded||this.isCollapsed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shortcutText",{get:function(){return this.title||this.name},enumerable:!1,configurable:!0}),t.prototype.getTitleToolbar=function(){return this.titleToolbarValue||(this.titleToolbarValue=this.createActionContainer(!0),this.titleToolbarValue.locOwner=this,this.titleToolbarValue.containerCss=(this.isPanel?this.cssClasses.panel.titleBar:this.cssClasses.titleBar)||"sv-action-title-bar",this.titleToolbarValue.setItems(this.getTitleActions())),this.titleToolbarValue},t.prototype.createActionContainer=function(e){var n=e?new Ai:new Vt;return this.survey&&this.survey.getCss().actionBar&&(n.cssClasses=this.survey.getCss().actionBar),n},Object.defineProperty(t.prototype,"titleActions",{get:function(){return this.getPropertyValue("titleActions")},enumerable:!1,configurable:!0}),t.prototype.getTitleActions=function(){return this.isTitleActionRequested||(this.updateTitleActions(),this.isTitleActionRequested=!0),this.titleActions},t.prototype.getDefaultTitleActions=function(){return[]},t.prototype.updateTitleActions=function(){var e=this.getDefaultTitleActions();this.survey&&(e=this.survey.getUpdatedElementTitleActions(this,e)),this.setPropertyValue("titleActions",e)},t.prototype.locStrsChanged=function(){r.prototype.locStrsChanged.call(this),this.titleToolbarValue&&this.titleToolbarValue.locStrsChanged()},Object.defineProperty(t.prototype,"hasTitleActions",{get:function(){return this.getTitleActions().length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTitleEvents",{get:function(){return this.state!==void 0&&this.state!=="default"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleTabIndex",{get:function(){return!this.isPage&&this.state!=="default"?0:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleAriaExpanded",{get:function(){if(!(this.isPage||this.state==="default"))return this.state==="expanded"?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleAriaRole",{get:function(){if(!(this.isPage||this.state==="default"))return"button"},enumerable:!1,configurable:!0}),t.prototype.setSurveyImpl=function(e,n){this.surveyImplValue=e,this.surveyImplValue?(this.surveyDataValue=this.surveyImplValue.getSurveyData(),this.setSurveyCore(this.surveyImplValue.getSurvey()),this.textProcessorValue=this.surveyImplValue.getTextProcessor(),this.onSetData()):(this.setSurveyCore(null),this.surveyDataValue=null),this.survey&&(this.updateDescriptionVisibility(this.description),this.clearCssClasses())},t.prototype.canRunConditions=function(){return r.prototype.canRunConditions.call(this)&&!!this.data},t.prototype.getDataFilteredValues=function(){return this.data?this.data.getFilteredValues():{}},t.prototype.getDataFilteredProperties=function(){var e=this.data?this.data.getFilteredProperties():{};return e.question=this,e},Object.defineProperty(t.prototype,"surveyImpl",{get:function(){return this.surveyImplValue},enumerable:!1,configurable:!0}),t.prototype.__setData=function(e){R.supportCreatorV2&&(this.surveyDataValue=e)},Object.defineProperty(t.prototype,"data",{get:function(){return this.surveyDataValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"survey",{get:function(){return this.getSurvey()},enumerable:!1,configurable:!0}),t.prototype.getSurvey=function(e){return e===void 0&&(e=!1),this.surveyValue?this.surveyValue:(this.surveyImplValue&&this.setSurveyCore(this.surveyImplValue.getSurvey()),this.surveyValue)},t.prototype.setSurveyCore=function(e){this.surveyValue=e,this.surveyChangedCallback&&this.surveyChangedCallback()},Object.defineProperty(t.prototype,"skeletonHeight",{get:function(){var e=void 0;return this.survey&&this.survey.skeletonHeight&&(e=this.survey.skeletonHeight+"px"),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isInternal",{get:function(){return this.isContentElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"areInvisibleElementsShowing",{get:function(){return!!this.survey&&this.survey.areInvisibleElementsShowing&&!this.isContentElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this.readOnly},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"readOnly",{get:function(){return this.getPropertyValue("readOnly")},set:function(e){this.readOnly!=e&&(this.setPropertyValue("readOnly",e),this.isLoadingFromJson||this.setPropertyValue("isReadOnly",this.isReadOnly))},enumerable:!1,configurable:!0}),t.prototype.onReadOnlyChanged=function(){this.readOnlyChangedCallback&&this.readOnlyChangedCallback()},Object.defineProperty(t.prototype,"css",{get:function(){return this.survey?this.survey.getCss():{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssClassesValue",{get:function(){var e=this.getPropertyValueWithoutDefault("cssClassesValue");return!e&&!this.isCssValueCalculating&&(this.isCssValueCalculating=!0,e=this.createCssClassesValue(),this.isCssValueCalculating=!1),e},enumerable:!1,configurable:!0}),t.prototype.ensureCssClassesValue=function(){this.cssClassesValue||this.createCssClassesValue()},t.prototype.createCssClassesValue=function(){var e=this.calcCssClasses(this.css);return this.setPropertyValue("cssClassesValue",e),this.onCalcCssClasses(e),this.updateElementCssCore(this.cssClassesValue),e},t.prototype.onCalcCssClasses=function(e){},Object.defineProperty(t.prototype,"cssClasses",{get:function(){var e=this.cssClassesValue;return this.survey?(this.ensureCssClassesValue(),this.cssClassesValue):this.calcCssClasses(this.css)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssTitleNumber",{get:function(){var e=this.cssClasses;return e.number?e.number:e.panel?e.panel.number:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssRequiredText",{get:function(){var e=this.cssClasses;return e.requiredText||e.panel&&e.panel.requiredText},enumerable:!1,configurable:!0}),t.prototype.getCssTitleExpandableSvg=function(){return this.state==="default"?null:this.cssClasses.titleExpandableSvg},t.prototype.calcCssClasses=function(e){},t.prototype.updateElementCssCore=function(e){},Object.defineProperty(t.prototype,"cssError",{get:function(){return""},enumerable:!1,configurable:!0}),t.prototype.updateElementCss=function(e){this.clearCssClasses()},t.prototype.clearCssClasses=function(){this.resetPropertyValue("cssClassesValue")},t.prototype.getIsLoadingFromJson=function(){return r.prototype.getIsLoadingFromJson.call(this)?!0:this.surveyValue?this.surveyValue.isLoadingFromJson:!1},Object.defineProperty(t.prototype,"name",{get:function(){return this.getPropertyValue("name","")},set:function(e){var n=this.name;this.setPropertyValue("name",this.getValidName(e)),!this.isLoadingFromJson&&n&&this.onNameChanged(n)},enumerable:!1,configurable:!0}),t.prototype.getValidName=function(e){return e},t.prototype.onNameChanged=function(e){},t.prototype.updateBindingValue=function(e,n){this.data&&!this.isTwoValueEquals(n,this.data.getValue(e))&&this.data.setValue(e,n,!1)},Object.defineProperty(t.prototype,"errors",{get:function(){return this.getPropertyValue("errors")},set:function(e){this.setPropertyValue("errors",e)},enumerable:!1,configurable:!0}),t.prototype.updateVisibleErrors=function(){for(var e=0,n=0;n<this.errors.length;n++)this.errors[n].visible&&e++;this.hasVisibleErrors=e>0},Object.defineProperty(t.prototype,"containsErrors",{get:function(){return this.getPropertyValue("containsErrors",!1)},enumerable:!1,configurable:!0}),t.prototype.updateContainsErrors=function(){this.setPropertyValue("containsErrors",this.getContainsErrors())},t.prototype.getContainsErrors=function(){return this.errors.length>0},Object.defineProperty(t.prototype,"selectedElementInDesign",{get:function(){return this.selectedElementInDesignValue},set:function(e){this.selectedElementInDesignValue=e},enumerable:!1,configurable:!0}),t.prototype.updateCustomWidgets=function(){},t.prototype.onSurveyLoad=function(){},Object.defineProperty(t.prototype,"wasRendered",{get:function(){return!!this.wasRenderedValue},enumerable:!1,configurable:!0}),t.prototype.onFirstRendering=function(){this.wasRendered||(this.wasRenderedValue=!0,this.onFirstRenderingCore())},t.prototype.onFirstRenderingCore=function(){this.ensureCssClassesValue()},t.prototype.endLoadingFromJson=function(){r.prototype.endLoadingFromJson.call(this),this.survey||this.onSurveyLoad(),this.updateDescriptionVisibility(this.description)},t.prototype.setVisibleIndex=function(e){return 0},t.prototype.delete=function(e){},t.prototype.getLocale=function(){return this.survey?this.survey.getLocale():this.locOwner?this.locOwner.getLocale():""},t.prototype.getMarkdownHtml=function(e,n){return this.survey?this.survey.getSurveyMarkdownHtml(this,e,n):this.locOwner?this.locOwner.getMarkdownHtml(e,n):void 0},t.prototype.getRenderer=function(e){return this.survey&&typeof this.survey.getRendererForString=="function"?this.survey.getRendererForString(this,e):this.locOwner&&typeof this.locOwner.getRenderer=="function"?this.locOwner.getRenderer(e):null},t.prototype.getRendererContext=function(e){return this.survey&&typeof this.survey.getRendererContextForString=="function"?this.survey.getRendererContextForString(this,e):this.locOwner&&typeof this.locOwner.getRendererContext=="function"?this.locOwner.getRendererContext(e):e},t.prototype.getProcessedText=function(e){return this.isLoadingFromJson?e:this.textProcessor?this.textProcessor.processText(e,this.getUseDisplayValuesInDynamicTexts()):this.locOwner?this.locOwner.getProcessedText(e):e},t.prototype.getUseDisplayValuesInDynamicTexts=function(){return!0},t.prototype.removeSelfFromList=function(e){if(!(!e||!Array.isArray(e))){var n=e.indexOf(this);n>-1&&e.splice(n,1)}},Object.defineProperty(t.prototype,"textProcessor",{get:function(){return this.textProcessorValue},enumerable:!1,configurable:!0}),t.prototype.getProcessedHtml=function(e){return!e||!this.textProcessor?e:this.textProcessor.processText(e,!0)},t.prototype.onSetData=function(){},Object.defineProperty(t.prototype,"parent",{get:function(){return this.getPropertyValue("parent",null)},set:function(e){this.setPropertyValue("parent",e)},enumerable:!1,configurable:!0}),t.prototype.getPage=function(e){for(;e&&e.parent;)e=e.parent;return e&&e.isPage?e:null},t.prototype.moveToBase=function(e,n,i){if(i===void 0&&(i=null),!n)return!1;e.removeElement(this);var o=-1;return D.isNumber(i)&&(o=parseInt(i)),o==-1&&i&&i.getType&&(o=n.indexOf(i)),n.addElement(this,o),!0},t.prototype.setPage=function(e,n){var i=this.getPage(e);if(this.prevSurvey=this.survey,typeof n=="string"){var o=this.getSurvey();o.pages.forEach(function(l){n===l.name&&(n=l)})}i!==n&&(e&&e.removeElement(this),n&&n.addElement(this,-1),this.prevSurvey=void 0)},t.prototype.getSearchableLocKeys=function(e){e.push("title"),e.push("description")},Object.defineProperty(t.prototype,"isDefaultV2Theme",{get:function(){return this.survey&&this.survey.getCss().root.indexOf("sd-root-modern")!==-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasParent",{get:function(){return this.parent&&!this.parent.isPage||this.parent===void 0},enumerable:!1,configurable:!0}),t.prototype.shouldAddRunnerStyles=function(){return!this.isDesignMode&&this.isDefaultV2Theme},Object.defineProperty(t.prototype,"isCompact",{get:function(){return this.survey&&this.survey.isCompact},enumerable:!1,configurable:!0}),t.prototype.canHaveFrameStyles=function(){return this.parent!==void 0&&(!this.hasParent||this.parent&&this.parent.showPanelAsPage)},t.prototype.getHasFrameV2=function(){return this.shouldAddRunnerStyles()&&this.canHaveFrameStyles()},t.prototype.getIsNested=function(){return this.shouldAddRunnerStyles()&&!this.canHaveFrameStyles()},t.prototype.getCssRoot=function(e){var n=!!this.isCollapsed||!!this.isExpanded;return new F().append(e.withFrame,this.getHasFrameV2()&&!this.isCompact).append(e.compact,this.isCompact&&this.getHasFrameV2()).append(e.collapsed,!!this.isCollapsed).append(e.expandableAnimating,n&&this.isAnimatingCollapseExpand).append(e.expanded,!!this.isExpanded&&this.renderedIsExpanded).append(e.expandable,n).append(e.nested,this.getIsNested()).toString()},Object.defineProperty(t.prototype,"width",{get:function(){return this.getPropertyValue("width","")},set:function(e){this.setPropertyValue("width",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth")},set:function(e){this.setPropertyValue("minWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this.getPropertyValue("maxWidth")},set:function(e){this.setPropertyValue("maxWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderWidth",{get:function(){return this.getPropertyValue("renderWidth","")},set:function(e){this.setPropertyValue("renderWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"indent",{get:function(){return this.getPropertyValue("indent")},set:function(e){this.setPropertyValue("indent",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightIndent",{get:function(){return this.getPropertyValue("rightIndent",0)},set:function(e){this.setPropertyValue("rightIndent",e)},enumerable:!1,configurable:!0}),t.prototype.getRootStyle=function(){var e={};return this.paddingLeft&&(e["--sv-element-add-padding-left"]=this.paddingLeft),this.paddingRight&&(e["--sv-element-add-padding-right"]=this.paddingRight),e},Object.defineProperty(t.prototype,"paddingLeft",{get:function(){var e=this;return this.getPropertyValue("paddingLeft",void 0,function(){return e.calcPaddingLeft()})},enumerable:!1,configurable:!0}),t.prototype.calcPaddingLeft=function(){return""},Object.defineProperty(t.prototype,"paddingRight",{get:function(){var e=this;return this.getPropertyValue("paddingRight",void 0,function(){return e.calcPaddingRight()})},set:function(e){this.setPropertyValue("paddingRight",e)},enumerable:!1,configurable:!0}),t.prototype.calcPaddingRight=function(){return""},t.prototype.resetIndents=function(){this.resetPropertyValue("paddingLeft"),this.resetPropertyValue("paddingRight")},t.prototype.updateRootStyle=function(){var e={},n;if(this.parent){var i=this.parent.getColumsForElement(this);n=i.reduce(function(u,d){return d.effectiveWidth+u},0),n&&n!==100&&(e.flexGrow=1,e.flexShrink=0,e.flexBasis=n+"%",e.minWidth=void 0,e.maxWidth=this.maxWidth)}if(Object.keys(e).length==0){var o=""+this.minWidth;if(o&&o!="auto"){if(o.indexOf("px")!=-1&&this.survey){o=o.replace("px","");var l=parseFloat(o);isNaN(l)||(o=l*this.survey.widthScale/100,o=""+o+"px")}o="min(100%, "+o+")"}this.allowRootStyle&&this.renderWidth&&(e.flexGrow=1,e.flexShrink=1,e.flexBasis=this.renderWidth,e.minWidth=o,e.maxWidth=this.maxWidth)}this.rootStyle=e},t.prototype.isContainsSelection=function(e){var n=void 0,i=g.getDocument();if(g.isAvailable()&&i&&i.selection)n=i.selection.createRange().parentElement();else{var o=p.getSelection();if(o&&o.rangeCount>0){var l=o.getRangeAt(0);l.startOffset!==l.endOffset&&(n=l.startContainer.parentNode)}}return n==e},Object.defineProperty(t.prototype,"clickTitleFunction",{get:function(){var e=this;if(this.needClickTitleFunction())return function(n){if(!(n&&e.isContainsSelection(n.target)))return e.processTitleClick()}},enumerable:!1,configurable:!0}),t.prototype.needClickTitleFunction=function(){return this.state!=="default"},t.prototype.processTitleClick=function(){this.state!=="default"&&this.toggleState()},Object.defineProperty(t.prototype,"hasAdditionalTitleToolbar",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"additionalTitleToolbar",{get:function(){return this.getAdditionalTitleToolbar()},enumerable:!1,configurable:!0}),t.prototype.getAdditionalTitleToolbar=function(){return null},t.prototype.getCssTitle=function(e){if(!e)return"";var n=this.state!=="default",i=4;return new F().append(e.title).append(e.titleNumInline,(this.no||"").length>i||n).append(e.titleExpandable,n).append(e.titleExpanded,this.isExpanded).append(e.titleCollapsed,this.isCollapsed).append(e.titleDisabled,this.isDisabledStyle).append(e.titleReadOnly,this.isReadOnly).append(e.titleOnError,this.containsErrors).toString()},Object.defineProperty(t.prototype,"isDisabledStyle",{get:function(){return this.getIsDisableAndReadOnlyStyles(!1)[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnlyStyle",{get:function(){return this.getIsDisableAndReadOnlyStyles(!1)[0]},enumerable:!1,configurable:!0}),t.prototype.getIsDisableAndReadOnlyStyles=function(e){var n=this.isPreviewStyle,i=e||this.isReadOnly,o=i&&!n,l=!this.isDefaultV2Theme&&(i||n);return[o,l]},Object.defineProperty(t.prototype,"isPreviewStyle",{get:function(){return!!this.survey&&this.survey.state==="preview"},enumerable:!1,configurable:!0}),t.prototype.localeChanged=function(){r.prototype.localeChanged.call(this),this.updateDescriptionVisibility(this.description),this.errors.length>0&&this.errors.forEach(function(e){e.updateText()})},t.prototype.setWrapperElement=function(e){this.wrapperElement=e},t.prototype.getWrapperElement=function(){return this.wrapperElement},Object.defineProperty(t.prototype,"isAnimatingCollapseExpand",{get:function(){return this._isAnimatingCollapseExpand||this._renderedIsExpanded!=this.isExpanded},set:function(e){e!==this._isAnimatingCollapseExpand&&(this._isAnimatingCollapseExpand=e,this.updateElementCss(!1))},enumerable:!1,configurable:!0}),t.prototype.onElementExpanded=function(e){},t.prototype.getExpandCollapseAnimationOptions=function(){var e=this,n=function(o){e.isAnimatingCollapseExpand=!0,Tt(o)},i=function(o){e.isAnimatingCollapseExpand=!1,pt(o)};return{getRerenderEvent:function(){return e.onElementRerendered},getEnterOptions:function(){var o=e.isPanel?e.cssClasses.panel:e.cssClasses;return{cssClass:o.contentEnter,onBeforeRunAnimation:n,onAfterRunAnimation:function(l){i(l),e.onElementExpanded(!0)}}},getLeaveOptions:function(){var o=e.isPanel?e.cssClasses.panel:e.cssClasses;return{cssClass:o.contentLeave,onBeforeRunAnimation:n,onAfterRunAnimation:i}},getAnimatedElement:function(){var o,l=e.isPanel?e.cssClasses.panel:e.cssClasses;if(l.content){var u=ct(l.content);if(u)return(o=e.getWrapperElement())===null||o===void 0?void 0:o.querySelector(":scope "+u)}},isAnimationEnabled:function(){return e.isExpandCollapseAnimationEnabled}}},Object.defineProperty(t.prototype,"isExpandCollapseAnimationEnabled",{get:function(){return this.animationAllowed&&!this.isDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedIsExpanded",{get:function(){return!!this._renderedIsExpanded},set:function(e){var n=this._renderedIsExpanded;this.animationCollapsed.sync(e),!this.isExpandCollapseAnimationEnabled&&!n&&this.renderedIsExpanded&&this.onElementExpanded(!1)},enumerable:!1,configurable:!0}),t.prototype.getIsAnimationAllowed=function(){return r.prototype.getIsAnimationAllowed.call(this)&&!!this.survey&&!this.survey.isEndLoadingFromJson},t.prototype.afterRenderCore=function(e){this.onAfterRenderElement.fire(this,{htmlElement:e})},t.prototype.dispose=function(){r.prototype.dispose.call(this),this.titleToolbarValue&&this.titleToolbarValue.dispose()},t.CreateDisabledDesignElements=!1,It([V({defaultValue:null})],t.prototype,"dragTypeOverMe",void 0),It([V({defaultValue:!1})],t.prototype,"isDragMe",void 0),It([V({onSet:function(e,n){n.colSpan=e}})],t.prototype,"effectiveColSpan",void 0),It([V({defaultValue:!1})],t.prototype,"hasVisibleErrors",void 0),It([V({defaultValue:!0})],t.prototype,"isSingleInRow",void 0),It([V({defaultValue:!0})],t.prototype,"allowRootStyle",void 0),It([V()],t.prototype,"rootStyle",void 0),It([V()],t.prototype,"_renderedIsExpanded",void 0),t}(Li),Id=function(){function r(t,e,n){var i=this;n===void 0&&(n=100),this._elements=t,this._renderedHandler=e,this._elementsToRenderCount=0,this._elementsToRenderTimer=void 0,this._elementRenderedHandler=function(o,l){var u;(u=o.onAfterRenderElement)===null||u===void 0||u.remove(i._elementRenderedHandler),i._elementsToRenderCount--,i._elementsToRenderCount<=0&&i.visibleElementsRendered()},this._elements.forEach(function(o){o.onAfterRenderElement&&(o.onAfterRenderElement.add(i._elementRenderedHandler),i._elementsToRenderCount++)}),this._elementsToRenderCount>0?this._elementsToRenderTimer=setTimeout(function(){i._elementsToRenderCount>0&&i.visibleElementsRendered()},n):this.visibleElementsRendered()}return r.prototype.stopWaitingForElementsRendering=function(){var t=this;this._elementsToRenderTimer&&(clearTimeout(this._elementsToRenderTimer),this._elementsToRenderTimer=void 0),this._elements.forEach(function(e){var n;(n=e.onAfterRenderElement)===null||n===void 0||n.remove(t._elementRenderedHandler)}),this._elementsToRenderCount=0},r.prototype.visibleElementsRendered=function(){var t=this._renderedHandler;this.dispose(),typeof t=="function"&&t()},r.prototype.dispose=function(){this.stopWaitingForElementsRendering(),this._elements=void 0,this._renderedHandler=void 0},r}(),bt=function(){function r(t,e,n,i){e===void 0&&(e=!1),this.owner=t,this.useMarkdown=e,this.name=n,this.values={},this.htmlValues={},this.onStringChanged=new ft,this._localizationName=i,this.onCreating()}return Object.defineProperty(r,"defaultLocale",{get:function(){return R.localization.defaultLocaleName},set:function(t){R.localization.defaultLocaleName=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"localizationName",{get:function(){return this._localizationName},set:function(t){this._localizationName!=t&&(this._localizationName=t,this.strChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"allowLineBreaks",{get:function(){var t;return this._allowLineBreaks===void 0&&(this._allowLineBreaks=!1,this.name&&this.owner instanceof Li&&(this._allowLineBreaks=((t=L.findProperty(this.owner.getType(),this.name))===null||t===void 0?void 0:t.type)=="text")),this._allowLineBreaks},enumerable:!1,configurable:!0}),r.prototype.getIsMultiple=function(){return!1},Object.defineProperty(r.prototype,"locale",{get:function(){if(this.owner&&this.owner.getLocale){var t=this.owner.getLocale();if(t||!this.sharedData)return t}return this.sharedData?this.sharedData.locale:""},enumerable:!1,configurable:!0}),r.prototype.strChanged=function(){this.searchableText=void 0,!(this.renderedText===void 0&&this.isEmpty&&!this.onGetTextCallback&&!this.localizationName)&&(this.calculatedTextValue=this.calcText(),this.renderedText!==this.calculatedTextValue&&(this.renderedText=void 0,this.calculatedTextValue=void 0),this.htmlValues={},this.onChanged(),this.onStringChanged.fire(this,{}))},Object.defineProperty(r.prototype,"text",{get:function(){return this.pureText},set:function(t){this.setLocaleText(this.locale,t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"calculatedText",{get:function(){return this.renderedText=this.calculatedTextValue!==void 0?this.calculatedTextValue:this.calcText(),this.calculatedTextValue=void 0,this.renderedText},enumerable:!1,configurable:!0}),r.prototype.calcText=function(){var t=this.pureText;return t&&this.owner&&this.owner.getProcessedText&&t.indexOf("{")>-1&&(t=this.owner.getProcessedText(t)),this.onGetTextCallback&&(t=this.onGetTextCallback(t)),t},Object.defineProperty(r.prototype,"pureText",{get:function(){var t=this.locale;t||(t=this.defaultLoc);var e=this.getValue(t);if(this.isValueEmpty(e)&&t===this.defaultLoc&&(e=this.getValue(Ye.defaultLocale)),this.isValueEmpty(e)){var n=this.getRootDialect(t);n&&(e=this.getValue(n))}return this.isValueEmpty(e)&&t!==this.defaultLoc&&(e=this.getValue(this.defaultLoc)),this.isValueEmpty(e)&&this.getLocalizationName()&&(e=this.getLocalizationStr(),this.onGetLocalizationTextCallback&&(e=this.onGetLocalizationTextCallback(e))),e||(e=this.defaultValue||""),e},enumerable:!1,configurable:!0}),r.prototype.getRootDialect=function(t){if(!t)return t;var e=t.indexOf("-");return e>-1?t.substring(0,e):""},r.prototype.getLocalizationName=function(){return this.sharedData?this.sharedData.localizationName:this.localizationName},r.prototype.getLocalizationStr=function(){var t=this.getLocalizationName();return t?Ge(t,this.locale):""},Object.defineProperty(r.prototype,"hasHtml",{get:function(){return this.hasHtmlValue()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"html",{get:function(){return this.hasHtml?this.getHtmlValue():""},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isEmpty",{get:function(){return this.getValuesKeys().length==0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textOrHtml",{get:function(){return this.hasHtml?this.getHtmlValue():this.calculatedText},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"renderedHtml",{get:function(){return this.textOrHtml},enumerable:!1,configurable:!0}),r.prototype.getLocaleText=function(t){var e=this.getLocaleTextCore(t);return e||""},r.prototype.getLocaleTextCore=function(t){return t||(t=this.defaultLoc),this.getValue(t)},r.prototype.isLocaleTextEqualsWithDefault=function(t,e){var n=this.getLocaleTextCore(t);return n===e?!0:this.isValueEmpty(n)&&this.isValueEmpty(e)},r.prototype.clear=function(){this.setJson(void 0)},r.prototype.clearLocale=function(t){this.setLocaleText(t,void 0)},r.prototype.setLocaleText=function(t,e){if(t=this.getValueLoc(t),t&&e===void 0){var n=this.getValue(t);n!==void 0&&(this.deleteValue(t),this.fireStrChanged(t,n));return}if(!this.storeDefaultText&&this.isLocaleTextEqualsWithDefault(t,e)){if(!this.isValueEmpty(e)||t&&t!==this.defaultLoc)return;var i=Ye.defaultLocale,o=this.getValue(i);i&&!this.isValueEmpty(o)&&(this.setValue(i,e),this.fireStrChanged(i,o));return}if(!(!R.localization.storeDuplicatedTranslations&&!this.isValueEmpty(e)&&t&&t!=this.defaultLoc&&!this.getValue(t)&&e==this.getLocaleText(this.defaultLoc))){var l=this.curLocale;t||(t=this.defaultLoc);var u=this.onStrChanged&&t===l?this.pureText:void 0;delete this.htmlValues[t],this.isValueEmpty(e)?this.deleteValue(t):typeof e=="string"&&(this.canRemoveLocValue(t,e)?this.setLocaleText(t,null):(this.setValue(t,e),t==this.defaultLoc&&this.deleteValuesEqualsToDefault(e))),this.fireStrChanged(t,u)}},r.prototype.isValueEmpty=function(t){return t==null?!0:this.localizationName?!1:t===""},Object.defineProperty(r.prototype,"curLocale",{get:function(){return this.locale?this.locale:this.defaultLoc},enumerable:!1,configurable:!0}),r.prototype.canRemoveLocValue=function(t,e){if(R.localization.storeDuplicatedTranslations||t===this.defaultLoc)return!1;var n=this.getRootDialect(t);if(n){var i=this.getLocaleText(n);return i?i==e:this.canRemoveLocValue(n,e)}else return e==this.getLocaleText(this.defaultLoc)},r.prototype.fireStrChanged=function(t,e){if(this.strChanged(),!!this.onStrChanged){var n=this.pureText;(t!==this.curLocale||e!==n)&&this.onStrChanged(e,n)}},r.prototype.hasNonDefaultText=function(){var t=this.getValuesKeys();return t.length==0?!1:t.length>1||t[0]!=this.defaultLoc},r.prototype.getLocales=function(){var t=this.getValuesKeys();return t.length==0?[]:t},r.prototype.getJson=function(){if(this.sharedData)return this.sharedData.getJson();var t=this.getValuesKeys();if(t.length==0){if(this.serializeCallBackText){var e=this.calcText();if(e)return e}return null}if(t.length==1&&t[0]==R.localization.defaultLocaleName&&!R.serialization.localizableStringSerializeAsObject)return this.values[t[0]];var n={};for(var i in this.values)n[i]=this.values[i];return n},r.prototype.setJson=function(t,e){if(this.sharedData){this.sharedData.setJson(t,e);return}if(this.values={},this.htmlValues={},t!=null)if(e)typeof t=="string"?this.values[R.defaultLocaleName]=t:(this.values=t,delete this.values.pos);else{if(typeof t=="string")this.setLocaleText(null,t);else for(var n in t)this.setLocaleText(n,t[n]);this.strChanged()}},Object.defineProperty(r.prototype,"renderAs",{get:function(){return!this.owner||typeof this.owner.getRenderer!="function"?r.defaultRenderer:this.owner.getRenderer(this.name)||r.defaultRenderer},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"renderAsData",{get:function(){return!this.owner||typeof this.owner.getRendererContext!="function"?this:this.owner.getRendererContext(this)||this},enumerable:!1,configurable:!0}),r.prototype.equals=function(t){return this.sharedData?this.sharedData.equals(t):!t||!t.values?!1:D.isTwoValueEquals(this.values,t.values,!1,!0,!1)},r.prototype.setFindText=function(t){if(this.searchText!=t){if(this.searchText=t,!this.searchableText){var e=this.textOrHtml;this.searchableText=e?e.toLowerCase():""}var n=this.searchableText,i=n&&t?n.indexOf(t):void 0;return i<0&&(i=void 0),(i!=null||this.searchIndex!=i)&&(this.searchIndex=i,this.onSearchChanged&&this.onSearchChanged()),this.searchIndex!=null}},r.prototype.onChanged=function(){},r.prototype.onCreating=function(){},r.prototype.hasHtmlValue=function(){if(!this.owner||!this.useMarkdown)return!1;var t=this.locale;if(t||(t=this.defaultLoc),this.htmlValues[t]!==void 0)return!!this.htmlValues[t];var e=this.calculatedText;if(!e)return this.setHtmlValue(t,""),!1;if(this.getLocalizationName()&&e===this.getLocalizationStr())return this.setHtmlValue(t,""),!1;var n=this.owner.getMarkdownHtml(e,this.name);return this.setHtmlValue(t,n),!!n},r.prototype.setHtmlValue=function(t,e){this.htmlValues[t]=e},r.prototype.getHtmlValue=function(){var t=this.locale;return t||(t=this.defaultLoc),this.htmlValues[t]},r.prototype.deleteValuesEqualsToDefault=function(t){if(!R.localization.storeDuplicatedTranslations)for(var e=this.getValuesKeys(),n=0;n<e.length;n++)e[n]!=this.defaultLoc&&this.getValue(e[n])==t&&this.deleteValue(e[n])},r.prototype.getValue=function(t){return this.sharedData?this.sharedData.getValue(t):this.values[this.getValueLoc(t)]},r.prototype.setValue=function(t,e){this.sharedData?this.sharedData.setValue(t,e):this.values[this.getValueLoc(t)]=e},r.prototype.deleteValue=function(t){this.sharedData?this.sharedData.deleteValue(t):delete this.values[this.getValueLoc(t)]},r.prototype.getValueLoc=function(t){return this.disableLocalization?R.localization.defaultLocaleName:t},r.prototype.getValuesKeys=function(){return this.sharedData?this.sharedData.getValuesKeys():Object.keys(this.values)},Object.defineProperty(r.prototype,"defaultLoc",{get:function(){return R.localization.defaultLocaleName},enumerable:!1,configurable:!0}),r.SerializeAsObject=!1,r.defaultRenderer="sv-string-viewer",r.editableRenderer="sv-string-editor",r}(),_a=function(){function r(t){this.owner=t,this.values={}}return r.prototype.getIsMultiple=function(){return!0},Object.defineProperty(r.prototype,"locale",{get:function(){return this.owner&&this.owner.getLocale?this.owner.getLocale():""},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"value",{get:function(){return this.getValue("")},set:function(t){this.setValue("",t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return Array.isArray(this.value)?this.value.join(`
`):""},set:function(t){this.value=t?t.split(`
`):[]},enumerable:!1,configurable:!0}),r.prototype.getLocaleText=function(t){var e=this.getValueCore(t,!t||t===this.locale);return!e||!Array.isArray(e)||e.length==0?"":e.join(`
`)},r.prototype.setLocaleText=function(t,e){var n=e?e.split(`
`):null;this.setValue(t,n)},r.prototype.getValue=function(t){return this.getValueCore(t)},r.prototype.getValueCore=function(t,e){if(e===void 0&&(e=!0),t=this.getLocale(t),this.values[t])return this.values[t];if(e){var n=R.localization.defaultLocaleName;if(t!==n&&this.values[n])return this.values[n]}return[]},r.prototype.setValue=function(t,e){t=this.getLocale(t);var n=D.createCopy(this.values);!e||e.length==0?delete this.values[t]:this.values[t]=e,this.onValueChanged&&this.onValueChanged(n,this.values)},r.prototype.hasValue=function(t){return t===void 0&&(t=""),!this.isEmpty&&this.getValue(t).length>0},Object.defineProperty(r.prototype,"isEmpty",{get:function(){return this.getValuesKeys().length==0},enumerable:!1,configurable:!0}),r.prototype.getLocale=function(t){return t||(t=this.locale,t||R.localization.defaultLocaleName)},r.prototype.getLocales=function(){var t=this.getValuesKeys();return t.length==0?[]:t},r.prototype.getJson=function(){var t=this.getValuesKeys();return t.length==0?null:t.length==1&&t[0]==R.localization.defaultLocaleName&&!R.serialization.localizableStringSerializeAsObject?this.values[t[0]]:D.createCopy(this.values)},r.prototype.setJson=function(t){if(this.values={},!!t)if(Array.isArray(t))this.setValue(null,t);else for(var e in t)this.setValue(e,t[e])},r.prototype.getValuesKeys=function(){return Object.keys(this.values)},r}();function JV(r,t){for(var e=/(\.0+)+$/,n=r.replace(e,"").split("."),i=t.replace(e,"").split("."),o=Math.min(n.length,i.length),l=0;l<o;l++){var u=parseInt(n[l],10)-parseInt(i[l],10);if(u)return u}return n.length-i.length}function wa(r){return R&&R.confirmActionFunc?R.confirmActionFunc(r):confirm(r)}function Jn(r){var t=function(e){e?r.funcOnYes():r.funcOnNo&&r.funcOnNo()};R&&R.confirmActionAsync&&R.confirmActionAsync(r.message,t,r)||t(wa(r.message))}function KV(){var r=navigator.userAgent,t=r.indexOf("MSIE "),e=r.indexOf("Trident/");return t>-1||e>-1}function Kn(){if(typeof Kn.isIEOrEdge>"u"){var r=navigator.userAgent,t=r.indexOf("MSIE "),e=r.indexOf("Trident/"),n=r.indexOf("Edge/");Kn.isIEOrEdge=n>0||e>0||t>0}return Kn.isIEOrEdge}function Pa(r,t){try{for(var e=atob(r.split(",")[1]),n=r.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(e.length),o=new Uint8Array(i),l=0;l<e.length;l++)o[l]=e.charCodeAt(l);var u=new Blob([i],{type:n});navigator&&navigator.msSaveBlob&&navigator.msSaveOrOpenBlob(u,t)}catch{}}function Td(){return p.isAvailable()&&p.hasOwn("orientation")}var Yn=function(r){return!!r&&!!("host"in r&&r.host)},Hr=function(r){var t=R.environment.root;return typeof r=="string"?t.getElementById(r):r};function Sd(r,t){if(t===void 0&&(t=0),typeof R.environment>"u")return!1;var e=R.environment.root,n=Yn(e)?e.host.clientHeight:e.documentElement.clientHeight,i=r.getBoundingClientRect(),o=Math.max(n,p.getInnerHeight()),l=-t,u=o+t,d=i.top,m=i.bottom,w=Math.max(l,d),E=Math.min(u,m);return w<=E}function Fi(r){var t=R.environment.root;return r?r.scrollHeight>r.clientHeight&&(getComputedStyle(r).overflowY==="scroll"||getComputedStyle(r).overflowY==="auto")||r.scrollWidth>r.clientWidth&&(getComputedStyle(r).overflowX==="scroll"||getComputedStyle(r).overflowX==="auto")?r:Fi(r.parentElement):Yn(t)?t.host:t.documentElement}function zr(r){var t=R.environment;if(t){var e=t.root,n=e.getElementById(r);if(n){var i=Fi(n);i&&setTimeout(function(){return i.dispatchEvent(new CustomEvent("scroll"))},10)}}}function Ed(r){var t=p.getLocation();!r||!t||(t.href=Md(r))}function Ur(r){return r?["url(",r,")"].join(""):""}function Od(r){return typeof r=="string"?/^data:((?:\w+\/(?:(?!;).)+)?)((?:;[^;]+?)*),(.+)$/.test(r):null}var Wr={changecamera:"flip-24x24",clear:"clear-24x24",cancel:"cancel-24x24",closecamera:"close-24x24",defaultfile:"file-72x72",choosefile:"folder-24x24",file:"toolbox-file-24x24",left:"chevronleft-16x16",modernbooleancheckchecked:"plus-32x32",modernbooleancheckunchecked:"minus-32x32",more:"more-24x24",navmenu_24x24:"navmenu-24x24",removefile:"error-24x24",takepicture:"camera-32x32",takepicture_24x24:"camera-24x24",v2check:"check-16x16",checked:"check-16x16",v2check_24x24:"check-24x24","back-to-panel_16x16":"restoredown-16x16",clear_16x16:"clear-16x16",close_16x16:"close-16x16",collapsedetail:"collapsedetails-16x16",expanddetail:"expanddetails-16x16","full-screen_16x16":"maximize-16x16",loading:"loading-48x48",minimize_16x16:"minimize-16x16",next_16x16:"chevronright-16x16",previous_16x16:"chevronleft-16x16","no-image":"noimage-48x48","ranking-dash":"rankingundefined-16x16","drag-n-drop":"drag-24x24","ranking-arrows":"reorder-24x24",restore_16x16:"fullsize-16x16",reset:"restore-24x24",search:"search-24x24",average:"smiley-rate5-24x24",excellent:"smiley-rate9-24x24",good:"smiley-rate7-24x24",normal:"smiley-rate6-24x24","not-good":"smiley-rate4-24x24",perfect:"smiley-rate10-24x24",poor:"smiley-rate3-24x24",terrible:"smiley-rate1-24x24","very-good":"smiley-rate8-24x24","very-poor":"smiley-rate2-24x24",add_16x16:"add-16x16",add_24x24:"add-24x24",alert_24x24:"warning-24x24",apply:"apply-24x24","arrow-down":"arrowdown-24x24","arrow-left":"arrowleft-24x24","arrow-left_16x16":"arrowleft-16x16",arrowleft:"arrowleft-16x16","arrow-right":"arrowright-24x24","arrow-right_16x16":"arrowright-16x16",arrowright:"arrowright-16x16","arrow-up":"arrowup-24x24",boolean:"toolbox-boolean-24x24","change-question-type_16x16":"speechbubble-16x16",checkbox:"toolbox-checkbox-24x24","collapse-detail_16x16":"minusbox-16x16","collapse-panel":"collapse-pg-24x24",collapse_16x16:"collapse-16x16","color-picker":"dropper-16x16",comment:"toolbox-longtext-24x24",config:"wrench-24x24",copy:"copy-24x24",default:"toolbox-customquestion-24x24",delete_16x16:"delete-16x16",delete_24x24:"delete-24x24",delete:"delete-24x24","description-hide":"hidehint-16x16",description:"hint-16x16","device-desktop":"desktop-24x24","device-phone":"phone-24x24","device-rotate":"rotate-24x24","device-tablet":"tablet-24x24",download:"download-24x24","drag-area-indicator":"drag-24x24","drag-area-indicator_24x16":"draghorizontal-24x16",v2dragelement_16x16:"draghorizontal-24x16","drop-down-arrow":"chevrondown-24x24","drop-down-arrow_16x16":"chevrondown-16x16",chevron_16x16:"chevrondown-16x16",dropdown:"toolbox-dropdown-24x24",duplicate_16x16:"copy-16x16",edit:"edit-24x24",edit_16x16:"edit-16x16","editing-finish":"finishedit-24x24",error:"error-16x16","expand-detail_16x16":"plusbox-16x16","expand-panel":"expand-pg-24x24",expand_16x16:"expand-16x16",expression:"toolbox-expression-24x24","fast-entry":"textedit-24x24",fix:"fix-24x24",html:"toolbox-html-24x24",image:"toolbox-image-24x24",imagepicker:"toolbox-imagepicker-24x24",import:"import-24x24","invisible-items":"invisible-24x24",language:"language-24x24",load:"import-24x24","logic-collapse":"collapse-24x24","logic-expand":"expand-24x24",logo:"image-48x48",matrix:"toolbox-matrix-24x24",matrixdropdown:"toolbox-multimatrix-24x24",matrixdynamic:"toolbox-dynamicmatrix-24x24",multipletext:"toolbox-multipletext-24x24",panel:"toolbox-panel-24x24",paneldynamic:"toolbox-dynamicpanel-24x24",preview:"preview-24x24",radiogroup:"toolbox-radiogroup-24x24",ranking:"toolbox-ranking-24x24",rating:"toolbox-rating-24x24",redo:"redo-24x24",remove_16x16:"remove-16x16",required:"required-16x16",save:"save-24x24","select-page":"selectpage-24x24",settings:"settings-24x24",settings_16x16:"settings-16x16",signaturepad:"toolbox-signature-24x24","switch-active_16x16":"switchon-16x16","switch-inactive_16x16":"switchoff-16x16",tagbox:"toolbox-tagbox-24x24",text:"toolbox-singleline-24x24",theme:"theme-24x24",toolbox:"toolbox-24x24",undo:"undo-24x24",visible:"visible-24x24",wizard:"wand-24x24",searchclear:"clear-16x16","chevron-16x16":"chevrondown-16x16",chevron:"chevrondown-24x24",progressbuttonv2:"arrowleft-16x16",right:"chevronright-16x16","add-lg":"add-24x24",add:"add-24x24"};function Va(r){var t=Rd(r);return t||$r(r)}function $r(r){var t="icon-",e=r.replace(t,""),n=Wr[e]||e;return t+n}function Rd(r){var t=R.customIcons[r];return t?$r(t):(r=$r(r),t=R.customIcons[r],t||null)}function Dd(r,t,e,n,i,o){if(i){r!=="auto"&&(i.style.width=(r||t||16)+"px",i.style.height=(r||e||16)+"px");var l=i.childNodes[0],u=Va(n);l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+u);var d=i.getElementsByTagName("title")[0];if(o)d||(d=g.getDocument().createElementNS("http://www.w3.org/2000/svg","title"),i.appendChild(d));else{d&&i.removeChild(d);return}d.textContent=o}}function Md(r){return r&&(r.toLocaleLowerCase().indexOf("javascript:")>-1?encodeURIComponent(r):r)}function Ad(r){return typeof r!="function"?r:r()}function gn(r){if(typeof r=="string")if(isNaN(Number(r))){if(r.includes("px"))return parseFloat(r)}else return Number(r);if(typeof r=="number")return r}function ji(r){if(gn(r)===void 0)return r}var Gr="sv-focused--by-key";function Ia(r){var t=r.target;!t||!t.classList||t.classList.remove(Gr)}function Ta(r,t){if(!(r.target&&r.target.contentEditable==="true")){var e=r.target;if(e){var n=r.which||r.keyCode;if(n===9){e.classList&&!e.classList.contains(Gr)&&e.classList.add(Gr);return}if(t){if(!t.__keyDownReceived)return;t.__keyDownReceived=!1}n===13||n===32?e.click&&e.click():(!t||t.processEsc)&&n===27&&e.blur&&e.blur()}}}function kd(r,t){if(t===void 0&&(t={processEsc:!0}),t&&(t.__keyDownReceived=!0),!(r.target&&r.target.contentEditable==="true")){var e=r.which||r.keyCode,n=[13,32];t.processEsc&&n.push(27),n.indexOf(e)!==-1&&r.preventDefault()}}function Zr(r,t){if(r){t||(t=function(n){return g.getComputedStyle(n)});var e=t(r);r.style.height="auto",r.scrollHeight&&(r.style.height=r.scrollHeight+parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth)+"px")}}function Ld(r){return r.originalEvent||r}function Sa(r){r.preventDefault(),r.stopPropagation()}function ct(r){if(!r)return r;var t=/\s*?([\w-]+)\s*?/g;return r.replace(t,".$1")}function Jr(r){return getComputedStyle?Number.parseFloat(getComputedStyle(r).width):r.offsetWidth}function Kr(r){return!!(r.offsetWidth||r.offsetHeight||r.getClientRects().length)}function Fd(r){for(var t,e=0;e<r.children.length;e++)!t&&getComputedStyle(r.children[e]).display!=="none"&&(t=r.children[e]);return t}function jd(r,t){if(r)return t.every(function(e){return!e||r.classList.contains(e)})?r:jd(r.parentElement,t)}function Bd(r,t){if(t===void 0&&(t=!0),p.isAvailable()&&g.isAvailable()&&r.childNodes.length>0){var e=p.getSelection();if(e.rangeCount==0)return;var n=e.getRangeAt(0);n.setStart(n.endContainer,n.endOffset),n.setEndAfter(r.lastChild),e.removeAllRanges(),e.addRange(n);var i=e.toString(),o=r.innerText;i=i.replace(/\r/g,""),t&&(i=i.replace(/\n/g,""),o=o.replace(/\n/g,""));var l=i.length;for(r.innerText=o,n=g.getDocument().createRange(),n.setStart(r.firstChild,0),n.setEnd(r.firstChild,0),e.removeAllRanges(),e.addRange(n);e.toString().length<o.length-l;){var u=e.toString().length;if(e.modify("extend","forward","character"),e.toString().length==u)break}n=e.getRangeAt(0),n.setStart(n.endContainer,n.endOffset)}}function Dn(r,t){if(!(!t||!r)&&typeof t=="object")for(var e in r){var n=r[e];!Array.isArray(n)&&n&&typeof n=="object"?((!t[e]||typeof t[e]!="object")&&(t[e]={}),Dn(n,t[e])):t[e]=n}}function Yr(r,t){var e={};Dn(t.list,e),Dn(r.list,e),r.list=e}var YV=function(){function r(){this._result=""}return r.prototype.log=function(t){this._result+="->"+t},Object.defineProperty(r.prototype,"result",{get:function(){return this._result},enumerable:!1,configurable:!0}),r}();function Nd(r,t,e){var n=new bt(void 0),i=R.showDialog({componentName:"sv-string-viewer",data:{locStr:n,locString:n,model:n},onApply:function(){return t(!0),!0},onCancel:function(){return t(!1),!1},title:r||e.message,displayMode:"popup",isFocusedContent:!1,cssClass:e.cssClass||"sv-popup--confirm"},e.rootElement),o=i.footerToolbar,l=o.getActionById("apply"),u=o.getActionById("cancel");return u.title=Ge("cancel",e.locale),u.innerCss="sv-popup__body-footer-item sv-popup__button sd-btn sd-btn--small",l.title=e.applyTitle||Ge("ok",e.locale),l.innerCss="sv-popup__body-footer-item sv-popup__button sv-popup__button--danger sd-btn sd-btn--small sd-btn--danger",qd(i),!0}function qd(r){r.width="min-content"}function Ea(r,t){p.isFileReaderAvailable()&&(r.value="",r.onchange=function(e){if(p.isFileReaderAvailable()&&!(!r||!r.files||r.files.length<1)){for(var n=[],i=0;i<r.files.length;i++)n.push(r.files[i]);t(n)}},r.click())}function Qd(r,t,e){var n=new Map,i=new Map,o=new Map,l=new Map;r.forEach(function(ie){var K=e(ie);if(!n.has(K))n.set(e(ie),ie);else throw new Error("keys must be unique")}),t.forEach(function(ie){var K=e(ie);if(!i.has(K))i.set(K,ie);else throw new Error("keys must be unique")});var u=[],d=[];i.forEach(function(ie,K){n.has(K)?o.set(K,o.size):u.push(ie)}),n.forEach(function(ie,K){i.has(K)?l.set(K,l.size):d.push(ie)});var m=[];o.forEach(function(ie,K){var ye=l.get(K),He=i.get(K);ye!==ie&&m.push({item:He,movedForward:ye<ie})});var w=new Array(r.length),E=0,A=Array.from(o.keys());r.forEach(function(ie,K){o.has(e(ie))?(w[K]=i.get(A[E]),E++):w[K]=ie});var U=new Map,W=[];w.forEach(function(ie){var K=e(ie);i.has(K)?W.length>0&&(U.set(K,W),W=[]):W.push(ie)});var se=new Array;return i.forEach(function(ie,K){U.has(K)&&U.get(K).forEach(function(ye){se.push(ye)}),se.push(ie)}),W.forEach(function(ie){se.push(ie)}),{reorderedItems:m,deletedItems:d,addedItems:u,mergedItems:se}}function Hd(r){if(g.isAvailable()){var t=g.getComputedStyle(r),e=t.paddingTop,n=t.paddingBottom,i=t.borderTopWidth,o=t.borderBottomWidth,l=t.marginTop,u=t.marginBottom,d=t.boxSizing,m=r.offsetHeight+"px";if(d=="content-box"){var w=r.offsetHeight;[o,i,n,e].forEach(function(E){w-=parseFloat(E)}),m=w+"px"}return{paddingTop:e,paddingBottom:n,borderTopWidth:i,borderBottomWidth:o,marginTop:l,marginBottom:u,heightFrom:"0px",heightTo:m}}else return}function Xn(r,t,e){var n;e===void 0&&(e="--animation-"),r.__sv_created_properties=(n=r.__sv_created_properties)!==null&&n!==void 0?n:[],Object.keys(t).forEach(function(i){var o=""+e+i.split(/\.?(?=[A-Z])/).join("-").toLowerCase();r.style.setProperty(o,t[i]),r.__sv_created_properties.push(o)})}function Tt(r){Xn(r,Hd(r))}function pt(r){Array.isArray(r.__sv_created_properties)&&(r.__sv_created_properties.forEach(function(t){r.style.removeProperty(t)}),delete r.__sv_created_properties)}function zd(r){return Math.floor(r*100)/100}var Bi=typeof globalThis<"u"?globalThis.document:(void 0).document,Ud=Bi?{root:Bi,_rootElement:g.getBody(),get rootElement(){var r;return(r=this._rootElement)!==null&&r!==void 0?r:g.getBody()},set rootElement(r){this._rootElement=r},_popupMountContainer:g.getBody(),get popupMountContainer(){var r;return(r=this._popupMountContainer)!==null&&r!==void 0?r:g.getBody()},set popupMountContainer(r){this._popupMountContainer=r},svgMountContainer:Bi.head,stylesSheetsMountContainer:Bi.head}:void 0,Wd={file:{minWidth:"240px"},comment:{minWidth:"200px"}},R={version:"",designMode:{showEmptyDescriptions:!0,showEmptyTitles:!0},get allowShowEmptyDescriptionInDesignMode(){return this.designMode.showEmptyDescriptions},set allowShowEmptyDescriptionInDesignMode(r){this.designMode.showEmptyDescriptions=r},get allowShowEmptyTitleInDesignMode(){return this.designMode.showEmptyTitles},set allowShowEmptyTitleInDesignMode(r){this.designMode.showEmptyTitles=r},localization:{useLocalTimeZone:!0,storeDuplicatedTranslations:!1,defaultLocaleName:"default"},get useLocalTimeZone(){return this.localization.useLocalTimeZone},set useLocalTimeZone(r){this.localization.useLocalTimeZone=r},get storeDuplicatedTranslations(){return this.localization.storeDuplicatedTranslations},set storeDuplicatedTranslations(r){this.localization.storeDuplicatedTranslations=r},get defaultLocaleName(){return this.localization.defaultLocaleName},set defaultLocaleName(r){this.localization.defaultLocaleName=r},web:{onBeforeRequestChoices:function(r,t){},encodeUrlParams:!0,cacheLoadedChoices:!0,disableQuestionWhileLoadingChoices:!1,surveyServiceUrl:"https://api.surveyjs.io/public/v1/Survey"},get webserviceEncodeParameters(){return this.web.encodeUrlParams},set webserviceEncodeParameters(r){this.web.encodeUrlParams=r},get useCachingForChoicesRestful(){return this.web.cacheLoadedChoices},set useCachingForChoicesRestful(r){this.web.cacheLoadedChoices=r},get useCachingForChoicesRestfull(){return this.web.cacheLoadedChoices},set useCachingForChoicesRestfull(r){this.web.cacheLoadedChoices=r},get disableOnGettingChoicesFromWeb(){return this.web.disableQuestionWhileLoadingChoices},set disableOnGettingChoicesFromWeb(r){this.web.disableQuestionWhileLoadingChoices=r},get surveyServiceUrl(){return this.web.surveyServiceUrl},set surveyServiceUrl(r){this.web.surveyServiceUrl=r},triggers:{changeNavigationButtonsOnComplete:!0,executeCompleteOnValueChanged:!1,executeSkipOnValueChanged:!0},get executeCompleteTriggerOnValueChanged(){return this.triggers.executeCompleteOnValueChanged},set executeCompleteTriggerOnValueChanged(r){this.triggers.executeCompleteOnValueChanged=r},get changeNavigationButtonsOnCompleteTrigger(){return this.triggers.changeNavigationButtonsOnComplete},set changeNavigationButtonsOnCompleteTrigger(r){this.triggers.changeNavigationButtonsOnComplete=r},get executeSkipTriggerOnValueChanged(){return this.triggers.executeSkipOnValueChanged},set executeSkipTriggerOnValueChanged(r){this.triggers.executeSkipOnValueChanged=r},serialization:{itemValueSerializeAsObject:!1,itemValueSerializeDisplayText:!1,localizableStringSerializeAsObject:!1,matrixDropdownColumnSerializeTitle:!1},get itemValueAlwaysSerializeAsObject(){return this.serialization.itemValueSerializeAsObject},set itemValueAlwaysSerializeAsObject(r){this.serialization.itemValueSerializeAsObject=r},get itemValueAlwaysSerializeText(){return this.serialization.itemValueSerializeDisplayText},set itemValueAlwaysSerializeText(r){this.serialization.itemValueSerializeDisplayText=r},get serializeLocalizableStringAsObject(){return this.serialization.localizableStringSerializeAsObject},set serializeLocalizableStringAsObject(r){this.serialization.localizableStringSerializeAsObject=r},lazyRender:{enabled:!1,firstBatchSize:3},get lazyRowsRendering(){return this.lazyRender.enabled},set lazyRowsRendering(r){this.lazyRender.enabled=r},get lazyRowsRenderingStartRow(){return this.lazyRender.firstBatchSize},set lazyRowsRenderingStartRow(r){this.lazyRender.firstBatchSize=r},matrix:{defaultCellType:"dropdown",defaultRowName:"default",totalsSuffix:"-total",maxRowCount:1e3,maxRowCountInCondition:1,renderRemoveAsIcon:!0,columnWidthsByType:Wd,rateSize:"small"},get matrixDefaultRowName(){return this.matrix.defaultRowName},set matrixDefaultRowName(r){this.matrix.defaultRowName=r},get matrixDefaultCellType(){return this.matrix.defaultCellType},set matrixDefaultCellType(r){this.matrix.defaultCellType=r},get matrixTotalValuePostFix(){return this.matrix.totalsSuffix},set matrixTotalValuePostFix(r){this.matrix.totalsSuffix=r},get matrixMaximumRowCount(){return this.matrix.maxRowCount},set matrixMaximumRowCount(r){this.matrix.maxRowCount=r},get matrixMaxRowCountInCondition(){return this.matrix.maxRowCountInCondition},set matrixMaxRowCountInCondition(r){this.matrix.maxRowCountInCondition=r},get matrixRenderRemoveAsIcon(){return this.matrix.renderRemoveAsIcon},set matrixRenderRemoveAsIcon(r){this.matrix.renderRemoveAsIcon=r},panel:{maxPanelCount:100,maxPanelCountInCondition:1},get panelDynamicMaxPanelCountInCondition(){return this.panel.maxPanelCountInCondition},set panelDynamicMaxPanelCountInCondition(r){this.panel.maxPanelCountInCondition=r},get panelMaximumPanelCount(){return this.panel.maxPanelCount},set panelMaximumPanelCount(r){this.panel.maxPanelCount=r},readOnly:{enableValidation:!1,commentRenderMode:"textarea",textRenderMode:"input"},get readOnlyCommentRenderMode(){return this.readOnly.commentRenderMode},set readOnlyCommentRenderMode(r){this.readOnly.commentRenderMode=r},get readOnlyTextRenderMode(){return this.readOnly.textRenderMode},set readOnlyTextRenderMode(r){this.readOnly.textRenderMode=r},numbering:{includeQuestionsWithHiddenNumber:!1,includeQuestionsWithHiddenTitle:!1},get setQuestionVisibleIndexForHiddenTitle(){return this.numbering.includeQuestionsWithHiddenTitle},set setQuestionVisibleIndexForHiddenTitle(r){this.numbering.includeQuestionsWithHiddenTitle=r},get setQuestionVisibleIndexForHiddenNumber(){return this.numbering.includeQuestionsWithHiddenNumber},set setQuestionVisibleIndexForHiddenNumber(r){this.numbering.includeQuestionsWithHiddenNumber=r},enterKeyAction:"default",comparator:{trimStrings:!0,caseSensitive:!1,normalizeTextCallback:function(r,t){return r}},expressionDisableConversionChar:"#",get commentPrefix(){return R.commentSuffix},set commentPrefix(r){R.commentSuffix=r},commentSuffix:"-Comment",itemValueSeparator:"|",ratingMaximumRateValueCount:20,tagboxCloseOnSelect:!1,dropdownSearchDelay:500,confirmActionFunc:function(r){return confirm(r)},confirmActionAsync:function(r,t,e){return Nd(r,t,e)},minWidth:"300px",maxWidth:"100%",maxConditionRunCountOnValueChanged:10,notifications:{lifetime:2e3},autoAdvanceDelay:300,showItemsInOrder:"default",noneItemValue:"none",refuseItemValue:"refused",dontKnowItemValue:"dontknow",specialChoicesOrder:{selectAllItem:[-1],noneItem:[1],refuseItem:[2],dontKnowItem:[3],otherItem:[4]},choicesSeparator:", ",supportedValidators:{question:["expression"],comment:["text","regex"],text:["numeric","text","regex","email"],checkbox:["answercount"],imagepicker:["answercount"]},minDate:"",maxDate:"",showModal:void 0,showDialog:void 0,supportCreatorV2:!1,showDefaultItemsInCreatorV2:!0,customIcons:{},rankingDragHandleArea:"entireItem",environment:Ud,showMaxLengthIndicator:!0,animationEnabled:!0,titleTags:{survey:"h3",page:"h4",panel:"h4",question:"h5"},questions:{inputTypes:["color","date","datetime-local","email","month","number","password","range","tel","text","time","url","week"],dataList:["","name","honorific-prefix","given-name","additional-name","family-name","honorific-suffix","nickname","organization-title","username","new-password","current-password","organization","street-address","address-line1","address-line2","address-line3","address-level4","address-level3","address-level2","address-level1","country","country-name","postal-code","cc-name","cc-given-name","cc-additional-name","cc-family-name","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc","cc-type","transaction-currency","transaction-amount","language","bday","bday-day","bday-month","bday-year","sex","url","photo","tel","tel-country-code","tel-national","tel-area-code","tel-local","tel-local-prefix","tel-local-suffix","tel-extension","email","impp"]},legacyProgressBarView:!1,maskSettings:{patternPlaceholderChar:"_",patternEscapeChar:"\\",patternDefinitions:{9:/[0-9]/,a:/[a-zA-Z]/,"#":/[a-zA-Z0-9]/}},storeUtcDates:!1,onDateCreated:function(r,t,e){return r},parseNumber:function(r,t){return t}},st=function(){function r(t,e){t===void 0&&(t=null),e===void 0&&(e=null),this.text=t,this.errorOwner=e,this.visible=!0,this.onUpdateErrorTextCallback=void 0}return r.prototype.equals=function(t){return!t||!t.getErrorType||this.getErrorType()!==t.getErrorType()?!1:this.text===t.text&&this.visible===t.visible},Object.defineProperty(r.prototype,"locText",{get:function(){return this.locTextValue||(this.locTextValue=new bt(this.errorOwner,!0),this.locTextValue.storeDefaultText=!0,this.locTextValue.text=this.getText()),this.locTextValue},enumerable:!1,configurable:!0}),r.prototype.getText=function(){var t=this.text;return t||(t=this.getDefaultText()),this.errorOwner&&(t=this.errorOwner.getErrorCustomText(t,this)),t},r.prototype.getErrorType=function(){return"base"},r.prototype.getDefaultText=function(){return""},r.prototype.getLocale=function(){return this.errorOwner?this.errorOwner.getLocale():""},r.prototype.getLocalizationString=function(t){return Ge(t,this.getLocale())},r.prototype.updateText=function(){this.onUpdateErrorTextCallback&&this.onUpdateErrorTextCallback(this),this.locText.text=this.getText()},r}(),dt=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Oa=function(r){dt(t,r);function t(e,n){e===void 0&&(e=null),n===void 0&&(n=null);var i=r.call(this,e,n)||this;return i.text=e,i}return t.prototype.getErrorType=function(){return"required"},t.prototype.getDefaultText=function(){return this.getLocalizationString("requiredError")},t}(st),Ra=function(r){dt(t,r);function t(e,n){e===void 0&&(e=null),n===void 0&&(n=null);var i=r.call(this,e,n)||this;return i.text=e,i}return t.prototype.getErrorType=function(){return"requireoneanswer"},t.prototype.getDefaultText=function(){return this.getLocalizationString("requiredErrorInPanel")},t}(st),Da=function(r){dt(t,r);function t(e,n){e===void 0&&(e=null),n===void 0&&(n=null);var i=r.call(this,e,n)||this;return i.text=e,i}return t.prototype.getErrorType=function(){return"requirenumeric"},t.prototype.getDefaultText=function(){return this.getLocalizationString("numericError")},t}(st),Ma=function(r){dt(t,r);function t(e,n){n===void 0&&(n=null);var i=r.call(this,null,n)||this;return i.maxSize=e,i.locText.text=i.getText(),i}return t.prototype.getErrorType=function(){return"exceedsize"},t.prototype.getDefaultText=function(){return Ge("exceedMaxSize").format(this.getTextSize())},t.prototype.getTextSize=function(){var e=["Bytes","KB","MB","GB","TB"],n=[0,0,2,3,3];if(this.maxSize===0)return"0 Byte";var i=Math.floor(Math.log(this.maxSize)/Math.log(1024)),o=this.maxSize/Math.pow(1024,i);return o.toFixed(n[i])+" "+e[i]},t}(st),$d=function(r){dt(t,r);function t(e,n,i){i===void 0&&(i=null);var o=r.call(this,null,i)||this;return o.status=e,o.response=n,o}return t.prototype.getErrorType=function(){return"webrequest"},t.prototype.getDefaultText=function(){var e=this.getLocalizationString("urlRequestError");return e?e.format(this.status,this.response):""},t}(st),Gd=function(r){dt(t,r);function t(e,n){n===void 0&&(n=null);var i=r.call(this,e,n)||this;return i.text=e,i}return t.prototype.getErrorType=function(){return"webrequestempty"},t.prototype.getDefaultText=function(){return this.getLocalizationString("urlGetChoicesError")},t}(st),Zd=function(r){dt(t,r);function t(e,n){n===void 0&&(n=null);var i=r.call(this,e,n)||this;return i.text=e,i}return t.prototype.getErrorType=function(){return"otherempty"},t.prototype.getDefaultText=function(){return this.getLocalizationString("otherRequiredError")},t}(st),Ni=function(r){dt(t,r);function t(e,n){n===void 0&&(n=null);var i=r.call(this,e,n)||this;return i.text=e,i}return t.prototype.getErrorType=function(){return"uploadingfile"},t.prototype.getDefaultText=function(){return this.getLocalizationString("uploadingFile")},t}(st),Jd=function(r){dt(t,r);function t(e,n){n===void 0&&(n=null);var i=r.call(this,e,n)||this;return i.text=e,i}return t.prototype.getErrorType=function(){return"requiredinallrowserror"},t.prototype.getDefaultText=function(){return this.getLocalizationString("requiredInAllRowsError")},t}(st),Kd=function(r){dt(t,r);function t(e,n){n===void 0&&(n=null);var i=r.call(this,e,n)||this;return i.text=e,i}return t.prototype.getErrorType=function(){return"eachrowuniqueeerror"},t.prototype.getDefaultText=function(){return this.getLocalizationString("eachRowUniqueError")},t}(st),Yd=function(r){dt(t,r);function t(e,n){n===void 0&&(n=null);var i=r.call(this,null,n)||this;return i.minRowCount=e,i}return t.prototype.getErrorType=function(){return"minrowcounterror"},t.prototype.getDefaultText=function(){return Ge("minRowCountError").format(this.minRowCount)},t}(st),Aa=function(r){dt(t,r);function t(e,n){n===void 0&&(n=null);var i=r.call(this,e,n)||this;return i.text=e,i}return t.prototype.getErrorType=function(){return"keyduplicationerror"},t.prototype.getDefaultText=function(){return this.getLocalizationString("keyDuplicationError")},t}(st),ht=function(r){dt(t,r);function t(e,n){n===void 0&&(n=null);var i=r.call(this,e,n)||this;return i.text=e,i}return t.prototype.getErrorType=function(){return"custom"},t}(st),vn=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ct=function(){function r(t,e){e===void 0&&(e=null),this.value=t,this.error=e}return r}(),yn=function(r){vn(t,r);function t(){var e=r.call(this)||this;return e.createLocalizableString("text",e,!0),e}return Object.defineProperty(t.prototype,"isValidator",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.getSurvey=function(e){return e===void 0&&(e=!1),this.errorOwner&&this.errorOwner.getSurvey?this.errorOwner.getSurvey():null},Object.defineProperty(t.prototype,"text",{get:function(){return this.getLocalizableStringText("text")},set:function(e){this.setLocalizableStringText("text",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isValidateAllValues",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locText",{get:function(){return this.getLocalizableString("text")},enumerable:!1,configurable:!0}),t.prototype.getErrorText=function(e){return this.text?this.text:this.getDefaultErrorText(e)},t.prototype.getDefaultErrorText=function(e){return""},t.prototype.validate=function(e,n,i,o){return n===void 0&&(n=null),i===void 0&&(i=null),o===void 0&&(o=null),null},Object.defineProperty(t.prototype,"isRunning",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAsync",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.getLocale=function(){return this.errorOwner?this.errorOwner.getLocale():""},t.prototype.getMarkdownHtml=function(e,n){return this.errorOwner?this.errorOwner.getMarkdownHtml(e,n):void 0},t.prototype.getRenderer=function(e){return this.errorOwner?this.errorOwner.getRenderer(e):null},t.prototype.getRendererContext=function(e){return this.errorOwner?this.errorOwner.getRendererContext(e):e},t.prototype.getProcessedText=function(e){return this.errorOwner?this.errorOwner.getProcessedText(e):e},t.prototype.createCustomError=function(e){var n=this,i=new ht(this.getErrorText(e),this.errorOwner);return i.onUpdateErrorTextCallback=function(o){return o.text=n.getErrorText(e)},i},t.prototype.toString=function(){var e=this.getType().replace("validator","");return this.text&&(e+=", "+this.text),e},t}(be),ka=function(){function r(){}return r.prototype.run=function(t){var e=this,n=[],i=null,o=null;this.prepareAsyncValidators();for(var l=[],u=t.getValidators(),d=0;d<u.length;d++){var m=u[d];!i&&m.isValidateAllValues&&(i=t.getDataFilteredValues(),o=t.getDataFilteredProperties()),m.isAsync&&(this.asyncValidators.push(m),m.onAsyncCompleted=function(E){if(E&&E.error&&l.push(E.error),!!e.onAsyncCompleted){for(var A=0;A<e.asyncValidators.length;A++)if(e.asyncValidators[A].isRunning)return;e.onAsyncCompleted(l)}})}u=t.getValidators();for(var d=0;d<u.length;d++){var m=u[d],w=m.validate(t.validatedValue,t.getValidatorTitle(),i,o);w&&w.error&&n.push(w.error)}return this.asyncValidators.length==0&&this.onAsyncCompleted&&this.onAsyncCompleted([]),n},r.prototype.prepareAsyncValidators=function(){if(this.asyncValidators)for(var t=0;t<this.asyncValidators.length;t++)this.asyncValidators[t].onAsyncCompleted=null;this.asyncValidators=[]},r}(),La=function(r){vn(t,r);function t(e,n){e===void 0&&(e=null),n===void 0&&(n=null);var i=r.call(this)||this;return i.minValue=e,i.maxValue=n,i}return t.prototype.getType=function(){return"numericvalidator"},t.prototype.validate=function(e,n,i,o){if(n===void 0&&(n=null),i===void 0&&(i=null),o===void 0&&(o=null),this.isValueEmpty(e))return null;if(!D.isNumber(e))return new Ct(null,new Da(this.text,this.errorOwner));var l=new Ct(D.getNumber(e));return this.minValue!==null&&this.minValue>l.value?(l.error=this.createCustomError(n),l):this.maxValue!==null&&this.maxValue<l.value?(l.error=this.createCustomError(n),l):typeof e=="number"?null:l},t.prototype.getDefaultErrorText=function(e){var n=e||this.getLocalizationString("value");return this.minValue!==null&&this.maxValue!==null?this.getLocalizationFormatString("numericMinMax",n,this.minValue,this.maxValue):this.minValue!==null?this.getLocalizationFormatString("numericMin",n,this.minValue):this.getLocalizationFormatString("numericMax",n,this.maxValue)},Object.defineProperty(t.prototype,"minValue",{get:function(){return this.getPropertyValue("minValue")},set:function(e){this.setPropertyValue("minValue",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.getPropertyValue("maxValue")},set:function(e){this.setPropertyValue("maxValue",e)},enumerable:!1,configurable:!0}),t}(yn),Fa=function(r){vn(t,r);function t(){return r.call(this)||this}return t.prototype.getType=function(){return"textvalidator"},t.prototype.validate=function(e,n,i,o){if(n===void 0&&(n=null),i===void 0&&(i=null),o===void 0&&(o=null),this.isValueEmpty(e))return null;if(!this.allowDigits){var l=/\d+$/;if(l.test(e))return new Ct(null,this.createCustomError("textNoDigitsAllow"))}return this.minLength>0&&e.length<this.minLength?new Ct(null,this.createCustomError(n)):this.maxLength>0&&e.length>this.maxLength?new Ct(null,this.createCustomError(n)):null},t.prototype.getDefaultErrorText=function(e){return e==="textNoDigitsAllow"?this.getLocalizationString(e):this.minLength>0&&this.maxLength>0?this.getLocalizationFormatString("textMinMaxLength",this.minLength,this.maxLength):this.minLength>0?this.getLocalizationFormatString("textMinLength",this.minLength):this.getLocalizationFormatString("textMaxLength",this.maxLength)},Object.defineProperty(t.prototype,"minLength",{get:function(){return this.getPropertyValue("minLength")},set:function(e){this.setPropertyValue("minLength",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLength",{get:function(){return this.getPropertyValue("maxLength")},set:function(e){this.setPropertyValue("maxLength",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowDigits",{get:function(){return this.getPropertyValue("allowDigits")},set:function(e){this.setPropertyValue("allowDigits",e)},enumerable:!1,configurable:!0}),t}(yn),ja=function(r){vn(t,r);function t(e,n){e===void 0&&(e=null),n===void 0&&(n=null);var i=r.call(this)||this;return i.minCount=e,i.maxCount=n,i}return t.prototype.getType=function(){return"answercountvalidator"},t.prototype.validate=function(e,n,i,o){if(n===void 0&&(n=null),i===void 0&&(i=null),o===void 0&&(o=null),e==null||e.constructor!=Array)return null;var l=e.length;return l==0?null:this.minCount&&l<this.minCount?new Ct(null,this.createCustomError(this.getLocalizationFormatString("minSelectError",this.minCount))):this.maxCount&&l>this.maxCount?new Ct(null,this.createCustomError(this.getLocalizationFormatString("maxSelectError",this.maxCount))):null},t.prototype.getDefaultErrorText=function(e){return e},Object.defineProperty(t.prototype,"minCount",{get:function(){return this.getPropertyValue("minCount")},set:function(e){this.setPropertyValue("minCount",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxCount",{get:function(){return this.getPropertyValue("maxCount")},set:function(e){this.setPropertyValue("maxCount",e)},enumerable:!1,configurable:!0}),t}(yn),Ba=function(r){vn(t,r);function t(e){e===void 0&&(e=null);var n=r.call(this)||this;return n.regex=e,n}return t.prototype.getType=function(){return"regexvalidator"},t.prototype.validate=function(e,n,i,o){if(n===void 0&&(n=null),i===void 0&&(i=null),o===void 0&&(o=null),!this.regex||this.isValueEmpty(e))return null;var l=this.createRegExp();if(Array.isArray(e))for(var u=0;u<e.length;u++){var d=this.hasError(l,e[u],n);if(d)return d}return this.hasError(l,e,n)},t.prototype.hasError=function(e,n,i){return e.test(n)?null:new Ct(n,this.createCustomError(i))},Object.defineProperty(t.prototype,"regex",{get:function(){return this.getPropertyValue("regex")},set:function(e){this.setPropertyValue("regex",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"caseInsensitive",{get:function(){return this.getPropertyValue("caseInsensitive")},set:function(e){this.setPropertyValue("caseInsensitive",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"insensitive",{get:function(){return this.caseInsensitive},set:function(e){this.caseInsensitive=e},enumerable:!1,configurable:!0}),t.prototype.createRegExp=function(){return new RegExp(this.regex,this.caseInsensitive?"i":"")},t}(yn),Xr=function(r){vn(t,r);function t(){var e=r.call(this)||this;return e.re=/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()=[\]\.,;:\s@\"]+\.)+[^<>()=[\]\.,;:\s@\"]{2,})$/i,e}return t.prototype.getType=function(){return"emailvalidator"},t.prototype.validate=function(e,n,i,o){return n===void 0&&(n=null),i===void 0&&(i=null),o===void 0&&(o=null),!e||this.re.test(e)?null:new Ct(e,this.createCustomError(n))},t.prototype.getDefaultErrorText=function(e){return this.getLocalizationString("invalidEmail")},t}(yn),Na=function(r){vn(t,r);function t(e){e===void 0&&(e=null);var n=r.call(this)||this;return n.conditionRunner=null,n.isRunningValue=!1,n.expression=e,n}return t.prototype.getType=function(){return"expressionvalidator"},Object.defineProperty(t.prototype,"isValidateAllValues",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAsync",{get:function(){return this.ensureConditionRunner(!1)?this.conditionRunner.isAsync:!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRunning",{get:function(){return this.isRunningValue},enumerable:!1,configurable:!0}),t.prototype.validate=function(e,n,i,o){var l=this;if(n===void 0&&(n=null),i===void 0&&(i=null),o===void 0&&(o=null),!this.expression)return null;this.conditionRunner&&(this.conditionRunner.onRunComplete=null),this.ensureConditionRunner(!0),this.conditionRunner.onRunComplete=function(d){l.isRunningValue=!1,l.onAsyncCompleted&&l.onAsyncCompleted(l.generateError(d,e,n))},this.isRunningValue=!0;var u=this.conditionRunner.run(i,o);return this.conditionRunner.isAsync?null:(this.isRunningValue=!1,this.generateError(u,e,n))},t.prototype.generateError=function(e,n,i){return e?null:new Ct(n,this.createCustomError(i))},t.prototype.getDefaultErrorText=function(e){return this.getLocalizationFormatString("invalidExpression",this.expression)},t.prototype.ensureConditionRunner=function(e){return this.expression?(e||!this.conditionRunner?this.conditionRunner=new rt(this.expression):this.conditionRunner.expression=this.expression,!0):!1},Object.defineProperty(t.prototype,"expression",{get:function(){return this.getPropertyValue("expression")},set:function(e){this.setPropertyValue("expression",e)},enumerable:!1,configurable:!0}),t}(yn);L.addClass("surveyvalidator",[{name:"text",serializationProperty:"locText"}]),L.addClass("numericvalidator",["minValue:number","maxValue:number"],function(){return new La},"surveyvalidator"),L.addClass("textvalidator",[{name:"minLength:number",default:0},{name:"maxLength:number",default:0},{name:"allowDigits:boolean",default:!0}],function(){return new Fa},"surveyvalidator"),L.addClass("answercountvalidator",["minCount:number","maxCount:number"],function(){return new ja},"surveyvalidator"),L.addClass("regexvalidator",["regex",{name:"caseInsensitive:boolean",alternativeName:"insensitive"}],function(){return new Ba},"surveyvalidator"),L.addClass("emailvalidator",[],function(){return new Xr},"surveyvalidator"),L.addClass("expressionvalidator",["expression:condition"],function(){return new Na},"surveyvalidator");var qa=function(){function r(t,e){this.name=t,this.widgetJson=e,this.htmlTemplate=e.htmlTemplate?e.htmlTemplate:""}return r.prototype.afterRender=function(t,e){var n=this;this.widgetJson.afterRender&&(t.localeChangedCallback=function(){n.widgetJson.willUnmount&&n.widgetJson.willUnmount(t,e),n.widgetJson.afterRender(t,e)},this.widgetJson.afterRender(t,e))},r.prototype.willUnmount=function(t,e){this.widgetJson.willUnmount&&this.widgetJson.willUnmount(t,e)},r.prototype.getDisplayValue=function(t,e){return e===void 0&&(e=void 0),this.widgetJson.getDisplayValue?this.widgetJson.getDisplayValue(t,e):null},r.prototype.validate=function(t){if(this.widgetJson.validate)return this.widgetJson.validate(t)},r.prototype.isFit=function(t){return this.isLibraryLoaded()&&this.widgetJson.isFit?this.widgetJson.isFit(t):!1},Object.defineProperty(r.prototype,"canShowInToolbox",{get:function(){return this.widgetJson.showInToolbox===!1||eo.Instance.getActivatedBy(this.name)!="customtype"?!1:!this.widgetJson.widgetIsLoaded||this.widgetJson.widgetIsLoaded()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"showInToolbox",{get:function(){return this.widgetJson.showInToolbox!==!1},set:function(t){this.widgetJson.showInToolbox=t},enumerable:!1,configurable:!0}),r.prototype.init=function(){this.widgetJson.init&&this.widgetJson.init()},r.prototype.activatedByChanged=function(t){this.isLibraryLoaded()&&this.widgetJson.activatedByChanged&&this.widgetJson.activatedByChanged(t)},r.prototype.isLibraryLoaded=function(){return this.widgetJson.widgetIsLoaded?this.widgetJson.widgetIsLoaded()==!0:!0},Object.defineProperty(r.prototype,"isDefaultRender",{get:function(){return this.widgetJson.isDefaultRender},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"pdfQuestionType",{get:function(){return this.widgetJson.pdfQuestionType},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"pdfRender",{get:function(){return this.widgetJson.pdfRender},enumerable:!1,configurable:!0}),r}(),eo=function(){function r(){this.widgetsValues=[],this.widgetsActivatedBy={},this.onCustomWidgetAdded=new Ar}return Object.defineProperty(r.prototype,"widgets",{get:function(){return this.widgetsValues},enumerable:!1,configurable:!0}),r.prototype.add=function(t,e){e===void 0&&(e="property"),this.addCustomWidget(t,e)},r.prototype.addCustomWidget=function(t,e){e===void 0&&(e="property");var n=t.name;n||(n="widget_"+this.widgets.length+1);var i=new qa(n,t);return this.widgetsValues.push(i),i.init(),this.widgetsActivatedBy[n]=e,i.activatedByChanged(e),this.onCustomWidgetAdded.fire(i,null),i},r.prototype.getActivatedBy=function(t){var e=this.widgetsActivatedBy[t];return e||"property"},r.prototype.setActivatedBy=function(t,e){if(!(!t||!e)){var n=this.getCustomWidgetByName(t);n&&(this.widgetsActivatedBy[t]=e,n.activatedByChanged(e))}},r.prototype.clear=function(){this.widgetsValues=[]},r.prototype.getCustomWidgetByName=function(t){for(var e=0;e<this.widgets.length;e++)if(this.widgets[e].name==t)return this.widgets[e];return null},r.prototype.getCustomWidget=function(t){for(var e=0;e<this.widgetsValues.length;e++)if(this.widgetsValues[e].isFit(t))return this.widgetsValues[e];return null},r.Instance=new r,r}(),Qa=function(){function r(){this.renderersHash={},this.defaultHash={}}return r.prototype.unregisterRenderer=function(t,e){delete this.renderersHash[t][e],this.defaultHash[t]===e&&delete this.defaultHash[t]},r.prototype.registerRenderer=function(t,e,n,i){i===void 0&&(i=!1),this.renderersHash[t]||(this.renderersHash[t]={}),this.renderersHash[t][e]=n,i&&(this.defaultHash[t]=e)},r.prototype.getRenderer=function(t,e){var n=this.renderersHash[t];if(n){if(e&&n[e])return n[e];var i=this.defaultHash[t];if(i&&n[i])return n[i]}return"default"},r.prototype.getRendererByQuestion=function(t){return this.getRenderer(t.getType(),t.renderAs)},r.prototype.clear=function(){this.renderersHash={}},r.Instance=new r,r}(),qi=function(){function r(t){var e=this;this.options=t,this.onPropertyChangedCallback=function(){e.element&&(e.element.value=e.getTextValue(),e.updateElement())},this.question.registerFunctionOnPropertyValueChanged(this.options.propertyName,this.onPropertyChangedCallback,"__textarea")}return r.prototype.updateElement=function(){var t=this;this.element&&this.autoGrow&&setTimeout(function(){return Zr(t.element)},1)},r.prototype.setElement=function(t){t&&(this.element=t,this.updateElement())},r.prototype.resetElement=function(){this.element=void 0},r.prototype.getTextValue=function(){return this.options.getTextValue&&this.options.getTextValue()||""},r.prototype.onTextAreaChange=function(t){this.options.onTextAreaChange&&this.options.onTextAreaChange(t)},r.prototype.onTextAreaInput=function(t){this.options.onTextAreaInput&&this.options.onTextAreaInput(t),this.element&&this.autoGrow&&Zr(this.element)},r.prototype.onTextAreaKeyDown=function(t){this.options.onTextAreaKeyDown&&this.options.onTextAreaKeyDown(t)},r.prototype.onTextAreaBlur=function(t){this.onTextAreaChange(t),this.options.onTextAreaBlur&&this.options.onTextAreaBlur(t)},r.prototype.onTextAreaFocus=function(t){this.options.onTextAreaFocus&&this.options.onTextAreaFocus(t)},Object.defineProperty(r.prototype,"question",{get:function(){return this.options.question},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"id",{get:function(){return this.options.id()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"placeholder",{get:function(){return this.options.placeholder()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"className",{get:function(){return this.options.className()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"maxLength",{get:function(){if(this.options.maxLength)return this.options.maxLength()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"autoGrow",{get:function(){if(this.options.autoGrow)return this.options.autoGrow()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rows",{get:function(){if(this.options.rows)return this.options.rows()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"cols",{get:function(){if(this.options.cols)return this.options.cols()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isDisabledAttr",{get:function(){return this.options.isDisabledAttr()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isReadOnlyAttr",{get:function(){if(this.options.isReadOnlyAttr)return this.options.isReadOnlyAttr()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ariaRequired",{get:function(){if(this.options.ariaRequired)return this.options.ariaRequired()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ariaLabel",{get:function(){if(this.options.ariaLabel)return this.options.ariaLabel()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ariaInvalid",{get:function(){if(this.options.ariaInvalid)return this.options.ariaInvalid()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ariaLabelledBy",{get:function(){if(this.options.ariaLabelledBy)return this.options.ariaLabelledBy()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ariaDescribedBy",{get:function(){if(this.options.ariaDescribedBy)return this.options.ariaDescribedBy()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ariaErrormessage",{get:function(){if(this.options.ariaErrormessage)return this.options.ariaErrormessage()},enumerable:!1,configurable:!0}),r.prototype.dispose=function(){this.question&&this.question.unRegisterFunctionOnPropertyValueChanged(this.options.propertyName,"__textarea"),this.resetElement()},r}(),Xd=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Mn=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ef=function(){function r(t,e,n){this.name=t,this.canRun=e,this.doComplete=n,this.runSecondCheck=function(i){return!1}}return r}(),tt=function(r){Xd(t,r);function t(e){var n=r.call(this,e)||this;n.customWidgetData={isNeedRender:!0},n.hasCssErrorCallback=function(){return!1},n.isReadyValue=!0,n.dependedQuestions=[],n.onReadyChanged=n.addEvent(),n.triggersInfo=[],n.isRunningValidatorsValue=!1,n.isValueChangedInSurvey=!1,n.allowNotifyValueChanged=!0,n.id=t.getQuestionId(),n.onCreating(),n.createNewArray("validators",function(o){o.errorOwner=n}),n.addExpressionProperty("visibleIf",function(o,l){n.visible=l===!0}),n.addExpressionProperty("enableIf",function(o,l){n.readOnly=l===!1}),n.addExpressionProperty("requiredIf",function(o,l){n.isRequired=l===!0}),n.createLocalizableString("commentText",n,!0,"otherItemText"),n.createLocalizableString("requiredErrorText",n),n.addTriggerInfo("resetValueIf",function(){return!n.isEmpty()},function(){n.startSetValueOnExpression(),n.clearValue(),n.updateValueWithDefaults(),n.finishSetValueOnExpression()});var i=n.addTriggerInfo("setValueIf",function(){return!0},function(){return n.runSetValueExpression()});return i.runSecondCheck=function(o){return n.checkExpressionIf(o)},n.registerPropertyChangedHandlers(["width"],function(){n.updateQuestionCss(),n.parent&&n.parent.elementWidthChanged(n)}),n.registerPropertyChangedHandlers(["isRequired"],function(){!n.isRequired&&n.errors.length>0&&n.validate(),n.locTitle.strChanged(),n.clearCssClasses()}),n.registerPropertyChangedHandlers(["indent","rightIndent"],function(){n.resetIndents()}),n.registerPropertyChangedHandlers(["showCommentArea","showOtherItem"],function(){n.initCommentFromSurvey()}),n.registerFunctionOnPropertiesValueChanged(["no","readOnly","hasVisibleErrors","containsErrors"],function(){n.updateQuestionCss()}),n.registerPropertyChangedHandlers(["_isMobile"],function(){n.onMobileChanged()}),n.registerPropertyChangedHandlers(["colSpan"],function(){var o;(o=n.parent)===null||o===void 0||o.updateColumns()}),n}return t.getQuestionId=function(){return"sq_"+t.questionCounter++},t.prototype.isReadOnlyRenderDiv=function(){return this.isReadOnly&&R.readOnly.commentRenderMode==="div"},t.prototype.allowMobileInDesignMode=function(){return!1},t.prototype.updateIsMobileFromSurvey=function(){this.setIsMobile(this.survey._isMobile)},t.prototype.setIsMobile=function(e){var n=e&&(this.allowMobileInDesignMode()||!this.isDesignMode);this.isMobile=n},t.prototype.getIsMobile=function(){return this._isMobile},Object.defineProperty(t.prototype,"isMobile",{get:function(){return this.getIsMobile()},set:function(e){this._isMobile=e},enumerable:!1,configurable:!0}),t.prototype.themeChanged=function(e){},t.prototype.getDefaultTitle=function(){return this.name},t.prototype.createLocTitleProperty=function(){var e=this,n=r.prototype.createLocTitleProperty.call(this);return n.storeDefaultText=!0,n.onGetTextCallback=function(i){return i||(i=e.getDefaultTitle()),e.survey?e.survey.getUpdatedQuestionTitle(e,i):i},this.locProcessedTitle=new bt(this,!0),this.locProcessedTitle.sharedData=n,n},Object.defineProperty(t.prototype,"commentTextAreaModel",{get:function(){return this.commentTextAreaModelValue||(this.commentTextAreaModelValue=new qi(this.getCommentTextAreaOptions())),this.commentTextAreaModelValue},enumerable:!1,configurable:!0}),t.prototype.getCommentTextAreaOptions=function(){var e=this,n={question:this,id:function(){return e.commentId},propertyName:"comment",className:function(){return e.cssClasses.comment},placeholder:function(){return e.renderedCommentPlaceholder},isDisabledAttr:function(){return e.isInputReadOnly||!1},rows:function(){return e.commentAreaRows},autoGrow:function(){return e.autoGrowComment},maxLength:function(){return e.getOthersMaxLength()},ariaRequired:function(){return e.a11y_input_ariaRequired},ariaLabel:function(){return e.a11y_input_ariaLabel},getTextValue:function(){return e.comment},onTextAreaChange:function(i){e.onCommentChange(i)},onTextAreaInput:function(i){e.onCommentInput(i)}};return n},t.prototype.getSurvey=function(e){return e===void 0&&(e=!1),e?this.parent?this.parent.getSurvey(e):null:this.onGetSurvey?this.onGetSurvey():r.prototype.getSurvey.call(this)},t.prototype.getValueName=function(){return this.valueName?this.valueName.toString():this.name},Object.defineProperty(t.prototype,"valueName",{get:function(){return this.getPropertyValue("valueName","")},set:function(e){var n=this.getValueName();this.setPropertyValue("valueName",e),this.onValueNameChanged(n)},enumerable:!1,configurable:!0}),t.prototype.onValueNameChanged=function(e){this.survey&&(this.survey.questionRenamed(this,this.name,e||this.name),this.initDataFromSurvey())},t.prototype.onNameChanged=function(e){this.locTitle.strChanged(),this.survey&&this.survey.questionRenamed(this,e,this.valueName?this.valueName:e)},Object.defineProperty(t.prototype,"isReady",{get:function(){return this.isReadyValue},enumerable:!1,configurable:!0}),t.prototype.onAsyncRunningChanged=function(){this.updateIsReady()},t.prototype.updateIsReady=function(){var e=this.getIsQuestionReady();if(e){for(var n=this.getIsReadyDependsOn(),i=0;i<n.length;i++)if(!n[i].getIsQuestionReady()){e=!1;break}}this.setIsReady(e)},t.prototype.getIsQuestionReady=function(){return!this.isAsyncExpressionRunning&&this.getAreNestedQuestionsReady()},t.prototype.getAreNestedQuestionsReady=function(){var e=this.getIsReadyNestedQuestions();if(!Array.isArray(e))return!0;for(var n=0;n<e.length;n++)if(!e[n].isReady)return!1;return!0},t.prototype.getIsReadyNestedQuestions=function(){return this.getNestedQuestions()},t.prototype.setIsReady=function(e){var n=this.isReadyValue;this.isReadyValue=e,n!=e&&(this.getIsReadyDependends().forEach(function(i){return i.updateIsReady()}),this.onReadyChanged.fire(this,{question:this,isReady:e,oldIsReady:n}))},t.prototype.getIsReadyDependsOn=function(){return this.getIsReadyDependendCore(!0)},t.prototype.getIsReadyDependends=function(){return this.getIsReadyDependendCore(!1)},t.prototype.getIsReadyDependendCore=function(e){var n=this;if(!this.survey)return[];var i=this.survey.questionsByValueName(this.getValueName()),o=new Array;return i.forEach(function(l){l!==n&&o.push(l)}),e||(this.parentQuestion&&o.push(this.parentQuestion),this.dependedQuestions.length>0&&this.dependedQuestions.forEach(function(l){return o.push(l)})),o},t.prototype.choicesLoaded=function(){},Object.defineProperty(t.prototype,"page",{get:function(){return this.parentQuestion?this.parentQuestion.page:this.getPage(this.parent)},set:function(e){this.setPage(this.parent,e)},enumerable:!1,configurable:!0}),t.prototype.getPanel=function(){return null},t.prototype.delete=function(e){e===void 0&&(e=!0),this.removeFromParent(),e?this.dispose():this.resetDependedQuestions()},t.prototype.removeFromParent=function(){this.parent&&this.removeSelfFromList(this.parent.elements)},t.prototype.addDependedQuestion=function(e){!e||this.dependedQuestions.indexOf(e)>-1||this.dependedQuestions.push(e)},t.prototype.removeDependedQuestion=function(e){if(e){var n=this.dependedQuestions.indexOf(e);n>-1&&this.dependedQuestions.splice(n,1)}},t.prototype.updateDependedQuestions=function(){for(var e=0;e<this.dependedQuestions.length;e++)this.dependedQuestions[e].updateDependedQuestion()},t.prototype.updateDependedQuestion=function(){},t.prototype.resetDependedQuestion=function(){},Object.defineProperty(t.prototype,"isFlowLayout",{get:function(){return this.getLayoutType()==="flow"},enumerable:!1,configurable:!0}),t.prototype.getLayoutType=function(){return this.parent?this.parent.getChildrenLayoutType():"row"},t.prototype.isLayoutTypeSupported=function(e){return e!=="flow"},Object.defineProperty(t.prototype,"visible",{get:function(){return this.getPropertyValue("visible",!0)},set:function(e){e!=this.visible&&(this.setPropertyValue("visible",e),this.onVisibleChanged(),this.notifySurveyVisibilityChanged())},enumerable:!1,configurable:!0}),t.prototype.onVisibleChanged=function(){this.updateIsVisibleProp(),!this.isVisible&&this.errors&&this.errors.length>0&&(this.errors=[])},t.prototype.notifyStateChanged=function(e){r.prototype.notifyStateChanged.call(this,e),this.isCollapsed&&this.onHidingContent()},t.prototype.updateElementVisibility=function(){this.updateIsVisibleProp()},t.prototype.updateIsVisibleProp=function(){var e=this.getPropertyValue("isVisible"),n=this.isVisible;e!==n&&(this.setPropertyValue("isVisible",n),n||this.onHidingContent()),n!==this.visible&&this.areInvisibleElementsShowing&&this.updateQuestionCss(!0)},Object.defineProperty(t.prototype,"useDisplayValuesInDynamicTexts",{get:function(){return this.getPropertyValue("useDisplayValuesInDynamicTexts")},set:function(e){this.setPropertyValue("useDisplayValuesInDynamicTexts",e)},enumerable:!1,configurable:!0}),t.prototype.getUseDisplayValuesInDynamicTexts=function(){return this.useDisplayValuesInDynamicTexts},Object.defineProperty(t.prototype,"visibleIf",{get:function(){return this.getPropertyValue("visibleIf","")},set:function(e){this.setPropertyValue("visibleIf",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this.survey&&this.survey.areEmptyElementsHidden&&this.isEmpty()?!1:this.areInvisibleElementsShowing?!0:this.isVisibleCore()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVisibleInSurvey",{get:function(){return this.isVisible&&this.isParentVisible},enumerable:!1,configurable:!0}),t.prototype.isVisibleCore=function(){return this.visible},Object.defineProperty(t.prototype,"visibleIndex",{get:function(){return this.getPropertyValue("visibleIndex",-1)},enumerable:!1,configurable:!0}),t.prototype.onHidingContent=function(){},Object.defineProperty(t.prototype,"hideNumber",{get:function(){return this.getPropertyValue("hideNumber")},set:function(e){this.setPropertyValue("hideNumber",e),this.notifySurveyVisibilityChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAllowTitleLeft",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"question"},Object.defineProperty(t.prototype,"isQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.moveTo=function(e,n){return n===void 0&&(n=null),this.moveToBase(this.parent,e,n)},t.prototype.getProgressInfo=function(){return this.hasInput?{questionCount:1,answeredQuestionCount:this.isEmpty()?0:1,requiredQuestionCount:this.isRequired?1:0,requiredAnsweredQuestionCount:!this.isEmpty()&&this.isRequired?1:0}:r.prototype.getProgressInfo.call(this)},t.prototype.ensureSetValueExpressionRunner=function(){var e=this;this.setValueExpressionRunner?this.setValueExpressionRunner.expression=this.setValueExpression:(this.setValueExpressionRunner=new hn(this.setValueExpression),this.setValueExpressionRunner.onRunComplete=function(n){e.runExpressionSetValue(n)})},t.prototype.runSetValueExpression=function(){this.setValueExpression?(this.ensureSetValueExpressionRunner(),this.setValueExpressionRunner.run(this.getDataFilteredValues(),this.getDataFilteredProperties())):this.clearValue()},t.prototype.checkExpressionIf=function(e){return this.ensureSetValueExpressionRunner(),this.setValueExpressionRunner?this.canExecuteTriggerByKeys(e,this.setValueExpressionRunner):!1},t.prototype.addTriggerInfo=function(e,n,i){var o=new ef(e,n,i);return this.triggersInfo.push(o),o},t.prototype.runTriggerInfo=function(e,n){var i=this[e.name];if(!i||e.isRunning||!e.canRun()){e.runSecondCheck(n)&&e.doComplete();return}e.runner?e.runner.expression=i:(e.runner=new hn(i),e.runner.onRunComplete=function(o){o===!0&&e.doComplete(),e.isRunning=!1}),!(!this.canExecuteTriggerByKeys(n,e.runner)&&!e.runSecondCheck(n))&&(e.isRunning=!0,e.runner.run(this.getDataFilteredValues(),this.getDataFilteredProperties()))},t.prototype.canExecuteTriggerByKeys=function(e,n){var i=n.getVariables();return(!i||i.length===0)&&n.hasFunction()?!0:new lt().isAnyKeyChanged(e,i)},t.prototype.runTriggers=function(e,n,i){var o=this;this.isSettingQuestionValue||this.parentQuestion&&this.parentQuestion.getValueName()===e||(i||(i={},i[e]=n),this.triggersInfo.forEach(function(l){o.runTriggerInfo(l,i)}))},t.prototype.runConditions=function(){this.data&&!this.isLoadingFromJson&&(this.isDesignMode||this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties()),this.locStrsChanged())},t.prototype.setSurveyImpl=function(e,n){r.prototype.setSurveyImpl.call(this,e),this.survey&&(this.survey.questionCreated(this),n!==!0&&this.runConditions(),this.visible||this.updateIsVisibleProp(),this.updateIsMobileFromSurvey())},Object.defineProperty(t.prototype,"parent",{get:function(){return this.getPropertyValue("parent",null)},set:function(e){this.parent!==e&&(this.removeFromParent(),this.setPropertyValue("parent",e),e&&this.updateQuestionCss(),this.onParentChanged())},enumerable:!1,configurable:!0}),t.prototype.onParentChanged=function(){},Object.defineProperty(t.prototype,"hasTitle",{get:function(){return this.getTitleLocation()!=="hidden"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleLocation",{get:function(){return this.getPropertyValue("titleLocation")},set:function(e){var n=this.titleLocation=="hidden"||e=="hidden";this.setPropertyValue("titleLocation",e.toLowerCase()),this.updateQuestionCss(),n&&this.notifySurveyVisibilityChanged()},enumerable:!1,configurable:!0}),t.prototype.getTitleOwner=function(){return this},t.prototype.getIsTitleRenderedAsString=function(){return this.titleLocation==="hidden"},t.prototype.notifySurveyOnChildrenVisibilityChanged=function(){return!1},t.prototype.notifySurveyVisibilityChanged=function(){if(!(!this.survey||this.isLoadingFromJson)){this.survey.questionVisibilityChanged(this,this.isVisible,!this.parentQuestion||this.parentQuestion.notifySurveyOnChildrenVisibilityChanged());var e=this.isClearValueOnHidden;this.visible||this.clearValueOnHidding(e),e&&this.isVisibleInSurvey&&this.updateValueWithDefaults()}},t.prototype.clearValueOnHidding=function(e){e&&this.clearValueIfInvisible()},Object.defineProperty(t.prototype,"titleWidth",{get:function(){if(this.parent&&this.getTitleLocation()==="left"){var e=this.parent.getColumsForElement(this),n=e.length;if(n!==0&&e[0].questionTitleWidth)return e[0].questionTitleWidth;var i=this.getPercentQuestionTitleWidth();if(!i&&this.parent){var o=this.parent.getQuestionTitleWidth();return o&&!isNaN(o)&&(o=o+"px"),o}return i/(n||1)+"%"}},enumerable:!1,configurable:!0}),t.prototype.getPercentQuestionTitleWidth=function(){var e=!!this.parent&&this.parent.getQuestionTitleWidth();if(e&&e[e.length-1]==="%")return parseInt(e)},t.prototype.getTitleLocation=function(){if(this.isFlowLayout)return"hidden";var e=this.getTitleLocationCore();return e==="left"&&!this.isAllowTitleLeft&&(e="top"),e},t.prototype.getTitleLocationCore=function(){return this.titleLocation!=="default"?this.titleLocation:this.parent?this.parent.getQuestionTitleLocation():this.survey?this.survey.questionTitleLocation:"top"},Object.defineProperty(t.prototype,"hasTitleOnLeft",{get:function(){return this.hasTitle&&this.getTitleLocation()==="left"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTitleOnTop",{get:function(){return this.hasTitle&&this.getTitleLocation()==="top"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTitleOnBottom",{get:function(){return this.hasTitle&&this.getTitleLocation()==="bottom"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTitleOnLeftTop",{get:function(){if(!this.hasTitle)return!1;var e=this.getTitleLocation();return e==="left"||e==="top"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"errorLocation",{get:function(){return this.getPropertyValue("errorLocation")},set:function(e){this.setPropertyValue("errorLocation",e)},enumerable:!1,configurable:!0}),t.prototype.getErrorLocation=function(){return this.errorLocation!=="default"?this.errorLocation:this.parentQuestion?this.parentQuestion.getChildErrorLocation(this):this.parent?this.parent.getQuestionErrorLocation():this.survey?this.survey.questionErrorLocation:"top"},t.prototype.getChildErrorLocation=function(e){return this.getErrorLocation()},Object.defineProperty(t.prototype,"hasInput",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasSingleInput",{get:function(){return this.hasInput},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputId",{get:function(){return this.id+"i"},enumerable:!1,configurable:!0}),t.prototype.getDefaultTitleValue=function(){return this.name},t.prototype.getDefaultTitleTagName=function(){return R.titleTags.question},Object.defineProperty(t.prototype,"descriptionLocation",{get:function(){return this.getPropertyValue("descriptionLocation")},set:function(e){this.setPropertyValue("descriptionLocation",e),this.updateQuestionCss()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasDescriptionUnderTitle",{get:function(){return this.getDescriptionLocation()=="underTitle"&&this.hasDescription},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasDescriptionUnderInput",{get:function(){return this.getDescriptionLocation()=="underInput"&&this.hasDescription},enumerable:!1,configurable:!0}),t.prototype.getDescriptionLocation=function(){return this.descriptionLocation!=="default"?this.descriptionLocation:this.survey?this.survey.questionDescriptionLocation:"underTitle"},t.prototype.needClickTitleFunction=function(){return r.prototype.needClickTitleFunction.call(this)||this.hasInput},t.prototype.processTitleClick=function(){var e=this;if(r.prototype.processTitleClick.call(this),!this.isCollapsed)return setTimeout(function(){e.focus()},1),!0},Object.defineProperty(t.prototype,"requiredErrorText",{get:function(){return this.getLocalizableStringText("requiredErrorText")},set:function(e){this.setLocalizableStringText("requiredErrorText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locRequiredErrorText",{get:function(){return this.getLocalizableString("requiredErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"commentText",{get:function(){return this.getLocalizableStringText("commentText")},set:function(e){this.setLocalizableStringText("commentText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locCommentText",{get:function(){return this.getLocalizableString("commentText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"commentPlaceHolder",{get:function(){return this.commentPlaceholder},set:function(e){this.commentPlaceholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedCommentPlaceholder",{get:function(){var e=this,n=function(){return e.isReadOnly?void 0:e.commentPlaceHolder};return this.getPropertyValue("renderedCommentPlaceholder",void 0,n)},enumerable:!1,configurable:!0}),t.prototype.resetRenderedCommentPlaceholder=function(){this.resetPropertyValue("renderedCommentPlaceholder")},t.prototype.getAllErrors=function(){return this.errors.slice()},t.prototype.getErrorByType=function(e){for(var n=0;n<this.errors.length;n++)if(this.errors[n].getErrorType()===e)return this.errors[n];return null},Object.defineProperty(t.prototype,"customWidget",{get:function(){return!this.isCustomWidgetRequested&&!this.customWidgetValue&&(this.isCustomWidgetRequested=!0,this.updateCustomWidget()),this.customWidgetValue},enumerable:!1,configurable:!0}),t.prototype.updateCustomWidget=function(){this.customWidgetValue=eo.Instance.getCustomWidget(this)},t.prototype.localeChanged=function(){r.prototype.localeChanged.call(this),this.resetRenderedCommentPlaceholder(),this.localeChangedCallback&&this.localeChangedCallback()},Object.defineProperty(t.prototype,"isCompositeQuestion",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isContainer",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.updateCommentElements=function(){},t.prototype.onCommentInput=function(e){this.isInputTextUpdate?e.target&&(this.comment=e.target.value):this.updateCommentElements()},t.prototype.onCommentChange=function(e){this.comment=e.target.value,this.comment!==e.target.value&&(e.target.value=this.comment)},t.prototype.afterRenderQuestionElement=function(e){!this.survey||!this.hasSingleInput||this.survey.afterRenderQuestionInput(this,e)},t.prototype.afterRender=function(e){var n=this;this.afterRenderCore(e),this.survey&&(this.survey.afterRenderQuestion(this,e),this.afterRenderQuestionCallback&&this.afterRenderQuestionCallback(this,e),(this.supportComment()||this.supportOther())&&(this.commentElements=[],this.getCommentElementsId().forEach(function(i){var o=R.environment.root,l=o.getElementById(i);l&&n.commentElements.push(l)}),this.updateCommentElements()),this.checkForResponsiveness(e))},t.prototype.afterRenderCore=function(e){r.prototype.afterRenderCore.call(this,e)},t.prototype.getCommentElementsId=function(){return[this.commentId]},t.prototype.beforeDestroyQuestionElement=function(e){this.commentElements=void 0},Object.defineProperty(t.prototype,"processedTitle",{get:function(){var e=this.locProcessedTitle.textOrHtml;return e||this.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullTitle",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titlePattern",{get:function(){return this.survey?this.survey.questionTitlePattern:"numTitleRequire"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRequireTextOnStart",{get:function(){return this.isRequired&&this.titlePattern=="requireNumTitle"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRequireTextBeforeTitle",{get:function(){return this.isRequired&&this.titlePattern=="numRequireTitle"&&this.requiredText!==""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRequireTextAfterTitle",{get:function(){return this.isRequired&&this.titlePattern=="numTitleRequire"&&this.requiredText!==""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startWithNewLine",{get:function(){return this.getPropertyValue("startWithNewLine")},set:function(e){this.startWithNewLine!=e&&this.setPropertyValue("startWithNewLine",e)},enumerable:!1,configurable:!0}),t.prototype.calcCssClasses=function(e){var n={error:{}};return this.copyCssClasses(n,e.question),this.copyCssClasses(n.error,e.error),this.updateCssClasses(n,e),n},t.prototype.onCalcCssClasses=function(e){r.prototype.onCalcCssClasses.call(this,e),this.survey&&this.survey.updateQuestionCssClasses(this,e),this.onUpdateCssClassesCallback&&this.onUpdateCssClassesCallback(e)},Object.defineProperty(t.prototype,"cssRoot",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssRoot","")},enumerable:!1,configurable:!0}),t.prototype.setCssRoot=function(e){this.setPropertyValue("cssRoot",e)},t.prototype.getCssRoot=function(e){var n=this.hasCssError();return new F().append(r.prototype.getCssRoot.call(this,e)).append(this.isFlowLayout&&!this.isDesignMode?e.flowRoot:e.mainRoot).append(e.titleLeftRoot,!this.isFlowLayout&&this.hasTitleOnLeft).append(e.titleTopRoot,!this.isFlowLayout&&this.hasTitleOnTop).append(e.titleBottomRoot,!this.isFlowLayout&&this.hasTitleOnBottom).append(e.descriptionUnderInputRoot,!this.isFlowLayout&&this.hasDescriptionUnderInput).append(e.hasError,n).append(e.hasErrorTop,n&&this.getErrorLocation()=="top").append(e.hasErrorBottom,n&&this.getErrorLocation()=="bottom").append(e.small,!this.width).append(e.answered,this.isAnswered).append(e.noPointerEventsMode,this.isReadOnlyAttr).toString()},Object.defineProperty(t.prototype,"cssHeader",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssHeader","")},enumerable:!1,configurable:!0}),t.prototype.setCssHeader=function(e){this.setPropertyValue("cssHeader",e)},t.prototype.getCssHeader=function(e){return new F().append(e.header).append(e.headerTop,this.hasTitleOnTop).append(e.headerLeft,this.hasTitleOnLeft).append(e.headerBottom,this.hasTitleOnBottom).toString()},t.prototype.supportContainerQueries=function(){return!1},Object.defineProperty(t.prototype,"cssContent",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssContent","")},enumerable:!1,configurable:!0}),t.prototype.setCssContent=function(e){this.setPropertyValue("cssContent",e)},t.prototype.getCssContent=function(e){return new F().append(e.content).append(e.contentSupportContainerQueries,this.supportContainerQueries()).append(e.contentLeft,this.hasTitleOnLeft).toString()},Object.defineProperty(t.prototype,"cssTitle",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssTitle","")},enumerable:!1,configurable:!0}),t.prototype.setCssTitle=function(e){this.setPropertyValue("cssTitle",e)},t.prototype.getCssTitle=function(e){return new F().append(r.prototype.getCssTitle.call(this,e)).append(e.titleOnAnswer,!this.containsErrors&&this.isAnswered).append(e.titleEmpty,!this.title.trim()).toString()},Object.defineProperty(t.prototype,"cssDescription",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssDescription","")},enumerable:!1,configurable:!0}),t.prototype.setCssDescription=function(e){this.setPropertyValue("cssDescription",e)},t.prototype.getCssDescription=function(e){return new F().append(e.description).append(e.descriptionUnderInput,this.getDescriptionLocation()=="underInput").toString()},t.prototype.showErrorOnCore=function(e){return!this.showErrorsAboveQuestion&&!this.showErrorsBelowQuestion&&this.getErrorLocation()===e},Object.defineProperty(t.prototype,"showErrorOnTop",{get:function(){return this.showErrorOnCore("top")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showErrorOnBottom",{get:function(){return this.showErrorOnCore("bottom")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showErrorsOutsideQuestion",{get:function(){return this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showErrorsAboveQuestion",{get:function(){return this.showErrorsOutsideQuestion&&this.getErrorLocation()==="top"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showErrorsBelowQuestion",{get:function(){return this.showErrorsOutsideQuestion&&this.getErrorLocation()==="bottom"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssError",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssError","")},enumerable:!1,configurable:!0}),t.prototype.setCssError=function(e){this.setPropertyValue("cssError",e)},t.prototype.getCssError=function(e){return new F().append(e.error.root).append(e.errorsContainer,this.showErrorsBelowQuestion||this.showErrorsAboveQuestion).append(e.errorsContainerTop,this.showErrorsAboveQuestion).append(e.errorsContainerBottom,this.showErrorsBelowQuestion).append(e.error.locationTop,this.showErrorOnTop).append(e.error.locationBottom,this.showErrorOnBottom).toString()},t.prototype.hasCssError=function(){return this.errors.length>0||this.hasCssErrorCallback()},t.prototype.getRootCss=function(){return new F().append(this.cssRoot).append(this.cssClasses.mobile,this.isMobile).append(this.cssClasses.readOnly,this.isReadOnlyStyle).append(this.cssClasses.disabled,this.isDisabledStyle).append(this.cssClasses.preview,this.isPreviewStyle).append(this.cssClasses.invisible,!this.isDesignMode&&this.areInvisibleElementsShowing&&!this.visible).toString()},t.prototype.getQuestionRootCss=function(){return new F().append(this.cssClasses.root).append(this.cssClasses.rootMobile,this.isMobile).toString()},t.prototype.updateElementCss=function(e){this.wasRendered?(r.prototype.updateElementCss.call(this,e),e&&this.updateQuestionCss(!0)):this.isRequireUpdateElements=!0,this.resetIndents()},t.prototype.onFirstRenderingCore=function(){this.isRequireUpdateElements&&(this.isRequireUpdateElements=!1,this.updateElementCss(!0)),r.prototype.onFirstRenderingCore.call(this)},t.prototype.updateQuestionCss=function(e){this.isLoadingFromJson||!this.survey||(this.wasRendered?this.updateElementCssCore(this.cssClasses):this.isRequireUpdateElements=!0)},t.prototype.ensureElementCss=function(){this.cssClassesValue||this.updateQuestionCss(!0)},t.prototype.updateElementCssCore=function(e){this.setCssRoot(this.getCssRoot(e)),this.setCssHeader(this.getCssHeader(e)),this.setCssContent(this.getCssContent(e)),this.setCssTitle(this.getCssTitle(e)),this.setCssDescription(this.getCssDescription(e)),this.setCssError(this.getCssError(e))},t.prototype.updateCssClasses=function(e,n){if(n.question){var i=n[this.getCssType()],o=new F().append(e.title).append(n.question.titleRequired,this.isRequired);e.title=o.toString();var l=new F().append(e.root).append(i,this.isRequired&&!!n.question.required);if(i==null)e.root=l.toString();else if(typeof i=="string"||i instanceof String)e.root=l.append(i.toString()).toString();else{e.root=l.toString();for(var u in i)e[u]=i[u]}}},t.prototype.getCssType=function(){return this.getType()},Object.defineProperty(t.prototype,"renderCssRoot",{get:function(){return this.cssClasses.root||void 0},enumerable:!1,configurable:!0}),t.prototype.calcPaddingLeft=function(){return this.getIndentSize(this.indent)},t.prototype.calcPaddingRight=function(){return this.getIndentSize(this.rightIndent)},t.prototype.getIndentSize=function(e){return e<1||!this.getSurvey()||!this.cssClasses||!this.cssClasses.indent?"":e*this.cssClasses.indent+"px"},t.prototype.focus=function(e,n){var i=this;if(e===void 0&&(e=!1),!(this.isDesignMode||!this.isVisible||!this.survey)){var o=this.page,l=!!o&&this.survey.activePage!==o;if(l)this.survey.focusQuestionByInstance(this,e);else if(this.survey){this.expandAllParents();var u=this.survey.isSmoothScrollEnabled?{behavior:"smooth"}:void 0;this.survey.scrollElementToTop(this,this,null,this.id,n,u,void 0,function(){i.focusInputElement(e)})}else this.focusInputElement(e)}},t.prototype.focusInputElement=function(e){var n,i=e?this.getFirstErrorInputElementId():this.getFirstInputElementId(),o=(n=this.survey)===null||n===void 0?void 0:n.rootElement;et.FocusElement(i,!1,o)&&this.fireCallback(this.focusCallback)},Object.defineProperty(t.prototype,"isValidateVisitedEmptyFields",{get:function(){return this.supportEmptyValidation()&&!!this.survey&&this.survey.getValidateVisitedEmptyFields()&&this.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.supportEmptyValidation=function(){return!1},t.prototype.onBlur=function(e){this.onBlurCore(e)},t.prototype.onFocus=function(e){this.onFocusCore(e)},t.prototype.onBlurCore=function(e){this.isFocusEmpty&&this.isEmpty()&&this.validate(!0)},t.prototype.onFocusCore=function(e){this.isFocusEmpty=this.isValidateVisitedEmptyFields},t.prototype.expandAllParents=function(){this.expandAllParentsCore(this)},t.prototype.expandAllParentsCore=function(e){e&&(e.isCollapsed&&e.expand(),this.expandAllParentsCore(e.parent),this.expandAllParentsCore(e.parentQuestion))},t.prototype.focusIn=function(){!this.survey||this.isDisposed||this.isContainer||this.survey.whenQuestionFocusIn(this)},t.prototype.fireCallback=function(e){e&&e()},t.prototype.getOthersMaxLength=function(){return this.survey&&this.survey.maxOthersLength>0?this.survey.maxOthersLength:null},t.prototype.onCreating=function(){},t.prototype.getFirstQuestionToFocus=function(e){return this.hasInput&&(!e||this.currentErrorCount>0)?this:null},t.prototype.getFirstInputElementId=function(){return this.inputId},t.prototype.getFirstErrorInputElementId=function(){return this.getFirstInputElementId()},t.prototype.getProcessedTextValue=function(e){var n=e.name.toLocaleLowerCase();e.isExists=Object.keys(t.TextPreprocessorValuesMap).indexOf(n)!==-1||this[e.name]!==void 0,e.value=this[t.TextPreprocessorValuesMap[n]||e.name]},t.prototype.supportComment=function(){var e=this.getPropertyByName("showCommentArea");return!e||e.visible},t.prototype.supportOther=function(){return!1},Object.defineProperty(t.prototype,"isRequired",{get:function(){return this.getPropertyValue("isRequired")},set:function(e){this.setPropertyValue("isRequired",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requiredIf",{get:function(){return this.getPropertyValue("requiredIf","")},set:function(e){this.setPropertyValue("requiredIf",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showCommentArea",{get:function(){return this.getPropertyValue("showCommentArea",!1)},set:function(e){this.supportComment()&&this.setPropertyValue("showCommentArea",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasComment",{get:function(){return this.showCommentArea},set:function(e){this.showCommentArea=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.getPropertyValue("id")},set:function(e){this.setPropertyValue("id",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaTitleId",{get:function(){return this.id+"_ariaTitle"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaDescriptionId",{get:function(){return this.id+"_ariaDescription"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"commentId",{get:function(){return this.id+"_comment"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showOtherItem",{get:function(){return this.getPropertyValue("showOtherItem",!1)},set:function(e){!this.supportOther()||this.showOtherItem==e||(this.setPropertyValue("showOtherItem",e),this.hasOtherChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasOther",{get:function(){return this.showOtherItem},set:function(e){this.showOtherItem=e},enumerable:!1,configurable:!0}),t.prototype.hasOtherChanged=function(){},Object.defineProperty(t.prototype,"requireUpdateCommentValue",{get:function(){return this.hasComment||this.hasOther},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){var e=!!this.parent&&this.parent.isReadOnly,n=!!this.parentQuestion&&this.parentQuestion.isReadOnly,i=!!this.survey&&this.survey.isDisplayMode,o=!!this.readOnlyCallback&&this.readOnlyCallback();return this.readOnly||e||i||n||o},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isInputReadOnly",{get:function(){return this.forceIsInputReadOnly!==void 0?this.forceIsInputReadOnly:this.isReadOnly||this.isDesignModeV2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedInputReadOnly",{get:function(){return this.isInputReadOnly?"":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedInputDisabled",{get:function(){return this.isInputReadOnly?"":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnlyAttr",{get:function(){return this.isReadOnly},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDisabledAttr",{get:function(){return this.isDesignModeV2||!!this.readOnlyCallback&&this.readOnlyCallback()},enumerable:!1,configurable:!0}),t.prototype.onReadOnlyChanged=function(){this.setPropertyValue("isInputReadOnly",this.isInputReadOnly),r.prototype.onReadOnlyChanged.call(this),this.isReadOnly&&this.clearErrors(),this.updateQuestionCss(),this.resetRenderedCommentPlaceholder()},Object.defineProperty(t.prototype,"enableIf",{get:function(){return this.getPropertyValue("enableIf","")},set:function(e){this.setPropertyValue("enableIf",e)},enumerable:!1,configurable:!0}),t.prototype.surveyChoiceItemVisibilityChange=function(){},t.prototype.runCondition=function(e,n){this.isDesignMode||(n||(n={}),n.question=this,this.runConditionCore(e,n),!this.isValueChangedDirectly&&(!this.isClearValueOnHidden||this.isVisibleInSurvey)&&(this.defaultValueRunner=this.getDefaultRunner(this.defaultValueRunner,this.defaultValueExpression),this.runDefaultValueExpression(this.defaultValueRunner,e,n)))},Object.defineProperty(t.prototype,"isInDesignMode",{get:function(){return!this.isContentElement&&this.isDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isInDesignModeV2",{get:function(){return!this.isContentElement&&this.isDesignModeV2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"no",{get:function(){return this.getPropertyValue("no")},enumerable:!1,configurable:!0}),t.prototype.calcNo=function(){var e;if(!this.hasTitle||this.hideNumber)return"";var n=(e=this.parent)===null||e===void 0?void 0:e.visibleIndex,i=D.getNumberByIndex(this.visibleIndex,this.getStartIndex(),n);return this.survey&&(i=this.survey.getUpdatedQuestionNo(this,i)),i},t.prototype.getStartIndex=function(){return this.parent?this.parent.getQuestionStartIndex():this.survey?this.survey.questionStartIndex:""},t.prototype.onSurveyLoad=function(){this.isCustomWidgetRequested=!1,this.fireCallback(this.surveyLoadCallback),this.updateValueWithDefaults(),this.isEmpty()&&this.initDataFromSurvey()},t.prototype.onSetData=function(){r.prototype.onSetData.call(this),!this.isDesignMode&&this.survey&&!this.isLoadingFromJson&&(this.initDataFromSurvey(),this.onSurveyValueChanged(this.value),this.updateValueWithDefaults(),this.updateIsAnswered())},t.prototype.initDataFromSurvey=function(){if(this.data){var e=this.data.getValue(this.getValueName());(!D.isValueEmpty(e)||!this.isLoadingFromJson)&&this.updateValueFromSurvey(e),this.initCommentFromSurvey()}},t.prototype.initCommentFromSurvey=function(){this.data&&this.requireUpdateCommentValue?this.updateCommentFromSurvey(this.data.getComment(this.getValueName())):this.updateCommentFromSurvey("")},t.prototype.runExpression=function(e){if(!(!this.survey||!e))return this.survey.runExpression(e)},Object.defineProperty(t.prototype,"commentAreaRows",{get:function(){return this.survey&&this.survey.commentAreaRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoGrowComment",{get:function(){return this.survey&&this.survey.autoGrowComment},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowResizeComment",{get:function(){return this.survey&&this.survey.allowResizeComment},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"questionValue",{get:function(){return this.getPropertyValueWithoutDefault("value")},set:function(e){this.setPropertyValue("value",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"questionComment",{get:function(){return this.getPropertyValueWithoutDefault("comment")},set:function(e){this.setPropertyValue("comment",e),this.fireCallback(this.commentChangedCallback)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isValueArray",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValueCore()},set:function(e){this.setNewValue(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasFilteredValue",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.getFilteredValue=function(){return this.value},t.prototype.getFilteredName=function(){return this.getValueName()},Object.defineProperty(t.prototype,"valueForSurvey",{get:function(){return this.valueForSurveyCore(this.value)},enumerable:!1,configurable:!0}),t.prototype.valueForSurveyCore=function(e){return this.valueToDataCallback?this.valueToDataCallback(e):e},t.prototype.valueFromDataCore=function(e){return this.valueFromDataCallback?this.valueFromDataCallback(e):e},t.prototype.clearValue=function(e){this.value!==void 0&&(this.value=void 0),this.comment&&e!==!0&&(this.comment=void 0),this.setValueChangedDirectly(!1)},t.prototype.clearValueOnly=function(){this.clearValue(!0)},t.prototype.unbindValue=function(){this.clearValue()},t.prototype.createValueCopy=function(){return this.getUnbindValue(this.value)},t.prototype.initDataUI=function(){},t.prototype.getUnbindValue=function(e){return this.isValueSurveyElement(e)?e:D.getUnbindValue(e)},t.prototype.isValueSurveyElement=function(e){return e?Array.isArray(e)?e.length>0?this.isValueSurveyElement(e[0]):!1:!!e.getType&&!!e.onPropertyChanged:!1},t.prototype.canClearValueAsInvisible=function(e){return e==="onHiddenContainer"&&!this.isParentVisible?!0:this.isVisibleInSurvey||this.page&&this.page.isStartPage?!1:this.survey?!this.survey.hasVisibleQuestionByValueName(this.getValueName()):!0},Object.defineProperty(t.prototype,"isParentVisible",{get:function(){if(this.parentQuestion&&!this.parentQuestion.isVisible)return!1;for(var e=this.parent;e;){if(!e.isVisible)return!1;e=e.parent}return!0},enumerable:!1,configurable:!0}),t.prototype.clearValueIfInvisible=function(e){e===void 0&&(e="onHidden");var n=this.getClearIfInvisible();n!=="none"&&(e==="onHidden"&&n==="onComplete"||e==="onHiddenContainer"&&n!==e||this.clearValueIfInvisibleCore(e))},t.prototype.clearValueIfInvisibleCore=function(e){this.canClearValueAsInvisible(e)&&this.clearValue()},Object.defineProperty(t.prototype,"clearIfInvisible",{get:function(){return this.getPropertyValue("clearIfInvisible")},set:function(e){this.setPropertyValue("clearIfInvisible",e)},enumerable:!1,configurable:!0}),t.prototype.getClearIfInvisible=function(){var e=this.clearIfInvisible;return this.survey?this.survey.getQuestionClearIfInvisible(e):e!=="default"?e:"onComplete"},Object.defineProperty(t.prototype,"displayValue",{get:function(){return this.isLoadingFromJson?"":this.getDisplayValue(!0)},enumerable:!1,configurable:!0}),t.prototype.getDisplayValue=function(e,n){n===void 0&&(n=void 0);var i=this.calcDisplayValue(e,n);return this.survey&&(i=this.survey.getQuestionDisplayValue(this,i)),this.displayValueCallback?this.displayValueCallback(i):i},t.prototype.calcDisplayValue=function(e,n){if(n===void 0&&(n=void 0),this.customWidget){var i=this.customWidget.getDisplayValue(this,n);if(i)return i}return n=n??this.createValueCopy(),this.isValueEmpty(n,!this.allowSpaceAsAnswer)?this.getDisplayValueEmpty():this.getDisplayValueCore(e,n)},t.prototype.getDisplayValueCore=function(e,n){return n},t.prototype.getDisplayValueEmpty=function(){return""},Object.defineProperty(t.prototype,"defaultValue",{get:function(){return this.getPropertyValue("defaultValue")},set:function(e){if(this.isValueExpression(e)){this.defaultValueExpression=e.substring(1);return}this.setPropertyValue("defaultValue",this.convertDefaultValue(e)),this.updateValueWithDefaults()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultValueExpression",{get:function(){return this.getPropertyValue("defaultValueExpression")},set:function(e){this.setPropertyValue("defaultValueExpression",e),this.defaultValueRunner=void 0,this.updateValueWithDefaults()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resetValueIf",{get:function(){return this.getPropertyValue("resetValueIf")},set:function(e){this.setPropertyValue("resetValueIf",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"setValueIf",{get:function(){return this.getPropertyValue("setValueIf")},set:function(e){this.setPropertyValue("setValueIf",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"setValueExpression",{get:function(){return this.getPropertyValue("setValueExpression")},set:function(e){this.setPropertyValue("setValueExpression",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resizeStyle",{get:function(){return this.allowResizeComment?"both":"none"},enumerable:!1,configurable:!0}),t.prototype.getPlainData=function(e){var n=this;if(e||(e={includeEmpty:!0,includeQuestionTypes:!1}),e.includeEmpty||!this.isEmpty()){var i={name:this.name,title:this.locTitle.renderedHtml,value:this.value,displayValue:this.displayValue,isNode:!1,getString:function(o){return typeof o=="object"?JSON.stringify(o):o}};return e.includeQuestionTypes===!0&&(i.questionType=this.getType()),(e.calculations||[]).forEach(function(o){i[o.propertyName]=n.getPlainDataCalculatedValue(o.propertyName)}),this.hasComment&&(i.isNode=!0,i.data=[{name:0,isComment:!0,title:"Comment",value:R.commentSuffix,displayValue:this.comment,getString:function(o){return typeof o=="object"?JSON.stringify(o):o},isNode:!1}]),i}},t.prototype.getPlainDataCalculatedValue=function(e){return this[e]},Object.defineProperty(t.prototype,"correctAnswer",{get:function(){return this.getPropertyValue("correctAnswer")},set:function(e){this.setPropertyValue("correctAnswer",this.convertDefaultValue(e))},enumerable:!1,configurable:!0}),t.prototype.convertDefaultValue=function(e){return e},Object.defineProperty(t.prototype,"quizQuestionCount",{get:function(){return this.isVisible&&this.hasInput&&!this.isValueEmpty(this.correctAnswer)?this.getQuizQuestionCount():0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"correctAnswerCount",{get:function(){return!this.isEmpty()&&!this.isValueEmpty(this.correctAnswer)?this.getCorrectAnswerCount():0},enumerable:!1,configurable:!0}),t.prototype.getQuizQuestionCount=function(){return 1},t.prototype.getCorrectAnswerCount=function(){return this.checkIfAnswerCorrect()?1:0},t.prototype.checkIfAnswerCorrect=function(){var e=D.isTwoValueEquals(this.value,this.correctAnswer,this.getAnswerCorrectIgnoreOrder(),R.comparator.caseSensitive,!0),n=e?1:0,i=this.quizQuestionCount-n,o={result:e,correctAnswers:n,correctAnswerCount:n,incorrectAnswers:i,incorrectAnswerCount:i};return this.survey&&this.survey.onCorrectQuestionAnswer(this,o),o.result},t.prototype.getAnswerCorrectIgnoreOrder=function(){return!1},t.prototype.isAnswerCorrect=function(){return this.correctAnswerCount==this.quizQuestionCount},t.prototype.updateValueWithDefaults=function(){this.isLoadingFromJson||!this.isDesignMode&&this.isDefaultValueEmpty()||!this.isDesignMode&&!this.isEmpty()||this.isEmpty()&&this.isDefaultValueEmpty()||this.isClearValueOnHidden&&!this.isVisible||this.isDesignMode&&this.isContentElement&&this.isDefaultValueEmpty()||this.setDefaultValue()},Object.defineProperty(t.prototype,"isValueDefault",{get:function(){return!this.isEmpty()&&(this.isTwoValueEquals(this.defaultValue,this.value)||!this.isValueChangedDirectly&&!!this.defaultValueExpression)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isClearValueOnHidden",{get:function(){var e=this.getClearIfInvisible();return e==="none"||e==="onComplete"?!1:e==="onHidden"||e==="onHiddenContainer"},enumerable:!1,configurable:!0}),t.prototype.getQuestionFromArray=function(e,n){return null},t.prototype.getDefaultValue=function(){return this.defaultValue},t.prototype.isDefaultValueEmpty=function(){return!this.defaultValueExpression&&this.isValueEmpty(this.defaultValue,!this.allowSpaceAsAnswer)},t.prototype.getDefaultRunner=function(e,n){return!e&&n&&(e=this.createExpressionRunner(n)),e&&(e.expression=n),e},t.prototype.setDefaultValue=function(){var e=this;this.setDefaultValueCore(function(n){e.isTwoValueEquals(e.value,n)||(e.value=n)})},t.prototype.setDefaultValueCore=function(e){this.defaultValueRunner=this.getDefaultRunner(this.defaultValueRunner,this.defaultValueExpression),this.setValueAndRunExpression(this.defaultValueRunner,this.getUnbindValue(this.defaultValue),function(n){return e(n)})},t.prototype.isValueExpression=function(e){return!!e&&typeof e=="string"&&e.length>0&&e[0]=="="},t.prototype.setValueAndRunExpression=function(e,n,i,o,l){var u=this;o===void 0&&(o=null),l===void 0&&(l=null);var d=function(m){u.runExpressionSetValueCore(m,i)};this.runDefaultValueExpression(e,o,l,d)||d(n)},t.prototype.convertFuncValuetoQuestionValue=function(e){return D.convertValToQuestionVal(e)},t.prototype.runExpressionSetValueCore=function(e,n){n(this.convertFuncValuetoQuestionValue(e))},t.prototype.runExpressionSetValue=function(e){var n=this;this.runExpressionSetValueCore(e,function(i){n.isTwoValueEquals(n.value,i)||(n.startSetValueOnExpression(),n.value=i,n.finishSetValueOnExpression())})},t.prototype.startSetValueOnExpression=function(){var e;(e=this.survey)===null||e===void 0||e.startSetValueOnExpression()},t.prototype.finishSetValueOnExpression=function(){var e;(e=this.survey)===null||e===void 0||e.finishSetValueOnExpression()},t.prototype.runDefaultValueExpression=function(e,n,i,o){var l=this;return n===void 0&&(n=null),i===void 0&&(i=null),!e||!this.data?!1:(o||(o=function(u){l.runExpressionSetValue(u)}),n||(n=this.defaultValueExpression?this.data.getFilteredValues():{}),i||(i=this.defaultValueExpression?this.data.getFilteredProperties():{}),e&&e.canRun&&(e.onRunComplete=function(u){u==null&&(u=l.defaultValue),l.isChangingViaDefaultValue=!0,o(u),l.isChangingViaDefaultValue=!1},e.run(n,i)),!0)},Object.defineProperty(t.prototype,"comment",{get:function(){return this.getQuestionComment()},set:function(e){if(e){var n=e.toString().trim();n!==e&&(e=n,e===this.comment&&this.setPropertyValueDirectly("comment",e))}this.comment!=e&&(this.setQuestionComment(e),this.updateCommentElements())},enumerable:!1,configurable:!0}),t.prototype.getCommentAreaCss=function(e){return e===void 0&&(e=!1),new F().append("form-group",e).append(this.cssClasses.formGroup,!e).append(this.cssClasses.commentArea).toString()},t.prototype.getQuestionComment=function(){return this.questionComment},t.prototype.setQuestionComment=function(e){this.setNewComment(e)},t.prototype.isEmpty=function(){return this.isValueEmpty(this.value,!this.allowSpaceAsAnswer)},Object.defineProperty(t.prototype,"isAnswered",{get:function(){return this.getPropertyValue("isAnswered")||!1},set:function(e){this.setPropertyValue("isAnswered",e)},enumerable:!1,configurable:!0}),t.prototype.updateIsAnswered=function(){var e=this.isAnswered;this.setPropertyValue("isAnswered",this.getIsAnswered()),e!==this.isAnswered&&this.updateQuestionCss()},t.prototype.getIsAnswered=function(){return!this.isEmpty()},Object.defineProperty(t.prototype,"validators",{get:function(){return this.getPropertyValue("validators")},set:function(e){this.setPropertyValue("validators",e)},enumerable:!1,configurable:!0}),t.prototype.getValidators=function(){return this.validators},t.prototype.getSupportedValidators=function(){for(var e=[],n=this.getType();n;){var i=R.supportedValidators[n];if(i)for(var o=i.length-1;o>=0;o--)e.splice(0,0,i[o]);var l=L.findClass(n);n=l.parentName}return e},t.prototype.addConditionObjectsByContext=function(e,n){e.push({name:this.getFilteredName(),text:this.processedTitle,question:this})},t.prototype.getNestedQuestions=function(e){e===void 0&&(e=!1);var n=[];return this.collectNestedQuestions(n,e),n.length===1&&n[0]===this?[]:n},t.prototype.collectNestedQuestions=function(e,n){n===void 0&&(n=!1),!(n&&!this.isVisible)&&this.collectNestedQuestionsCore(e,n)},t.prototype.collectNestedQuestionsCore=function(e,n){e.push(this)},t.prototype.getConditionJson=function(e,n){e===void 0&&(e=null),n===void 0&&(n=null);var i=new nt().toJsonObject(this);return i.type=this.getType(),i},t.prototype.hasErrors=function(e,n){e===void 0&&(e=!0),n===void 0&&(n=null);var i=this.checkForErrors(!!n&&n.isOnValueChanged===!0,e);return e&&(this.survey&&this.survey.beforeSettingQuestionErrors(this,i),this.errors=i,this.errors!==i&&this.errors.forEach(function(o){return o.locText.strChanged()})),this.updateContainsErrors(),this.isCollapsed&&n&&e&&i.length>0&&this.expand(),i.length>0},t.prototype.validate=function(e,n){return e===void 0&&(e=!0),n===void 0&&(n=null),n&&n.isOnValueChanged&&this.parent&&this.parent.validateContainerOnly(),!this.hasErrors(e,n)},Object.defineProperty(t.prototype,"currentErrorCount",{get:function(){return this.errors.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requiredText",{get:function(){return this.survey!=null&&this.isRequired?this.survey.requiredText:""},enumerable:!1,configurable:!0}),t.prototype.addError=function(e){if(e){var n=null;typeof e=="string"||e instanceof String?n=this.addCustomError(e):n=e,this.errors.push(n)}},t.prototype.addCustomError=function(e){return new ht(e,this.survey)},t.prototype.removeError=function(e){if(!e)return!1;var n=this.errors,i=n.indexOf(e);return i!==-1&&n.splice(i,1),i!==-1},t.prototype.checkForErrors=function(e,n){var i=new Array;return this.isVisible&&this.canCollectErrors()&&this.collectErrors(i,e,n),i},t.prototype.canCollectErrors=function(){return!this.isReadOnly||R.readOnly.enableValidation},t.prototype.collectErrors=function(e,n,i){if(this.onCheckForErrors(e,n,i),!(e.length>0||!this.canRunValidators(n))){var o=this.runValidators();if(o.length>0){e.length=0;for(var l=0;l<o.length;l++)e.push(o[l])}if(this.survey&&e.length==0){var u=this.fireSurveyValidation();u&&e.push(u)}}},t.prototype.canRunValidators=function(e){return!0},t.prototype.fireSurveyValidation=function(){return this.validateValueCallback?this.validateValueCallback():this.survey?this.survey.validateQuestion(this):null},t.prototype.onCheckForErrors=function(e,n,i){var o=this;if((!n||this.isOldAnswered)&&this.hasRequiredError()){var l=new Oa(this.requiredErrorText,this);l.onUpdateErrorTextCallback=function(d){d.text=o.requiredErrorText},e.push(l)}if(!this.isEmpty()&&this.customWidget){var u=this.customWidget.validate(this);u&&e.push(this.addCustomError(u))}},t.prototype.hasRequiredError=function(){return this.isRequired&&this.isEmpty()},Object.defineProperty(t.prototype,"isRunningValidators",{get:function(){return this.getIsRunningValidators()},enumerable:!1,configurable:!0}),t.prototype.getIsRunningValidators=function(){return this.isRunningValidatorsValue},t.prototype.runValidators=function(){var e=this;return this.validatorRunner&&(this.validatorRunner.onAsyncCompleted=null),this.validatorRunner=new ka,this.isRunningValidatorsValue=!0,this.validatorRunner.onAsyncCompleted=function(n){e.doOnAsyncCompleted(n)},this.validatorRunner.run(this)},t.prototype.doOnAsyncCompleted=function(e){for(var n=0;n<e.length;n++)this.errors.push(e[n]);this.isRunningValidatorsValue=!1,this.raiseOnCompletedAsyncValidators()},t.prototype.raiseOnCompletedAsyncValidators=function(){this.onCompletedAsyncValidators&&!this.isRunningValidators&&(this.onCompletedAsyncValidators(this.getAllErrors().length>0),this.onCompletedAsyncValidators=null)},t.prototype.setNewValue=function(e){this.isNewValueEqualsToValue(e)||this.checkIsValueCorrect(e)&&(this.isOldAnswered=this.isAnswered,this.isSettingQuestionValue=!0,this.setNewValueInData(e),this.allowNotifyValueChanged&&this.onValueChanged(),this.isSettingQuestionValue=!1,this.isAnswered!==this.isOldAnswered&&this.updateQuestionCss(),this.isOldAnswered=void 0,this.parent&&this.parent.onQuestionValueChanged(this))},t.prototype.checkIsValueCorrect=function(e){var n=this.isValueEmpty(e,!this.allowSpaceAsAnswer)||this.isNewValueCorrect(e);return n||Lt.inCorrectQuestionValue(this.name,e),n},t.prototype.isNewValueCorrect=function(e){return!0},t.prototype.isNewValueEqualsToValue=function(e){var n=this.value;if(!this.isTwoValueEquals(e,n,!1,!1))return!1;var i=e===n&&!!n&&(Array.isArray(n)||typeof n=="object");return!i},t.prototype.isTextValue=function(){return!1},t.prototype.getIsInputTextUpdate=function(){return this.survey?this.survey.isUpdateValueTextOnTyping:!1},Object.defineProperty(t.prototype,"requireStrictCompare",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.getDataLocNotification=function(){return this.isInputTextUpdate?"text":!1},Object.defineProperty(t.prototype,"isInputTextUpdate",{get:function(){return this.getIsInputTextUpdate()&&this.isTextValue()},enumerable:!1,configurable:!0}),t.prototype.setNewValueInData=function(e){e=this.valueToData(e),this.isValueChangedInSurvey||this.setValueCore(e)},t.prototype.getValueCore=function(){return this.questionValue},t.prototype.setValueCore=function(e){this.setQuestionValue(e),this.data!=null&&this.canSetValueToSurvey()&&(e=this.valueForSurvey,this.data.setValue(this.getValueName(),e,this.getDataLocNotification(),this.allowNotifyValueChanged,this.name)),this.isMouseDown=!1},t.prototype.canSetValueToSurvey=function(){return!0},t.prototype.valueFromData=function(e){return e},t.prototype.valueToData=function(e){return e},t.prototype.convertToCorrectValue=function(e){return e},t.prototype.onValueChanged=function(){},t.prototype.onMouseDown=function(){this.isMouseDown=!0},t.prototype.setNewComment=function(e){this.questionComment!==e&&(this.questionComment=e,this.setCommentIntoData(e))},t.prototype.setCommentIntoData=function(e){this.data!=null&&this.data.setComment(this.getValueName(),e,this.getIsInputTextUpdate()?"text":!1)},t.prototype.getValidName=function(e){return to(e)},t.prototype.updateValueFromSurvey=function(e,n){var i=this;if(n===void 0&&(n=!1),e=this.getUnbindValue(e),e=this.valueFromDataCore(e),!!this.checkIsValueCorrect(e)){var o=this.isValueEmpty(e);!o&&this.defaultValueExpression?this.setDefaultValueCore(function(l){i.updateValueFromSurveyCore(e,i.isTwoValueEquals(e,l))}):(this.updateValueFromSurveyCore(e,this.data!==this.getSurvey()),n&&o&&(this.isValueChangedDirectly=!1)),this.updateDependedQuestions(),this.updateIsAnswered()}},t.prototype.updateValueFromSurveyCore=function(e,n){this.isChangingViaDefaultValue=n,this.setQuestionValue(this.valueFromData(e)),this.isChangingViaDefaultValue=!1},t.prototype.updateCommentFromSurvey=function(e){this.questionComment=e},t.prototype.onChangeQuestionValue=function(e){},t.prototype.setValueChangedDirectly=function(e){this.isValueChangedDirectly=e,this.setValueChangedDirectlyCallback&&this.setValueChangedDirectlyCallback(e)},t.prototype.setQuestionValue=function(e,n){n===void 0&&(n=!0),e=this.convertToCorrectValue(e);var i=this.isTwoValueEquals(this.questionValue,e);!i&&!this.isChangingViaDefaultValue&&!this.isParentChangingViaDefaultValue&&this.setValueChangedDirectly(!0),this.questionValue=e,i||this.onChangeQuestionValue(e),!i&&this.allowNotifyValueChanged&&this.fireCallback(this.valueChangedCallback),n&&this.updateIsAnswered()},Object.defineProperty(t.prototype,"isParentChangingViaDefaultValue",{get:function(){var e;return((e=this.data)===null||e===void 0?void 0:e.isChangingViaDefaultValue)===!0},enumerable:!1,configurable:!0}),t.prototype.onSurveyValueChanged=function(e){},t.prototype.setVisibleIndex=function(e){return(!this.isVisible||!this.hasTitle&&!R.numbering.includeQuestionsWithHiddenTitle||this.hideNumber&&!R.numbering.includeQuestionsWithHiddenNumber)&&(e=-1),this.setPropertyValue("visibleIndex",e),this.setPropertyValue("no",this.calcNo()),e<0?0:1},t.prototype.removeElement=function(e){return!1},t.prototype.supportGoNextPageAutomatic=function(){return!1},t.prototype.supportGoNextPageError=function(){return!0},t.prototype.clearIncorrectValues=function(){},t.prototype.clearOnDeletingContainer=function(){},t.prototype.clearErrors=function(){this.errors=[]},t.prototype.clearUnusedValues=function(){},t.prototype.onAnyValueChanged=function(e,n){},t.prototype.checkBindings=function(e,n){if(!(this.bindings.isEmpty()||!this.data))for(var i=this.bindings.getPropertiesByValueName(e),o=0;o<i.length;o++){var l=i[o];this.isValueEmpty(n)&&D.isNumber(this[l])&&(n=0),this.updateBindingProp(l,n)}},t.prototype.updateBindingProp=function(e,n){this[e]=n},t.prototype.getComponentName=function(){return Qa.Instance.getRendererByQuestion(this)},t.prototype.isDefaultRendering=function(){return!!this.customWidget||this.getComponentName()==="default"},t.prototype.getErrorCustomText=function(e,n){return this.survey?this.survey.getSurveyErrorCustomText(this,e,n):e},t.prototype.getValidatorTitle=function(){return null},Object.defineProperty(t.prototype,"validatedValue",{get:function(){return this.value},set:function(e){this.value=e},enumerable:!1,configurable:!0}),t.prototype.getAllValues=function(){return this.data?this.data.getAllValues():null},t.prototype.processPopupVisiblilityChanged=function(e,n){this.survey.processPopupVisiblityChanged(this,e,n)},t.prototype.processOpenDropdownMenu=function(e){this.survey.processOpenDropdownMenu(this,e)},t.prototype.onTextKeyDownHandler=function(e){e.keyCode===13&&this.survey.questionEditFinishCallback(this,e)},t.prototype.transformToMobileView=function(){},t.prototype.transformToDesktopView=function(){},t.prototype.needResponsiveWidth=function(){return!1},t.prototype.supportResponsiveness=function(){return!1},t.prototype.needResponsiveness=function(){return this.supportResponsiveness()&&this.isDefaultV2Theme&&!this.isDesignMode},t.prototype.checkForResponsiveness=function(e){var n=this;if(this.needResponsiveness())if(this.isCollapsed){var i=function(){n.isExpanded&&(n.initResponsiveness(e),n.unregisterPropertyChangedHandlers(["state"],"for-responsiveness"))};this.registerPropertyChangedHandlers(["state"],i,"for-responsiveness")}else this.initResponsiveness(e)},t.prototype.getObservedElementSelector=function(){return".sd-scrollable-container"},t.prototype.onMobileChanged=function(){this.onMobileChangedCallback&&this.onMobileChangedCallback()},t.prototype.triggerResponsiveness=function(e){e===void 0&&(e=!0),this.triggerResponsivenessCallback&&this.triggerResponsivenessCallback(e)},t.prototype.initResponsiveness=function(e){var n=this;if(this.destroyResizeObserver(),e&&this.isDefaultRendering()){var i=this.getObservedElementSelector();if(!i)return;var o=e.querySelector(i);if(!o)return;var l=!1,u=void 0;this.triggerResponsivenessCallback=function(d){d&&(u=void 0,n.renderAs="default",l=!1);var m=function(){var w=e.querySelector(i);!u&&n.isDefaultRendering()&&(u=w.scrollWidth),l||!Kr(w)?l=!1:l=n.processResponsiveness(u,Jr(w))};d?setTimeout(m,1):m()},this.resizeObserver=new ResizeObserver(function(d){p.requestAnimationFrame(function(){n.triggerResponsiveness(!1)})}),this.onMobileChangedCallback=function(){setTimeout(function(){var d=e.querySelector(i);n.processResponsiveness(u,Jr(d))},0)},this.resizeObserver.observe(e)}},t.prototype.getCompactRenderAs=function(){return"default"},t.prototype.getDesktopRenderAs=function(){return"default"},t.prototype.onBeforeSetCompactRenderer=function(){},t.prototype.onBeforeSetDesktopRenderer=function(){},t.prototype.processResponsiveness=function(e,n){if(n=Math.round(n),Math.abs(e-n)>2){var i=this.renderAs;return e>n?(this.onBeforeSetCompactRenderer(),this.renderAs=this.getCompactRenderAs()):(this.onBeforeSetDesktopRenderer(),this.renderAs=this.getDesktopRenderAs()),i!==this.renderAs}return!1},t.prototype.destroyResizeObserver=function(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=void 0,this.onMobileChangedCallback=void 0,this.triggerResponsivenessCallback=void 0,this.renderAs=this.getDesktopRenderAs())},t.prototype.dispose=function(){r.prototype.dispose.call(this),this.resetDependedQuestions(),this.destroyResizeObserver()},t.prototype.resetDependedQuestions=function(){for(var e=0;e<this.dependedQuestions.length;e++)this.dependedQuestions[e].resetDependedQuestion()},Object.defineProperty(t.prototype,"isNewA11yStructure",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaLabel",{get:function(){return this.isNewA11yStructure?null:this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaRole",{get:function(){return this.isNewA11yStructure?null:"textbox"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaRequired",{get:function(){return this.isNewA11yStructure?null:this.isRequired?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaInvalid",{get:function(){return this.isNewA11yStructure?null:this.hasCssError()?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaLabelledBy",{get:function(){return this.isNewA11yStructure?null:this.hasTitle?this.ariaTitleId:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaDescribedBy",{get:function(){return this.isNewA11yStructure?null:this.hasTitle&&this.hasDescription?this.ariaDescriptionId:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaErrormessage",{get:function(){return this.isNewA11yStructure?null:this.hasCssError()?this.id+"_errors":null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a11y_input_ariaRole",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a11y_input_ariaRequired",{get:function(){return this.isRequired?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a11y_input_ariaInvalid",{get:function(){return this.hasCssError()?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a11y_input_ariaLabel",{get:function(){return this.hasTitle&&!this.parentQuestion?null:this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a11y_input_ariaLabelledBy",{get:function(){return this.hasTitle&&!this.parentQuestion?this.ariaTitleId:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a11y_input_ariaDescribedBy",{get:function(){return this.hasTitle&&!this.parentQuestion&&this.hasDescription?this.ariaDescriptionId:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a11y_input_ariaErrormessage",{get:function(){return this.hasCssError()?this.id+"_errors":null},enumerable:!1,configurable:!0}),t.TextPreprocessorValuesMap={title:"processedTitle",require:"requiredText"},t.questionCounter=100,Mn([V({defaultValue:!1})],t.prototype,"_isMobile",void 0),Mn([V()],t.prototype,"forceIsInputReadOnly",void 0),Mn([V()],t.prototype,"ariaExpanded",void 0),Mn([V({localizable:!0,onSet:function(e,n){return n.resetRenderedCommentPlaceholder()}})],t.prototype,"commentPlaceholder",void 0),Mn([V()],t.prototype,"renderAs",void 0),Mn([V({defaultValue:!1})],t.prototype,"inMatrixMode",void 0),t}(et);function to(r){if(!r)return r;for(r=r.trim().replace(/[\{\}]+/g,"");r&&r[0]===R.expressionDisableConversionChar;)r=r.substring(1);return r}L.addClass("question",[{name:"!name",onSettingValue:function(r,t){return to(t)}},{name:"state",default:"default",choices:["default","collapsed","expanded"]},{name:"visible:switch",default:!0,overridingProperty:"visibleIf"},{name:"useDisplayValuesInDynamicTexts:boolean",alternativeName:"useDisplayValuesInTitle",default:!0,layout:"row"},"visibleIf:condition",{name:"width"},{name:"minWidth",defaultFunc:function(){return R.minWidth}},{name:"maxWidth",defaultFunc:function(){return R.maxWidth}},{name:"colSpan:number",visible:!1,onSerializeValue:function(r){return r.getPropertyValue("colSpan")}},{name:"effectiveColSpan:number",minValue:1,isSerializable:!1,visibleIf:function(r){return!!r&&!!r.survey&&r.survey.gridLayoutEnabled}},{name:"startWithNewLine:boolean",default:!0,layout:"row"},{name:"indent:number",default:0,choices:[0,1,2,3],layout:"row"},{name:"page",isSerializable:!1,visibleIf:function(r){var t=r?r.survey:null;return!t||!t.pages||t.pages.length>1},choices:function(r){var t=r?r.survey:null;return t?t.pages.map(function(e){return{value:e.name,text:e.title}}):[]}},{name:"title:text",serializationProperty:"locTitle",layout:"row",dependsOn:"name",onPropertyEditorUpdate:function(r,t){r&&t&&(t.placeholder=r.getDefaultTitle())}},{name:"titleLocation",default:"default",choices:["default","top","bottom","left","hidden"],layout:"row"},{name:"description:text",serializationProperty:"locDescription",layout:"row"},{name:"descriptionLocation",default:"default",choices:["default","underInput","underTitle"]},{name:"hideNumber:boolean",dependsOn:"titleLocation",visibleIf:function(r){if(!r)return!0;if(r.titleLocation==="hidden")return!1;var t=r?r.parent:null,e=!t||t.showQuestionNumbers!=="off";if(!e)return!1;var n=r?r.survey:null;return!n||n.showQuestionNumbers!=="off"||!!t&&t.showQuestionNumbers==="onpanel"}},{name:"valueName",onSettingValue:function(r,t){return to(t)}},"enableIf:condition","resetValueIf:condition","setValueIf:condition","setValueExpression:expression","defaultValue:value",{name:"defaultValueExpression:expression",category:"logic"},"correctAnswer:value",{name:"clearIfInvisible",default:"default",choices:["default","none","onComplete","onHidden","onHiddenContainer"]},{name:"isRequired:switch",overridingProperty:"requiredIf"},"requiredIf:condition",{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},{name:"errorLocation",default:"default",choices:["default","top","bottom"]},{name:"readOnly:switch",overridingProperty:"enableIf"},{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"},{name:"bindings:bindings",serializationProperty:"bindings",visibleIf:function(r){return r.bindings.getNames().length>0}},{name:"renderAs",default:"default",visible:!1},{name:"showCommentArea",visible:!1,default:!1,alternativeName:"hasComment",category:"general"},{name:"commentText",dependsOn:"showCommentArea",visibleIf:function(r){return r.showCommentArea},serializationProperty:"locCommentText"},{name:"commentPlaceholder",alternativeName:"commentPlaceHolder",serializationProperty:"locCommentPlaceholder",dependsOn:"showCommentArea",visibleIf:function(r){return r.hasComment}}]),L.addAlterNativeClassName("question","questionbase");var tf=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),no=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},de=function(r){tf(t,r);function t(e,n,i){n===void 0&&(n=null),i===void 0&&(i="itemvalue");var o=r.call(this)||this;return o.typeName=i,o.ownerPropertyName="",o.locTextValue=new bt(o,!0,"text"),o.locTextValue.onStrChanged=function(l,u){u==o.value&&(u=void 0),o.propertyValueChanged("text",l,u)},o.locTextValue.onGetTextCallback=function(l){return l||(D.isValueEmpty(o.value)?null:o.value.toString())},n&&(o.locText.text=n),e&&typeof e=="object"?o.setData(e,!0):o.setValue(e,!0),o.getType()!="itemvalue"&&kt.createProperties(o),o.data=o,o.onCreating(),o}return t.prototype.getMarkdownHtml=function(e,n){return this.locOwner?this.locOwner.getMarkdownHtml(e,n):void 0},t.prototype.getRenderer=function(e){return this.locOwner?this.locOwner.getRenderer(e):null},t.prototype.getRendererContext=function(e){return this.locOwner?this.locOwner.getRendererContext(e):e},t.prototype.getProcessedText=function(e){return this.locOwner?this.locOwner.getProcessedText(e):e},Object.defineProperty(t,"Separator",{get:function(){return R.itemValueSeparator},set:function(e){R.itemValueSeparator=e},enumerable:!1,configurable:!0}),t.setData=function(e,n,i){e.length=0;for(var o=0;o<n.length;o++){var l=n[o],u=l&&typeof l.getType=="function"?l.getType():i??"itemvalue",d=L.createClass(u);d.setData(l),l.originalItem&&(d.originalItem=l.originalItem),e.push(d)}},t.getData=function(e){for(var n=[],i=0;i<e.length;i++)n.push(e[i].getData());return n},t.getItemByValue=function(e,n){if(!Array.isArray(e))return null;for(var i=D.isValueEmpty(n),o=0;o<e.length;o++)if(i&&D.isValueEmpty(e[o].value)||D.isTwoValueEquals(e[o].value,n,!1,!0,!1))return e[o];return null},t.getTextOrHtmlByValue=function(e,n){var i=t.getItemByValue(e,n);return i!==null?i.locText.textOrHtml:""},t.locStrsChanged=function(e){for(var n=0;n<e.length;n++)e[n].locStrsChanged()},t.runConditionsForItems=function(e,n,i,o,l,u,d){return u===void 0&&(u=!0),t.runConditionsForItemsCore(e,n,i,o,l,!0,u,d)},t.runEnabledConditionsForItems=function(e,n,i,o,l){return t.runConditionsForItemsCore(e,null,n,i,o,!1,!0,l)},t.runConditionsForItemsCore=function(e,n,i,o,l,u,d,m){d===void 0&&(d=!0),o||(o={});for(var w=o.item,E=o.choice,A=!1,U=0;U<e.length;U++){var W=e[U];o.item=W.value,o.choice=W.value;var se=d&&W.getConditionRunner?W.getConditionRunner(u):!1;se||(se=i);var ie=!0;se&&(ie=se.run(o,l)),m&&(ie=m(W,ie)),n&&ie&&n.push(W);var K=u?W.isVisible:W.isEnabled;ie!=K&&(A=!0,u?W.setIsVisible&&W.setIsVisible(ie):W.setIsEnabled&&W.setIsEnabled(ie))}return w?o.item=w:delete o.item,E?o.choice=E:delete o.choice,A},t.prototype.onCreating=function(){},t.prototype.getType=function(){return this.typeName?this.typeName:"itemvalue"},t.prototype.getSurvey=function(e){return e===void 0&&(e=!1),this.locOwner&&this.locOwner.getSurvey?this.locOwner.getSurvey():null},t.prototype.getLocale=function(){return this.locOwner&&this.locOwner.getLocale?this.locOwner.getLocale():""},Object.defineProperty(t.prototype,"isInternal",{get:function(){return this.isGhost===!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locText",{get:function(){return this.locTextValue},enumerable:!1,configurable:!0}),t.prototype.setLocText=function(e){this.locTextValue=e},Object.defineProperty(t.prototype,"locOwner",{get:function(){return this._locOwner},set:function(e){this._locOwner=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.getPropertyValue("value")},set:function(e){this.setValue(e,!1)},enumerable:!1,configurable:!0}),t.prototype.setValue=function(e,n){var i=void 0;if(!D.isValueEmpty(e)){var o=e.toString(),l=o.indexOf(R.itemValueSeparator);l>-1&&(e=o.slice(0,l),i=o.slice(l+1))}n?this.setPropertyValueDirectly("value",e):this.setPropertyValue("value",e),i&&(this.text=i),this.id=this.value},Object.defineProperty(t.prototype,"hasText",{get:function(){return!!this.locText.pureText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pureText",{get:function(){return this.locText.pureText},set:function(e){this.text=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this.locText.calculatedText},set:function(e){this.locText.text=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"calculatedText",{get:function(){return this.locText.calculatedText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shortcutText",{get:function(){return this.text},enumerable:!1,configurable:!0}),t.prototype.canSerializeValue=function(){var e=this.value;return e==null?!1:!Array.isArray(e)&&typeof e!="object"},t.prototype.getData=function(){var e=this.toJSON();if(e.value&&e.value.pos&&delete e.value.pos,D.isValueEmpty(e.value))return e;var n=this.canSerializeValue(),i=!n||!R.serialization.itemValueSerializeAsObject&&!R.serialization.itemValueSerializeDisplayText;return i&&Object.keys(e).length==1?this.value:(R.serialization.itemValueSerializeDisplayText&&e.text===void 0&&n&&(e.text=this.value.toString()),e)},t.prototype.toJSON=function(){var e={},n=L.getProperties(this.getType());(!n||n.length==0)&&(n=L.getProperties("itemvalue"));for(var i=new nt,o=0;o<n.length;o++){var l=n[o];l.name==="text"&&!this.locText.hasNonDefaultText()&&D.isTwoValueEquals(this.value,this.text,!1,!0,!1)||i.valueToJson(this,e,l)}return e},t.prototype.setData=function(e,n){if(!D.isValueEmpty(e)){if(typeof e.value>"u"&&typeof e.text<"u"&&Object.keys(e).length===1&&(e.value=e.text),typeof e.value<"u"){var i=void 0;typeof e.toJSON=="function"?i=e.toJSON():i=e,new nt().toObject(i,this)}else this.setValue(e,n);n||this.locText.strChanged()}},Object.defineProperty(t.prototype,"visibleIf",{get:function(){return this.getPropertyValueWithoutDefault("visibleIf")||""},set:function(e){this.setPropertyValue("visibleIf",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enableIf",{get:function(){return this.getPropertyValueWithoutDefault("enableIf")||""},set:function(e){this.setPropertyValue("enableIf",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){var e=this.getPropertyValueWithoutDefault("isVisible");return e!==void 0?e:!0},enumerable:!1,configurable:!0}),t.prototype.setIsVisible=function(e){this.setPropertyValue("isVisible",e)},Object.defineProperty(t.prototype,"isEnabled",{get:function(){var e=this.getPropertyValueWithoutDefault("isEnabled");return e!==void 0?e:!0},enumerable:!1,configurable:!0}),t.prototype.setIsEnabled=function(e){this.setPropertyValue("isEnabled",e)},t.prototype.addUsedLocales=function(e){this.AddLocStringToUsedLocales(this.locTextValue,e)},t.prototype.locStrsChanged=function(){r.prototype.locStrsChanged.call(this),this.locText.strChanged()},t.prototype.onPropertyValueChanged=function(e,n,i){e==="value"&&!this.hasText&&this.locText.strChanged();var o="itemValuePropertyChanged";!this.locOwner||!this.locOwner[o]||this.locOwner[o](this,e,n,i)},t.prototype.getConditionRunner=function(e){return e?this.getVisibleConditionRunner():this.getEnableConditionRunner()},t.prototype.getVisibleConditionRunner=function(){return this.visibleIf?(this.visibleConditionRunner||(this.visibleConditionRunner=new rt(this.visibleIf)),this.visibleConditionRunner.expression=this.visibleIf,this.visibleConditionRunner):null},t.prototype.getEnableConditionRunner=function(){return this.enableIf?(this.enableConditionRunner||(this.enableConditionRunner=new rt(this.enableIf)),this.enableConditionRunner.expression=this.enableIf,this.enableConditionRunner):null},Object.defineProperty(t.prototype,"selected",{get:function(){var e=this,n=this._locOwner;return n instanceof tt&&n.isItemSelected&&this.selectedValue===void 0&&(this.selectedValue=new qe(function(){return n.isItemSelected(e)})),this.selectedValue},enumerable:!1,configurable:!0}),t.prototype.getComponent=function(){return this._locOwner instanceof tt?this.componentValue||this._locOwner.itemComponent:this.componentValue},t.prototype.setComponent=function(e){this.componentValue=e},t.prototype.setRootElement=function(e){this._htmlElement=e},t.prototype.getRootElement=function(){return this._htmlElement},t.prototype.getEnabled=function(){return this.isEnabled},t.prototype.setEnabled=function(e){this.setIsEnabled(e)},t.prototype.getVisible=function(){var e=this.isVisible===void 0?!0:this.isVisible,n=this._visible===void 0?!0:this._visible;return e&&n},t.prototype.setVisible=function(e){this.visible!==e&&(this._visible=e)},t.prototype.getLocTitle=function(){return this.locText},t.prototype.getTitle=function(){return this.text},t.prototype.setLocTitle=function(e){},t.prototype.setTitle=function(e){},no([V({defaultValue:!0})],t.prototype,"_visible",void 0),no([V()],t.prototype,"selectedValue",void 0),no([V()],t.prototype,"icon",void 0),t}(Mi);be.createItemValue=function(r,t){var e=null;return t?e=nt.metaData.createClass(t,{}):typeof r.getType=="function"?e=new de(null,void 0,r.getType()):e=new de(null),e.setData(r),e},be.itemValueLocStrChanged=function(r){de.locStrsChanged(r)},Si.getItemValuesDefaultValue=function(r,t){var e=new Array;return de.setData(e,Array.isArray(r)?r:[],t),e},L.addClass("itemvalue",[{name:"!value",isUnique:!0},{name:"text",serializationProperty:"locText"},{name:"visibleIf:condition",showMode:"form"},{name:"enableIf:condition",showMode:"form",visibleIf:function(r){return!r||r.ownerPropertyName!=="rateValues"}}],function(r){return new de(r)});var nf=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ha=function(r){nf(t,r);function t(e,n){e===void 0&&(e=null),n===void 0&&(n=null);var i=r.call(this)||this;return i.expressionIsRunning=!1,i.isCalculated=!1,e&&(i.name=e),n&&(i.expression=n),i}return t.prototype.setOwner=function(e){this.data=e,this.rerunExpression()},t.prototype.getType=function(){return"calculatedvalue"},t.prototype.getSurvey=function(e){return e===void 0&&(e=!1),this.data&&this.data.getSurvey?this.data.getSurvey():null},Object.defineProperty(t.prototype,"owner",{get:function(){return this.data},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.getPropertyValue("name")||""},set:function(e){this.setPropertyValue("name",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"includeIntoResult",{get:function(){return this.getPropertyValue("includeIntoResult")},set:function(e){this.setPropertyValue("includeIntoResult",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expression",{get:function(){return this.getPropertyValue("expression")||""},set:function(e){this.setPropertyValue("expression",e),this.rerunExpression()},enumerable:!1,configurable:!0}),t.prototype.locCalculation=function(){this.expressionIsRunning=!0},t.prototype.unlocCalculation=function(){this.expressionIsRunning=!1},t.prototype.resetCalculation=function(){this.isCalculated=!1},t.prototype.doCalculation=function(e,n,i){this.isCalculated||(this.runExpressionCore(e,n,i),this.isCalculated=!0)},t.prototype.runExpression=function(e,n){this.runExpressionCore(null,e,n)},Object.defineProperty(t.prototype,"value",{get:function(){if(this.data)return this.data.getVariable(this.name)},enumerable:!1,configurable:!0}),t.prototype.setValue=function(e){this.data&&this.data.setVariable(this.name,e)},Object.defineProperty(t.prototype,"canRunExpression",{get:function(){return!!this.data&&!this.isLoadingFromJson&&!!this.expression&&!this.expressionIsRunning&&!!this.name},enumerable:!1,configurable:!0}),t.prototype.rerunExpression=function(){this.canRunExpression&&this.runExpression(this.data.getFilteredValues(),this.data.getFilteredProperties())},t.prototype.runExpressionCore=function(e,n,i){this.canRunExpression&&(this.ensureExpression(n),this.locCalculation(),e&&this.runDependentExpressions(e,n,i),this.expressionRunner.run(n,i))},t.prototype.runDependentExpressions=function(e,n,i){var o=this.expressionRunner.getVariables();if(o)for(var l=0;l<e.length;l++){var u=e[l];u===this||o.indexOf(u.name)<0||(u.doCalculation(e,n,i),n[u.name]=u.value)}},t.prototype.ensureExpression=function(e){var n=this;this.expressionRunner||(this.expressionRunner=new hn(this.expression),this.expressionRunner.onRunComplete=function(i){D.isTwoValueEquals(i,n.value,!1,!0,!1)||n.setValue(i),n.unlocCalculation()})},t}(be);L.addClass("calculatedvalue",[{name:"!name",isUnique:!0},"expression:expression","includeIntoResult:boolean"],function(){return new Ha},"base");var io=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ro=function(r){io(t,r);function t(e){e===void 0&&(e=null);var n=r.call(this)||this;return n.expression=e,n}return t.prototype.getType=function(){return"expressionitem"},t.prototype.runCondition=function(e,n){return this.expression?new rt(this.expression).run(e,n):!1},Object.defineProperty(t.prototype,"expression",{get:function(){return this.getPropertyValue("expression","")},set:function(e){this.setPropertyValue("expression",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locHtml",{get:function(){return this.getLocalizableString("html")},enumerable:!1,configurable:!0}),t.prototype.getLocale=function(){return this.locOwner?this.locOwner.getLocale():""},t.prototype.getMarkdownHtml=function(e,n){return this.locOwner?this.locOwner.getMarkdownHtml(e,n):void 0},t.prototype.getRenderer=function(e){return this.locOwner?this.locOwner.getRenderer(e):null},t.prototype.getRendererContext=function(e){return this.locOwner?this.locOwner.getRendererContext(e):e},t.prototype.getProcessedText=function(e){return this.locOwner?this.locOwner.getProcessedText(e):e},t.prototype.getSurvey=function(e){return e===void 0&&(e=!1),this.locOwner},t}(be),za=function(r){io(t,r);function t(e,n){e===void 0&&(e=null),n===void 0&&(n=null);var i=r.call(this,e)||this;return i.createLocalizableString("html",i),i.html=n,i}return t.prototype.getType=function(){return"htmlconditionitem"},Object.defineProperty(t.prototype,"html",{get:function(){return this.getLocalizableStringText("html")},set:function(e){this.setLocalizableStringText("html",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locHtml",{get:function(){return this.getLocalizableString("html")},enumerable:!1,configurable:!0}),t}(ro),Ua=function(r){io(t,r);function t(e,n){e===void 0&&(e=null),n===void 0&&(n=null);var i=r.call(this,e)||this;return i.createLocalizableString("url",i),i.url=n,i}return t.prototype.getType=function(){return"urlconditionitem"},Object.defineProperty(t.prototype,"url",{get:function(){return this.getLocalizableStringText("url")},set:function(e){this.setLocalizableStringText("url",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locUrl",{get:function(){return this.getLocalizableString("url")},enumerable:!1,configurable:!0}),t}(ro);L.addClass("expressionitem",["expression:condition"],function(){return new ro},"base"),L.addClass("htmlconditionitem",[{name:"html:html",serializationProperty:"locHtml"}],function(){return new za},"expressionitem"),L.addClass("urlconditionitem",[{name:"url:string",serializationProperty:"locUrl"}],function(){return new Ua},"expressionitem");var Wa=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),rf=function(){function r(){this.parser=new DOMParser}return r.prototype.assignValue=function(t,e,n){Array.isArray(t[e])?t[e].push(n):t[e]!==void 0?t[e]=[t[e]].concat(n):typeof n=="object"&&Object.keys(n).length===1&&Object.keys(n)[0]===e?t[e]=n[e]:t[e]=n},r.prototype.xml2Json=function(t,e){if(t.children&&t.children.length>0)for(var n=0;n<t.children.length;n++){var i=t.children[n],o={};this.xml2Json(i,o),this.assignValue(e,i.nodeName,o)}else this.assignValue(e,t.nodeName,t.textContent)},r.prototype.parseXmlString=function(t){var e=this.parser.parseFromString(t,"text/xml"),n={};return this.xml2Json(e,n),n},r}(),bn=function(r){Wa(t,r);function t(){var e=r.call(this)||this;return e.lastObjHash="",e.isRunningValue=!1,e.processedUrl="",e.processedPath="",e.isUsingCacheFromUrl=void 0,e.error=null,e.createItemValue=function(n){return new de(n)},e.registerPropertyChangedHandlers(["url"],function(){e.owner&&e.owner.setPropertyValue("isUsingRestful",!!e.url)}),e}return Object.defineProperty(t,"EncodeParameters",{get:function(){return R.web.encodeUrlParams},set:function(e){R.web.encodeUrlParams=e},enumerable:!1,configurable:!0}),t.clearCache=function(){t.itemsResult={},t.sendingSameRequests={}},t.addSameRequest=function(e){if(!e.isUsingCache)return!1;var n=e.objHash,i=t.sendingSameRequests[n];return i?(i.push(e),e.isRunningValue=!0,!0):(t.sendingSameRequests[e.objHash]=[],!1)},t.unregisterSameRequests=function(e,n){if(e.isUsingCache){var i=t.sendingSameRequests[e.objHash];if(delete t.sendingSameRequests[e.objHash],!!i)for(var o=0;o<i.length;o++)i[o].isRunningValue=!1,i[o].getResultCallback&&i[o].getResultCallback(n)}},Object.defineProperty(t,"onBeforeSendRequest",{get:function(){return R.web.onBeforeRequestChoices},set:function(e){R.web.onBeforeRequestChoices=e},enumerable:!1,configurable:!0}),t.getCachedItemsResult=function(e){var n=e.objHash,i=t.itemsResult[n];return i?(e.getResultCallback&&e.getResultCallback(i),!0):!1},t.prototype.getSurvey=function(e){return e===void 0&&(e=!1),this.owner?this.owner.survey:null},t.prototype.run=function(e){if(e===void 0&&(e=null),!(!this.url||!this.getResultCallback)){if(this.processedText(e),!this.processedUrl){this.doEmptyResultCallback({}),this.lastObjHash=this.objHash;return}this.lastObjHash!==this.objHash&&(this.lastObjHash=this.objHash,this.error=null,!this.useChangedItemsResults()&&(t.addSameRequest(this)||this.sendRequest()))}},Object.defineProperty(t.prototype,"isUsingCache",{get:function(){return this.isUsingCacheFromUrl===!0?!0:this.isUsingCacheFromUrl===!1?!1:R.web.cacheLoadedChoices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRunning",{get:function(){return this.getIsRunning()},enumerable:!1,configurable:!0}),t.prototype.getIsRunning=function(){return this.isRunningValue},Object.defineProperty(t.prototype,"isWaitingForParameters",{get:function(){return this.url&&!this.processedUrl},enumerable:!1,configurable:!0}),t.prototype.useChangedItemsResults=function(){return t.getCachedItemsResult(this)},t.prototype.doEmptyResultCallback=function(e){var n=[];this.updateResultCallback&&(n=this.updateResultCallback(n,e)),this.getResultCallback(n)},t.prototype.processedText=function(e){var n=this.url;if(n&&(n=n.replace(t.cacheText,"").replace(t.noCacheText,"")),e){var i=e.processTextEx({text:n,runAtDesign:!0}),o=e.processTextEx({text:this.path,runAtDesign:!0});!i.hasAllValuesOnLastRun||!o.hasAllValuesOnLastRun?(this.processedUrl="",this.processedPath=""):(this.processedUrl=i.text,this.processedPath=o.text)}else this.processedUrl=n,this.processedPath=this.path;this.onProcessedUrlCallback&&this.onProcessedUrlCallback(this.processedUrl,this.processedPath)},t.prototype.parseResponse=function(e){var n;if(e&&typeof e.indexOf=="function"&&e.indexOf("<")===0){var i=new rf;n=i.parseXmlString(e)}else try{n=JSON.parse(e)}catch{n=(e||"").split(`
`).map(function(l){return l.trim(" ")}).filter(function(l){return!!l})}return n},t.prototype.sendRequest=function(){var e=new XMLHttpRequest;e.open("GET",this.processedUrl),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var n=this,i=this.objHash;e.onload=function(){n.beforeLoadRequest(),e.status===200?n.onLoad(n.parseResponse(e.response),i):n.onError(e.statusText,e.responseText)};var o={request:e};R.web.onBeforeRequestChoices&&R.web.onBeforeRequestChoices(this,o),this.beforeSendRequest(),o.request.send()},t.prototype.getType=function(){return"choicesByUrl"},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return!this.url&&!this.path},enumerable:!1,configurable:!0}),t.prototype.getCustomPropertiesNames=function(){for(var e=this.getCustomProperties(),n=new Array,i=0;i<e.length;i++)n.push(this.getCustomPropertyName(e[i].name));return n},t.prototype.getCustomPropertyName=function(e){return e+"Name"},t.prototype.getCustomProperties=function(){for(var e=L.getProperties(this.itemValueType),n=[],i=0;i<e.length;i++)e[i].name==="value"||e[i].name==="text"||e[i].name==="visibleIf"||e[i].name==="enableIf"||n.push(e[i]);return n},t.prototype.getAllPropertiesNames=function(){var e=new Array;return L.getPropertiesByObj(this).forEach(function(n){return e.push(n.name)}),this.getCustomPropertiesNames().forEach(function(n){return e.push(n)}),e},t.prototype.setData=function(e){var n=this;e||(e={}),this.getAllPropertiesNames().forEach(function(i){n[i]=e[i]})},t.prototype.getData=function(){var e=this,n={},i=!1;return this.getAllPropertiesNames().forEach(function(o){var l=e[o];!e.isValueEmpty(l)&&l!==e.getDefaultPropertyValue(o)&&(n[o]=l,i=!0)}),i?n:null},Object.defineProperty(t.prototype,"url",{get:function(){return this.getPropertyValue("url")||""},set:function(e){this.setPropertyValue("url",e),this.isUsingCacheFromUrl=void 0,e&&(e.indexOf(t.cacheText)>-1?this.isUsingCacheFromUrl=!0:e.indexOf(t.noCacheText)>-1&&(this.isUsingCacheFromUrl=!1))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.getPropertyValue("path")||""},set:function(e){this.setPropertyValue("path",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valueName",{get:function(){return this.getPropertyValue("valueName","")},set:function(e){this.setPropertyValue("valueName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleName",{get:function(){return this.getPropertyValue("titleName","")},set:function(e){this.setPropertyValue("titleName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageLinkName",{get:function(){return this.getPropertyValue("imageLinkName","")},set:function(e){this.setPropertyValue("imageLinkName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowEmptyResponse",{get:function(){return this.getPropertyValue("allowEmptyResponse")},set:function(e){this.setPropertyValue("allowEmptyResponse",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attachOriginalItems",{get:function(){return this.getPropertyValue("attachOriginalItems")},set:function(e){this.setPropertyValue("attachOriginalItems",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemValueType",{get:function(){if(!this.owner)return"itemvalue";var e=L.findProperty(this.owner.getType(),"choices");return!e||e.type=="itemvalue[]"?"itemvalue":e.type},enumerable:!1,configurable:!0}),t.prototype.clear=function(){this.setData(void 0)},t.prototype.beforeSendRequest=function(){this.isRunningValue=!0,this.beforeSendRequestCallback&&this.beforeSendRequestCallback()},t.prototype.beforeLoadRequest=function(){this.isRunningValue=!1},t.prototype.onLoad=function(e,n){n===void 0&&(n=null),n||(n=this.objHash);var i=new Array,o=this.getResultAfterPath(e);if(o&&o.length)for(var l=0;l<o.length;l++){var u=o[l];if(u){var d=this.getItemValueCallback?this.getItemValueCallback(u):this.getValue(u),m=this.createItemValue(d);this.setTitle(m,u),this.setCustomProperties(m,u),this.attachOriginalItems&&(m.originalItem=u);var w=this.getImageLink(u);w&&(m.imageLink=w),i.push(m)}}else this.allowEmptyResponse||(this.error=new Gd(null,this.owner));this.updateResultCallback&&(i=this.updateResultCallback(i,e)),this.isUsingCache&&(t.itemsResult[n]=i),this.callResultCallback(i,n),t.unregisterSameRequests(this,i)},t.prototype.callResultCallback=function(e,n){n==this.objHash&&this.getResultCallback(e)},t.prototype.setCustomProperties=function(e,n){for(var i=this.getCustomProperties(),o=0;o<i.length;o++){var l=i[o],u=this.getValueCore(n,this.getPropertyBinding(l.name));this.isValueEmpty(u)||(e[l.name]=u)}},t.prototype.getPropertyBinding=function(e){return this[this.getCustomPropertyName(e)]?this[this.getCustomPropertyName(e)]:this[e]?this[e]:e},t.prototype.onError=function(e,n){this.error=new $d(e,n,this.owner),this.doEmptyResultCallback(n),t.unregisterSameRequests(this,[])},t.prototype.getResultAfterPath=function(e){if(!e||!this.processedPath)return e;for(var n=this.getPathes(),i=0;i<n.length;i++)if(e=e[n[i]],!e)return null;return e},t.prototype.getPathes=function(){var e=[];return this.processedPath.indexOf(";")>-1?e=this.path.split(";"):e=this.processedPath.split(","),e.length==0&&e.push(this.processedPath),e},t.prototype.getValue=function(e){if(!e)return null;if(this.valueName)return this.getValueCore(e,this.valueName);if(!(e instanceof Object))return e;var n=Object.keys(e).length;return n<1?null:e[Object.keys(e)[0]]},t.prototype.setTitle=function(e,n){var i=this.titleName?this.titleName:"title",o=this.getValueCore(n,i);o&&(typeof o=="string"?e.text=o:e.locText.setJson(o))},t.prototype.getImageLink=function(e){var n=this.imageLinkName?this.imageLinkName:"imageLink";return this.getValueCore(e,n)},t.prototype.getValueCore=function(e,n){if(!e)return null;if(n.indexOf(".")<0)return e[n];for(var i=n.split("."),o=0;o<i.length;o++)if(e=e[i[o]],!e)return null;return e},Object.defineProperty(t.prototype,"objHash",{get:function(){return this.processedUrl+";"+this.processedPath+";"+this.valueName+";"+this.titleName+";"+this.imageLinkName},enumerable:!1,configurable:!0}),t.cacheText="{CACHE}",t.noCacheText="{NOCACHE}",t.itemsResult={},t.sendingSameRequests={},t}(be),of=function(r){Wa(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(t,"EncodeParameters",{get:function(){return bn.EncodeParameters},set:function(e){bn.EncodeParameters=e},enumerable:!1,configurable:!0}),t.clearCache=function(){bn.clearCache()},Object.defineProperty(t,"onBeforeSendRequest",{get:function(){return R.web.onBeforeRequestChoices},set:function(e){R.web.onBeforeRequestChoices=e},enumerable:!1,configurable:!0}),t}(bn);L.addClass("choicesByUrl",["url","path","valueName","titleName",{name:"imageLinkName",visibleIf:function(r){return!!r&&!!r.owner&&r.owner.getType()=="imagepicker"}},{name:"allowEmptyResponse:boolean"},{name:"attachOriginalItems:boolean",visible:!1}],function(){return new bn});var sf=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),$a=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},oo=function(r){sf(t,r);function t(e){var n=r.call(this,e)||this;return n.generatedVisibleRows=null,n.generatedTotalRow=null,n.filteredRows=null,n.columns=n.createColumnValues(),n.rows=n.createItemValues("rows"),n}return t.prototype.createColumnValues=function(){return this.createItemValues("columns")},t.prototype.getType=function(){return"matrixbase"},t.prototype.endLoadingFromJson=function(){r.prototype.endLoadingFromJson.call(this),this.updateVisibilityBasedOnRows()},Object.defineProperty(t.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showHeader",{get:function(){return this.getPropertyValue("showHeader")},set:function(e){this.setPropertyValue("showHeader",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this.getPropertyValue("columns")},set:function(e){this.setPropertyValue("columns",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleColumns",{get:function(){var e=this,n=[];return this.columns.forEach(function(i){e.isColumnVisible(i)&&n.push(i)}),n},enumerable:!1,configurable:!0}),t.prototype.isColumnVisible=function(e){return e.isVisible},Object.defineProperty(t.prototype,"rows",{get:function(){return this.getPropertyValue("rows")},set:function(e){var n=this.processRowsOnSet(e);this.setPropertyValue("rows",n)},enumerable:!1,configurable:!0}),t.prototype.processRowsOnSet=function(e){return e},t.prototype.getVisibleRows=function(){return[]},Object.defineProperty(t.prototype,"visibleRows",{get:function(){return this.getVisibleRows()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowsVisibleIf",{get:function(){return this.getPropertyValue("rowsVisibleIf","")},set:function(e){this.setPropertyValue("rowsVisibleIf",e),this.isLoadingFromJsonValue||this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnsVisibleIf",{get:function(){return this.getPropertyValue("columnsVisibleIf","")},set:function(e){this.setPropertyValue("columnsVisibleIf",e),this.isLoadingFromJson||this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties())},enumerable:!1,configurable:!0}),t.prototype.runCondition=function(e,n){r.prototype.runCondition.call(this,e,n),this.runItemsCondition(e,n)},t.prototype.onColumnsChanged=function(){},t.prototype.onRowsChanged=function(){this.updateVisibilityBasedOnRows(),this.fireCallback(this.visibleRowsChangedCallback)},t.prototype.updateVisibilityBasedOnRows=function(){this.hideIfRowsEmpty&&this.onVisibleChanged()},t.prototype.isVisibleCore=function(){var e,n=r.prototype.isVisibleCore.call(this);return!n||!this.hideIfRowsEmpty?n:((e=this.visibleRows)===null||e===void 0?void 0:e.length)>0},t.prototype.shouldRunColumnExpression=function(){return!this.survey||!this.survey.areInvisibleElementsShowing},t.prototype.hasRowsAsItems=function(){return!0},t.prototype.runItemsCondition=function(e,n){var i=this.hasRowsAsItems()&&this.runConditionsForRows(e,n),o=this.runConditionsForColumns(e,n);i=o||i,i&&(this.isClearValueOnHidden&&o&&this.clearInvisibleColumnValues(),this.clearGeneratedRows(),o&&this.onColumnsChanged(),this.onRowsChanged())},t.prototype.isRowsFiltered=function(){return!!this.filteredRows},t.prototype.clearGeneratedRows=function(){this.generatedVisibleRows=null},t.prototype.createRowsVisibleIfRunner=function(){return null},t.prototype.runConditionsForRows=function(e,n){var i=!!this.survey&&this.survey.areInvisibleElementsShowing,o=i?null:this.createRowsVisibleIfRunner();this.filteredRows=[];var l=de.runConditionsForItems(this.rows,this.filteredRows,o,e,n,!i);return de.runEnabledConditionsForItems(this.rows,void 0,e,n),this.filteredRows.length===this.rows.length&&(this.filteredRows=null),l},t.prototype.runConditionsForColumns=function(e,n){var i=!!this.survey&&!this.survey.areInvisibleElementsShowing,o=i&&this.columnsVisibleIf?new rt(this.columnsVisibleIf):null;return de.runConditionsForItems(this.columns,void 0,o,e,n,this.shouldRunColumnExpression())},t.prototype.clearInvisibleColumnValues=function(){},t.prototype.clearInvisibleValuesInRows=function(){},t.prototype.needResponsiveWidth=function(){return!0},Object.defineProperty(t.prototype,"columnsAutoWidth",{get:function(){return!this.isMobile&&!this.columns.some(function(e){return!!e.width})},enumerable:!1,configurable:!0}),t.prototype.getTableCss=function(){var e;return new F().append(this.cssClasses.root).append(this.cssClasses.columnsAutoWidth,this.columnsAutoWidth).append(this.cssClasses.noHeader,!this.showHeader).append(this.cssClasses.hasFooter,!!(!((e=this.renderedTable)===null||e===void 0)&&e.showAddRowOnBottom)).append(this.cssClasses.rootAlternateRows,this.alternateRows).append(this.cssClasses.rootVerticalAlignTop,this.verticalAlign==="top").append(this.cssClasses.rootVerticalAlignMiddle,this.verticalAlign==="middle").toString()},Object.defineProperty(t.prototype,"columnMinWidth",{get:function(){return this.getPropertyValue("columnMinWidth")||""},set:function(e){this.setPropertyValue("columnMinWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowTitleWidth",{get:function(){return this.getPropertyValue("rowTitleWidth")||""},set:function(e){this.setPropertyValue("rowTitleWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"displayMode",{get:function(){return this.getPropertyValue("displayMode")},set:function(e){this.setPropertyValue("displayMode",e)},enumerable:!1,configurable:!0}),t.prototype.getCellAriaLabel=function(e,n){var i=(this.getLocalizationString("matrix_row")||"row").toLocaleLowerCase(),o=(this.getLocalizationString("matrix_column")||"column").toLocaleLowerCase();return i+" "+e+", "+o+" "+n},Object.defineProperty(t.prototype,"isNewA11yStructure",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.getIsMobile=function(){return this.displayMode=="auto"?r.prototype.getIsMobile.call(this):this.displayMode==="list"},$a([V()],t.prototype,"verticalAlign",void 0),$a([V()],t.prototype,"alternateRows",void 0),t}(tt);L.addClass("matrixbase",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},"columnsVisibleIf:condition","rowsVisibleIf:condition","columnMinWidth",{name:"showHeader:boolean",default:!0},{name:"verticalAlign",choices:["top","middle"],default:"middle"},{name:"alternateRows:boolean",default:!1},{name:"displayMode",default:"auto",choices:["auto","table","list"],visible:!1}],void 0,"question");var af=function(){function r(){}return r}(),Ga=function(){function r(t,e){this.name=t,this.returnDisplayValue=e,this.isExists=!1,this.canProcess=!0}return r}(),so=function(){function r(){this._unObservableValues=[void 0]}return Object.defineProperty(r.prototype,"hasAllValuesOnLastRunValue",{get:function(){return this._unObservableValues[0]},set:function(t){this._unObservableValues[0]=t},enumerable:!1,configurable:!0}),r.prototype.process=function(t,e,n){if(e===void 0&&(e=!1),n===void 0&&(n=!1),this.hasAllValuesOnLastRunValue=!0,!t||!this.onProcess)return t;for(var i=this.getItems(t),o=i.length-1;o>=0;o--){var l=i[o],u=this.getName(t.substring(l.start+1,l.end));if(u){var d=new Ga(u,e);if(this.onProcess(d),!d.isExists){d.canProcess&&(this.hasAllValuesOnLastRunValue=!1);continue}D.isValueEmpty(d.value)&&(this.hasAllValuesOnLastRunValue=!1);var m=D.isValueEmpty(d.value)?"":d.value;n&&(m=encodeURIComponent(m)),t=t.substring(0,l.start)+m+t.substring(l.end+1)}}return t},r.prototype.processValue=function(t,e){var n=new Ga(t,e);return this.onProcess&&this.onProcess(n),n},Object.defineProperty(r.prototype,"hasAllValuesOnLastRun",{get:function(){return!!this.hasAllValuesOnLastRunValue},enumerable:!1,configurable:!0}),r.prototype.getItems=function(t){for(var e=[],n=t.length,i=-1,o="",l=0;l<n;l++)if(o=t[l],o=="{"&&(i=l),o=="}"){if(i>-1){var u=new af;u.start=i,u.end=l,e.push(u)}i=-1}return e},r.prototype.getName=function(t){if(t)return t.trim()},r}(),ao=function(){function r(t){var e=this;this.variableName=t,this.textPreProcessor=new so,this.textPreProcessor.onProcess=function(n){e.getProcessedTextValue(n)}}return r.prototype.processValue=function(t,e){return this.textPreProcessor.processValue(t,e)},Object.defineProperty(r.prototype,"survey",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"panel",{get:function(){return null},enumerable:!1,configurable:!0}),r.prototype.getValues=function(){return this.panel?this.panel.getValue():null},r.prototype.getQuestionByName=function(t){return this.panel?this.panel.getQuestionByValueName(t):null},r.prototype.getParentTextProcessor=function(){return null},r.prototype.onCustomProcessText=function(t){return!1},r.prototype.getQuestionDisplayText=function(t){return t.displayValue},r.prototype.getProcessedTextValue=function(t){if(t&&!this.onCustomProcessText(t)){var e=new lt().getFirstName(t.name);if(t.isExists=e==this.variableName,t.canProcess=t.isExists,!!t.canProcess){t.name=t.name.replace(this.variableName+".","");var e=new lt().getFirstName(t.name),n=this.getQuestionByName(e),i={};if(n)i[e]=t.returnDisplayValue?this.getQuestionDisplayText(n):n.value;else{var o=this.panel?this.getValues():null;o&&(i[e]=o[e])}t.value=new lt().getValue(t.name,i)}}},r.prototype.processText=function(t,e){return this.survey&&this.survey.isDesignMode?t:(t=this.textPreProcessor.process(t,e),t=this.processTextCore(this.getParentTextProcessor(),t,e),this.processTextCore(this.survey,t,e))},r.prototype.processTextEx=function(t){t.text=this.processText(t.text,t.returnDisplayValue);var e=this.textPreProcessor.hasAllValuesOnLastRun,n={hasAllValuesOnLastRun:!0,text:t.text};return this.survey&&(n=this.survey.processTextEx(t)),n.hasAllValuesOnLastRun=n.hasAllValuesOnLastRun&&e,n},r.prototype.processTextCore=function(t,e,n){return t?t.processText(e,n):e},r}(),Qi=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Za=function(){function r(t,e){this.name=t,this.json=e;var n=this;L.addClass(t,[],function(i){return Hi.Instance.createQuestion(i?i.name:"",n)},"question"),this.onInit()}return r.prototype.onInit=function(){this.json.onInit&&this.json.onInit()},r.prototype.onCreated=function(t){this.json.onCreated&&this.json.onCreated(t)},r.prototype.onLoaded=function(t){this.json.onLoaded&&this.json.onLoaded(t)},r.prototype.onAfterRender=function(t,e){this.json.onAfterRender&&this.json.onAfterRender(t,e)},r.prototype.onAfterRenderContentElement=function(t,e,n){this.json.onAfterRenderContentElement&&this.json.onAfterRenderContentElement(t,e,n)},r.prototype.onUpdateQuestionCssClasses=function(t,e,n){this.json.onUpdateQuestionCssClasses&&this.json.onUpdateQuestionCssClasses(t,e,n)},r.prototype.onSetQuestionValue=function(t,e){this.json.onSetQuestionValue&&this.json.onSetQuestionValue(t,e),this.json.onValueSet&&this.json.onValueSet(t,e)},r.prototype.onPropertyChanged=function(t,e,n){this.json.onPropertyChanged&&this.json.onPropertyChanged(t,e,n)},r.prototype.onValueChanged=function(t,e,n){this.json.onValueChanged&&this.json.onValueChanged(t,e,n)},r.prototype.onValueChanging=function(t,e,n){return this.json.onValueChanging?this.json.onValueChanging(t,e,n):n},r.prototype.onGetErrorText=function(t){if(this.json.getErrorText)return this.json.getErrorText(t)},r.prototype.onItemValuePropertyChanged=function(t,e,n,i,o){this.json.onItemValuePropertyChanged&&this.json.onItemValuePropertyChanged(t,{obj:e,propertyName:n,name:i,newValue:o})},r.prototype.getDisplayValue=function(t,e,n){return this.json.getDisplayValue?this.json.getDisplayValue(n):n.getDisplayValue(t,e)},Object.defineProperty(r.prototype,"defaultQuestionTitle",{get:function(){return this.json.defaultQuestionTitle},enumerable:!1,configurable:!0}),r.prototype.setValueToQuestion=function(t){var e=this.json.valueToQuestion||this.json.setValue;return e?e(t):t},r.prototype.getValueFromQuestion=function(t){var e=this.json.valueFromQuestion||this.json.getValue;return e?e(t):t},Object.defineProperty(r.prototype,"isComposite",{get:function(){return!!this.json.elementsJSON||!!this.json.createElements},enumerable:!1,configurable:!0}),r.prototype.getDynamicProperties=function(){return Array.isArray(this.dynamicProperties)||(this.dynamicProperties=this.calcDynamicProperties()),this.dynamicProperties},r.prototype.calcDynamicProperties=function(){var t=this.json.inheritBaseProps;if(!t||!this.json.questionJSON)return[];var e=this.json.questionJSON.type;if(!e)return[];if(Array.isArray(t)){var n=[];return t.forEach(function(l){var u=L.findProperty(e,l);u&&n.push(u)}),n}var i=[];for(var o in this.json.questionJSON)i.push(o);return L.getDynamicPropertiesByTypes(this.name,e,i)},r}(),Hi=function(){function r(){this.customQuestionValues=[]}return r.prototype.add=function(t){if(t){var e=t.name;if(!e)throw"Attribute name is missed";if(e=e.toLowerCase(),this.getCustomQuestionByName(e))throw"There is already registered custom question with name '"+e+"'";if(L.findClass(e))throw"There is already class with name '"+e+"'";var n=new Za(e,t);this.onAddingJson&&this.onAddingJson(e,n.isComposite),this.customQuestionValues.push(n)}},r.prototype.remove=function(t){if(!t)return!1;var e=this.getCustomQuestionIndex(t.toLowerCase());return e<0?!1:(this.removeByIndex(e),!0)},Object.defineProperty(r.prototype,"items",{get:function(){return this.customQuestionValues},enumerable:!1,configurable:!0}),r.prototype.getCustomQuestionByName=function(t){var e=this.getCustomQuestionIndex(t);return e>=0?this.customQuestionValues[e]:void 0},r.prototype.getCustomQuestionIndex=function(t){for(var e=0;e<this.customQuestionValues.length;e++)if(this.customQuestionValues[e].name===t)return e;return-1},r.prototype.removeByIndex=function(t){L.removeClass(this.customQuestionValues[t].name),this.customQuestionValues.splice(t,1)},r.prototype.clear=function(t){for(var e=this.customQuestionValues.length-1;e>=0;e--)(t||!this.customQuestionValues[e].json.internal)&&this.removeByIndex(e)},r.prototype.createQuestion=function(t,e){return e.isComposite?this.createCompositeModel(t,e):this.createCustomModel(t,e)},r.prototype.createCompositeModel=function(t,e){return this.onCreateComposite?this.onCreateComposite(t,e):new Ya(t,e)},r.prototype.createCustomModel=function(t,e){return this.onCreateCustom?this.onCreateCustom(t,e):new Ka(t,e)},r.Instance=new r,r}(),Ja=function(r){Qi(t,r);function t(e,n){var i=r.call(this,e)||this;return i.customQuestion=n,kt.createProperties(i),et.CreateDisabledDesignElements=!0,i.locQuestionTitle=i.createLocalizableString("questionTitle",i),i.locQuestionTitle.setJson(i.customQuestion.defaultQuestionTitle),i.createWrapper(),et.CreateDisabledDesignElements=!1,i.customQuestion&&i.customQuestion.onCreated(i),i}return t.prototype.getType=function(){return this.customQuestion?this.customQuestion.name:"custom"},t.prototype.locStrsChanged=function(){r.prototype.locStrsChanged.call(this),this.getElement()&&this.getElement().locStrsChanged()},t.prototype.localeChanged=function(){r.prototype.locStrsChanged.call(this),this.getElement()&&this.getElement().localeChanged()},t.prototype.getDefaultTitle=function(){return this.locQuestionTitle.isEmpty?r.prototype.getDefaultTitle.call(this):this.getProcessedText(this.locQuestionTitle.textOrHtml)},t.prototype.addUsedLocales=function(e){r.prototype.addUsedLocales.call(this,e),this.getElement()&&this.getElement().addUsedLocales(e)},t.prototype.needResponsiveWidth=function(){var e=this.getElement();return e?e.needResponsiveWidth():!1},t.prototype.createWrapper=function(){},t.prototype.onPropertyValueChanged=function(e,n,i){r.prototype.onPropertyValueChanged.call(this,e,n,i),this.customQuestion&&!this.isLoadingFromJson&&this.customQuestion.onPropertyChanged(this,e,i)},t.prototype.itemValuePropertyChanged=function(e,n,i,o){r.prototype.itemValuePropertyChanged.call(this,e,n,i,o),this.customQuestion&&!this.isLoadingFromJson&&this.customQuestion.onItemValuePropertyChanged(this,e,e.ownerPropertyName,n,o)},t.prototype.onFirstRenderingCore=function(){r.prototype.onFirstRenderingCore.call(this);var e=this.getElement();e&&e.onFirstRendering()},t.prototype.onHidingContent=function(){r.prototype.onHidingContent.call(this);var e=this.getElement();e&&e.onHidingContent()},t.prototype.getProgressInfo=function(){var e=r.prototype.getProgressInfo.call(this);return this.getElement()&&(e=this.getElement().getProgressInfo()),this.isRequired&&e.requiredQuestionCount==0&&(e.requiredQuestionCount=1,this.isEmpty()||(e.answeredQuestionCount=1)),e},t.prototype.initElement=function(e){e&&(e.setSurveyImpl(this),e.disableDesignActions=!0)},t.prototype.setSurveyImpl=function(e,n){this.isSettingValOnLoading=!0,r.prototype.setSurveyImpl.call(this,e,n),this.initElement(this.getElement()),this.isSettingValOnLoading=!1},t.prototype.onSurveyLoad=function(){r.prototype.onSurveyLoad.call(this),this.getElement()&&(this.getElement().onSurveyLoad(),this.customQuestion.onLoaded(this))},t.prototype.afterRenderQuestionElement=function(e){},t.prototype.afterRenderCore=function(e){r.prototype.afterRenderCore.call(this,e),this.customQuestion&&this.customQuestion.onAfterRender(this,e)},t.prototype.onUpdateQuestionCssClasses=function(e,n){this.customQuestion&&this.customQuestion.onUpdateQuestionCssClasses(this,e,n)},t.prototype.setQuestionValue=function(e,n){n===void 0&&(n=!0),r.prototype.setQuestionValue.call(this,e,n),this.updateElementCss(),this.customQuestion&&this.customQuestion.onSetQuestionValue(this,e)},t.prototype.setNewValue=function(e){r.prototype.setNewValue.call(this,e),this.updateElementCss()},t.prototype.onCheckForErrors=function(e,n,i){if(r.prototype.onCheckForErrors.call(this,e,n,i),this.customQuestion){var o=this.customQuestion.onGetErrorText(this);o&&e.push(new ht(o,this))}},t.prototype.getSurveyData=function(){return this},t.prototype.getTextProcessor=function(){return this.textProcessor},t.prototype.getValue=function(e){return this.value},t.prototype.setValue=function(e,n,i,o){if(this.data){this.customQuestion&&this.customQuestion.onValueChanged(this,e,n);var l=this.convertDataName(e),u=this.convertDataValue(e,n);this.valueToDataCallback&&(u=this.valueToDataCallback(u)),this.data.setValue(l,u,i,o),this.updateIsAnswered(),this.updateElementCss()}},t.prototype.getQuestionByName=function(e){},t.prototype.isValueChanging=function(e,n){if(this.customQuestion){var i=n;if(n=this.customQuestion.onValueChanging(this,e,n),!D.isTwoValueEquals(n,i)){var o=this.getQuestionByName(e);if(o)return o.value=n,!0}}return!1},t.prototype.convertDataName=function(e){return this.getValueName()},t.prototype.convertDataValue=function(e,n){return n},t.prototype.getVariable=function(e){return this.data?this.data.getVariable(e):null},t.prototype.setVariable=function(e,n){this.data&&this.data.setVariable(e,n)},t.prototype.getComment=function(e){return this.data?this.data.getComment(this.getValueName()):""},t.prototype.setComment=function(e,n,i){this.data&&this.data.setComment(this.getValueName(),n,i)},t.prototype.getAllValues=function(){return this.data?this.data.getAllValues():{}},t.prototype.getFilteredValues=function(){return this.data?this.data.getFilteredValues():{}},t.prototype.getFilteredProperties=function(){return this.data?this.data.getFilteredProperties():{}},t.prototype.findQuestionByName=function(e){return this.data?this.data.findQuestionByName(e):null},t.prototype.getEditingSurveyElement=function(){},t.prototype.addElement=function(e,n){},t.prototype.removeElement=function(e){return!1},t.prototype.getQuestionTitleLocation=function(){return"left"},t.prototype.getQuestionTitleWidth=function(){},t.prototype.getColumsForElement=function(e){return[]},t.prototype.updateColumns=function(){},t.prototype.getQuestionStartIndex=function(){return this.getStartIndex()},t.prototype.getChildrenLayoutType=function(){return"row"},t.prototype.elementWidthChanged=function(e){},Object.defineProperty(t.prototype,"elements",{get:function(){return[]},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return-1},t.prototype.ensureRowsVisibility=function(){},t.prototype.validateContainerOnly=function(){},t.prototype.onQuestionValueChanged=function(e){},t.prototype.getQuestionErrorLocation=function(){return this.getErrorLocation()},t.prototype.getContentDisplayValueCore=function(e,n,i){return i?this.customQuestion.getDisplayValue(e,n,i):r.prototype.getDisplayValueCore.call(this,e,n)},t}(tt),Ka=function(r){Qi(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getTemplate=function(){return"custom"},t.prototype.getDynamicProperties=function(){return this.customQuestion.getDynamicProperties()||[]},t.prototype.getDynamicType=function(){return this.questionWrapper?this.questionWrapper.getType():"question"},t.prototype.getOriginalObj=function(){return this.questionWrapper},t.prototype.createWrapper=function(){var e=this;this.questionWrapper=this.createQuestion(),this.createDynamicProperties(this.questionWrapper),this.getDynamicProperties().length>0&&(this.questionWrapper.onPropertyValueChangedCallback=function(n,i,o,l,u){var d=e.getDynamicProperty(n);d&&e.propertyValueChanged(n,i,o,u)})},t.prototype.getDynamicProperty=function(e){for(var n=this.getDynamicProperties(),i=0;i<n.length;i++)if(n[i].name===e)return n[i];return null},t.prototype.getElement=function(){return this.contentQuestion},t.prototype.onAnyValueChanged=function(e,n){r.prototype.onAnyValueChanged.call(this,e,n),this.contentQuestion&&this.contentQuestion.onAnyValueChanged(e,n)},t.prototype.getQuestionByName=function(e){return this.contentQuestion},t.prototype.getDefaultTitle=function(){return this.hasJSONTitle&&this.contentQuestion?this.getProcessedText(this.contentQuestion.title):r.prototype.getDefaultTitle.call(this)},t.prototype.setValue=function(e,n,i,o){this.isValueChanging(e,n)||r.prototype.setValue.call(this,e,n,i,o)},t.prototype.onSetData=function(){r.prototype.onSetData.call(this),this.survey&&!this.isEmpty()&&this.setValue(this.name,this.value,!1,this.allowNotifyValueChanged)},t.prototype.hasErrors=function(e,n){if(e===void 0&&(e=!0),n===void 0&&(n=null),!this.contentQuestion)return!1;var i=this.contentQuestion.hasErrors(e,n);this.errors=[];for(var o=0;o<this.contentQuestion.errors.length;o++)this.errors.push(this.contentQuestion.errors[o]);return i||(i=r.prototype.hasErrors.call(this,e,n)),this.updateElementCss(),i},t.prototype.focus=function(e){e===void 0&&(e=!1),this.contentQuestion?this.contentQuestion.focus(e):r.prototype.focus.call(this,e)},t.prototype.afterRenderCore=function(e){r.prototype.afterRenderCore.call(this,e),this.contentQuestion&&this.contentQuestion.afterRender(e)},Object.defineProperty(t.prototype,"contentQuestion",{get:function(){return this.questionWrapper},enumerable:!1,configurable:!0}),t.prototype.createQuestion=function(){var e=this,n=this.customQuestion.json,i=null;if(n.questionJSON){this.hasJSONTitle=!!n.questionJSON.title;var o=n.questionJSON.type;if(!o||!L.findClass(o))throw"type attribute in questionJSON is empty or incorrect";i=L.createClass(o),i.fromJSON(n.questionJSON),i=this.checkCreatedQuestion(i)}else n.createQuestion&&(i=this.checkCreatedQuestion(n.createQuestion()));return this.initElement(i),i&&(i.isContentElement=!0,i.name||(i.name="question"),i.onUpdateCssClassesCallback=function(l){e.onUpdateQuestionCssClasses(i,l)},i.hasCssErrorCallback=function(){return e.errors.length>0},i.setValueChangedDirectlyCallback=function(l){e.setValueChangedDirectly(l)}),i},t.prototype.checkCreatedQuestion=function(e){return e&&(e.isQuestion||(Array.isArray(e.questions)&&e.questions.length>0?e=e.questions[0]:e=L.createClass("text"),Lt.error("Could not create component: '"+this.getType()+"'. questionJSON should be a question.")),e)},t.prototype.onSurveyLoad=function(){r.prototype.onSurveyLoad.call(this),this.contentQuestion&&this.isEmpty()&&!this.contentQuestion.isEmpty()&&(this.value=this.getContentQuestionValue())},t.prototype.runCondition=function(e,n){r.prototype.runCondition.call(this,e,n),this.contentQuestion&&this.contentQuestion.runCondition(e,n)},t.prototype.convertDataName=function(e){var n=this.contentQuestion;if(!n||e===this.getValueName())return r.prototype.convertDataName.call(this,e);var i=e.replace(n.getValueName(),this.getValueName());return i.indexOf(this.getValueName())==0?i:r.prototype.convertDataName.call(this,e)},t.prototype.convertDataValue=function(e,n){return this.convertDataName(e)==r.prototype.convertDataName.call(this,e)?this.getContentQuestionValue():n},t.prototype.getContentQuestionValue=function(){if(this.contentQuestion){var e=this.contentQuestion.value;return this.customQuestion&&(e=this.customQuestion.getValueFromQuestion(e)),e}},t.prototype.setContentQuestionValue=function(e){this.contentQuestion&&(this.customQuestion&&(e=this.customQuestion.setValueToQuestion(e)),this.contentQuestion.value=e)},t.prototype.canSetValueToSurvey=function(){return!1},t.prototype.setQuestionValue=function(e,n){n===void 0&&(n=!0),r.prototype.setQuestionValue.call(this,e,n),!this.isLoadingFromJson&&this.contentQuestion&&!this.isTwoValueEquals(this.getContentQuestionValue(),e)&&this.setContentQuestionValue(this.getUnbindValue(e))},t.prototype.onSurveyValueChanged=function(e){r.prototype.onSurveyValueChanged.call(this,e),this.contentQuestion&&this.contentQuestion.onSurveyValueChanged(e)},t.prototype.getValueCore=function(){return this.contentQuestion?this.getContentQuestionValue():r.prototype.getValueCore.call(this)},t.prototype.setValueChangedDirectly=function(e){this.isSettingValueChanged||(this.isSettingValueChanged=!0,r.prototype.setValueChangedDirectly.call(this,e),this.contentQuestion&&this.contentQuestion.setValueChangedDirectly(e),this.isSettingValueChanged=!1)},t.prototype.createDynamicProperties=function(e){if(e){var n=this.getDynamicProperties();Array.isArray(n)&&L.addDynamicPropertiesIntoObj(this,e,n)}},t.prototype.initElement=function(e){var n=this;r.prototype.initElement.call(this,e),e&&(e.parent=this,e.afterRenderQuestionCallback=function(i,o){n.customQuestion&&n.customQuestion.onAfterRenderContentElement(n,i,o)})},t.prototype.updateElementCss=function(e){this.contentQuestion&&this.questionWrapper.updateElementCss(e),r.prototype.updateElementCss.call(this,e)},t.prototype.updateElementCssCore=function(e){this.contentQuestion&&(e=this.contentQuestion.cssClasses),r.prototype.updateElementCssCore.call(this,e)},t.prototype.getDisplayValueCore=function(e,n){return r.prototype.getContentDisplayValueCore.call(this,e,n,this.contentQuestion)},t}(Ja),lf=function(r){Qi(t,r);function t(e,n){var i=r.call(this,n)||this;return i.composite=e,i.variableName=n,i}return Object.defineProperty(t.prototype,"survey",{get:function(){return this.composite.survey},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panel",{get:function(){return this.composite.contentPanel},enumerable:!1,configurable:!0}),t}(ao),Ya=function(r){Qi(t,r);function t(e,n){var i=r.call(this,e,n)||this;return i.customQuestion=n,i.settingNewValue=!1,i.textProcessing=new lf(i,t.ItemVariableName),i}return t.prototype.createWrapper=function(){this.panelWrapper=this.createPanel()},t.prototype.getTemplate=function(){return"composite"},t.prototype.getElement=function(){return this.contentPanel},t.prototype.getCssRoot=function(e){return new F().append(r.prototype.getCssRoot.call(this,e)).append(e.composite).toString()},Object.defineProperty(t.prototype,"contentPanel",{get:function(){return this.panelWrapper},enumerable:!1,configurable:!0}),t.prototype.hasErrors=function(e,n){e===void 0&&(e=!0),n===void 0&&(n=null);var i=r.prototype.hasErrors.call(this,e,n);return this.contentPanel&&this.contentPanel.hasErrors(e,!1,n)||i},t.prototype.updateElementCss=function(e){r.prototype.updateElementCss.call(this,e),this.contentPanel&&this.contentPanel.updateElementCss(e)},t.prototype.dispose=function(){this.unConnectEditingObj(),r.prototype.dispose.call(this)},t.prototype.updateEditingObj=function(){var e=this,n,i=(n=this.data)===null||n===void 0?void 0:n.getEditingSurveyElement();if(i){var o=i[this.getValueName()];return o&&!o.onPropertyChanged&&(o=void 0),o!==this.editingObjValue&&(this.unConnectEditingObj(),this.editingObjValue=o,o&&(this.onEditingObjPropertyChanged=function(l,u){e.setNewValueIntoQuestion(u.name,e.editingObjValue[u.name])},o.onPropertyChanged.add(this.onEditingObjPropertyChanged))),this.editingObjValue}},t.prototype.unConnectEditingObj=function(){this.editingObjValue&&!this.editingObjValue.isDisposed&&this.editingObjValue.onPropertyChanged.remove(this.onEditingObjPropertyChanged)},t.prototype.getEditingSurveyElement=function(){return this.editingObjValue},t.prototype.getTextProcessor=function(){return this.textProcessing},t.prototype.findQuestionByName=function(e){var n=this.getQuestionByName(e);return n||r.prototype.findQuestionByName.call(this,e)},t.prototype.clearValueIfInvisibleCore=function(e){r.prototype.clearValueIfInvisibleCore.call(this,e);for(var n=this.contentPanel.questions,i=0;i<n.length;i++)n[i].clearValueIfInvisible(e)},t.prototype.onAnyValueChanged=function(e,n){r.prototype.onAnyValueChanged.call(this,e,n);for(var i=this.contentPanel.questions,o=0;o<i.length;o++)i[o].onAnyValueChanged(e,n)},Object.defineProperty(t.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.createPanel=function(){var e=this,n=L.createClass("panel");n.showQuestionNumbers="off",n.renderWidth="100%";var i=this.customQuestion.json;return i.elementsJSON&&n.fromJSON({elements:i.elementsJSON}),i.createElements&&i.createElements(n,this),this.initElement(n),n.readOnly=this.isReadOnly,n.questions.forEach(function(o){return o.onUpdateCssClassesCallback=function(l){e.onUpdateQuestionCssClasses(o,l)}}),this.setAfterRenderCallbacks(n),n},t.prototype.onReadOnlyChanged=function(){this.contentPanel&&(this.contentPanel.readOnly=this.isReadOnly),r.prototype.onReadOnlyChanged.call(this)},t.prototype.updateValueFromSurvey=function(e,n){n===void 0&&(n=!1),this.updateEditingObj(),r.prototype.updateValueFromSurvey.call(this,e,n)},t.prototype.onSurveyLoad=function(){if(this.isSettingValOnLoading=!0,this.contentPanel&&(this.contentPanel.readOnly=this.isReadOnly,this.setIsContentElement(this.contentPanel)),r.prototype.onSurveyLoad.call(this),this.contentPanel){var e=this.getContentPanelValue();D.isValueEmpty(e)||(this.value=e)}this.isSettingValOnLoading=!1},t.prototype.setIsContentElement=function(e){e.isContentElement=!0;for(var n=e.elements,i=0;i<n.length;i++){var o=n[i];o.isPanel?this.setIsContentElement(o):o.isContentElement=!0}},t.prototype.setVisibleIndex=function(e){var n=r.prototype.setVisibleIndex.call(this,e);return this.isVisible&&this.contentPanel&&(n+=this.contentPanel.setVisibleIndex(e)),n},t.prototype.runCondition=function(e,n){if(r.prototype.runCondition.call(this,e,n),this.contentPanel){var i=e[t.ItemVariableName];e[t.ItemVariableName]=this.contentPanel.getValue(),this.contentPanel.runCondition(e,n),delete e[t.ItemVariableName],i&&(e[t.ItemVariableName]=i)}},t.prototype.onSurveyValueChanged=function(e){r.prototype.onSurveyValueChanged.call(this,e);var n=e||{};this.contentPanel&&this.contentPanel.questions.forEach(function(i){i.onSurveyValueChanged(n[i.getValueName()])})},t.prototype.getValue=function(e){var n=this.value;return n?n[e]:null},t.prototype.getQuestionByName=function(e){return this.contentPanel?this.contentPanel.getQuestionByName(e):void 0},t.prototype.setValue=function(e,n,i,o){if(this.settingNewValue){this.setNewValueIntoQuestion(e,n);return}if(!this.isValueChanging(e,n)){if(this.settingNewValue=!0,!this.isEditingSurveyElement&&this.contentPanel)for(var l=0,u=this.contentPanel.questions.length+1;l<u&&this.updateValueCoreWithPanelValue();)l++;this.setNewValueIntoQuestion(e,n),r.prototype.setValue.call(this,e,n,i,o),this.settingNewValue=!1,this.runPanelTriggers(t.ItemVariableName+"."+e,n)}},t.prototype.runPanelTriggers=function(e,n){this.contentPanel&&this.contentPanel.questions.forEach(function(i){i.runTriggers(e,n)})},t.prototype.getFilteredValues=function(){var e=this.data?this.data.getFilteredValues():{};return this.contentPanel&&(e[t.ItemVariableName]=this.contentPanel.getValue()),e},t.prototype.updateValueCoreWithPanelValue=function(){var e=this.getContentPanelValue();return this.isTwoValueEquals(this.getValueCore(),e)?!1:(this.setValueCore(e),!0)},t.prototype.getContentPanelValue=function(e){return e||(e=this.contentPanel.getValue()),this.customQuestion.setValueToQuestion(e)},t.prototype.getValueForContentPanel=function(e){return this.customQuestion.getValueFromQuestion(e)},t.prototype.setNewValueIntoQuestion=function(e,n){var i=this.getQuestionByName(e);i&&!this.isTwoValueEquals(n,i.value)&&(i.value=n)},t.prototype.addConditionObjectsByContext=function(e,n){if(this.contentPanel)for(var i=this.contentPanel.questions,o=this.name,l=this.title,u=0;u<i.length;u++)e.push({name:o+"."+i[u].name,text:l+"."+i[u].title,question:i[u]})},t.prototype.collectNestedQuestionsCore=function(e,n){this.contentPanel&&this.contentPanel.questions.forEach(function(i){return i.collectNestedQuestions(e,n)})},t.prototype.convertDataValue=function(e,n){var i=this.contentPanel&&!this.isEditingSurveyElement?this.contentPanel.getValue():this.getValueForContentPanel(this.value);return i||(i={}),i.getType||(i=D.getUnbindValue(i)),this.isValueEmpty(n)&&!this.isEditingSurveyElement?delete i[e]:i[e]=n,this.getContentPanelValue(i)},t.prototype.setQuestionValue=function(e,n){n===void 0&&(n=!0),this.setValuesIntoQuestions(e),!this.isEditingSurveyElement&&this.contentPanel&&(e=this.getContentPanelValue()),r.prototype.setQuestionValue.call(this,e,n)},t.prototype.setValuesIntoQuestions=function(e){if(this.contentPanel){e=this.getValueForContentPanel(e);var n=this.settingNewValue;this.settingNewValue=!0;for(var i=this.contentPanel.questions,o=0;o<i.length;o++){var l=i[o].getValueName(),u=e?e[l]:void 0,d=i[o];!this.isTwoValueEquals(d.value,u)&&(u!==void 0||!d.isEmpty())&&(d.value=u)}this.settingNewValue=n}},t.prototype.getDisplayValueCore=function(e,n){return r.prototype.getContentDisplayValueCore.call(this,e,n,this.contentPanel)},t.prototype.setAfterRenderCallbacks=function(e){var n=this;if(!(!e||!this.customQuestion))for(var i=e.questions,o=0;o<i.length;o++)i[o].afterRenderQuestionCallback=function(l,u){n.customQuestion.onAfterRenderContentElement(n,l,u)}},Object.defineProperty(t.prototype,"ariaRole",{get:function(){return"group"},enumerable:!1,configurable:!0}),t.ItemVariableName="composite",t}(Ja),Se=function(){function r(){}return Object.defineProperty(r,"DefaultChoices",{get:function(){var t=Ge("choices_Item");return[t+"1",t+"2",t+"3"]},enumerable:!1,configurable:!0}),Object.defineProperty(r,"DefaultColums",{get:function(){var t=Ge("matrix_column")+" ";return[t+"1",t+"2",t+"3"]},enumerable:!1,configurable:!0}),Object.defineProperty(r,"DefaultRows",{get:function(){var t=Ge("matrix_row")+" ";return[t+"1",t+"2"]},enumerable:!1,configurable:!0}),Object.defineProperty(r,"DefaultMutlipleTextItems",{get:function(){var t=Ge("multipletext_itemname");return[t+"1",t+"2"]},enumerable:!1,configurable:!0}),r.prototype.registerQuestion=function(t,e,n){n===void 0&&(n=!0),Jt.Instance.registerElement(t,e,n)},r.prototype.registerCustomQuestion=function(t){Jt.Instance.registerCustomQuestion(t)},r.prototype.unregisterElement=function(t,e){e===void 0&&(e=!1),Jt.Instance.unregisterElement(t,e)},r.prototype.clear=function(){Jt.Instance.clear()},r.prototype.getAllTypes=function(){return Jt.Instance.getAllTypes()},r.prototype.createQuestion=function(t,e){return Jt.Instance.createElement(t,e)},r.Instance=new r,r}(),Jt=function(){function r(){var t=this;this.creatorHash={},this.registerCustomQuestion=function(e,n){n===void 0&&(n=!0);var i=function(o){var l=L.createClass(e);return l&&(l.name=o),l};t.registerElement(e,i,n)}}return r.prototype.registerElement=function(t,e,n){n===void 0&&(n=!0),this.creatorHash[t]={showInToolbox:n,creator:e}},r.prototype.clear=function(){this.creatorHash={}},r.prototype.unregisterElement=function(t,e){e===void 0&&(e=!1),delete this.creatorHash[t],e&&L.removeClass(t)},r.prototype.getAllToolboxTypes=function(){return this.getAllTypesCore(!0)},r.prototype.getAllTypes=function(){return this.getAllTypesCore(!1)},r.prototype.createElement=function(t,e){var n=this.creatorHash[t];if(n&&n.creator)return n.creator(e);var i=Hi.Instance.getCustomQuestionByName(t);return i?Hi.Instance.createQuestion(e,i):null},r.prototype.getAllTypesCore=function(t){var e=new Array;for(var n in this.creatorHash)(!t||this.creatorHash[n].showInToolbox)&&e.push(n);return e.sort()},r.Instance=new r,r}(),uf=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),lo=function(r){uf(t,r);function t(e){var n=r.call(this,e)||this;return n.createLocalizableString("format",n),n.registerPropertyChangedHandlers(["expression"],function(){n.expressionRunner&&(n.expressionRunner=n.createRunner())}),n.registerPropertyChangedHandlers(["format","currency","displayStyle"],function(){n.updateFormatedValue()}),n}return t.prototype.getType=function(){return"expression"},Object.defineProperty(t.prototype,"hasInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this.getLocalizableStringText("format","")},set:function(e){this.setLocalizableStringText("format",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locFormat",{get:function(){return this.getLocalizableString("format")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expression",{get:function(){return this.getPropertyValue("expression","")},set:function(e){this.setPropertyValue("expression",e)},enumerable:!1,configurable:!0}),t.prototype.locCalculation=function(){this.expressionIsRunning=!0},t.prototype.unlocCalculation=function(){this.expressionIsRunning=!1},t.prototype.runCondition=function(e,n){r.prototype.runCondition.call(this,e,n),!(!this.expression||this.expressionIsRunning||!this.runIfReadOnly&&this.isReadOnly)&&(this.locCalculation(),this.expressionRunner||(this.expressionRunner=this.createRunner()),this.expressionRunner.run(e,n))},t.prototype.canCollectErrors=function(){return!0},t.prototype.hasRequiredError=function(){return!1},t.prototype.createRunner=function(){var e=this,n=this.createExpressionRunner(this.expression);return n.onRunComplete=function(i){e.value=e.roundValue(i),e.unlocCalculation()},n},Object.defineProperty(t.prototype,"maximumFractionDigits",{get:function(){return this.getPropertyValue("maximumFractionDigits")},set:function(e){e<-1||e>20||this.setPropertyValue("maximumFractionDigits",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minimumFractionDigits",{get:function(){return this.getPropertyValue("minimumFractionDigits")},set:function(e){e<-1||e>20||this.setPropertyValue("minimumFractionDigits",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"runIfReadOnly",{get:function(){return this.runIfReadOnlyValue===!0},set:function(e){this.runIfReadOnlyValue=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"formatedValue",{get:function(){return this.getPropertyValue("formatedValue","")},enumerable:!1,configurable:!0}),t.prototype.updateFormatedValue=function(){this.setPropertyValue("formatedValue",this.getDisplayValueCore(!1,this.value))},t.prototype.onValueChanged=function(){this.updateFormatedValue()},t.prototype.updateValueFromSurvey=function(e,n){r.prototype.updateValueFromSurvey.call(this,e,n),this.updateFormatedValue()},t.prototype.getDisplayValueCore=function(e,n){var i=n??this.defaultValue,o="";if(!this.isValueEmpty(i)){var l=this.getValueAsStr(i);o=this.format?this.format.format(l):l}return this.survey&&(o=this.survey.getExpressionDisplayValue(this,i,o)),o},Object.defineProperty(t.prototype,"displayStyle",{get:function(){return this.getPropertyValue("displayStyle")},set:function(e){this.setPropertyValue("displayStyle",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currency",{get:function(){return this.getPropertyValue("currency")},set:function(e){zi().indexOf(e)<0||this.setPropertyValue("currency",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"useGrouping",{get:function(){return this.getPropertyValue("useGrouping")},set:function(e){this.setPropertyValue("useGrouping",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"precision",{get:function(){return this.getPropertyValue("precision")},set:function(e){this.setPropertyValue("precision",e)},enumerable:!1,configurable:!0}),t.prototype.roundValue=function(e){if(e!==1/0)return this.precision<0||!D.isNumber(e)?e:parseFloat(e.toFixed(this.precision))},t.prototype.getValueAsStr=function(e){if(this.displayStyle=="date"){var n=S("question-expression",e);if(n&&n.toLocaleDateString)return n.toLocaleDateString()}if(this.displayStyle!="none"&&D.isNumber(e)){var i=this.getLocale();i||(i="en");var o={style:this.displayStyle,currency:this.currency,useGrouping:this.useGrouping};return this.maximumFractionDigits>-1&&(o.maximumFractionDigits=this.maximumFractionDigits),this.minimumFractionDigits>-1&&(o.minimumFractionDigits=this.minimumFractionDigits),e.toLocaleString(i,o)}return e.toString()},t}(tt);function zi(){return["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STD","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UZS","VEF","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"]}L.addClass("expression",["expression:expression",{name:"format",serializationProperty:"locFormat"},{name:"displayStyle",default:"none",choices:["none","decimal","currency","percent","date"]},{name:"currency",choices:function(){return zi()},default:"USD",visibleIf:function(r){return r.displayStyle==="currency"}},{name:"maximumFractionDigits:number",default:-1},{name:"minimumFractionDigits:number",default:-1},{name:"useGrouping:boolean",default:!0},{name:"precision:number",default:-1,category:"data"},{name:"enableIf",visible:!1},{name:"isRequired",visible:!1},{name:"readOnly",visible:!1},{name:"requiredErrorText",visible:!1},{name:"resetValueIf",visible:!1},{name:"setValueIf",visible:!1},{name:"setValueExpression",visible:!1},{name:"defaultValueExpression",visible:!1},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"requiredIf",visible:!1}],function(){return new lo("")},"question"),Se.Instance.registerQuestion("expression",function(r){return new lo(r)});var cf=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();function Ui(r,t,e,n){r.storeOthersAsComment=e?e.storeOthersAsComment:!1,(!r.choices||r.choices.length==0)&&r.choicesByUrl.isEmpty&&(r.choices=e.choices),r.choicesByUrl.isEmpty||r.choicesByUrl.run(n.getTextProcessor())}function pf(r,t,e,n){Ui(r,t,e,n),r.locPlaceholder&&r.locPlaceholder.isEmpty&&!e.locPlaceholder.isEmpty&&(r.optionsCaption=e.optionsCaption)}var uo={dropdown:{onCellQuestionUpdate:function(r,t,e,n){pf(r,t,e,n)}},checkbox:{onCellQuestionUpdate:function(r,t,e,n){Ui(r,t,e,n),r.colCount=t.colCount>-1?t.colCount:e.columnColCount}},radiogroup:{onCellQuestionUpdate:function(r,t,e,n){Ui(r,t,e,n),r.colCount=t.colCount>-1?t.colCount:e.columnColCount}},tagbox:{onCellQuestionUpdate:function(r,t,e,n){Ui(r,t,e,n)}},text:{},comment:{},boolean:{onCellQuestionUpdate:function(r,t,e,n){r.renderAs=t.renderAs}},expression:{},rating:{}},ei=function(r){cf(t,r);function t(e,n,i){var o=r.call(this)||this;return o.indexValue=-1,o._hasVisibleCell=!0,o.isColumnsVisibleIf=!0,o.previousChoicesId=void 0,o.colOwnerValue=i,o.createLocalizableString("totalFormat",o),o.createLocalizableString("cellHint",o),o.registerPropertyChangedHandlers(["showInMultipleColumns"],function(){o.doShowInMultipleColumnsChanged()}),o.registerPropertyChangedHandlers(["visible"],function(){o.doColumnVisibilityChanged()}),o.updateTemplateQuestion(void 0,e,n),o}return t.getColumnTypes=function(){var e=[];for(var n in uo)e.push(n);return e},t.prototype.getOriginalObj=function(){return this.templateQuestion},t.prototype.getClassNameProperty=function(){return"cellType"},t.prototype.getSurvey=function(e){return e===void 0&&(e=!1),this.colOwner?this.colOwner.survey:null},t.prototype.endLoadingFromJson=function(){var e=this;r.prototype.endLoadingFromJson.call(this),this.templateQuestion.autoOtherMode=this.isShowInMultipleColumns,this.templateQuestion.endLoadingFromJson(),this.templateQuestion.onGetSurvey=function(){return e.getSurvey()}},t.prototype.getDynamicPropertyName=function(){return"cellType"},t.prototype.getDynamicType=function(){return this.cellType==="default"?"question":this.calcCellQuestionType(null)},Object.defineProperty(t.prototype,"colOwner",{get:function(){return this.colOwnerValue},set:function(e){this.colOwnerValue=e,e&&(this.updateTemplateQuestion(),this.setParentQuestionToTemplate(this.templateQuestion))},enumerable:!1,configurable:!0}),t.prototype.locStrsChanged=function(){r.prototype.locStrsChanged.call(this),this.locTitle.strChanged()},t.prototype.addUsedLocales=function(e){r.prototype.addUsedLocales.call(this,e),this.templateQuestion.addUsedLocales(e)},Object.defineProperty(t.prototype,"index",{get:function(){return this.indexValue},enumerable:!1,configurable:!0}),t.prototype.setIndex=function(e){this.indexValue=e},t.prototype.getType=function(){return"matrixdropdowncolumn"},Object.defineProperty(t.prototype,"cellType",{get:function(){return this.getPropertyValue("cellType")},set:function(e){e=e.toLocaleLowerCase(),this.updateTemplateQuestion(e),this.setPropertyValue("cellType",e),this.colOwner&&this.colOwner.onColumnCellTypeChanged(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templateQuestion",{get:function(){return this.templateQuestionValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.templateQuestion.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isColumnVisible",{get:function(){return this.isDesignMode?!0:this.visible&&this.hasVisibleCell},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this.templateQuestion.visible},set:function(e){this.templateQuestion.visible=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasVisibleCell",{get:function(){return this._hasVisibleCell},set:function(e){this._hasVisibleCell=e},enumerable:!1,configurable:!0}),t.prototype.getVisibleMultipleChoices=function(){var e=this.templateQuestion.visibleChoices;if(!Array.isArray(e))return[];if(!Array.isArray(this._visiblechoices))return e;for(var n=new Array,i=0;i<e.length;i++){var o=e[i];this._visiblechoices.indexOf(o.value)>-1&&n.push(o)}return n},Object.defineProperty(t.prototype,"getVisibleChoicesInCell",{get:function(){if(Array.isArray(this._visiblechoices))return this._visiblechoices;var e=this.templateQuestion.visibleChoices;return Array.isArray(e)?e:[]},enumerable:!1,configurable:!0}),t.prototype.setVisibleChoicesInCell=function(e){this._visiblechoices=e},Object.defineProperty(t.prototype,"isFilteredMultipleColumns",{get:function(){if(!this.showInMultipleColumns)return!1;var e=this.templateQuestion.choices;if(!Array.isArray(e))return!1;for(var n=0;n<e.length;n++)if(e[n].visibleIf)return!0;return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.templateQuestion.name},set:function(e){this.templateQuestion.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.templateQuestion.title},set:function(e){this.templateQuestion.title=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTitle",{get:function(){return this.templateQuestion.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullTitle",{get:function(){return this.locTitle.textOrHtml},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRequired",{get:function(){return this.templateQuestion.isRequired},set:function(e){this.templateQuestion.isRequired=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRenderedRequired",{get:function(){return this.getPropertyValue("isRenderedRequired",this.isRequired)},set:function(e){this.setPropertyValue("isRenderedRequired",e)},enumerable:!1,configurable:!0}),t.prototype.updateIsRenderedRequired=function(e){this.isRenderedRequired=e||this.isRequired},Object.defineProperty(t.prototype,"requiredText",{get:function(){return this.isRenderedRequired&&this.getSurvey()?this.getSurvey().requiredText:this.templateQuestion.requiredText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requiredErrorText",{get:function(){return this.templateQuestion.requiredErrorText},set:function(e){this.templateQuestion.requiredErrorText=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locRequiredErrorText",{get:function(){return this.templateQuestion.locRequiredErrorText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"readOnly",{get:function(){return this.templateQuestion.readOnly},set:function(e){this.templateQuestion.readOnly=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasOther",{get:function(){return this.templateQuestion.hasOther},set:function(e){this.templateQuestion.hasOther=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleIf",{get:function(){return this.templateQuestion.visibleIf},set:function(e){this.templateQuestion.visibleIf=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enableIf",{get:function(){return this.templateQuestion.enableIf},set:function(e){this.templateQuestion.enableIf=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requiredIf",{get:function(){return this.templateQuestion.requiredIf},set:function(e){this.templateQuestion.requiredIf=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resetValueIf",{get:function(){return this.templateQuestion.resetValueIf},set:function(e){this.templateQuestion.resetValueIf=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultValueExpression",{get:function(){return this.templateQuestion.defaultValueExpression},set:function(e){this.templateQuestion.defaultValueExpression=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"setValueIf",{get:function(){return this.templateQuestion.setValueIf},set:function(e){this.templateQuestion.setValueIf=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"setValueExpression",{get:function(){return this.templateQuestion.setValueExpression},set:function(e){this.templateQuestion.setValueExpression=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUnique",{get:function(){return this.getPropertyValue("isUnique")},set:function(e){this.setPropertyValue("isUnique",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showInMultipleColumns",{get:function(){return this.getPropertyValue("showInMultipleColumns")},set:function(e){this.setPropertyValue("showInMultipleColumns",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSupportMultipleColumns",{get:function(){return["checkbox","radiogroup"].indexOf(this.cellType)>-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isShowInMultipleColumns",{get:function(){return this.showInMultipleColumns&&this.isSupportMultipleColumns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"validators",{get:function(){return this.templateQuestion.validators},set:function(e){this.templateQuestion.validators=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalType",{get:function(){return this.getPropertyValue("totalType")},set:function(e){this.setPropertyValue("totalType",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalExpression",{get:function(){return this.getPropertyValue("totalExpression")},set:function(e){this.setPropertyValue("totalExpression",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTotal",{get:function(){return this.totalType!="none"||!!this.totalExpression},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalFormat",{get:function(){return this.getLocalizableStringText("totalFormat","")},set:function(e){this.setLocalizableStringText("totalFormat",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTotalFormat",{get:function(){return this.getLocalizableString("totalFormat")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cellHint",{get:function(){return this.getLocalizableStringText("cellHint","")},set:function(e){this.setLocalizableStringText("cellHint",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locCellHint",{get:function(){return this.getLocalizableString("cellHint")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderAs",{get:function(){return this.getPropertyValue("renderAs")},set:function(e){this.setPropertyValue("renderAs",e),this.templateQuestion&&(this.templateQuestion.renderAs=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalMaximumFractionDigits",{get:function(){return this.getPropertyValue("totalMaximumFractionDigits")},set:function(e){e<-1||e>20||this.setPropertyValue("totalMaximumFractionDigits",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalMinimumFractionDigits",{get:function(){return this.getPropertyValue("totalMinimumFractionDigits")},set:function(e){e<-1||e>20||this.setPropertyValue("totalMinimumFractionDigits",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalDisplayStyle",{get:function(){return this.getPropertyValue("totalDisplayStyle")},set:function(e){this.setPropertyValue("totalDisplayStyle",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalAlignment",{get:function(){return this.getPropertyValue("totalAlignment")},set:function(e){this.setPropertyValue("totalAlignment",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalCurrency",{get:function(){return this.getPropertyValue("totalCurrency")},set:function(e){zi().indexOf(e)<0||this.setPropertyValue("totalCurrency",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth","")},set:function(e){this.setPropertyValue("minWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.templateQuestion.width},set:function(e){this.templateQuestion.width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"colCount",{get:function(){return this.getPropertyValue("colCount")},set:function(e){e<-1||e>4||this.setPropertyValue("colCount",e)},enumerable:!1,configurable:!0}),t.prototype.getLocale=function(){return this.colOwner?this.colOwner.getLocale():""},t.prototype.getMarkdownHtml=function(e,n){return this.colOwner?this.colOwner.getMarkdownHtml(e,n):void 0},t.prototype.getRenderer=function(e){return this.colOwner?this.colOwner.getRenderer(e):null},t.prototype.getRendererContext=function(e){return this.colOwner?this.colOwner.getRendererContext(e):e},t.prototype.getProcessedText=function(e){return this.colOwner?this.colOwner.getProcessedText(e):e},t.prototype.createCellQuestion=function(e){var n=this.calcCellQuestionType(e),i=this.createNewQuestion(n);return this.callOnCellQuestionUpdate(i,e),i},t.prototype.startLoadingFromJson=function(e){r.prototype.startLoadingFromJson.call(this,e),e&&!e.cellType&&e.choices&&(e.cellType=this.colOwner.getCellType())},t.prototype.updateCellQuestion=function(e,n,i){i===void 0&&(i=null),this.setQuestionProperties(e,i)},t.prototype.callOnCellQuestionUpdate=function(e,n){var i=e.getType(),o=uo[i];o&&o.onCellQuestionUpdate&&o.onCellQuestionUpdate(e,this,this.colOwner,n)},t.prototype.defaultCellTypeChanged=function(){this.updateTemplateQuestion()},t.prototype.calcCellQuestionType=function(e){var n=this.getDefaultCellQuestionType();return e&&this.colOwner&&(n=this.colOwner.getCustomCellType(this,e,n)),n},t.prototype.getDefaultCellQuestionType=function(e){return e||(e=this.cellType),e!=="default"?e:this.colOwner?this.colOwner.getCellType():R.matrix.defaultCellType},t.prototype.updateTemplateQuestion=function(e,n,i){var o=this,l=this.getDefaultCellQuestionType(e),u=this.templateQuestion?this.templateQuestion.getType():"";l!==u&&(this.templateQuestion&&this.removeProperties(u),this.templateQuestionValue=this.createNewQuestion(l),this.templateQuestion.locOwner=this,this.addProperties(l),n&&(this.name=n),i?this.title=i:this.templateQuestion.locTitle.strChanged(),R.serialization.matrixDropdownColumnSerializeTitle&&(this.templateQuestion.locTitle.serializeCallBackText=!0),this.templateQuestion.onPropertyChanged.add(function(d,m){o.propertyValueChanged(m.name,m.oldValue,m.newValue,m.arrayChanges,m.target)}),this.templateQuestion.onItemValuePropertyChanged.add(function(d,m){o.doItemValuePropertyChanged(m.propertyName,m.obj,m.name,m.newValue,m.oldValue)}),this.templateQuestion.isContentElement=!0,this.isLoadingFromJson||(this.templateQuestion.onGetSurvey=function(){return o.getSurvey()}),this.templateQuestion.locTitle.strChanged())},t.prototype.createNewQuestion=function(e){var n=L.createClass(e);return n||(n=L.createClass("text")),n.loadingOwner=this,n.isEditableTemplateElement=!0,n.autoOtherMode=this.isShowInMultipleColumns,this.setQuestionProperties(n),this.setParentQuestionToTemplate(n),n},t.prototype.setParentQuestionToTemplate=function(e){this.colOwner&&this.colOwner.isQuestion&&e.setParentQuestion(this.colOwner)},t.prototype.setQuestionProperties=function(e,n){var i=this;if(n===void 0&&(n=null),this.templateQuestion){var o=new nt().toJsonObject(this.templateQuestion,!0);if(n&&n(o),o.type=e.getType(),this.cellType==="default"&&this.colOwner&&this.colOwner.hasChoices()&&delete o.choices,delete o.itemComponent,this.jsonObj&&o.type==="rating"&&Object.keys(this.jsonObj).forEach(function(u){o[u]=i.jsonObj[u]}),o.choicesOrder==="random"){o.choicesOrder="none";var l=this.templateQuestion.visibleChoices;Array.isArray(l)&&(o.choices=l)}new nt().toObject(o,e),e.isContentElement=this.templateQuestion.isContentElement,this.previousChoicesId=void 0,e.loadedChoicesFromServerCallback=function(){if(i.isShowInMultipleColumns&&!(i.previousChoicesId&&i.previousChoicesId!==e.id)){i.previousChoicesId=e.id;var u=e.visibleChoices;i.templateQuestion.choices=u,i.propertyValueChanged("choices",u,u)}}}},t.prototype.propertyValueChanged=function(e,n,i,o,l){if(r.prototype.propertyValueChanged.call(this,e,n,i,o,l),e==="isRequired"&&this.updateIsRenderedRequired(i),!(!this.colOwner||this.isLoadingFromJson)){if(this.isShowInMultipleColumns){if(e==="choicesOrder")return;["visibleChoices","choices"].indexOf(e)>-1&&this.colOwner.onShowInMultipleColumnsChanged(this)}L.hasOriginalProperty(this,e)&&this.colOwner.onColumnPropertyChanged(this,e,i)}},t.prototype.doItemValuePropertyChanged=function(e,n,i,o,l){L.hasOriginalProperty(n,i)&&this.colOwner!=null&&!this.isLoadingFromJson&&this.colOwner.onColumnItemValuePropertyChanged(this,e,n,i,o,l)},t.prototype.doShowInMultipleColumnsChanged=function(){this.colOwner!=null&&this.colOwner.onShowInMultipleColumnsChanged(this),this.templateQuestion&&(this.templateQuestion.autoOtherMode=this.isShowInMultipleColumns)},t.prototype.doColumnVisibilityChanged=function(){this.colOwner!=null&&!this.isDesignMode&&this.colOwner.onColumnVisibilityChanged(this)},t.prototype.getProperties=function(e){return L.getDynamicPropertiesByObj(this,e)},t.prototype.removeProperties=function(e){for(var n=this.getProperties(e),i=0;i<n.length;i++){var o=n[i];delete this[o.name],o.serializationProperty&&delete this[o.serializationProperty]}},t.prototype.addProperties=function(e){var n=this.getProperties(e);L.addDynamicPropertiesIntoObj(this,this.templateQuestion,n)},t}(be);L.addClass("matrixdropdowncolumn",[{name:"!name",isUnique:!0},{name:"title",serializationProperty:"locTitle",dependsOn:"name",onPropertyEditorUpdate:function(r,t){r&&t&&(t.placeholder=r.name)}},{name:"cellHint",serializationProperty:"locCellHint",visible:!1},{name:"cellType",default:"default",choices:function(){var r=ei.getColumnTypes();return r.splice(0,0,"default"),r}},{name:"colCount",default:-1,choices:[-1,0,1,2,3,4]},"isRequired:boolean","isUnique:boolean",{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},"readOnly:boolean",{name:"minWidth",onPropertyEditorUpdate:function(r,t){r&&t&&(t.value=r.minWidth)}},"width",{name:"visible:switch",default:!0,overridingProperty:"visibleIf"},"visibleIf:condition","enableIf:condition","requiredIf:condition","resetValueIf:condition","setValueIf:condition","setValueExpression:expression",{name:"showInMultipleColumns:boolean",dependsOn:"cellType",visibleIf:function(r){return r.isSupportMultipleColumns}},{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"},{name:"totalType",visibleIf:function(r){return!r.isShowInMultipleColumns},default:"none",choices:["none","sum","count","min","max","avg"]},{name:"totalExpression:expression",visibleIf:function(r){return!r.isShowInMultipleColumns}},{name:"totalFormat",serializationProperty:"locTotalFormat",visibleIf:function(r){return r.hasTotal}},{name:"totalDisplayStyle",visibleIf:function(r){return r.hasTotal},default:"none",choices:["none","decimal","currency","percent"]},{name:"totalAlignment",visibleIf:function(r){return r.hasTotal},default:"auto",choices:["auto","left","center","right"]},{name:"totalCurrency",visibleIf:function(r){return r.hasTotal},choices:function(){return zi()},default:"USD"},{name:"totalMaximumFractionDigits:number",default:-1,visibleIf:function(r){return r.hasTotal}},{name:"totalMinimumFractionDigits:number",default:-1,visibleIf:function(r){return r.hasTotal}},{name:"renderAs",default:"default",visible:!1}],function(){return new ei("")});var co=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ti=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},df=function(r,t){for(var e=0,n=t.length,i=r.length;e<n;e++,i++)r[i]=t[e];return r};function Xa(r,t,e){return r+(t?"-error":"")+(e?"-detail":"")}var St=function(){function r(){this.minWidth="",this.width="",this.colSpans=1,this.isActionsCell=!1,this.isErrorsCell=!1,this.isDragHandlerCell=!1,this.isDetailRowCell=!1,this.classNameValue="",this.idValue=r.counter++}return Object.defineProperty(r.prototype,"requiredText",{get:function(){return this.column&&this.column.isRenderedRequired?this.column.requiredText:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hasQuestion",{get:function(){return!!this.question&&!this.isErrorsCell},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hasTitle",{get:function(){return!!this.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hasPanel",{get:function(){return!!this.panel},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"id",{get:function(){var t=this.question?this.question.id:this.idValue.toString();return this.isChoice&&(t+="-"+(Number.isInteger(this.choiceIndex)?"index"+this.choiceIndex.toString():this.item.id)),Xa(t,this.isErrorsCell,this.isDetailRowCell)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"item",{get:function(){return this.itemValue},set:function(t){this.itemValue=t,t&&(t.hideCaption=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isChoice",{get:function(){return!!this.item},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isItemChoice",{get:function(){return this.isChoice&&!this.isOtherChoice},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"choiceValue",{get:function(){return this.isChoice?this.item.value:null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isCheckbox",{get:function(){return this.isItemChoice&&this.question.isDescendantOf("checkbox")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isRadio",{get:function(){return this.isItemChoice&&this.question.isDescendantOf("radiogroup")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isFirstChoice",{get:function(){return this.choiceIndex===0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"className",{get:function(){var t=new F().append(this.classNameValue);return this.hasQuestion&&t.append(this.question.cssClasses.hasError,this.question.errors.length>0).append(this.question.cssClasses.answered,this.question.isAnswered),t.toString()},set:function(t){this.classNameValue=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"cellQuestionWrapperClassName",{get:function(){return this.cell.getQuestionWrapperClassName(this.matrix.cssClasses.cellQuestionWrapper)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isVisible",{get:function(){var t;return!this.hasQuestion&&!this.isErrorsCell||!(!((t=this.matrix)===null||t===void 0)&&t.isMobile)||this.question.isVisible},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"showResponsiveTitle",{get:function(){var t;return this.hasQuestion&&((t=this.matrix)===null||t===void 0?void 0:t.isMobile)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"responsiveTitleCss",{get:function(){return new F().append(this.matrix.cssClasses.cellResponsiveTitle).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"responsiveLocTitle",{get:function(){return this.cell.column.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"headers",{get:function(){if(this.cell&&this.cell.column){if(this.matrix.IsMultiplyColumn(this.cell.column))return this.item?this.item.locText.renderedHtml:"";var t=this.cell.column.cellHint;return t?t.trim()===""?"":this.cell.column.locCellHint.renderedHtml:this.hasQuestion&&this.question.isVisible&&this.question.title?this.question.title:this.cell.column.title}return this.hasQuestion&&this.question.isVisible?this.question.locTitle.renderedHtml:this.hasTitle&&this.locTitle.renderedHtml||""},enumerable:!1,configurable:!0}),r.prototype.getTitle=function(){return this.matrix&&this.matrix.showHeader?this.headers:""},r.prototype.calculateFinalClassName=function(t){var e=this.cell.question.cssClasses,n=new F().append(e.itemValue,!!e).append(e.asCell,!!e);return n.append(t.cell,n.isEmpty()&&!!t).append(t.choiceCell,this.isChoice).toString()},r.prototype.focusIn=function(){this.question&&this.question.focusIn()},r.counter=1,r}(),po=function(r){co(t,r);function t(e,n){n===void 0&&(n=!1);var i=r.call(this)||this;return i.cssClasses=e,i.isDetailRow=n,i.hasEndActions=!1,i.isErrorsRow=!1,i.cells=[],i.idValue=t.counter++,i}return Object.defineProperty(t.prototype,"id",{get:function(){var e;return Xa(((e=this.row)===null||e===void 0?void 0:e.id)||this.idValue.toString(),this.isErrorsRow,this.isDetailRow)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){return this.row?{"data-sv-drop-target-matrix-row":this.row.id}:{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){var e,n;return new F().append(this.cssClasses.row).append(this.cssClasses.detailRow,this.isDetailRow).append(this.cssClasses.rowHasPanel,(e=this.row)===null||e===void 0?void 0:e.hasPanel).append(this.cssClasses.expandedRow,((n=this.row)===null||n===void 0?void 0:n.isDetailPanelShowing)&&!this.isDetailRow).append(this.cssClasses.rowHasEndActions,this.hasEndActions).append(this.cssClasses.ghostRow,this.isGhostRow).append(this.cssClasses.rowAdditional,this.isAdditionalClasses).toString()},enumerable:!1,configurable:!0}),t.prototype.setRootElement=function(e){this.rootElement=e},t.prototype.getRootElement=function(){return this.rootElement},t.prototype.focusCell=function(e){if(this.rootElement){var n=":scope td:nth-of-type("+(e+1)+") input, :scope td:nth-of-type("+(e+1)+") button",i=this.rootElement.querySelectorAll(n)[0];i&&i.focus()}},t.counter=1,ti([V({defaultValue:!1})],t.prototype,"isGhostRow",void 0),ti([V({defaultValue:!1})],t.prototype,"isAdditionalClasses",void 0),ti([V({defaultValue:!0})],t.prototype,"visible",void 0),t}(be),el=function(r){co(t,r);function t(e){var n=r.call(this,e)||this;return n.isErrorsRow=!0,n}return Object.defineProperty(t.prototype,"attributes",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return new F().append(this.cssClasses.row).append(this.cssClasses.errorRow).toString()},enumerable:!1,configurable:!0}),t.prototype.onAfterCreated=function(){var e=this,n=function(){e.visible=e.cells.some(function(i){return i.question&&i.question.hasVisibleErrors})};this.cells.forEach(function(i){i.question&&i.question.registerFunctionOnPropertyValueChanged("hasVisibleErrors",n)}),n()},t}(po),fo=function(r){co(t,r);function t(e){var n=r.call(this)||this;return n.matrix=e,n._renderedRows=[],n.renderedRowsAnimation=new Zt(n.getRenderedRowsAnimationOptions(),function(i){n._renderedRows=i},function(){return n._renderedRows}),n.hasActionCellInRowsValues={},n.build(),n}return t.prototype.getIsAnimationAllowed=function(){return r.prototype.getIsAnimationAllowed.call(this)&&this.matrix.animationAllowed},t.prototype.getRenderedRowsAnimationOptions=function(){var e=this,n=function(o){o.querySelectorAll(":scope > td > *").forEach(function(l){Tt(l)})},i=function(o){o.querySelectorAll(":scope > td > *").forEach(function(l){pt(l)})};return{isAnimationEnabled:function(){return e.animationAllowed},getRerenderEvent:function(){return e.onElementRerendered},getAnimatedElement:function(o){return o.getRootElement()},getLeaveOptions:function(){return{cssClass:e.cssClasses.rowLeave,onBeforeRunAnimation:n,onAfterRunAnimation:i}},getEnterOptions:function(o,l){return{cssClass:e.cssClasses.rowEnter,onBeforeRunAnimation:n,onAfterRunAnimation:i}},getKey:function(o){return o.id}}},t.prototype.updateRenderedRows=function(){this.renderedRows=this.rows},Object.defineProperty(t.prototype,"renderedRows",{get:function(){return this._renderedRows},set:function(e){this.renderedRowsAnimation.sync(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showTable",{get:function(){return this.getPropertyValue("showTable",!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showHeader",{get:function(){return this.getPropertyValue("showHeader")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showAddRow",{get:function(){return this.getPropertyValue("showAddRow",!1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showAddRowOnTop",{get:function(){return this.getPropertyValue("showAddRowOnTop",!1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showAddRowOnBottom",{get:function(){return this.getPropertyValue("showAddRowOnBottom",!1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showFooter",{get:function(){return this.matrix.hasFooter&&this.matrix.isColumnLayoutHorizontal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasFooter",{get:function(){return!!this.footerRow},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasRemoveRows",{get:function(){return this.hasRemoveRowsValue},enumerable:!1,configurable:!0}),t.prototype.isRequireReset=function(){return this.hasRemoveRows!=this.matrix.canRemoveRows||!this.matrix.isColumnLayoutHorizontal},Object.defineProperty(t.prototype,"headerRow",{get:function(){return this.headerRowValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"footerRow",{get:function(){return this.footerRowValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRowsDragAndDrop",{get:function(){return this.matrix.isRowsDragAndDrop&&this.matrix.isColumnLayoutHorizontal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showCellErrorsTop",{get:function(){return this.matrix.getErrorLocation()==="top"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showCellErrorsBottom",{get:function(){return this.matrix.getErrorLocation()==="bottom"},enumerable:!1,configurable:!0}),t.prototype.build=function(){this.hasRemoveRowsValue=this.matrix.canRemoveRows;var e=this.matrix.visibleRows;this.cssClasses=this.matrix.cssClasses,this.buildRowsActions(),this.buildHeader(),this.buildRows(),this.buildFooter(),this.updateShowTableAndAddRow()},t.prototype.updateShowTableAndAddRow=function(){var e=this.rows.length>0||this.matrix.isDesignMode||!this.matrix.getShowColumnsIfEmpty();this.setPropertyValue("showTable",e);var n=this.matrix.canAddRow&&e,i=n,o=n;i&&(this.matrix.getAddRowLocation()==="default"?i=!this.matrix.isColumnLayoutHorizontal:i=this.matrix.getAddRowLocation()!=="bottom"),o&&this.matrix.getAddRowLocation()!=="topBottom"&&(o=!i),this.setPropertyValue("showAddRow",this.matrix.canAddRow),this.setPropertyValue("showAddRowOnTop",i),this.setPropertyValue("showAddRowOnBottom",o)},t.prototype.onAddedRow=function(e,n){if(!(this.getRenderedDataRowCount()>=this.matrix.visibleRows.length)){var i=this.getRenderedRowIndexByIndex(n);this.rowsActions.splice(n,0,this.buildRowActions(e)),this.addHorizontalRow(this.rows,e,i),this.updateShowTableAndAddRow()}},t.prototype.getRenderedRowIndexByIndex=function(e){for(var n=0,i=0,o=0;o<this.rows.length;o++){if(i===e){(this.rows[o].isErrorsRow||this.rows[o].isDetailRow)&&(n++,o+1<this.rows.length&&this.rows[o+1].isDetailRow&&n++);break}n++,!this.rows[o].isErrorsRow&&!this.rows[o].isDetailRow&&i++}return i<e?this.rows.length:n},t.prototype.getRenderedDataRowCount=function(){for(var e=0,n=0;n<this.rows.length;n++)!this.rows[n].isErrorsRow&&!this.rows[n].isDetailRow&&e++;return e},t.prototype.onRemovedRow=function(e){var n=this.getRenderedRowIndex(e);if(!(n<0)){this.rowsActions.splice(n,1);var i=1;n<this.rows.length-1&&this.showCellErrorsBottom&&this.rows[n+1].isErrorsRow&&i++,n<this.rows.length-1&&(this.rows[n+1].isDetailRow||this.showCellErrorsBottom&&n+1<this.rows.length-1&&this.rows[n+2].isDetailRow)&&i++,n>0&&this.showCellErrorsTop&&this.rows[n-1].isErrorsRow&&(n--,i++),this.rows.splice(n,i),this.updateShowTableAndAddRow()}},t.prototype.onDetailPanelChangeVisibility=function(e,n){var i=this.getRenderedRowIndex(e);if(!(i<0)){var o=i;this.showCellErrorsBottom&&o++;var l=o<this.rows.length-1&&this.rows[o+1].isDetailRow?o+1:-1;if(!(n&&l>-1||!n&&l<0))if(n){var u=this.createDetailPanelRow(e,this.rows[i]);this.rows.splice(o+1,0,u)}else this.rows.splice(l,1)}},t.prototype.focusActionCell=function(e,n){var i=this.rows[this.rows.length-1];if(this.matrix.isColumnLayoutHorizontal){var o=this.getRenderedRowIndex(e);i=this.rows[o]}i?.focusCell(n)},t.prototype.getRenderedRowIndex=function(e){for(var n=0;n<this.rows.length;n++)if(this.rows[n].row==e)return n;return-1},t.prototype.buildRowsActions=function(){this.rowsActions=[];for(var e=this.matrix.visibleRows,n=0;n<e.length;n++)this.rowsActions.push(this.buildRowActions(e[n]))},t.prototype.createRenderedRow=function(e,n){return n===void 0&&(n=!1),new po(e,n)},t.prototype.createErrorRenderedRow=function(e){return new el(e)},t.prototype.buildHeader=function(){var e=this.matrix.isColumnLayoutHorizontal&&this.matrix.showHeader,n=e||this.matrix.hasRowText&&!this.matrix.isColumnLayoutHorizontal;if(this.setPropertyValue("showHeader",n),!!n){if(this.headerRowValue=this.createRenderedRow(this.cssClasses),this.isRowsDragAndDrop&&this.headerRow.cells.push(this.createHeaderCell(null,"action",this.cssClasses.actionsCellDrag)),this.hasActionCellInRows("start")&&this.headerRow.cells.push(this.createHeaderCell(null,"action")),this.matrix.hasRowText&&this.matrix.showHeader&&this.headerRow.cells.push(this.createHeaderCell(null)),this.matrix.isColumnLayoutHorizontal)for(var i=0;i<this.matrix.columns.length;i++){var o=this.matrix.columns[i];o.isColumnVisible&&(this.matrix.IsMultiplyColumn(o)?this.createMutlipleColumnsHeader(o):this.headerRow.cells.push(this.createHeaderCell(o)))}else{for(var l=this.matrix.visibleRows,i=0;i<l.length;i++){var u=this.createTextCell(l[i].locText);this.setHeaderCellCssClasses(u),u.row=l[i],this.headerRow.cells.push(u)}if(this.matrix.hasFooter){var u=this.createTextCell(this.matrix.getFooterText());this.setHeaderCellCssClasses(u),this.headerRow.cells.push(u)}}this.hasActionCellInRows("end")&&this.headerRow.cells.push(this.createHeaderCell(null,"action"))}},t.prototype.buildFooter=function(){if(this.showFooter){if(this.footerRowValue=this.createRenderedRow(this.cssClasses),this.isRowsDragAndDrop&&this.footerRow.cells.push(this.createHeaderCell(null)),this.hasActionCellInRows("start")&&this.footerRow.cells.push(this.createHeaderCell(null,"action")),this.matrix.hasRowText){var e=this.createTextCell(this.matrix.getFooterText());e.className=new F().append(e.className).append(this.cssClasses.footerTotalCell).toString(),this.footerRow.cells.push(e)}for(var n=this.matrix.visibleTotalRow.cells,i=0;i<n.length;i++){var o=n[i];if(o.column.isColumnVisible)if(this.matrix.IsMultiplyColumn(o.column))this.createMutlipleColumnsFooter(this.footerRow,o);else{var l=this.createEditCell(o);o.column&&this.setCellWidth(o.column,l),l.className=new F().append(l.className).append(this.cssClasses.footerCell).toString(),this.footerRow.cells.push(l)}}this.hasActionCellInRows("end")&&this.footerRow.cells.push(this.createHeaderCell(null,"action"))}},t.prototype.buildRows=function(){this.blockAnimations();var e=this.matrix.isColumnLayoutHorizontal?this.buildHorizontalRows():this.buildVerticalRows();this.rows=e,this.releaseAnimations()},t.prototype.hasActionCellInRows=function(e){return this.hasActionCellInRowsValues[e]===void 0&&(this.hasActionCellInRowsValues[e]=this.hasActionsCellInLocaltion(e)),this.hasActionCellInRowsValues[e]},t.prototype.hasActionsCellInLocaltion=function(e){var n=this;return e=="end"&&this.hasRemoveRows?!0:this.matrix.visibleRows.some(function(i,o){return!n.isValueEmpty(n.getRowActions(o,e))})},t.prototype.canRemoveRow=function(e){return this.matrix.canRemoveRow(e)},t.prototype.buildHorizontalRows=function(){for(var e=this.matrix.visibleRows,n=[],i=0;i<e.length;i++)this.addHorizontalRow(n,e[i]);return n},t.prototype.addHorizontalRow=function(e,n,i){i===void 0&&(i=-1);var o=this.createHorizontalRow(n),l=this.createErrorRow(o);if(o.row=n,i<0&&(i=e.length),this.matrix.isMobile){for(var u=[],d=0;d<o.cells.length;d++)this.showCellErrorsTop&&!l.cells[d].isEmpty&&u.push(l.cells[d]),u.push(o.cells[d]),this.showCellErrorsBottom&&!l.cells[d].isEmpty&&u.push(l.cells[d]);o.cells=u,e.splice(i,0,o)}else e.splice.apply(e,df([i,0],this.showCellErrorsTop?[l,o]:[o,l])),i++;n.isDetailPanelShowing&&e.splice(i+1,0,this.createDetailPanelRow(n,o))},t.prototype.getRowDragCell=function(e){var n=new St,i=this.matrix.lockedRowCount;return n.isDragHandlerCell=i<1||e>=i,n.isEmpty=!n.isDragHandlerCell,n.className=this.getActionsCellClassName(n),n.row=this.matrix.visibleRows[e],n},t.prototype.getActionsCellClassName=function(e){var n=this;e===void 0&&(e=null);var i=new F().append(this.cssClasses.actionsCell).append(this.cssClasses.actionsCellDrag,e?.isDragHandlerCell).append(this.cssClasses.detailRowCell,e?.isDetailRowCell).append(this.cssClasses.verticalCell,!this.matrix.isColumnLayoutHorizontal);if(e.isActionsCell){var o=e.item.value.actions;this.cssClasses.actionsCellPrefix&&o.forEach(function(l){i.append(n.cssClasses.actionsCellPrefix+"--"+l.id)})}return i.toString()},t.prototype.getRowActionsCell=function(e,n,i){i===void 0&&(i=!1);var o=this.getRowActions(e,n);if(!this.isValueEmpty(o)){var l=new St,u=this.matrix.allowAdaptiveActions?new Ai:new Vt;this.matrix.survey&&this.matrix.survey.getCss().actionBar&&(u.cssClasses=this.matrix.survey.getCss().actionBar),u.setItems(o);var d=new de(u);return l.item=d,l.isActionsCell=!0,l.isDragHandlerCell=!1,l.isDetailRowCell=i,l.className=this.getActionsCellClassName(l),l.row=this.matrix.visibleRows[e],l}return null},t.prototype.getRowActions=function(e,n){var i=this.rowsActions[e];return Array.isArray(i)?i.filter(function(o){return o.location||(o.location="start"),o.location===n}):[]},t.prototype.buildRowActions=function(e){var n=[];return this.setDefaultRowActions(e,n),this.matrix.survey&&(n=this.matrix.survey.getUpdatedMatrixRowActions(this.matrix,e,n)),n},Object.defineProperty(t.prototype,"showRemoveButtonAsIcon",{get:function(){return R.matrix.renderRemoveAsIcon&&this.matrix.survey&&this.matrix.survey.css.root==="sd-root-modern"},enumerable:!1,configurable:!0}),t.prototype.setDefaultRowActions=function(e,n){var i=this,o=this.matrix;this.hasRemoveRows&&this.canRemoveRow(e)&&(this.showRemoveButtonAsIcon?n.push(new Te({id:"remove-row",iconName:"icon-delete-24x24",iconSize:"auto",component:"sv-action-bar-item",innerCss:new F().append(this.matrix.cssClasses.button).append(this.matrix.cssClasses.buttonRemove).toString(),location:"end",showTitle:!1,title:o.removeRowText,enabled:!o.isInputReadOnly,data:{row:e,question:o},action:function(){o.removeRowUI(e)}})):n.push(new Te({id:"remove-row",location:"end",enabled:!this.matrix.isInputReadOnly,component:"sv-matrix-remove-button",data:{row:e,question:this.matrix}}))),e.hasPanel&&(this.matrix.isMobile?n.unshift(new Te({id:"show-detail-mobile",title:"Show Details",showTitle:!0,location:"end",action:function(l){l.title=e.isDetailPanelShowing?i.matrix.getLocalizationString("showDetails"):i.matrix.getLocalizationString("hideDetails"),e.showHideDetailPanelClick()}})):n.push(new Te({id:"show-detail",title:this.matrix.getLocalizationString("editText"),showTitle:!1,location:"start",component:"sv-matrix-detail-button",data:{row:e,question:this.matrix}})))},t.prototype.createErrorRow=function(e){for(var n=this.createErrorRenderedRow(this.cssClasses),i=0;i<e.cells.length;i++){var o=e.cells[i];o.hasQuestion?this.matrix.IsMultiplyColumn(o.cell.column)?o.isFirstChoice?n.cells.push(this.createErrorCell(o.cell)):n.cells.push(this.createEmptyCell(!0)):n.cells.push(this.createErrorCell(o.cell)):n.cells.push(this.createEmptyCell(!0))}return n.onAfterCreated(),n},t.prototype.createHorizontalRow=function(e){var n=this.createRenderedRow(this.cssClasses);if(this.isRowsDragAndDrop){var i=this.matrix.visibleRows.indexOf(e);n.cells.push(this.getRowDragCell(i))}if(this.addRowActionsCell(e,n,"start"),this.matrix.hasRowText){var o=this.createTextCell(e.locText);o.row=e,n.cells.push(o),this.setCellWidth(null,o),o.className=new F().append(o.className).append(this.cssClasses.rowTextCell).append(this.cssClasses.columnTitleCell,!this.matrix.isColumnLayoutHorizontal).append(this.cssClasses.detailRowText,e.hasPanel).toString()}for(var l=0;l<e.cells.length;l++){var u=e.cells[l];if(u.column.isColumnVisible)if(this.matrix.IsMultiplyColumn(u.column))this.createMutlipleEditCells(n,u);else{u.column.isShowInMultipleColumns&&u.question.visibleChoices.map(function(m){return m.hideCaption=!1});var o=this.createEditCell(u);n.cells.push(o),this.setCellWidth(u.column,o)}}return this.addRowActionsCell(e,n,"end"),n},t.prototype.addRowActionsCell=function(e,n,i){var o=this.matrix.visibleRows.indexOf(e);if(this.hasActionCellInRows(i)){var l=this.getRowActionsCell(o,i,n.isDetailRow);if(l)n.cells.push(l),n.hasEndActions=!0;else{var u=new St;u.isEmpty=!0,u.isDetailRowCell=n.isDetailRow,n.cells.push(u)}}},t.prototype.createDetailPanelRow=function(e,n){var i=this.matrix.isDesignMode,o=this.createRenderedRow(this.cssClasses,!0);o.row=e;var l=new St;this.matrix.hasRowText&&(l.colSpans=2),l.isEmpty=!0,i||o.cells.push(l);var u=null;this.hasActionCellInRows("end")&&(u=new St,u.isEmpty=!0);var d=new St;return d.panel=e.detailPanel,d.colSpans=n.cells.length-(i?0:l.colSpans)-(u?u.colSpans:0),d.className=this.cssClasses.detailPanelCell,o.cells.push(d),u&&(this.matrix.isMobile?this.addRowActionsCell(e,o,"end"):o.cells.push(u)),typeof this.matrix.onCreateDetailPanelRenderedRowCallback=="function"&&this.matrix.onCreateDetailPanelRenderedRowCallback(o),o},t.prototype.buildVerticalRows=function(){for(var e=this.matrix.columns,n=[],i=0;i<e.length;i++){var o=e[i];if(o.isColumnVisible)if(this.matrix.IsMultiplyColumn(o))this.createMutlipleVerticalRows(n,o,i);else{var l=this.createVerticalRow(o,i),u=this.createErrorRow(l);this.showCellErrorsTop?(n.push(u),n.push(l)):(n.push(l),n.push(u))}}return this.hasActionCellInRows("end")&&n.push(this.createEndVerticalActionRow()),n},t.prototype.createMutlipleVerticalRows=function(e,n,i){var o=this.getMultipleColumnChoices(n);if(o)for(var l=0;l<o.length;l++){var u=this.createVerticalRow(n,i,o[l],l),d=this.createErrorRow(u);this.showCellErrorsTop?(e.push(d),e.push(u)):(e.push(u),e.push(d))}},t.prototype.createVerticalRow=function(e,n,i,o){i===void 0&&(i=null),o===void 0&&(o=-1);var l=this.createRenderedRow(this.cssClasses);if(this.matrix.showHeader){var u=i?i.locText:e.locTitle,d=this.createTextCell(u);d.column=e,d.className=new F().append(d.className).append(this.cssClasses.rowTextCell).append(this.cssClasses.columnTitleCell).toString(),l.cells.push(d)}for(var m=this.matrix.visibleRows,w=0;w<m.length;w++){var E=i,A=o>=0?o:w,U=m[w].cells[n],W=i?U.question.visibleChoices:void 0;W&&A<W.length&&(E=W[A]);var se=this.createEditCell(U,E);se.item=E,se.choiceIndex=A,l.cells.push(se)}return this.matrix.hasTotal&&l.cells.push(this.createEditCell(this.matrix.visibleTotalRow.cells[n])),l},t.prototype.createEndVerticalActionRow=function(){var e=this.createRenderedRow(this.cssClasses);this.matrix.showHeader&&e.cells.push(this.createEmptyCell());for(var n=this.matrix.visibleRows,i=0;i<n.length;i++)e.cells.push(this.getRowActionsCell(i,"end"));return this.matrix.hasTotal&&e.cells.push(this.createEmptyCell()),e},t.prototype.createMutlipleEditCells=function(e,n,i){i===void 0&&(i=!1);var o=i?this.getMultipleColumnChoices(n.column):n.question.visibleChoices;if(o)for(var l=0;l<o.length;l++){var u=this.createEditCell(n,i?void 0:o[l]);i||(this.setItemCellCssClasses(u),u.choiceIndex=l),e.cells.push(u)}},t.prototype.setItemCellCssClasses=function(e){e.className=new F().append(this.cssClasses.cell).append(this.cssClasses.itemCell).append(this.cssClasses.radioCell,e.isRadio).append(this.cssClasses.checkboxCell,e.isCheckbox).toString()},t.prototype.createEditCell=function(e,n){n===void 0&&(n=void 0);var i=new St;return i.cell=e,i.row=e.row,i.column=e.column,i.question=e.question,i.matrix=this.matrix,i.item=n,i.isOtherChoice=!!n&&!!e.question&&e.question.otherItem===n,i.className=i.calculateFinalClassName(this.cssClasses),i},t.prototype.createErrorCell=function(e,n){n===void 0&&(n=void 0);var i=new St;return i.question=e.question,i.row=e.row,i.matrix=this.matrix,i.isErrorsCell=!0,i.className=new F().append(this.cssClasses.cell).append(this.cssClasses.errorsCell).append(this.cssClasses.errorsCellTop,this.showCellErrorsTop).append(this.cssClasses.errorsCellBottom,this.showCellErrorsBottom).toString(),i},t.prototype.createMutlipleColumnsFooter=function(e,n){this.createMutlipleEditCells(e,n,!0)},t.prototype.createMutlipleColumnsHeader=function(e){var n=this.getMultipleColumnChoices(e);if(n)for(var i=0;i<n.length;i++){var o=this.createTextCell(n[i].locText);this.setHeaderCell(e,o),this.setHeaderCellCssClasses(o),this.headerRow.cells.push(o)}},t.prototype.getMultipleColumnChoices=function(e){var n=e.templateQuestion.choices;return n&&Array.isArray(n)&&n.length==0?[].concat(this.matrix.choices,e.getVisibleMultipleChoices()):(n=e.getVisibleMultipleChoices(),!n||!Array.isArray(n)?null:n)},t.prototype.setHeaderCellCssClasses=function(e,n,i){e.className=new F().append(this.cssClasses.headerCell).append(this.cssClasses.columnTitleCell,this.matrix.isColumnLayoutHorizontal).append(this.cssClasses.emptyCell,!!e.isEmpty).append(this.cssClasses.cell+"--"+n,!!n).append(i,!!i).toString()},t.prototype.createHeaderCell=function(e,n,i){n===void 0&&(n=null);var o=e?this.createTextCell(e.locTitle):this.createEmptyCell();return o.column=e,this.setHeaderCell(e,o),n||(n=e&&e.cellType!=="default"?e.cellType:this.matrix.cellType),this.setHeaderCellCssClasses(o,n,i),o},t.prototype.setHeaderCell=function(e,n){this.setCellWidth(e,n)},t.prototype.setCellWidth=function(e,n){n.minWidth=e!=null?this.matrix.getColumnWidth(e):this.matrix.getRowTitleWidth(),n.width=e!=null?e.width:this.matrix.getRowTitleWidth()},t.prototype.createTextCell=function(e){var n=new St;return n.locTitle=e,this.cssClasses.cell&&(n.className=this.cssClasses.cell),n},t.prototype.createEmptyCell=function(e){e===void 0&&(e=!1);var n=this.createTextCell(null);return n.isEmpty=!0,n.className=new F().append(this.cssClasses.cell).append(this.cssClasses.emptyCell).append(this.cssClasses.errorsCell,e).toString(),n},ti([Xe({onPush:function(e,n,i){i.updateRenderedRows()},onRemove:function(e,n,i){i.updateRenderedRows()}})],t.prototype,"rows",void 0),ti([Xe()],t.prototype,"_renderedRows",void 0),t}(be),Wi=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ho=function(){function r(t,e,n){this.column=t,this.row=e,this.data=n,this.questionValue=this.createQuestion(t,e,n),this.questionValue.updateCustomWidget(),this.updateCellQuestionTitleDueToAccessebility(e)}return r.prototype.updateCellQuestionTitleDueToAccessebility=function(t){var e=this;this.questionValue.locTitle.onGetTextCallback=function(n){if(!t||!t.getSurvey())return e.questionValue.title;var i=t.getAccessbilityText();return i?e.column.colOwner.getCellAriaLabel(i,e.questionValue.title):e.questionValue.title}},r.prototype.locStrsChanged=function(){this.question.locStrsChanged()},r.prototype.createQuestion=function(t,e,n){var i=this,o=n.createQuestion(this.row,this.column);return o.readOnlyCallback=function(){return!i.row.isRowEnabled()},o.validateValueCallback=function(){return n.validateCell(e,t.name,e.value)},kt.getProperties(t.getType()).forEach(function(l){var u=l.name;t[u]!==void 0&&(o[u]=t[u])}),o},Object.defineProperty(r.prototype,"question",{get:function(){return this.questionValue},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"value",{get:function(){return this.question.value},set:function(t){this.question.value=t},enumerable:!1,configurable:!0}),r.prototype.getQuestionWrapperClassName=function(t){return t},r.prototype.runCondition=function(t,e){this.question.runCondition(t,e)},r}(),ff=function(r){Wi(t,r);function t(e,n,i){var o=r.call(this,e,n,i)||this;return o.column=e,o.row=n,o.data=i,o.updateCellQuestion(),o}return t.prototype.createQuestion=function(e,n,i){var o=L.createClass("expression");return o.setSurveyImpl(n),o},t.prototype.locStrsChanged=function(){this.updateCellQuestion(),r.prototype.locStrsChanged.call(this)},t.prototype.updateCellQuestion=function(){this.question.locCalculation(),this.column.updateCellQuestion(this.question,null,function(e){delete e.defaultValue}),this.question.expression=this.getTotalExpression(),this.question.format=this.column.totalFormat,this.question.currency=this.column.totalCurrency,this.question.displayStyle=this.column.totalDisplayStyle,this.question.maximumFractionDigits=this.column.totalMaximumFractionDigits,this.question.minimumFractionDigits=this.column.totalMinimumFractionDigits,this.question.unlocCalculation(),this.question.runIfReadOnly=!0},t.prototype.getQuestionWrapperClassName=function(e){var n=r.prototype.getQuestionWrapperClassName.call(this,e);if(!n)return n;this.question.expression&&this.question.expression!="''"&&(n+=" "+e+"--expression");var i=this.column.totalAlignment;return i==="auto"&&this.column.cellType==="dropdown"&&(i="left"),n+" "+e+"--"+i},t.prototype.getTotalExpression=function(){if(this.column.totalExpression)return this.column.totalExpression;if(this.column.totalType=="none")return"''";var e=this.column.totalType+"InArray";return Ve.Instance.hasFunction(e)?e+"({self}, '"+this.column.name+"')":""},t}(ho),hf=function(r){Wi(t,r);function t(e,n,i){var o=r.call(this,n)||this;return o.row=e,o.variableName=n,o.parentTextProcessor=i,o}return t.prototype.getParentTextProcessor=function(){return this.parentTextProcessor},Object.defineProperty(t.prototype,"survey",{get:function(){return this.row.getSurvey()},enumerable:!1,configurable:!0}),t.prototype.getValues=function(){return this.row.value},t.prototype.getQuestionByName=function(e){return this.row.getQuestionByName(e)},t.prototype.onCustomProcessText=function(e){return e.name==Ft.IndexVariableName?(e.isExists=!0,e.value=this.row.rowIndex,!0):[Ft.RowValueVariableName,Ft.RowNameVariableName].indexOf(e.name)>-1?(e.isExists=!0,e.value=this.row.rowName,!0):!1},t}(ao),Ft=function(){function r(t,e){var n=this;this.isSettingValue=!1,this.detailPanelValue=null,this.visibleValue=!0,this.cells=[],this.isCreatingDetailPanel=!1,this.data=t,this.subscribeToChanges(e),this.textPreProcessor=new hf(this,r.RowVariableName,t?t.getParentTextProcessor():null),this.showHideDetailPanelClick=function(){if(n.getSurvey().isDesignMode)return!0;n.showHideDetailPanel()},this.idValue=r.getId()}return r.getId=function(){return"srow_"+r.idCounter++},Object.defineProperty(r.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rowName",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dataName",{get:function(){return this.rowName},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return this.rowName},enumerable:!1,configurable:!0}),r.prototype.isRowEnabled=function(){return!0},r.prototype.isRowHasEnabledCondition=function(){return!1},Object.defineProperty(r.prototype,"isVisible",{get:function(){return this.visible&&this.isItemVisible()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"visible",{get:function(){return this.visibleValue},set:function(t){var e;this.visible!==t&&(this.visibleValue=t,(e=this.data)===null||e===void 0||e.onRowVisibilityChanged(this))},enumerable:!1,configurable:!0}),r.prototype.isItemVisible=function(){return!0},Object.defineProperty(r.prototype,"value",{get:function(){for(var t={},e=this.questions,n=0;n<e.length;n++){var i=e[n];i.isEmpty()||(t[i.getValueName()]=i.value),i.comment&&this.getSurvey()&&this.getSurvey().storeOthersAsComment&&(t[i.getValueName()+be.commentSuffix]=i.comment)}return t},set:function(t){this.isSettingValue=!0,this.subscribeToChanges(t);for(var e=this.questions,n=0;n<e.length;n++){var i=e[n],o=this.getCellValue(t,i.getValueName()),l=i.comment,u=t?t[i.getValueName()+be.commentSuffix]:"";u==null&&(u=""),i.updateValueFromSurvey(o),(u||this.isTwoValueEquals(l,i.comment))&&i.updateCommentFromSurvey(u),i.onSurveyValueChanged(o)}this.isSettingValue=!1},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"locText",{get:function(){return null},enumerable:!1,configurable:!0}),r.prototype.getAccessbilityText=function(){return this.locText&&this.locText.renderedHtml},Object.defineProperty(r.prototype,"hasPanel",{get:function(){return this.data?this.data.hasDetailPanel(this):!1},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"detailPanel",{get:function(){return this.detailPanelValue},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"detailPanelId",{get:function(){return this.detailPanel?this.detailPanel.id:""},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isDetailPanelShowing",{get:function(){return this.data?this.data.getIsDetailPanelShowing(this):!1},enumerable:!1,configurable:!0}),r.prototype.setIsDetailPanelShowing=function(t){!t&&this.detailPanel&&this.detailPanel.onHidingContent(),this.data&&this.data.setIsDetailPanelShowing(this,t),this.onDetailPanelShowingChanged&&this.onDetailPanelShowingChanged()},r.prototype.showHideDetailPanel=function(){this.isDetailPanelShowing?this.hideDetailPanel():this.showDetailPanel()},r.prototype.showDetailPanel=function(){this.ensureDetailPanel(),this.detailPanelValue&&this.setIsDetailPanelShowing(!0)},r.prototype.hideDetailPanel=function(t){t===void 0&&(t=!1),this.setIsDetailPanelShowing(!1),t&&(this.detailPanelValue=null)},r.prototype.ensureDetailPanel=function(){if(!this.isCreatingDetailPanel&&!(this.detailPanelValue||!this.hasPanel||!this.data)){this.isCreatingDetailPanel=!0,this.detailPanelValue=this.data.createRowDetailPanel(this);var t=this.detailPanelValue.questions,e=this.data.getRowValue(this.data.getRowIndex(this));if(!D.isValueEmpty(e))for(var n=0;n<t.length;n++){var i=t[n].getValueName(),o=this.editingObj?L.getObjPropertyValue(this.editingObj,i):e[i];D.isValueEmpty(o)||(t[n].value=o)}this.detailPanelValue.setSurveyImpl(this),this.isCreatingDetailPanel=!1}},r.prototype.getAllValues=function(){return this.value},r.prototype.getFilteredValues=function(){var t=this.data?this.data.getDataFilteredValues():{},e=this.validationValues;if(e)for(var n in e)t[n]=e[n];return t.row=this.getAllValues(),this.applyRowVariablesToValues(t,this.rowIndex),t},r.prototype.getFilteredProperties=function(){return{survey:this.getSurvey(),row:this}},r.prototype.applyRowVariablesToValues=function(t,e){t[r.IndexVariableName]=e,t[r.RowValueVariableName]=this.rowName,t[r.RowNameVariableName]=this.rowName},r.prototype.runCondition=function(t,e,n){if(this.data){t[r.OwnerVariableName]=this.data.getFilteredData();var i=this.rowIndex;this.applyRowVariablesToValues(t,i);var o=D.createCopy(e);o[r.RowVariableName]=this;var l=i>0?this.data.getRowValue(this.rowIndex-1):this.value;n?(t[r.RowVariableName]=l,this.setRowsVisibleIfValues(t),this.visible=new rt(n).run(t,e)):this.visible=!0;for(var u=0;u<this.cells.length;u++)u>0&&Dn(this.value,l),t[r.RowVariableName]=l,this.cells[u].runCondition(t,o);this.detailPanel&&this.detailPanel.runCondition(t,o),this.isRowHasEnabledCondition()&&this.onQuestionReadOnlyChanged()}},r.prototype.updateElementVisibility=function(){this.cells.forEach(function(t){return t.question.updateElementVisibility()}),this.detailPanel&&this.detailPanel.updateElementVisibility()},r.prototype.setRowsVisibleIfValues=function(t){},r.prototype.getNamesWithDefaultValues=function(){var t=[];return this.questions.forEach(function(e){e.isValueDefault&&t.push(e.getValueName())}),t},r.prototype.clearValue=function(t){for(var e=this.questions,n=0;n<e.length;n++)e[n].clearValue(t)},r.prototype.onAnyValueChanged=function(t,e){for(var n=this.questions,i=0;i<n.length;i++)n[i].onAnyValueChanged(t,e)},r.prototype.getDataValueCore=function(t,e){var n=this.getSurvey();return n?n.getDataValueCore(t,e):t[e]},r.prototype.getValue=function(t){var e=this.getQuestionByName(t);return e?e.value:null},r.prototype.setValue=function(t,e){this.setValueCore(t,e,!1)},r.prototype.getVariable=function(t){},r.prototype.setVariable=function(t,e){},r.prototype.getComment=function(t){var e=this.getQuestionByName(t);return e?e.comment:""},r.prototype.setComment=function(t,e,n){this.setValueCore(t,e,!0)},r.prototype.findQuestionByName=function(t){if(t){var e=r.RowVariableName+".";if(t.indexOf(e)===0)return this.getQuestionByName(t.substring(e.length));var n=this.getSurvey();return n?n.getQuestionByName(t):null}},r.prototype.getEditingSurveyElement=function(){},r.prototype.setValueCore=function(t,e,n){if(!this.isSettingValue){this.updateQuestionsValue(t,e,n),n||this.updateSharedQuestionsValue(t,e);var i=this.value,o=n?t+be.commentSuffix:t,l=e,u=this.getQuestionByName(t),d=this.data.onRowChanging(this,o,i);if(u&&!this.isTwoValueEquals(d,l)&&(this.isSettingValue=!0,n?u.comment=d:u.value=d,this.isSettingValue=!1,i=this.value),!(this.data.isValidateOnValueChanging&&this.hasQuestonError(u))){var m=e==null&&!u||n&&!e&&!!u;this.data.onRowChanged(this,o,i,m),o&&this.runTriggers($i.RowVariableName+"."+o,i),this.onAnyValueChanged(r.RowVariableName,"")}}},r.prototype.updateQuestionsValue=function(t,e,n){if(this.detailPanel){var i=this.getQuestionByColumnName(t),o=this.detailPanel.getQuestionByName(t);if(!(!i||!o)){var l=this.isTwoValueEquals(e,n?i.comment:i.value),u=l?o:i;this.isSettingValue=!0,n?u.comment=e:u.value=e,this.isSettingValue=!1}}},r.prototype.updateSharedQuestionsValue=function(t,e){var n=this.getQuestionsByValueName(t);if(n.length>1)for(var i=0;i<n.length;i++)D.isTwoValueEquals(n[i].value,e)||(this.isSettingValue=!0,n[i].updateValueFromSurvey(e),this.isSettingValue=!1)},r.prototype.runTriggers=function(t,e){t&&this.questions.forEach(function(n){return n.runTriggers(t,e)})},r.prototype.hasQuestonError=function(t){if(!t)return!1;if(t.hasErrors(!0,{isOnValueChanged:!this.data.isValidateOnValueChanging}))return!0;if(t.isEmpty())return!1;var e=this.getCellByColumnName(t.name);return!e||!e.column||!e.column.isUnique?!1:this.data.checkIfValueInRowDuplicated(this,t)},Object.defineProperty(r.prototype,"isEmpty",{get:function(){var t=this.value;if(D.isValueEmpty(t))return!0;for(var e in t)if(t[e]!==void 0&&t[e]!==null)return!1;return!0},enumerable:!1,configurable:!0}),r.prototype.getQuestionByColumn=function(t){var e=this.getCellByColumn(t);return e?e.question:null},r.prototype.getCellByColumn=function(t){for(var e=0;e<this.cells.length;e++)if(this.cells[e].column==t)return this.cells[e];return null},r.prototype.getCellByColumnName=function(t){for(var e=0;e<this.cells.length;e++)if(this.cells[e].column.name==t)return this.cells[e];return null},r.prototype.getQuestionByColumnName=function(t){var e=this.getCellByColumnName(t);return e?e.question:null},Object.defineProperty(r.prototype,"questions",{get:function(){for(var t=[],e=0;e<this.cells.length;e++)t.push(this.cells[e].question);for(var n=this.detailPanel?this.detailPanel.questions:[],e=0;e<n.length;e++)t.push(n[e]);return t},enumerable:!1,configurable:!0}),r.prototype.getQuestionByName=function(t){var e=this.getQuestionByColumnName(t);return e||(this.detailPanel?this.detailPanel.getQuestionByName(t):null)},r.prototype.getQuestionsByName=function(t){var e=[],n=this.getQuestionByColumnName(t);return n&&e.push(n),this.detailPanel&&(n=this.detailPanel.getQuestionByName(t),n&&e.push(n)),e},r.prototype.getQuestionsByValueName=function(t){for(var e=[],n=0;n<this.cells.length;n++){var i=this.cells[n];i.question&&i.question.getValueName()===t&&e.push(i.question)}return this.detailPanel&&(e=e.concat(this.detailPanel.getQuestionsByValueName(t))),e},r.prototype.getSharedQuestionByName=function(t){return this.data?this.data.getSharedQuestionByName(t,this):null},r.prototype.clearIncorrectValues=function(t){for(var e in t){var n=this.getQuestionByName(e);if(n){var i=n.value;n.clearIncorrectValues(),this.isTwoValueEquals(i,n.value)||this.setValue(e,n.value)}else!this.getSharedQuestionByName(e)&&e.indexOf(R.matrix.totalsSuffix)<0&&this.setValue(e,null)}},r.prototype.getLocale=function(){return this.data?this.data.getLocale():""},r.prototype.getMarkdownHtml=function(t,e){return this.data?this.data.getMarkdownHtml(t,e):void 0},r.prototype.getRenderer=function(t){return this.data?this.data.getRenderer(t):null},r.prototype.getRendererContext=function(t){return this.data?this.data.getRendererContext(t):t},r.prototype.getProcessedText=function(t){return this.data?this.data.getProcessedText(t):t},r.prototype.locStrsChanged=function(){for(var t=0;t<this.cells.length;t++)this.cells[t].locStrsChanged();this.detailPanel&&this.detailPanel.locStrsChanged()},r.prototype.updateCellQuestionOnColumnChanged=function(t,e,n){var i=this.getCellByColumn(t);i&&this.updateCellOnColumnChanged(i,e,n)},r.prototype.updateCellQuestionOnColumnItemValueChanged=function(t,e,n,i,o,l){var u=this.getCellByColumn(t);u&&this.updateCellOnColumnItemValueChanged(u,e,n,i,o,l)},r.prototype.onQuestionReadOnlyChanged=function(){for(var t=this.questions,e=0;e<t.length;e++){var n=t[e];n.setPropertyValue("isReadOnly",n.isReadOnly)}if(this.detailPanel){var i=!!this.data&&this.data.isMatrixReadOnly();this.detailPanel.readOnly=i||!this.isRowEnabled()}},r.prototype.hasErrors=function(t,e,n){var i=!1,o=this.cells;if(!o)return i;this.validationValues=e.validationValues;for(var l=0;l<o.length;l++)if(o[l]){var u=o[l].question;!u||!u.visible||(u.onCompletedAsyncValidators=function(m){n()},!(e&&e.isOnValueChanged===!0&&u.isEmpty())&&(i=u.hasErrors(t,e)||i))}if(this.hasPanel){this.ensureDetailPanel();var d=this.detailPanel.hasErrors(t,!1,e);!e.hideErroredPanel&&d&&t&&(e.isSingleDetailPanel&&(e.hideErroredPanel=!0),this.showDetailPanel()),i=d||i}return this.validationValues=void 0,i},r.prototype.updateCellOnColumnChanged=function(t,e,n){e==="choices"&&Array.isArray(n)&&n.length===0&&this.data&&(n=this.data.choices),t.question[e]=n},r.prototype.updateCellOnColumnItemValueChanged=function(t,e,n,i,o,l){var u=t.question[e];if(Array.isArray(u)){var d=i==="value"?l:n.value,m=de.getItemByValue(u,d);m&&(m[i]=o)}},r.prototype.buildCells=function(t){this.isSettingValue=!0;for(var e=this.data.columns,n=0;n<e.length;n++){var i=e[n],o=this.createCell(i);this.cells.push(o);var l=this.getCellValue(t,i.name);if(!D.isValueEmpty(l)){o.question.value=l;var u=i.name+be.commentSuffix;t&&!D.isValueEmpty(t[u])&&(o.question.comment=t[u])}}this.isSettingValue=!1},r.prototype.isTwoValueEquals=function(t,e){return D.isTwoValueEquals(t,e,!1,!0,!1)},r.prototype.getCellValue=function(t,e){return this.editingObj?L.getObjPropertyValue(this.editingObj,e):t?t[e]:void 0},r.prototype.createCell=function(t){return new ho(t,this,this.data)},r.prototype.getSurveyData=function(){return this},r.prototype.getSurvey=function(){return this.data?this.data.getSurvey():null},r.prototype.getTextProcessor=function(){return this.textPreProcessor},Object.defineProperty(r.prototype,"rowIndex",{get:function(){return this.getRowIndex()},enumerable:!1,configurable:!0}),r.prototype.getRowIndex=function(){return this.data?this.data.getRowIndex(this)+1:-1},Object.defineProperty(r.prototype,"editingObj",{get:function(){return this.editingObjValue},enumerable:!1,configurable:!0}),r.prototype.dispose=function(){this.editingObj&&(this.editingObj.onPropertyChanged.remove(this.onEditingObjPropertyChanged),this.editingObjValue=null)},r.prototype.subscribeToChanges=function(t){var e=this;!t||!t.getType||!t.onPropertyChanged||t!==this.editingObj&&(this.editingObjValue=t,this.onEditingObjPropertyChanged=function(n,i){e.updateOnSetValue(i.name,i.newValue)},this.editingObj.onPropertyChanged.add(this.onEditingObjPropertyChanged))},r.prototype.updateOnSetValue=function(t,e){this.isSettingValue=!0;for(var n=this.getQuestionsByName(t),i=0;i<n.length;i++)n[i].value=e;this.isSettingValue=!1},r.RowVariableName="row",r.OwnerVariableName="self",r.IndexVariableName="rowIndex",r.RowValueVariableName="rowValue",r.RowNameVariableName="rowName",r.idCounter=1,r}(),$i=function(r){Wi(t,r);function t(e){var n=r.call(this,e,null)||this;return n.buildCells(null),n}return t.prototype.createCell=function(e){return new ff(e,this,this.data)},t.prototype.setValue=function(e,n){this.data&&!this.isSettingValue&&this.data.onTotalValueChanged()},t.prototype.runCondition=function(e,n,i){var o=0,l;do l=D.getUnbindValue(this.value),r.prototype.runCondition.call(this,e,n,""),o++;while(!D.isTwoValueEquals(l,this.value)&&o<3)},t.prototype.updateCellOnColumnChanged=function(e,n,i){e.updateCellQuestion()},t}(Ft),An=function(r){Wi(t,r);function t(e){var n=r.call(this,e)||this;return n.isRowChanging=!1,n.lockResetRenderedTable=!1,n.isDoingonAnyValueChanged=!1,n.createItemValues("choices"),n.createLocalizableString("placeholder",n,!1,!0),n.createLocalizableString("keyDuplicationError",n,!1,!0),n.detailPanelValue=n.createNewDetailPanel(),n.detailPanel.selectedElementInDesign=n,n.detailPanel.renderWidth="100%",n.detailPanel.isInteractiveDesignElement=!1,n.detailPanel.showTitle=!1,n.registerPropertyChangedHandlers(["columns","cellType"],function(){n.updateColumnsAndRows()}),n.registerPropertyChangedHandlers(["placeholder","columnColCount","rowTitleWidth","choices"],function(){n.clearRowsAndResetRenderedTable()}),n.registerPropertyChangedHandlers(["transposeData","addRowLocation","hideColumnsIfEmpty","showHeader","minRowCount","isReadOnly","rowCount","hasFooter","detailPanelMode","displayMode"],function(){n.resetRenderedTable()}),n}return Object.defineProperty(t,"defaultCellType",{get:function(){return R.matrix.defaultCellType},set:function(e){R.matrix.defaultCellType=e},enumerable:!1,configurable:!0}),t.addDefaultColumns=function(e){for(var n=Se.DefaultColums,i=0;i<n.length;i++)e.addColumn(n[i])},t.prototype.createColumnValues=function(){var e=this;return this.createNewArray("columns",function(n){n.colOwner=e,e.onAddColumn&&e.onAddColumn(n),e.survey&&e.survey.matrixColumnAdded(e,n)},function(n){n.colOwner=null,e.onRemoveColumn&&e.onRemoveColumn(n)})},t.prototype.getType=function(){return"matrixdropdownbase"},t.prototype.dispose=function(){r.prototype.dispose.call(this),this.clearGeneratedRows()},Object.defineProperty(t.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRowsDynamic",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUpdateLocked",{get:function(){return this.isLoadingFromJson||this.isUpdating},enumerable:!1,configurable:!0}),t.prototype.beginUpdate=function(){this.isUpdating=!0},t.prototype.endUpdate=function(){this.isUpdating=!1,this.updateColumnsAndRows()},t.prototype.updateColumnsAndRows=function(){this.updateColumnsIndexes(this.columns),this.updateColumnsCellType(),this.generatedTotalRow=null,this.clearRowsAndResetRenderedTable()},t.prototype.itemValuePropertyChanged=function(e,n,i,o){r.prototype.itemValuePropertyChanged.call(this,e,n,i,o),e.ownerPropertyName==="choices"&&this.clearRowsAndResetRenderedTable()},Object.defineProperty(t.prototype,"transposeData",{get:function(){return this.getPropertyValue("transposeData")},set:function(e){this.setPropertyValue("transposeData",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnLayout",{get:function(){return this.transposeData?"vertical":"horizontal"},set:function(e){this.transposeData=e==="vertical"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnsLocation",{get:function(){return this.columnLayout},set:function(e){this.columnLayout=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"detailErrorLocation",{get:function(){return this.getPropertyValue("detailErrorLocation")},set:function(e){this.setPropertyValue("detailErrorLocation",e.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cellErrorLocation",{get:function(){return this.getPropertyValue("cellErrorLocation")},set:function(e){this.setPropertyValue("cellErrorLocation",e.toLowerCase())},enumerable:!1,configurable:!0}),t.prototype.getChildErrorLocation=function(e){var n=e.parent?this.detailErrorLocation:this.cellErrorLocation;return n!=="default"?n:r.prototype.getChildErrorLocation.call(this,e)},Object.defineProperty(t.prototype,"isColumnLayoutHorizontal",{get:function(){return this.isMobile?!0:!this.transposeData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUniqueCaseSensitive",{get:function(){return this.isUniqueCaseSensitiveValue!==void 0?this.isUniqueCaseSensitiveValue:R.comparator.caseSensitive},set:function(e){this.isUniqueCaseSensitiveValue=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"detailPanelMode",{get:function(){return this.getPropertyValue("detailPanelMode")},set:function(e){this.setPropertyValue("detailPanelMode",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"detailPanel",{get:function(){return this.detailPanelValue},enumerable:!1,configurable:!0}),t.prototype.getPanel=function(){return this.detailPanel},Object.defineProperty(t.prototype,"detailElements",{get:function(){return this.detailPanel.elements},enumerable:!1,configurable:!0}),t.prototype.createNewDetailPanel=function(){return L.createClass("panel")},Object.defineProperty(t.prototype,"hasRowText",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.getFooterText=function(){return null},Object.defineProperty(t.prototype,"canAddRow",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canRemoveRows",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.canRemoveRow=function(e){return!0},t.prototype.onPointerDown=function(e,n){},t.prototype.onRowsChanged=function(){this.clearVisibleRows(),this.resetRenderedTable(),r.prototype.onRowsChanged.call(this)},t.prototype.onStartRowAddingRemoving=function(){this.lockResetRenderedTable=!0,this.setValueChangedDirectly(!0)},t.prototype.onEndRowAdding=function(){if(this.lockResetRenderedTable=!1,!!this.renderedTable)if(this.renderedTable.isRequireReset())this.resetRenderedTable();else{var e=this.visibleRows.length-1;this.renderedTable.onAddedRow(this.visibleRows[e],e)}},t.prototype.onEndRowRemoving=function(e){this.lockResetRenderedTable=!1,this.renderedTable.isRequireReset()?this.resetRenderedTable():e&&this.renderedTable.onRemovedRow(e)},Object.defineProperty(t.prototype,"renderedTableValue",{get:function(){return this.getPropertyValue("renderedTable",null)},set:function(e){this.setPropertyValue("renderedTable",e)},enumerable:!1,configurable:!0}),t.prototype.clearRowsAndResetRenderedTable=function(){this.clearGeneratedRows(),this.resetRenderedTable(),this.fireCallback(this.columnsChangedCallback)},t.prototype.resetRenderedTable=function(){this.lockResetRenderedTable||this.isUpdateLocked||(this.renderedTableValue=null,this.fireCallback(this.onRenderedTableResetCallback))},t.prototype.clearGeneratedRows=function(){if(this.clearVisibleRows(),!!this.generatedVisibleRows){for(var e=0;e<this.generatedVisibleRows.length;e++)this.generatedVisibleRows[e].dispose();r.prototype.clearGeneratedRows.call(this)}},Object.defineProperty(t.prototype,"isRendredTableCreated",{get:function(){return!!this.renderedTableValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedTable",{get:function(){return this.renderedTableValue||(this.renderedTableValue=this.createRenderedTable(),this.onRenderedTableCreatedCallback&&this.onRenderedTableCreatedCallback(this.renderedTableValue)),this.renderedTableValue},enumerable:!1,configurable:!0}),t.prototype.createRenderedTable=function(){return new fo(this)},t.prototype.onMatrixRowCreated=function(e){if(this.survey)for(var n={rowValue:e.value,row:e,column:null,columnName:null,cell:null,cellQuestion:null,value:null},i=0;i<this.columns.length;i++){n.column=this.columns[i],n.columnName=n.column.name;var o=e.cells[i];n.cell=o,n.cellQuestion=o.question,n.value=o.value,this.onCellCreatedCallback&&this.onCellCreatedCallback(n),this.survey.matrixCellCreated(this,n)}},Object.defineProperty(t.prototype,"cellType",{get:function(){return this.getPropertyValue("cellType",R.matrix.defaultCellType)},set:function(e){e=e.toLowerCase(),this.setPropertyValue("cellType",e)},enumerable:!1,configurable:!0}),t.prototype.isSelectCellType=function(){return L.isDescendantOf(this.cellType,"selectbase")},t.prototype.updateColumnsCellType=function(){for(var e=0;e<this.columns.length;e++)this.columns[e].defaultCellTypeChanged()},t.prototype.updateColumnsIndexes=function(e){for(var n=0;n<e.length;n++)e[n].setIndex(n)},Object.defineProperty(t.prototype,"columnColCount",{get:function(){return this.getPropertyValue("columnColCount")},set:function(e){e<0||e>4||this.setPropertyValue("columnColCount",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"horizontalScroll",{get:function(){return this.getPropertyValue("horizontalScroll")},set:function(e){this.setPropertyValue("horizontalScroll",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowAdaptiveActions",{get:function(){return this.getPropertyValue("allowAdaptiveActions")},set:function(e){this.setPropertyValue("allowAdaptiveActions",e),this.detailPanel&&(this.detailPanel.allowAdaptiveActions=e)},enumerable:!1,configurable:!0}),t.prototype.getRequiredText=function(){return this.survey?this.survey.requiredText:""},t.prototype.hasChoices=function(){return this.choices.length>0},t.prototype.onColumnPropertyChanged=function(e,n,i){if(this.updateHasFooter(),!!this.generatedVisibleRows){for(var o=0;o<this.generatedVisibleRows.length;o++)this.generatedVisibleRows[o].updateCellQuestionOnColumnChanged(e,n,i);this.generatedTotalRow&&this.generatedTotalRow.updateCellQuestionOnColumnChanged(e,n,i),this.onColumnsChanged(),n=="isRequired"&&this.resetRenderedTable()}},t.prototype.onColumnItemValuePropertyChanged=function(e,n,i,o,l,u){if(this.generatedVisibleRows)for(var d=0;d<this.generatedVisibleRows.length;d++)this.generatedVisibleRows[d].updateCellQuestionOnColumnItemValueChanged(e,n,i,o,l,u)},t.prototype.onShowInMultipleColumnsChanged=function(e){this.resetTableAndRows()},t.prototype.onColumnVisibilityChanged=function(e){this.resetTableAndRows()},t.prototype.onColumnCellTypeChanged=function(e){this.resetTableAndRows()},t.prototype.resetTableAndRows=function(){this.clearGeneratedRows(),this.resetRenderedTable()},t.prototype.getRowTitleWidth=function(){return""},Object.defineProperty(t.prototype,"hasFooter",{get:function(){return this.getPropertyValue("hasFooter",!1)},enumerable:!1,configurable:!0}),t.prototype.getAddRowLocation=function(){return"default"},t.prototype.getShowColumnsIfEmpty=function(){return!1},t.prototype.updateShowTableAndAddRow=function(){this.renderedTable&&this.renderedTable.updateShowTableAndAddRow()},t.prototype.updateHasFooter=function(){this.setPropertyValue("hasFooter",this.hasTotal)},Object.defineProperty(t.prototype,"hasTotal",{get:function(){for(var e=0;e<this.columns.length;e++)if(this.columns[e].hasTotal)return!0;return!1},enumerable:!1,configurable:!0}),t.prototype.getCellType=function(){return this.cellType},t.prototype.getCustomCellType=function(e,n,i){if(!this.survey)return i;var o={rowValue:n.value,row:n,column:e,columnName:e.name,cellType:i};return this.survey.matrixCellCreating(this,o),o.cellType},t.prototype.getConditionJson=function(e,n){if(e===void 0&&(e=null),n===void 0&&(n=null),!n)return r.prototype.getConditionJson.call(this,e);for(var i="",o=n.length-1;o>=0&&n[o]!=".";o--)i=n[o]+i;var l=void 0,u=this.getColumnByName(i);return u?l=u.createCellQuestion(null):this.detailPanelMode!=="none"&&(l=this.detailPanel.getQuestionByName(i)),l?l.getConditionJson(e):null},t.prototype.clearIncorrectValues=function(){if(Array.isArray(this.visibleRows))for(var e=this.generatedVisibleRows,n=0;n<e.length;n++)e[n].clearIncorrectValues(this.getRowValue(n))},t.prototype.clearErrors=function(){r.prototype.clearErrors.call(this),this.runFuncForCellQuestions(function(e){e.clearErrors()})},t.prototype.localeChanged=function(){r.prototype.localeChanged.call(this),this.runFuncForCellQuestions(function(e){e.localeChanged()})},t.prototype.runFuncForCellQuestions=function(e){if(this.generatedVisibleRows)for(var n=0;n<this.generatedVisibleRows.length;n++)for(var i=this.generatedVisibleRows[n],o=0;o<i.cells.length;o++)e(i.cells[o].question)},t.prototype.runCondition=function(e,n){var i=e[Ft.RowVariableName];r.prototype.runCondition.call(this,e,n);var o=0,l;do l=D.getUnbindValue(this.totalValue),this.runCellsCondition(e,n),this.runTotalsCondition(e,n),o++;while(!D.isTwoValueEquals(l,this.totalValue)&&o<3);this.updateVisibilityBasedOnRows(),e[Ft.RowVariableName]=i},t.prototype.runTriggers=function(e,n,i){r.prototype.runTriggers.call(this,e,n,i),this.runFuncForCellQuestions(function(o){o.runTriggers(e,n,i)})},t.prototype.updateElementVisibility=function(){r.prototype.updateElementVisibility.call(this);var e=this.generatedVisibleRows;e&&e.forEach(function(n){return n.updateElementVisibility()})},t.prototype.shouldRunColumnExpression=function(){return!1},t.prototype.runCellsCondition=function(e,n){var i=this.generatedVisibleRows;if(i)for(var o=this.getRowConditionValues(e),l=0;l<i.length;l++)i[l].runCondition(o,n,this.rowsVisibleIf);this.checkColumnsVisibility(),this.checkColumnsRenderedRequired()},t.prototype.runConditionsForColumns=function(e,n){var i=this;return this.columns.forEach(function(o){if(!i.columnsVisibleIf)o.isColumnsVisibleIf=!0;else{var l=new rt(i.columnsVisibleIf);e.item=o.name,o.isColumnsVisibleIf=l.run(e,n)===!0}}),!1},t.prototype.checkColumnsVisibility=function(){if(!this.isDesignMode){for(var e=!1,n=0;n<this.columns.length;n++){var i=this.columns[n],o=!!i.visibleIf||i.isFilteredMultipleColumns;!o&&!this.columnsVisibleIf&&i.isColumnVisible||(e=this.isColumnVisibilityChanged(i,o)||e)}e&&this.resetRenderedTable()}},t.prototype.checkColumnsRenderedRequired=function(){var e=this.generatedVisibleRows;if(e)for(var n=0;n<this.columns.length;n++){var i=this.columns[n];if(!(!i.requiredIf||!i.isColumnVisible)){for(var o=e.length>0,l=0;l<e.length;l++)if(!e[l].cells[n].question.isRequired){o=!1;break}i.updateIsRenderedRequired(o)}}},t.prototype.isColumnVisibilityChanged=function(e,n){var i=e.isColumnVisible,o=!n,l=this.generatedVisibleRows,u=n&&l,d=u&&e.isFilteredMultipleColumns,m=d?e.getVisibleChoicesInCell:[],w=new Array;if(u)for(var E=0;E<l.length;E++){var A=l[E].cells[e.index],U=A?.question;if(U&&U.isVisible)if(o=!0,d)this.updateNewVisibleChoices(U,w);else break}return e.hasVisibleCell=o&&e.isColumnsVisibleIf,d&&(e.setVisibleChoicesInCell(w),!D.isArraysEqual(m,w,!0,!1,!1))?!0:i!==e.isColumnVisible},t.prototype.updateNewVisibleChoices=function(e,n){var i=e.visibleChoices;if(Array.isArray(i))for(var o=0;o<i.length;o++){var l=i[o];n.indexOf(l.value)<0&&n.push(l.value)}},t.prototype.runTotalsCondition=function(e,n){this.generatedTotalRow&&this.generatedTotalRow.runCondition(this.getRowConditionValues(e),n)},t.prototype.getRowConditionValues=function(e){var n=e;n||(n={});var i={};return this.isValueEmpty(this.totalValue)||(i=JSON.parse(JSON.stringify(this.totalValue))),n.row={},n.totalRow=i,n},t.prototype.IsMultiplyColumn=function(e){return e.isShowInMultipleColumns&&!this.isMobile},t.prototype.locStrsChanged=function(){r.prototype.locStrsChanged.call(this);for(var e=this.columns,n=0;n<e.length;n++)e[n].locStrsChanged();var i=this.generatedVisibleRows;if(i){for(var n=0;n<i.length;n++)i[n].locStrsChanged();this.generatedTotalRow&&this.generatedTotalRow.locStrsChanged()}},t.prototype.getColumnByName=function(e){for(var n=0;n<this.columns.length;n++)if(this.columns[n].name==e)return this.columns[n];return null},t.prototype.getColumnName=function(e){return this.getColumnByName(e)},t.prototype.getColumnWidth=function(e){var n;return e.minWidth?e.minWidth:this.columnMinWidth?this.columnMinWidth:((n=R.matrix.columnWidthsByType[e.cellType])===null||n===void 0?void 0:n.minWidth)||""},Object.defineProperty(t.prototype,"choices",{get:function(){return this.getPropertyValue("choices")},set:function(e){this.setPropertyValue("choices",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this.getLocalizableStringText("placeholder")},set:function(e){this.setLocalizableStringText("placeholder",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPlaceholder",{get:function(){return this.getLocalizableString("placeholder")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"optionsCaption",{get:function(){return this.placeholder},set:function(e){this.placeholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keyDuplicationError",{get:function(){return this.getLocalizableStringText("keyDuplicationError")},set:function(e){this.setLocalizableStringText("keyDuplicationError",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locKeyDuplicationError",{get:function(){return this.getLocalizableString("keyDuplicationError")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storeOthersAsComment",{get:function(){return this.survey?this.survey.storeOthersAsComment:!1},enumerable:!1,configurable:!0}),t.prototype.addColumn=function(e,n){var i=new ei(e,n,this);return this.columns.push(i),i},t.prototype.clearVisibleRows=function(){this.visibleRowsArray=null},t.prototype.isColumnVisible=function(e){return e.isColumnVisible},t.prototype.getVisibleRows=function(){return this.isUpdateLocked?null:this.isGenereatingRows?[]:this.visibleRowsArray?this.visibleRowsArray:(this.generateVisibleRowsIfNeeded(),this.visibleRowsArray=this.getVisibleFromGenerated(this.generatedVisibleRows),this.visibleRowsArray)},t.prototype.generateVisibleRowsIfNeeded=function(){var e=this;!this.isUpdateLocked&&!this.generatedVisibleRows&&!this.generatedVisibleRows&&(this.isGenereatingRows=!0,this.generatedVisibleRows=this.generateRows(),this.isGenereatingRows=!1,this.generatedVisibleRows.forEach(function(n){return e.onMatrixRowCreated(n)}),this.data&&this.runCellsCondition(this.data.getFilteredValues(),this.data.getFilteredProperties()),this.generatedVisibleRows&&(this.updateValueOnRowsGeneration(this.generatedVisibleRows),this.updateIsAnswered()))},t.prototype.getVisibleFromGenerated=function(e){var n=[];return e?(e.forEach(function(i){i.isVisible&&n.push(i)}),n.length===e.length?e:n):n},t.prototype.updateValueOnRowsGeneration=function(e){for(var n=this.createNewValue(!0),i=this.createNewValue(),o=0;o<e.length;o++){var l=e[o];if(!l.editingObj){var u=this.getRowValue(o),d=l.value;this.isTwoValueEquals(u,d)||(i=this.getNewValueOnRowChanged(l,"",d,!1,i).value)}}this.isTwoValueEquals(n,i)||(this.isRowChanging=!0,this.setNewValue(i),this.isRowChanging=!1)},Object.defineProperty(t.prototype,"totalValue",{get:function(){return!this.hasTotal||!this.visibleTotalRow?{}:this.visibleTotalRow.value},enumerable:!1,configurable:!0}),t.prototype.getVisibleTotalRow=function(){if(this.isUpdateLocked)return null;if(this.hasTotal){if(!this.generatedTotalRow&&(this.generatedTotalRow=this.generateTotalRow(),this.data)){var e={survey:this.survey};this.runTotalsCondition(this.data.getAllValues(),e)}}else this.generatedTotalRow=null;return this.generatedTotalRow},Object.defineProperty(t.prototype,"visibleTotalRow",{get:function(){return this.getVisibleTotalRow()},enumerable:!1,configurable:!0}),t.prototype.onSurveyLoad=function(){r.prototype.onSurveyLoad.call(this),this.updateColumnsIndexes(this.columns),this.clearGeneratedRows(),this.generatedTotalRow=null,this.updateHasFooter()},t.prototype.getRowValue=function(e){if(e<0||!Array.isArray(this.visibleRows))return null;var n=this.generatedVisibleRows;if(e>=n.length)return null;var i=this.createNewValue();return this.getRowValueCore(n[e],i)},t.prototype.checkIfValueInRowDuplicated=function(e,n){return this.generatedVisibleRows?this.isValueInColumnDuplicated(n.name,!0,e):!1},t.prototype.setRowValue=function(e,n){if(e<0)return null;var i=this.visibleRows;if(e>=i.length)return null;i[e].value=n,this.onRowChanged(i[e],"",n,!1)},t.prototype.generateRows=function(){return null},t.prototype.generateTotalRow=function(){return new $i(this)},t.prototype.createNewValue=function(e){e===void 0&&(e=!1);var n=this.value?this.createValueCopy():{};return e&&this.isMatrixValueEmpty(n)?null:n},t.prototype.getRowValueCore=function(e,n,i){i===void 0&&(i=!1);var o=n&&n[e.rowName]?n[e.rowName]:null;return!o&&i&&(o={},n&&(n[e.rowName]=o)),o},t.prototype.getRowObj=function(e){var n=this.getRowValueCore(e,this.value);return n&&n.getType?n:null},t.prototype.getRowDisplayValue=function(e,n,i){if(!i||n.editingObj)return i;for(var o=Object.keys(i),l=0;l<o.length;l++){var u=o[l],d=n.getQuestionByName(u);if(d||(d=this.getSharedQuestionByName(u,n)),d){var m=d.getDisplayValue(e,i[u]);e&&d.title&&d.title!==u?(i[d.title]=m,delete i[u]):i[u]=m}}return i},t.prototype.getPlainData=function(e){var n=this;e===void 0&&(e={includeEmpty:!0});var i=r.prototype.getPlainData.call(this,e);if(i){i.isNode=!0;var o=Array.isArray(i.data)?[].concat(i.data):[];i.data=this.visibleRows.map(function(l){var u={name:l.dataName,title:l.text,value:l.value,displayValue:n.getRowDisplayValue(!1,l,l.value),getString:function(d){return typeof d=="object"?JSON.stringify(d):d},isNode:!0,data:l.cells.map(function(d){return d.question.getPlainData(e)}).filter(function(d){return!!d})};return(e.calculations||[]).forEach(function(d){u[d.propertyName]=l[d.propertyName]}),u}),i.data=i.data.concat(o)}return i},t.prototype.addConditionObjectsByContext=function(e,n){var i=[].concat(this.columns);this.detailPanelMode!=="none"&&(i=i.concat(this.detailPanel.questions));var o=!!n&&i.indexOf(n)>-1,l=n===!0||o,u=this.getConditionObjectsRowIndeces();l&&u.push(-1);for(var d=0;d<u.length;d++){var m=u[d],w=m>-1?this.getConditionObjectRowName(m):"row";if(w)for(var E=m>-1?this.getConditionObjectRowText(m):"row",A=m>-1||n===!0,U=A&&m===-1?".":"",W=(A?this.getValueName():"")+U+w+".",se=(A?this.processedTitle:"")+U+E+".",ie=0;ie<i.length;ie++){var K=i[ie];if(!(m===-1&&n===K)){var ye={name:W+K.name,text:se+K.fullTitle,question:this};m===-1&&n===!0?ye.context=this:o&&W.startsWith("row.")&&(ye.context=n),e.push(ye)}}}},t.prototype.onHidingContent=function(){if(r.prototype.onHidingContent.call(this),!!this.generatedVisibleRows){var e=[];this.collectNestedQuestions(e,!0),e.forEach(function(n){return n.onHidingContent()})}},t.prototype.getIsReadyNestedQuestions=function(){if(!this.generatedVisibleRows)return[];var e=new Array;return this.collectNestedQuestonsInRows(this.generatedVisibleRows,e,!1),this.generatedTotalRow&&this.collectNestedQuestonsInRows([this.generatedTotalRow],e,!1),e},t.prototype.collectNestedQuestionsCore=function(e,n){this.collectNestedQuestonsInRows(this.visibleRows,e,n)},t.prototype.collectNestedQuestonsInRows=function(e,n,i){Array.isArray(e)&&e.forEach(function(o){o.questions.forEach(function(l){return l.collectNestedQuestions(n,i)})})},t.prototype.getConditionObjectRowName=function(e){return""},t.prototype.getConditionObjectRowText=function(e){return this.getConditionObjectRowName(e)},t.prototype.getConditionObjectsRowIndeces=function(){return[]},t.prototype.getProgressInfo=function(){if(this.generatedVisibleRows)return et.getProgressInfoByElements(this.getCellQuestions(),this.isRequired);var e=be.createProgressInfo();return this.updateProgressInfoByValues(e),e.requiredQuestionCount===0&&this.isRequired&&(e.requiredQuestionCount=1,e.requiredAnsweredQuestionCount=this.isEmpty()?0:1),e},t.prototype.updateProgressInfoByValues=function(e){},t.prototype.updateProgressInfoByRow=function(e,n){for(var i=0;i<this.columns.length;i++){var o=this.columns[i];if(o.templateQuestion.hasInput){var l=!D.isValueEmpty(n[o.name]);!l&&o.templateQuestion.visibleIf||(e.questionCount+=1,e.requiredQuestionCount+=o.isRequired,e.answeredQuestionCount+=l?1:0,e.requiredAnsweredQuestionCount+=l&&o.isRequired?1:0)}}},t.prototype.getCellQuestions=function(){var e=[];return this.runFuncForCellQuestions(function(n){e.push(n)}),e},t.prototype.onBeforeValueChanged=function(e){},t.prototype.onSetQuestionValue=function(){if(!this.isRowChanging&&(this.onBeforeValueChanged(this.value),!(!this.generatedVisibleRows||this.generatedVisibleRows.length==0))){this.isRowChanging=!0;for(var e=this.createNewValue(),n=0;n<this.generatedVisibleRows.length;n++){var i=this.generatedVisibleRows[n];this.generatedVisibleRows[n].value=this.getRowValueCore(i,e)}this.isRowChanging=!1}},t.prototype.setQuestionValue=function(e){r.prototype.setQuestionValue.call(this,e,!1),this.onSetQuestionValue(),this.updateIsAnswered()},t.prototype.supportGoNextPageAutomatic=function(){var e=this.generatedVisibleRows;if(e||(e=this.visibleRows),!e)return!0;for(var n=0;n<e.length;n++){var i=this.generatedVisibleRows[n].cells;if(i)for(var o=0;o<i.length;o++){var l=i[o].question;if(l&&(!l.supportGoNextPageAutomatic()||!l.value))return!1}}return!0},t.prototype.getContainsErrors=function(){return r.prototype.getContainsErrors.call(this)||this.checkForAnswersOrErrors(function(e){return e.containsErrors},!1)},t.prototype.getIsAnswered=function(){return r.prototype.getIsAnswered.call(this)&&this.checkForAnswersOrErrors(function(e){return e.isAnswered},!0)},t.prototype.checkForAnswersOrErrors=function(e,n){n===void 0&&(n=!1);var i=this.generatedVisibleRows;if(!i)return!1;for(var o=0;o<i.length;o++){var l=i[o].cells;if(l){for(var u=0;u<l.length;u++)if(l[u]){var d=l[u].question;if(d&&d.isVisible){if(e(d)){if(!n)return!0}else if(n)return!1}}}}return!!n},t.prototype.hasErrors=function(e,n){e===void 0&&(e=!0),n===void 0&&(n=null);var i=this.hasErrorInRows(e,n),o=this.isValueDuplicated();return r.prototype.hasErrors.call(this,e,n)||i||o},t.prototype.getIsRunningValidators=function(){if(r.prototype.getIsRunningValidators.call(this))return!0;if(!this.generatedVisibleRows)return!1;for(var e=0;e<this.generatedVisibleRows.length;e++){var n=this.generatedVisibleRows[e].cells;if(n){for(var i=0;i<n.length;i++)if(n[i]){var o=n[i].question;if(o&&o.isRunningValidators)return!0}}}return!1},t.prototype.getAllErrors=function(){var e=r.prototype.getAllErrors.call(this),n=this.generatedVisibleRows;if(n===null)return e;for(var i=0;i<n.length;i++)for(var o=n[i],l=0;l<o.cells.length;l++){var u=o.cells[l].question.getAllErrors();u&&u.length>0&&(e=e.concat(u))}return e},t.prototype.hasErrorInRows=function(e,n){var i=this,o=this.generatedVisibleRows;this.generatedVisibleRows||(o=this.visibleRows);var l=!1;if(n||(n={}),!o)return n;n.validationValues=this.getDataFilteredValues(),n.isSingleDetailPanel=this.detailPanelMode==="underRowSingle";for(var u=0;u<o.length;u++)o[u].isVisible&&(l=o[u].hasErrors(e,n,function(){i.raiseOnCompletedAsyncValidators()})||l);return l},t.prototype.isValueDuplicated=function(){if(!this.generatedVisibleRows)return!1;for(var e=this.getUniqueColumnsNames(),n=!1,i=0;i<e.length;i++)n=this.isValueInColumnDuplicated(e[i],!0)||n;return n},t.prototype.getUniqueColumnsNames=function(){for(var e=new Array,n=0;n<this.columns.length;n++)this.columns[n].isUnique&&e.push(this.columns[n].name);return e},t.prototype.isValueInColumnDuplicated=function(e,n,i){var o=this.getDuplicatedRows(e);return n&&this.showDuplicatedErrorsInRows(o,e),this.removeDuplicatedErrorsInRows(o,e),i?o.indexOf(i)>-1:o.length>0},t.prototype.getDuplicatedRows=function(e){for(var n={},i=[],o=this.generatedVisibleRows,l=0;l<o.length;l++){var u=void 0,d=o[l].getQuestionByName(e);if(d)u=d.value;else{var m=this.getRowValue(l);u=m?m[e]:void 0}this.isValueEmpty(u)||(!this.isUniqueCaseSensitive&&typeof u=="string"&&(u=u.toLocaleLowerCase()),n[u]||(n[u]=[]),n[u].push(o[l]))}for(var w in n)n[w].length>1&&n[w].forEach(function(E){return i.push(E)});return i},t.prototype.showDuplicatedErrorsInRows=function(e,n){var i=this;e.forEach(function(o){var l=o.getQuestionByName(n),u=i.detailPanel.getQuestionByName(n);!l&&u&&(o.showDetailPanel(),o.detailPanel&&(l=o.detailPanel.getQuestionByName(n))),l&&(u&&o.showDetailPanel(),i.addDuplicationError(l))})},t.prototype.removeDuplicatedErrorsInRows=function(e,n){var i=this;this.generatedVisibleRows.forEach(function(o){if(e.indexOf(o)<0){var l=o.getQuestionByName(n);l&&i.removeDuplicationError(o,l)}})},t.prototype.getDuplicationError=function(e){for(var n=e.errors,i=0;i<n.length;i++)if(n[i].getErrorType()==="keyduplicationerror")return n[i];return null},t.prototype.addDuplicationError=function(e){this.getDuplicationError(e)||e.addError(new Aa(this.keyDuplicationError,this))},t.prototype.removeDuplicationError=function(e,n){n.removeError(this.getDuplicationError(n))&&n.errors.length===0&&e.editingObj&&(e.editingObj[n.getValueName()]=n.value)},t.prototype.getFirstQuestionToFocus=function(e){return this.getFirstCellQuestion(e)},t.prototype.getFirstInputElementId=function(){var e=this.getFirstCellQuestion(!1);return e?e.inputId:r.prototype.getFirstInputElementId.call(this)},t.prototype.getFirstErrorInputElementId=function(){var e=this.getFirstCellQuestion(!0);return e?e.inputId:r.prototype.getFirstErrorInputElementId.call(this)},t.prototype.getFirstCellQuestion=function(e){if(!this.generatedVisibleRows)return null;for(var n=0;n<this.generatedVisibleRows.length;n++)for(var i=this.generatedVisibleRows[n].cells,o=0;o<i.length;o++)if(!e||i[o].question.currentErrorCount>0)return i[o].question;return null},t.prototype.onReadOnlyChanged=function(){if(r.prototype.onReadOnlyChanged.call(this),!!this.generateRows)for(var e=0;e<this.visibleRows.length;e++)this.visibleRows[e].onQuestionReadOnlyChanged()},t.prototype.createQuestion=function(e,n){return this.createQuestionCore(e,n)},t.prototype.createQuestionCore=function(e,n){var i=n.createCellQuestion(e);return i.setSurveyImpl(e),i.setParentQuestion(this),i.inMatrixMode=!0,i},t.prototype.deleteRowValue=function(e,n){return e&&(delete e[n.rowName],this.isObject(e)&&Object.keys(e).length==0?null:e)},t.prototype.onAnyValueChanged=function(e,n){if(!(this.isUpdateLocked||this.isDoingonAnyValueChanged||!this.generatedVisibleRows)){this.isDoingonAnyValueChanged=!0;for(var i=this.generatedVisibleRows,o=0;o<i.length;o++)i[o].onAnyValueChanged(e,n);var l=this.visibleTotalRow;l&&l.onAnyValueChanged(e,n),this.isDoingonAnyValueChanged=!1}},t.prototype.isObject=function(e){return e!==null&&typeof e=="object"},t.prototype.getOnCellValueChangedOptions=function(e,n,i){var o=function(l){return e.getQuestionByName(l)};return{row:e,columnName:n,rowValue:i,value:i?i[n]:null,getCellQuestion:o,cellQuestion:e.getQuestionByName(n),column:this.getColumnByName(n)}},t.prototype.onCellValueChanged=function(e,n,i){if(this.survey){var o=this.getOnCellValueChangedOptions(e,n,i);this.onCellValueChangedCallback&&this.onCellValueChangedCallback(o),this.survey.matrixCellValueChanged(this,o)}},t.prototype.validateCell=function(e,n,i){if(this.survey){var o=this.getOnCellValueChangedOptions(e,n,i);return this.survey.matrixCellValidate(this,o)}},Object.defineProperty(t.prototype,"isValidateOnValueChanging",{get:function(){return this.survey?this.survey.isValidateOnValueChanging:!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasInvisibleRows",{get:function(){var e=this.generatedVisibleRows;if(!Array.isArray(e))return!1;for(var n=0;n<e.length;n++)if(!e[n].isVisible)return!0;return!1},enumerable:!1,configurable:!0}),t.prototype.getFilteredData=function(){return this.isEmpty()||!this.generatedVisibleRows||!this.hasInvisibleRows?this.value:this.getFilteredDataCore()},t.prototype.getFilteredDataCore=function(){return this.value},t.prototype.onRowChanging=function(e,n,i){if(!this.survey&&!this.cellValueChangingCallback)return i?i[n]:null;var o=this.getOnCellValueChangedOptions(e,n,i),l=this.getRowValueCore(e,this.createNewValue(),!0);return o.oldValue=l?l[n]:null,this.cellValueChangingCallback&&(o.value=this.cellValueChangingCallback(e,n,o.value,o.oldValue)),this.survey&&this.survey.matrixCellValueChanging(this,o),o.value},t.prototype.onRowChanged=function(e,n,i,o){var l=n?this.getRowObj(e):null;if(l){var u=null;i&&!o&&(u=i[n]),this.isRowChanging=!0,L.setObjPropertyValue(l,n,u),this.isRowChanging=!1,this.onCellValueChanged(e,n,l)}else{var d=this.createNewValue(!0),m=this.getNewValueOnRowChanged(e,n,i,o,this.createNewValue());if(this.isTwoValueEquals(d,m.value))return;this.isRowChanging=!0,this.setNewValue(m.value),this.isRowChanging=!1,n&&this.onCellValueChanged(e,n,m.rowValue)}this.getUniqueColumnsNames().indexOf(n)>-1&&this.isValueInColumnDuplicated(n,!!l)},t.prototype.getNewValueOnRowChanged=function(e,n,i,o,l){var u=this.getRowValueCore(e,l,!0);if(o&&delete u[n],e.questions.forEach(function(m){delete u[m.getValueName()]}),i){i=JSON.parse(JSON.stringify(i));for(var d in i)this.isValueEmpty(i[d])||(u[d]=i[d])}return this.isObject(u)&&Object.keys(u).length===0&&(l=this.deleteRowValue(l,e)),{value:l,rowValue:u}},t.prototype.getRowIndex=function(e){return Array.isArray(this.generatedVisibleRows)?this.generatedVisibleRows.indexOf(e):-1},t.prototype.getElementsInDesign=function(e){e===void 0&&(e=!1);var n;return this.detailPanelMode=="none"?n=r.prototype.getElementsInDesign.call(this,e):n=e?[this.detailPanel]:this.detailElements,this.columns.concat(n)},t.prototype.hasDetailPanel=function(e){return this.detailPanelMode=="none"?!1:this.isDesignMode?!0:this.onHasDetailPanelCallback?this.onHasDetailPanelCallback(e):this.detailElements.length>0},t.prototype.getIsDetailPanelShowing=function(e){if(this.detailPanelMode=="none")return!1;if(this.isDesignMode){var n=this.visibleRows.indexOf(e)==0;return n&&(e.detailPanel||e.showDetailPanel()),n}return this.getPropertyValue("isRowShowing"+e.id,!1)},t.prototype.setIsDetailPanelShowing=function(e,n){if(n!=this.getIsDetailPanelShowing(e)&&(this.setPropertyValue("isRowShowing"+e.id,n),this.updateDetailPanelButtonCss(e),this.renderedTable&&this.renderedTable.onDetailPanelChangeVisibility(e,n),this.survey&&this.survey.matrixDetailPanelVisibleChanged(this,e.rowIndex-1,e,n),n&&this.detailPanelMode==="underRowSingle"))for(var i=this.visibleRows,o=0;o<i.length;o++)i[o].id!==e.id&&i[o].isDetailPanelShowing&&i[o].hideDetailPanel()},t.prototype.getDetailPanelButtonCss=function(e){var n=new F().append(this.getPropertyValue("detailButtonCss"+e.id));return n.append(this.cssClasses.detailButton,n.toString()==="").toString()},t.prototype.getDetailPanelIconCss=function(e){var n=new F().append(this.getPropertyValue("detailIconCss"+e.id));return n.append(this.cssClasses.detailIcon,n.toString()==="").toString()},t.prototype.getDetailPanelIconId=function(e){return this.getIsDetailPanelShowing(e)?this.cssClasses.detailIconExpandedId:this.cssClasses.detailIconId},t.prototype.updateDetailPanelButtonCss=function(e){var n=this.cssClasses,i=this.getIsDetailPanelShowing(e),o=new F().append(n.detailIcon).append(n.detailIconExpanded,i);this.setPropertyValue("detailIconCss"+e.id,o.toString());var l=new F().append(n.detailButton).append(n.detailButtonExpanded,i);this.setPropertyValue("detailButtonCss"+e.id,l.toString())},t.prototype.createRowDetailPanel=function(e){var n=this;if(this.isDesignMode)return this.detailPanel;var i=this.createNewDetailPanel();i.readOnly=this.isReadOnly||!e.isRowEnabled(),i.setSurveyImpl(e);var o=this.detailPanel.toJSON();return new nt().toObject(o,i),i.renderWidth="100%",i.updateCustomWidgets(),this.onCreateDetailPanelCallback&&this.onCreateDetailPanelCallback(e,i),i.questions.forEach(function(l){return l.setParentQuestion(n)}),i.onSurveyLoad(),i},t.prototype.getSharedQuestionByName=function(e,n){if(!this.survey||!this.valueName)return null;var i=this.getRowIndex(n);return i<0?null:this.survey.getQuestionByValueNameFromArray(this.valueName,e,i)},t.prototype.onTotalValueChanged=function(){this.data&&this.visibleTotalRow&&!this.isUpdateLocked&&!this.isSett&&this.data.setValue(this.getValueName()+R.matrix.totalsSuffix,this.totalValue,!1)},t.prototype.getDataFilteredValues=function(){return this.data?this.data.getFilteredValues():{}},t.prototype.getParentTextProcessor=function(){if(!this.parentQuestion||!this.parent)return null;var e=this.parent.data;return e&&e.getTextProcessor?e.getTextProcessor():null},t.prototype.isMatrixReadOnly=function(){return this.isReadOnly},t.prototype.onRowVisibilityChanged=function(e){this.clearVisibleRows(),this.resetRenderedTable()},t.prototype.clearValueIfInvisibleCore=function(e){r.prototype.clearValueIfInvisibleCore.call(this,e),this.clearInvisibleValuesInRows()},t.prototype.clearInvisibleValuesInRows=function(){var e;if(!(this.isEmpty()||!this.isRowsFiltered())){var n=((e=this.survey)===null||e===void 0?void 0:e.questionsByValueName(this.getValueName()))||[];n.length<2&&(this.value=this.getFilteredData())}},t.prototype.isRowsFiltered=function(){return r.prototype.isRowsFiltered.call(this)||this.visibleRows!==this.generatedVisibleRows},t.prototype.getQuestionFromArray=function(e,n){return n>=this.visibleRows.length?null:this.visibleRows[n].getQuestionByName(e)},t.prototype.isMatrixValueEmpty=function(e){if(e){if(Array.isArray(e)){for(var n=0;n<e.length;n++)if(this.isObject(e[n])&&Object.keys(e[n]).length>0)return!1;return!0}return Object.keys(e).length==0}},Object.defineProperty(t.prototype,"SurveyModel",{get:function(){return this.survey},enumerable:!1,configurable:!0}),t.prototype.getCellTemplateData=function(e){return this.SurveyModel.getMatrixCellTemplateData(e)},t.prototype.getCellWrapperComponentName=function(e){return this.SurveyModel.getElementWrapperComponentName(e,e.row instanceof $i?"row-footer":"cell")},t.prototype.getCellWrapperComponentData=function(e){return this.SurveyModel.getElementWrapperComponentData(e,e.row instanceof $i?"row-footer":"cell")},t.prototype.getColumnHeaderWrapperComponentName=function(e){return this.SurveyModel.getElementWrapperComponentName(e,"column-header")},t.prototype.getColumnHeaderWrapperComponentData=function(e){return this.SurveyModel.getElementWrapperComponentData(e,"column-header")},t.prototype.getRowHeaderWrapperComponentName=function(e){return this.SurveyModel.getElementWrapperComponentName(e,"row-header")},t.prototype.getRowHeaderWrapperComponentData=function(e){return this.SurveyModel.getElementWrapperComponentData(e,"row-header")},Object.defineProperty(t.prototype,"showHorizontalScroll",{get:function(){return!this.isDefaultV2Theme&&this.horizontalScroll},enumerable:!1,configurable:!0}),t.prototype.onMobileChanged=function(){r.prototype.onMobileChanged.call(this),this.resetRenderedTable()},t.prototype.getRootCss=function(){return new F().append(r.prototype.getRootCss.call(this)).append(this.cssClasses.rootScroll,this.horizontalScroll).toString()},t.prototype.afterRenderQuestionElement=function(e){r.prototype.afterRenderQuestionElement.call(this,e),this.setRootElement(e?.parentElement)},t.prototype.beforeDestroyQuestionElement=function(e){r.prototype.beforeDestroyQuestionElement.call(this,e),this.setRootElement(void 0)},t.prototype.setRootElement=function(e){this.rootElement=e},t.prototype.getRootElement=function(){return this.rootElement},t}(oo);L.addClass("matrixdropdownbase",[{name:"columns:matrixdropdowncolumns",className:"matrixdropdowncolumn",isArray:!0},{name:"columnLayout",alternativeName:"columnsLocation",choices:["horizontal","vertical"],visible:!1,isSerializable:!1},{name:"transposeData:boolean",version:"1.9.130",oldName:"columnLayout"},{name:"detailElements",baseClassName:"question",visible:!1,isLightSerializable:!1},{name:"detailPanelMode",choices:["none","underRow","underRowSingle"],default:"none"},{name:"cellErrorLocation",default:"default",choices:["default","top","bottom"]},{name:"detailErrorLocation",default:"default",choices:["default","top","bottom"],visibleIf:function(r){return!!r&&r.detailPanelMode!="none"}},{name:"horizontalScroll:boolean",visible:!1},{name:"choices:itemvalue[]",uniqueProperty:"value",visibleIf:function(r){return r.isSelectCellType()}},{name:"placeholder",alternativeName:"optionsCaption",serializationProperty:"locPlaceholder"},{name:"keyDuplicationError",serializationProperty:"locKeyDuplicationError"},{name:"cellType",default:"dropdown",choices:function(){return ei.getColumnTypes()}},{name:"columnColCount",default:0,choices:[0,1,2,3,4]},"columnMinWidth",{name:"allowAdaptiveActions:boolean",default:!1,visible:!1}],function(){return new An("")},"matrixbase");var tl=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),nl=function(r){tl(t,r);function t(e,n,i,o){var l=r.call(this,i,o)||this;return l.name=e,l.item=n,l.buildCells(o),l}return Object.defineProperty(t.prototype,"rowName",{get:function(){return this.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this.item.text},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locText",{get:function(){return this.item.locText},enumerable:!1,configurable:!0}),t.prototype.isItemVisible=function(){return this.item.isVisible},t.prototype.isRowEnabled=function(){return this.item.isEnabled},t.prototype.isRowHasEnabledCondition=function(){return!!this.item.enableIf},t.prototype.setRowsVisibleIfValues=function(e){e.item=this.item.value,e.choice=this.item.value},t}(Ft),mo=function(r){tl(t,r);function t(e){var n=r.call(this,e)||this;return n.defaultValuesInRows={},n.createLocalizableString("totalText",n,!0),n.registerPropertyChangedHandlers(["rows"],function(){n.generatedVisibleRows&&(n.clearGeneratedRows(),n.resetRenderedTable(),n.getVisibleRows(),n.clearIncorrectValues())}),n.registerPropertyChangedHandlers(["hideIfRowsEmpty"],function(){n.updateVisibilityBasedOnRows()}),n}return t.prototype.getType=function(){return"matrixdropdown"},Object.defineProperty(t.prototype,"totalText",{get:function(){return this.getLocalizableStringText("totalText","")},set:function(e){this.setLocalizableStringText("totalText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTotalText",{get:function(){return this.getLocalizableString("totalText")},enumerable:!1,configurable:!0}),t.prototype.getFooterText=function(){return this.locTotalText},t.prototype.getRowTitleWidth=function(){return this.rowTitleWidth},Object.defineProperty(t.prototype,"hideIfRowsEmpty",{get:function(){return this.getPropertyValue("hideIfRowsEmpty")},set:function(e){this.setPropertyValue("hideIfRowsEmpty",e)},enumerable:!1,configurable:!0}),t.prototype.getDisplayValueCore=function(e,n){if(!n)return n;var i=this.visibleRows,o={};if(!i)return o;for(var l=0;l<i.length;l++){var u=i[l].rowName,d=n[u];if(d){if(e){var m=de.getTextOrHtmlByValue(this.rows,u);m&&(u=m)}o[u]=this.getRowDisplayValue(e,i[l],d)}}return o},t.prototype.getConditionObjectRowName=function(e){return"."+this.rows[e].value},t.prototype.getConditionObjectRowText=function(e){return"."+this.rows[e].calculatedText},t.prototype.getConditionObjectsRowIndeces=function(){for(var e=[],n=0;n<this.rows.length;n++)e.push(n);return e},t.prototype.isNewValueCorrect=function(e){return D.isValueObject(e,!0)},t.prototype.clearIncorrectValues=function(){if(!this.isEmpty()){this.getVisibleRows();var e={},n=this.value;for(var i in n){var o=this.getRowByKey(i);o&&o.isVisible&&(e[i]=n[i])}this.value=e}r.prototype.clearIncorrectValues.call(this)},t.prototype.getRowByKey=function(e){var n=this.generatedVisibleRows;if(!n)return null;for(var i=0;i<n.length;i++)if(n[i].rowName===e)return n[i];return null},t.prototype.clearGeneratedRows=function(){var e=this;this.generatedVisibleRows&&(this.isDisposed||this.generatedVisibleRows.forEach(function(n){e.defaultValuesInRows[n.rowName]=n.getNamesWithDefaultValues()}),r.prototype.clearGeneratedRows.call(this))},t.prototype.getRowValueForCreation=function(e,n){var i=e[n];if(!i)return i;var o=this.defaultValuesInRows[n];return!Array.isArray(o)||o.length===0||o.forEach(function(l){delete i[l]}),i},t.prototype.generateRows=function(){var e=new Array,n=this.rows;if(!n||n.length===0)return e;var i=this.value;i||(i={});for(var o=0;o<n.length;o++){var l=n[o];this.isValueEmpty(l.value)||e.push(this.createMatrixRow(l,this.getRowValueForCreation(i,l.value)))}return e},t.prototype.createMatrixRow=function(e,n){return new nl(e.value,e,this,n)},t.prototype.getFilteredDataCore=function(){var e={},n=this.createValueCopy();return this.generatedVisibleRows.forEach(function(i){var o=n[i.rowName];i.isVisible&&!D.isValueEmpty(o)&&(e[i.rowName]=o)}),e},t.prototype.getSearchableItemValueKeys=function(e){e.push("rows")},t.prototype.updateProgressInfoByValues=function(e){var n=this.value;n||(n={});for(var i=0;i<this.rows.length;i++){var o=this.rows[i],l=n[o.value];this.updateProgressInfoByRow(e,l||{})}},t}(An);L.addClass("matrixdropdown",[{name:"rows:itemvalue[]",uniqueProperty:"value"},"rowsVisibleIf:condition","rowTitleWidth",{name:"totalText",serializationProperty:"locTotalText"},"hideIfRowsEmpty:boolean"],function(){return new mo("")},"matrixdropdownbase"),Se.Instance.registerQuestion("matrixdropdown",function(r){var t=new mo(r);return t.choices=[1,2,3,4,5],t.rows=Se.DefaultRows,An.addDefaultColumns(t),t});var go=!1,il=null;typeof navigator<"u"&&navigator&&p.isAvailable()&&(il=navigator.userAgent||navigator.vendor||p.hasOwn("opera")),function(r){r&&(navigator.platform==="MacIntel"&&navigator.maxTouchPoints>0||navigator.platform==="iPad"||/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(r)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(r.substring(0,4)))&&(go=!0)}(il);var mf=!1,Gi=go||mf,rl={get isTouch(){return!this.hasMouse&&this.hasTouchEvent},get hasTouchEvent(){return p.isAvailable()&&(p.hasOwn("ontouchstart")||navigator.maxTouchPoints>0)},hasMouse:!0},gf=p.matchMedia;rl.hasMouse=yf(gf);var Qe=rl.isTouch;function vf(r){Qe=r}function yf(r){if(!r||Gi)return!1;var t=r("(pointer:fine)"),e=r("(any-hover:hover)");return!!t&&t.matches||!!e&&e.matches}var bf=function(r,t){for(var e=0,n=t.length,i=r.length;e<n;e++,i++)r[i]=t[e];return r};typeof window<"u"&&window.addEventListener("touchmove",function(r){ol.PreventScrolling&&r.preventDefault()},{passive:!1});var ol=function(){function r(t,e,n){var i=this;e===void 0&&(e=!0),n===void 0&&(n=!1),this.dd=t,this.longTap=e,this.fitToContainer=n,this.scrollIntervalId=null,this.stopLongTapIfMoveEnough=function(o){o.preventDefault(),i.currentX=o.pageX,i.currentY=o.pageY,!i.isMicroMovement&&(i.returnUserSelectBack(),i.stopLongTap())},this.stopLongTap=function(o){clearTimeout(i.timeoutID),i.timeoutID=null,document.removeEventListener("pointerup",i.stopLongTap),document.removeEventListener("pointermove",i.stopLongTapIfMoveEnough)},this.handlePointerCancel=function(o){i.clear()},this.handleEscapeButton=function(o){o.keyCode==27&&i.clear()},this.onContextMenu=function(o){o.preventDefault(),o.stopPropagation()},this.dragOver=function(o){i.moveShortcutElement(o),i.draggedElementShortcut.style.cursor="grabbing",i.dd.dragOver(o)},this.clear=function(){cancelAnimationFrame(i.scrollIntervalId),document.removeEventListener("pointermove",i.dragOver),document.removeEventListener("pointercancel",i.handlePointerCancel),document.removeEventListener("keydown",i.handleEscapeButton),document.removeEventListener("pointerup",i.drop),i.draggedElementShortcut.removeEventListener("pointerup",i.drop),Qe&&i.draggedElementShortcut.removeEventListener("contextmenu",i.onContextMenu),i.draggedElementShortcut.parentElement.removeChild(i.draggedElementShortcut),i.dd.clear(),i.draggedElementShortcut=null,i.scrollIntervalId=null,Qe&&(i.savedTargetNode.style.cssText=null,i.savedTargetNode&&i.savedTargetNode.parentElement.removeChild(i.savedTargetNode),i.insertNodeToParentAtIndex(i.savedTargetNodeParent,i.savedTargetNode,i.savedTargetNodeIndex),r.PreventScrolling=!1),i.savedTargetNode=null,i.savedTargetNodeParent=null,i.savedTargetNodeIndex=null,i.returnUserSelectBack()},this.drop=function(){i.dd.drop(),i.clear()},this.draggedElementShortcut=null}return Object.defineProperty(r.prototype,"documentOrShadowRoot",{get:function(){return R.environment.root},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rootElement",{get:function(){return Yn(R.environment.root)?this.rootContainer||R.environment.root.host:this.rootContainer||R.environment.root.documentElement||document.body},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isMicroMovement",{get:function(){var t=5,e=Math.abs(this.currentX-this.startX),n=Math.abs(this.currentY-this.startY);return e<t&&n<t},enumerable:!1,configurable:!0}),r.prototype.startLongTapProcessing=function(t,e,n,i,o){var l=this;o===void 0&&(o=!1),this.startX=t.pageX,this.startY=t.pageY,document.body.style.setProperty("touch-action","none","important"),this.timeoutID=setTimeout(function(){l.doStartDrag(t,e,n,i),o||(l.savedTargetNode=t.target,l.savedTargetNode.style.cssText=`
          position: absolute;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden;
          clip: rect(1px 1px 1px 1px);
          clip: rect(1px, 1px, 1px, 1px);
        `,l.savedTargetNodeParent=l.savedTargetNode.parentElement,l.savedTargetNodeIndex=l.getNodeIndexInParent(l.savedTargetNode),l.rootElement.appendChild(l.savedTargetNode)),l.stopLongTap()},this.longTap?500:0),document.addEventListener("pointerup",this.stopLongTap),document.addEventListener("pointermove",this.stopLongTapIfMoveEnough)},r.prototype.moveShortcutElement=function(t){var e=this.rootElement.getBoundingClientRect().x,n=this.rootElement.getBoundingClientRect().y,i=this.rootElement.scrollLeft,o=this.rootElement.scrollTop;this.doScroll(t.clientY,t.clientX);var l=this.draggedElementShortcut.offsetHeight,u=this.draggedElementShortcut.offsetWidth,d=this.draggedElementShortcut.shortcutXOffset||u/2,m=this.draggedElementShortcut.shortcutYOffset||l/2;document.querySelectorAll("[dir='rtl']").length!==0&&(d=u/2,m=l/2);var w=document.documentElement.clientHeight,E=document.documentElement.clientWidth,A=t.pageX,U=t.pageY,W=t.clientX,se=t.clientY;e-=i,n-=o;var ie=this.getShortcutBottomCoordinate(se,l,m),K=this.getShortcutRightCoordinate(W,u,d);if(K>=E){this.draggedElementShortcut.style.left=E-u-e+"px",this.draggedElementShortcut.style.top=se-m-n+"px";return}if(W-d<=0){this.draggedElementShortcut.style.left=A-W-e+"px",this.draggedElementShortcut.style.top=se-n-m+"px";return}if(ie>=w){this.draggedElementShortcut.style.left=W-d-e+"px",this.draggedElementShortcut.style.top=w-l-n+"px";return}if(se-m<=0){this.draggedElementShortcut.style.left=W-d-e+"px",this.draggedElementShortcut.style.top=U-se-n+"px";return}this.draggedElementShortcut.style.left=W-e-d+"px",this.draggedElementShortcut.style.top=se-n-m+"px"},r.prototype.getShortcutBottomCoordinate=function(t,e,n){return t+e-n},r.prototype.getShortcutRightCoordinate=function(t,e,n){return t+e-n},r.prototype.requestAnimationFrame=function(t){return requestAnimationFrame(t)},r.prototype.scrollByDrag=function(t,e,n){var i=this,o=100,l,u,d,m;t.tagName==="HTML"?(l=0,u=document.documentElement.clientHeight,d=0,m=document.documentElement.clientWidth):(l=t.getBoundingClientRect().top,u=t.getBoundingClientRect().bottom,d=t.getBoundingClientRect().left,m=t.getBoundingClientRect().right);var w=function(){var E=e-l<=o,A=u-e<=o,U=n-d<=o,W=m-n<=o;E&&!U&&!W?t.scrollTop-=15:A&&!U&&!W?t.scrollTop+=15:W&&!E&&!A?t.scrollLeft+=15:U&&!E&&!A&&(t.scrollLeft-=15),i.scrollIntervalId=i.requestAnimationFrame(w)};this.scrollIntervalId=this.requestAnimationFrame(w)},r.prototype.doScroll=function(t,e){cancelAnimationFrame(this.scrollIntervalId);var n=this.draggedElementShortcut.style.display;this.draggedElementShortcut.style.display="none";var i=this.documentOrShadowRoot.elementFromPoint(e,t);this.draggedElementShortcut.style.display=n||"block";var o=Fi(i);this.scrollByDrag(o,t,e)},r.prototype.doStartDrag=function(t,e,n,i){Qe&&(r.PreventScrolling=!0),t.which!==3&&(this.dd.dragInit(t,e,n,i),this.rootElement.append(this.draggedElementShortcut),this.moveShortcutElement(t),document.addEventListener("pointermove",this.dragOver),document.addEventListener("pointercancel",this.handlePointerCancel),document.addEventListener("keydown",this.handleEscapeButton),document.addEventListener("pointerup",this.drop),Qe?this.draggedElementShortcut.addEventListener("contextmenu",this.onContextMenu):this.draggedElementShortcut.addEventListener("pointerup",this.drop))},r.prototype.returnUserSelectBack=function(){document.body.style.setProperty("touch-action","auto"),document.body.style.setProperty("user-select","auto"),document.body.style.setProperty("-webkit-user-select","auto")},r.prototype.startDrag=function(t,e,n,i,o){if(o===void 0&&(o=!1),document.body.style.setProperty("user-select","none","important"),document.body.style.setProperty("-webkit-user-select","none","important"),Qe){this.startLongTapProcessing(t,e,n,i,o);return}this.doStartDrag(t,e,n,i)},r.prototype.getNodeIndexInParent=function(t){return bf([],t.parentElement.childNodes).indexOf(t)},r.prototype.insertNodeToParentAtIndex=function(t,e,n){t.insertBefore(e,t.childNodes[n])},r.PreventScrolling=!1,r}(),vo=function(){function r(t,e,n,i){var o=this,l;this.surveyValue=t,this.creator=e,this._isBottom=null,this.onGhostPositionChanged=new ft,this.onDragStart=new ft,this.onDragEnd=new ft,this.onDragClear=new ft,this.onBeforeDrop=this.onDragStart,this.onAfterDrop=this.onDragEnd,this.draggedElement=null,this.dropTarget=null,this.prevDropTarget=null,this.allowDropHere=!1,this.banDropHere=function(){o.allowDropHere=!1,o.doBanDropHere(),o.dropTarget=null,o.domAdapter.draggedElementShortcut.style.cursor="not-allowed",o.isBottom=null},this.doBanDropHere=function(){},this.domAdapter=i||new ol(this,n,(l=this.survey)===null||l===void 0?void 0:l.fitToContainer)}return Object.defineProperty(r.prototype,"isBottom",{get:function(){return!!this._isBottom},set:function(t){this._isBottom=t,this.ghostPositionChanged()},enumerable:!1,configurable:!0}),r.prototype.ghostPositionChanged=function(){this.onGhostPositionChanged.fire({},{})},Object.defineProperty(r.prototype,"dropTargetDataAttributeName",{get:function(){return"[data-sv-drop-target-"+this.draggedElementType+"]"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"survey",{get:function(){var t;return this.surveyValue||((t=this.creator)===null||t===void 0?void 0:t.survey)},enumerable:!1,configurable:!0}),r.prototype.startDrag=function(t,e,n,i,o){o===void 0&&(o=!1),this.domAdapter.rootContainer=this.getRootElement(this.survey,this.creator),this.domAdapter.startDrag(t,e,n,i,o)},r.prototype.getRootElement=function(t,e){return e?e.rootElement:t.rootElement},r.prototype.dragInit=function(t,e,n,i){this.draggedElement=e,this.parentElement=n;var o=this.getShortcutText(this.draggedElement);this.domAdapter.draggedElementShortcut=this.createDraggedElementShortcut(o,i,t),this.onStartDrag(t);var l=this.draggedElement&&this.draggedElement.parent;this.onDragStart.fire(this,{fromElement:l,draggedElement:this.draggedElement})},r.prototype.onStartDrag=function(t){},r.prototype.isDropTargetDoesntChanged=function(t){return this.dropTarget===this.prevDropTarget&&t===this.isBottom},r.prototype.getShortcutText=function(t){return t?.shortcutText},r.prototype.createDraggedElementShortcut=function(t,e,n){var i=g.createElement("div");return i&&(i.innerText=t,i.className=this.getDraggedElementClass()),i},r.prototype.getDraggedElementClass=function(){return"sv-dragged-element-shortcut"},r.prototype.doDragOver=function(){},r.prototype.afterDragOver=function(t){},r.prototype.findDropTargetNodeFromPoint=function(t,e){var n=this.domAdapter.draggedElementShortcut.style.display;if(this.domAdapter.draggedElementShortcut.style.display="none",!g.isAvailable())return null;var i=this.domAdapter.documentOrShadowRoot.elementsFromPoint(t,e);this.domAdapter.draggedElementShortcut.style.display=n||"block";for(var o=0,l=i[o];l&&l.className&&typeof l.className.indexOf=="function"&&l.className.indexOf("sv-drag-target-skipped")!=-1;)o++,l=i[o];return l?this.findDropTargetNodeByDragOverNode(l):null},r.prototype.getDataAttributeValueByNode=function(t){var e=this,n="svDropTarget",i=this.draggedElementType.split("-");return i.forEach(function(o){n+=e.capitalizeFirstLetter(o)}),t.dataset[n]},r.prototype.getDropTargetByNode=function(t,e){var n=this.getDataAttributeValueByNode(t);return this.getDropTargetByDataAttributeValue(n,t,e)},r.prototype.capitalizeFirstLetter=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},r.prototype.calculateVerticalMiddleOfHTMLElement=function(t){var e=t.getBoundingClientRect();return e.y+e.height/2},r.prototype.calculateHorizontalMiddleOfHTMLElement=function(t){var e=t.getBoundingClientRect();return e.x+e.width/2},r.prototype.calculateIsBottom=function(t,e){return!1},r.prototype.findDropTargetNodeByDragOverNode=function(t){var e=t.closest(this.dropTargetDataAttributeName);return e},r.prototype.dragOver=function(t){var e=this.findDropTargetNodeFromPoint(t.clientX,t.clientY);if(!e){this.banDropHere();return}this.dropTarget=this.getDropTargetByNode(e,t);var n=this.isDropTargetValid(this.dropTarget,e);if(this.doDragOver(),!n){this.banDropHere();return}var i=this.calculateIsBottom(t.clientY,e);this.allowDropHere=!0,!this.isDropTargetDoesntChanged(i)&&(this.isBottom=null,this.isBottom=i,this.draggedElement!=this.dropTarget&&this.afterDragOver(e),this.prevDropTarget=this.dropTarget)},r.prototype.drop=function(){if(this.allowDropHere){var t=this.draggedElement.parent,e=this.doDrop();this.onDragEnd.fire(this,{fromElement:t,draggedElement:e,toElement:this.dropTarget})}},r.prototype.clear=function(){this.dropTarget=null,this.prevDropTarget=null,this.draggedElement=null,this.isBottom=null,this.parentElement=null,this.onDragClear.fire(this,{})},r}(),Cf=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),xf=function(r){Cf(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.fromIndex=null,e.toIndex=null,e.doDrop=function(){return e.parentElement.moveRowByIndex(e.fromIndex,e.toIndex),e.parentElement},e}return Object.defineProperty(t.prototype,"draggedElementType",{get:function(){return"matrix-row"},enumerable:!1,configurable:!0}),t.prototype.onStartDrag=function(){var e=g.getBody();e&&(this.restoreUserSelectValue=e.style.userSelect,e.style.userSelect="none")},Object.defineProperty(t.prototype,"shortcutClass",{get:function(){return new F().append(this.parentElement.cssClasses.draggedRow).toString()},enumerable:!1,configurable:!0}),t.prototype.createDraggedElementShortcut=function(e,n,i){var o=this,l=g.createElement("div");if(l){l.className=this.shortcutClass;var u=!0;if(n){var d=n.closest("[data-sv-drop-target-matrix-row]"),m=d.cloneNode(u);m.style.cssText=`
        width: `+d.offsetWidth+`px;
      `,m.classList.remove("sv-matrix__drag-drop--moveup"),m.classList.remove("sv-matrix__drag-drop--movedown"),this.draggedElement.isDragDropMoveDown=!1,this.draggedElement.isDragDropMoveUp=!1,l.appendChild(m);var w=n.getBoundingClientRect();l.shortcutXOffset=i.clientX-w.x,l.shortcutYOffset=i.clientY-w.y}var E=this.parentElement.renderedTable.rows;return E.forEach(function(A,U){A.row===o.draggedElement&&(A.isGhostRow=!0)}),this.fromIndex=this.parentElement.visibleRows.indexOf(this.draggedElement),l}},t.prototype.getDropTargetByDataAttributeValue=function(e){var n=this.parentElement,i;return i=n.renderedTable.rows.filter(function(o){return o.row&&o.row.id===e})[0],i.row},t.prototype.canInsertIntoThisRow=function(e){var n=this.parentElement.lockedRowCount;return n<=0||e.rowIndex>n},t.prototype.isDropTargetValid=function(e,n){return this.canInsertIntoThisRow(e)},t.prototype.calculateIsBottom=function(e){var n=this.parentElement.renderedTable.rows,i=n.map(function(o){return o.row});return i.indexOf(this.dropTarget)-i.indexOf(this.draggedElement)>0},t.prototype.afterDragOver=function(e){var n=this;if(!this.isDropTargetDoesntChanged(this.isBottom)){var i,o,l,u=this.parentElement.renderedTable.rows;u.forEach(function(d,m){d.row===n.dropTarget&&(i=m),d.row===n.draggedElement&&(l=d,o=m,l.isGhostRow=!0)}),u.splice(o,1),u.splice(i,0,l),this.toIndex=this.parentElement.visibleRows.indexOf(this.dropTarget),r.prototype.ghostPositionChanged.call(this)}},t.prototype.clear=function(){var e=this.parentElement.renderedTable.rows;e.forEach(function(i){i.isGhostRow=!1}),this.parentElement.clearOnDrop(),this.fromIndex=null,this.toIndex=null;var n=g.getBody();n&&(n.style.userSelect=this.restoreUserSelectValue||"initial"),r.prototype.clear.call(this)},t}(vo),yo=function(){function r(t){var e=this;this.dragHandler=t,this.onPointerUp=function(n){e.clearListeners()},this.tryToStartDrag=function(n){if(e.currentX=n.pageX,e.currentY=n.pageY,!e.isMicroMovement)return e.clearListeners(),e.dragHandler(e.pointerDownEvent,e.currentTarget,e.itemModel),!0}}return r.prototype.onPointerDown=function(t,e){if(Qe){this.dragHandler(t,t.currentTarget,e);return}this.pointerDownEvent=t,this.currentTarget=t.currentTarget,this.startX=t.pageX,this.startY=t.pageY,g.addEventListener("pointermove",this.tryToStartDrag),this.currentTarget.addEventListener("pointerup",this.onPointerUp),this.itemModel=e},Object.defineProperty(r.prototype,"isMicroMovement",{get:function(){var t=10,e=Math.abs(this.currentX-this.startX),n=Math.abs(this.currentY-this.startY);return e<t&&n<t},enumerable:!1,configurable:!0}),r.prototype.clearListeners=function(){this.pointerDownEvent&&(g.removeEventListener("pointermove",this.tryToStartDrag),this.currentTarget.removeEventListener("pointerup",this.onPointerUp))},r}(),bo=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),sl=function(r){bo(t,r);function t(e,n,i){var o=r.call(this,n,i)||this;return o.index=e,o.buildCells(i),o}return t.prototype.getRowIndex=function(){var e=r.prototype.getRowIndex.call(this);return e>0?e:this.index+1},Object.defineProperty(t.prototype,"rowName",{get:function(){return this.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataName",{get:function(){return"row"+(this.index+1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return"row "+(this.index+1)},enumerable:!1,configurable:!0}),t.prototype.getAccessbilityText=function(){return(this.index+1).toString()},Object.defineProperty(t.prototype,"shortcutText",{get:function(){var e=this.data,n=e.visibleRows.indexOf(this)+1,i=this.cells.length>1?this.cells[1].questionValue:void 0,o=this.cells.length>0?this.cells[0].questionValue:void 0;return i&&i.value||o&&o.value||""+n},enumerable:!1,configurable:!0}),t}(Ft),Co=function(r){bo(t,r);function t(e){var n=r.call(this,e)||this;n.rowCounter=0,n.setRowCountValueFromData=!1,n.startDragMatrixRow=function(o,l){n.dragDropMatrixRows.startDrag(o,n.draggedRow,n,o.target)},n.initialRowCount=n.getDefaultPropertyValue("rowCount"),n.createLocalizableString("confirmDeleteText",n,!1,"confirmDelete");var i=n.createLocalizableString("addRowText",n);return i.onGetTextCallback=function(o){return o||n.defaultAddRowText},n.createLocalizableString("removeRowText",n,!1,"removeRow"),n.createLocalizableString("emptyRowsText",n,!1,!0),n.registerPropertyChangedHandlers(["hideColumnsIfEmpty","allowAddRows"],function(){n.updateShowTableAndAddRow()}),n.registerPropertyChangedHandlers(["allowRowsDragAndDrop","isReadOnly","lockedRowCount"],function(){n.resetRenderedTable()}),n.registerPropertyChangedHandlers(["minRowCount"],function(){n.onMinRowCountChanged()}),n.registerPropertyChangedHandlers(["maxRowCount"],function(){n.onMaxRowCountChanged()}),n.dragOrClickHelper=new yo(n.startDragMatrixRow),n}return t.prototype.setSurveyImpl=function(e,n){r.prototype.setSurveyImpl.call(this,e,n),this.dragDropMatrixRows=new xf(this.survey,null,!0)},t.prototype.isBanStartDrag=function(e){var n=e.target;return n.getAttribute("contenteditable")==="true"||n.nodeName==="INPUT"||!this.isDragHandleAreaValid(n)},t.prototype.isDragHandleAreaValid=function(e){return this.survey.matrixDragHandleArea==="icon"?e.classList.contains(this.cssClasses.dragElementDecorator):!0},t.prototype.onPointerDown=function(e,n){!n||!this.isRowsDragAndDrop||this.isDesignMode||this.isBanStartDrag(e)||n.isDetailPanelShowing||(this.draggedRow=n,this.dragOrClickHelper.onPointerDown(e))},t.prototype.getType=function(){return"matrixdynamic"},Object.defineProperty(t.prototype,"isRowsDynamic",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"confirmDelete",{get:function(){return this.getPropertyValue("confirmDelete")},set:function(e){this.setPropertyValue("confirmDelete",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isValueArray",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keyName",{get:function(){return this.getPropertyValue("keyName","")},set:function(e){this.setPropertyValue("keyName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultRowValue",{get:function(){return this.getPropertyValue("defaultRowValue")},set:function(e){this.setPropertyValue("defaultRowValue",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultValueFromLastRow",{get:function(){return this.getPropertyValue("defaultValueFromLastRow")},set:function(e){this.setPropertyValue("defaultValueFromLastRow",e)},enumerable:!1,configurable:!0}),t.prototype.isDefaultValueEmpty=function(){return r.prototype.isDefaultValueEmpty.call(this)&&this.isValueEmpty(this.defaultRowValue)},t.prototype.valueFromData=function(e){if(this.minRowCount<1||this.isEmpty())return r.prototype.valueFromData.call(this,e);Array.isArray(e)||(e=[]);for(var n=e.length;n<this.minRowCount;n++)e.push({});return e},t.prototype.isNewValueCorrect=function(e){return Array.isArray(e)},t.prototype.setDefaultValue=function(){if(this.isValueEmpty(this.defaultRowValue)||!this.isValueEmpty(this.defaultValue)){r.prototype.setDefaultValue.call(this);return}if(!(!this.isEmpty()||this.rowCount==0)){for(var e=[],n=0;n<this.rowCount;n++)e.push(this.defaultRowValue);this.value=e}},t.prototype.moveRowByIndex=function(e,n){var i=this.createNewValue();if(!(!Array.isArray(i)&&Math.max(e,n)>=i.length)){var o=i[e];i.splice(e,1),i.splice(n,0,o),this.value=i}},t.prototype.clearOnDrop=function(){this.isEditingSurveyElement||this.resetRenderedTable()},t.prototype.initDataUI=function(){this.generatedVisibleRows||this.getVisibleRows()},Object.defineProperty(t.prototype,"rowCount",{get:function(){return this.rowCountValue},set:function(e){if(e=D.getNumber(e),!(e<0||e>R.matrix.maxRowCount)){this.setRowCountValueFromData=!1;var n=this.rowCountValue;if(this.rowCountValue=e,this.value&&this.value.length>e){var i=this.value;i.splice(e),this.value=i}if(this.isUpdateLocked){this.initialRowCount=e;return}if(this.generatedVisibleRows||n==0){this.generatedVisibleRows||(this.clearGeneratedRows(),this.generatedVisibleRows=[]),this.generatedVisibleRows.splice(e);for(var o=n;o<e;o++){var l=this.createMatrixRow(this.getValueForNewRow());this.generatedVisibleRows.push(l),this.onMatrixRowCreated(l)}this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties())}this.onRowsChanged()}},enumerable:!1,configurable:!0}),t.prototype.updateBindingProp=function(e,n){r.prototype.updateBindingProp.call(this,e,n);var i=this.generatedVisibleRows;if(!(e!=="rowCount"||!Array.isArray(i))){var o=this.getUnbindValue(this.value)||[];if(o.length<i.length){for(var l=!1,u=o.length;u<i.length;u++)l||(l=!i[u].isEmpty),o.push(i[u].value||{});l&&(this.value=o)}}},t.prototype.updateProgressInfoByValues=function(e){var n=this.value;Array.isArray(n)||(n=[]);for(var i=0;i<this.rowCount;i++){var o=i<n.length?n[i]:{};this.updateProgressInfoByRow(e,o)}},t.prototype.getValueForNewRow=function(){var e=null;return this.onGetValueForNewRowCallBack&&(e=this.onGetValueForNewRowCallBack(this)),e},Object.defineProperty(t.prototype,"allowRowsDragAndDrop",{get:function(){return this.getPropertyValue("allowRowsDragAndDrop")},set:function(e){this.setPropertyValue("allowRowsDragAndDrop",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRowsDragAndDrop",{get:function(){return this.allowRowsDragAndDrop&&!this.isReadOnly},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lockedRowCount",{get:function(){return this.getPropertyValue("lockedRowCount",0)},set:function(e){this.setPropertyValue("lockedRowCount",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iconDragElement",{get:function(){return this.cssClasses.iconDragElement},enumerable:!1,configurable:!0}),t.prototype.createRenderedTable=function(){return new _f(this)},Object.defineProperty(t.prototype,"rowCountValue",{get:function(){return this.getPropertyValue("rowCount")},set:function(e){this.setPropertyValue("rowCount",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minRowCount",{get:function(){return this.getPropertyValue("minRowCount")},set:function(e){e<0&&(e=0),this.setPropertyValue("minRowCount",e)},enumerable:!1,configurable:!0}),t.prototype.onMinRowCountChanged=function(){var e=this.minRowCount;e>this.maxRowCount&&(this.maxRowCount=e),this.initialRowCount<e&&(this.initialRowCount=e),this.rowCount<e&&(this.rowCount=e)},Object.defineProperty(t.prototype,"maxRowCount",{get:function(){return this.getPropertyValue("maxRowCount")},set:function(e){e<=0||(e>R.matrix.maxRowCount&&(e=R.matrix.maxRowCount),e!=this.maxRowCount&&this.setPropertyValue("maxRowCount",e))},enumerable:!1,configurable:!0}),t.prototype.onMaxRowCountChanged=function(){var e=this.maxRowCount;e<this.minRowCount&&(this.minRowCount=e),this.rowCount>e&&(this.rowCount=e)},Object.defineProperty(t.prototype,"allowAddRows",{get:function(){return this.getPropertyValue("allowAddRows")},set:function(e){this.setPropertyValue("allowAddRows",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowRemoveRows",{get:function(){return this.getPropertyValue("allowRemoveRows")},set:function(e){this.setPropertyValue("allowRemoveRows",e),this.isUpdateLocked||this.resetRenderedTable()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canAddRow",{get:function(){return this.allowAddRows&&!this.isReadOnly&&this.rowCount<this.maxRowCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canRemoveRows",{get:function(){var e=this.allowRemoveRows&&!this.isReadOnly&&this.rowCount>this.minRowCount;return this.canRemoveRowsCallback?this.canRemoveRowsCallback(e):e},enumerable:!1,configurable:!0}),t.prototype.canRemoveRow=function(e){if(!this.survey)return!0;var n=e.rowIndex-1;return this.lockedRowCount>0&&n<this.lockedRowCount?!1:this.survey.matrixAllowRemoveRow(this,n,e)},t.prototype.addRowUI=function(){this.addRow(!0)},t.prototype.getQuestionToFocusOnAddingRow=function(){if(this.visibleRows.length===0)return null;for(var e=this.visibleRows[this.visibleRows.length-1],n=0;n<e.cells.length;n++){var i=e.cells[n].question;if(i&&i.isVisible&&!i.isReadOnly)return i}return null},t.prototype.addRow=function(e){var n=this.rowCount,i=this.canAddRow,o={question:this,canAddRow:i,allow:i};this.survey&&this.survey.matrixBeforeRowAdded(o);var l=i!==o.allow?o.allow:i!==o.canAddRow?o.canAddRow:i;if(l&&(this.onStartRowAddingRemoving(),this.addRowCore(),this.onEndRowAdding(),this.detailPanelShowOnAdding&&this.visibleRows.length>0&&this.visibleRows[this.visibleRows.length-1].showDetailPanel(),e&&n!==this.rowCount)){var u=this.getQuestionToFocusOnAddingRow();u&&u.focus()}},Object.defineProperty(t.prototype,"detailPanelShowOnAdding",{get:function(){return this.getPropertyValue("detailPanelShowOnAdding")},set:function(e){this.setPropertyValue("detailPanelShowOnAdding",e)},enumerable:!1,configurable:!0}),t.prototype.hasRowsAsItems=function(){return!1},t.prototype.unbindValue=function(){this.clearGeneratedRows(),this.clearPropertyValue("value"),this.rowCountValue=0,r.prototype.unbindValue.call(this)},t.prototype.isValueSurveyElement=function(e){return this.isEditingSurveyElement||r.prototype.isValueSurveyElement.call(this,e)},t.prototype.addRowCore=function(){var e=this.rowCount;this.rowCount=this.rowCount+1;var n=this.getDefaultRowValue(!0),i=null;if(this.isValueEmpty(n)||(i=this.createNewValue(),i.length==this.rowCount&&(i[i.length-1]=n,this.value=i)),this.data){this.runCellsCondition(this.getDataFilteredValues(),this.getDataFilteredProperties());var o=this.visibleRows;if(this.isValueEmpty(n)&&o.length>0){var l=o[o.length-1];this.isValueEmpty(l.value)||(i||(i=this.createNewValue()),!this.isValueSurveyElement(i)&&!this.isTwoValueEquals(i[i.length-1],l.value)&&(i[i.length-1]=l.value,this.value=i))}}if(this.survey){var o=this.visibleRows;if(e+1==this.rowCount&&o.length>0){var l=o[o.length-1];this.survey.matrixRowAdded(this,l),this.onRowsChanged()}}},t.prototype.getDefaultRowValue=function(e){for(var n=null,i=0;i<this.columns.length;i++){var o=this.columns[i].templateQuestion;o&&!this.isValueEmpty(o.getDefaultValue())&&(n=n||{},n[this.columns[i].name]=o.getDefaultValue())}if(!this.isValueEmpty(this.defaultRowValue))for(var l in this.defaultRowValue)n=n||{},n[l]=this.defaultRowValue[l];if(e&&this.defaultValueFromLastRow){var u=this.value;if(u&&Array.isArray(u)&&u.length>=this.rowCount-1){var d=u[this.rowCount-2];for(var l in d)n=n||{},n[l]=d[l]}}return n},t.prototype.focusAddBUtton=function(){var e=this.getRootElement();if(e&&this.cssClasses.buttonAdd){var n=e.querySelectorAll("."+this.cssClasses.buttonAdd)[0];n&&n.focus()}},t.prototype.getActionCellIndex=function(e){var n=this.showHeader?1:0;return this.isColumnLayoutHorizontal?e.cells.length-1+n:this.visibleRows.indexOf(e)+n},t.prototype.removeRowUI=function(e){var n=this;if(e&&e.rowName){var i=this.visibleRows.indexOf(e);if(i<0)return;e=i}this.removeRow(e,void 0,function(){var o=n.visibleRows.length,l=i>=o?o-1:i,u=l>-1?n.visibleRows[l]:void 0;setTimeout(function(){u?n.renderedTable.focusActionCell(u,n.getActionCellIndex(u)):n.focusAddBUtton()},10)})},t.prototype.isRequireConfirmOnRowDelete=function(e){if(!this.confirmDelete||e<0||e>=this.rowCount)return!1;var n=this.createNewValue();return this.isValueEmpty(n)||!Array.isArray(n)||e>=n.length?!1:!this.isValueEmpty(n[e])},t.prototype.removeRow=function(e,n,i){var o=this;if(this.canRemoveRows&&!(e<0||e>=this.rowCount)){var l=this.visibleRows&&e<this.visibleRows.length?this.visibleRows[e]:null;if(n===void 0&&(n=this.isRequireConfirmOnRowDelete(e)),n){Jn({message:this.confirmDeleteText,funcOnYes:function(){o.removeRowAsync(e,l),i&&i()},locale:this.getLocale(),rootElement:this.survey.rootElement,cssClass:this.cssClasses.confirmDialog});return}this.removeRowAsync(e,l),i&&i()}},t.prototype.removeRowAsync=function(e,n){n&&this.survey&&!this.survey.matrixRowRemoving(this,e,n)||(this.onStartRowAddingRemoving(),this.removeRowCore(e),this.onEndRowRemoving(n))},t.prototype.removeRowCore=function(e){var n=this.generatedVisibleRows?this.generatedVisibleRows[e]:null;if(this.generatedVisibleRows&&e<this.generatedVisibleRows.length&&this.generatedVisibleRows.splice(e,1),this.rowCountValue--,this.value){var i=[];Array.isArray(this.value)&&e<this.value.length?i=this.createValueCopy():i=this.createNewValue(),i.splice(e,1),i=this.deleteRowValue(i,null),this.isRowChanging=!0,this.value=i,this.isRowChanging=!1}this.onRowsChanged(),this.survey&&this.survey.matrixRowRemoved(this,e,n)},Object.defineProperty(t.prototype,"confirmDeleteText",{get:function(){return this.getLocalizableStringText("confirmDeleteText")},set:function(e){this.setLocalizableStringText("confirmDeleteText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locConfirmDeleteText",{get:function(){return this.getLocalizableString("confirmDeleteText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"addRowText",{get:function(){return this.getLocalizableStringText("addRowText",this.defaultAddRowText)},set:function(e){this.setLocalizableStringText("addRowText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locAddRowText",{get:function(){return this.getLocalizableString("addRowText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultAddRowText",{get:function(){return this.getLocalizationString(this.isColumnLayoutHorizontal?"addRow":"addColumn")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"addRowLocation",{get:function(){return this.getPropertyValue("addRowLocation")},set:function(e){this.setPropertyValue("addRowLocation",e)},enumerable:!1,configurable:!0}),t.prototype.getAddRowLocation=function(){return this.addRowLocation},Object.defineProperty(t.prototype,"hideColumnsIfEmpty",{get:function(){return this.getPropertyValue("hideColumnsIfEmpty")},set:function(e){this.setPropertyValue("hideColumnsIfEmpty",e)},enumerable:!1,configurable:!0}),t.prototype.getShowColumnsIfEmpty=function(){return this.hideColumnsIfEmpty},Object.defineProperty(t.prototype,"removeRowText",{get:function(){return this.getLocalizableStringText("removeRowText")},set:function(e){this.setLocalizableStringText("removeRowText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locRemoveRowText",{get:function(){return this.getLocalizableString("removeRowText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"emptyRowsText",{get:function(){return this.getLocalizableStringText("emptyRowsText")},set:function(e){this.setLocalizableStringText("emptyRowsText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locEmptyRowsText",{get:function(){return this.getLocalizableString("emptyRowsText")},enumerable:!1,configurable:!0}),t.prototype.getDisplayValueCore=function(e,n){if(!n||!Array.isArray(n))return n;for(var i=this.getUnbindValue(n),o=this.visibleRows,l=0;l<o.length&&l<i.length;l++){var u=i[l];u&&(i[l]=this.getRowDisplayValue(e,o[l],u))}return i},t.prototype.getConditionObjectRowName=function(e){return"["+e.toString()+"]"},t.prototype.getConditionObjectsRowIndeces=function(){for(var e=[],n=Math.max(this.rowCount,1),i=0;i<Math.min(R.matrix.maxRowCountInCondition,n);i++)e.push(i);return e},t.prototype.supportGoNextPageAutomatic=function(){return!1},Object.defineProperty(t.prototype,"hasRowText",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.onCheckForErrors=function(e,n,i){r.prototype.onCheckForErrors.call(this,e,n,i),!n&&this.hasErrorInMinRows()&&e.push(new Yd(this.minRowCount,this))},t.prototype.hasErrorInMinRows=function(){if(this.minRowCount<=0||!this.isRequired||!this.generatedVisibleRows)return!1;for(var e=0,n=0;n<this.generatedVisibleRows.length;n++){var i=this.generatedVisibleRows[n];i.isEmpty||e++}return e<this.minRowCount},t.prototype.getUniqueColumnsNames=function(){var e=r.prototype.getUniqueColumnsNames.call(this),n=this.keyName;return n&&e.indexOf(n)<0&&e.push(n),e},t.prototype.generateRows=function(){var e=new Array;if(this.rowCount===0)return e;for(var n=this.createNewValue(),i=0;i<this.rowCount;i++)e.push(this.createMatrixRow(this.getRowValueByIndex(n,i)));return this.isValueEmpty(this.getDefaultRowValue(!1))||(this.value=n),e},t.prototype.createMatrixRow=function(e){return new sl(this.rowCounter++,this,e)},t.prototype.getInsertedDeletedIndex=function(e,n){for(var i=Math.min(e.length,n.length),o=0;o<i;o++)if(n[o]!==e[o].editingObj)return o;return i},t.prototype.isEditingObjectValueChanged=function(){var e=this.value;if(!this.generatedVisibleRows||!this.isValueSurveyElement(e))return!1;var n=this.lastDeletedRow;this.lastDeletedRow=void 0;var i=this.generatedVisibleRows;if(!Array.isArray(e)||Math.abs(i.length-e.length)>1||i.length===e.length)return!1;var o=this.getInsertedDeletedIndex(i,e);if(i.length>e.length){this.lastDeletedRow=i[o];var l=i[o];i.splice(o,1),this.isRendredTableCreated&&this.renderedTable.onRemovedRow(l)}else{var u=void 0;n&&n.editingObj===e[o]?u=n:(n=void 0,u=this.createMatrixRow(e[o])),i.splice(o,0,u),n||this.onMatrixRowCreated(u),this.isRendredTableCreated&&this.renderedTable.onAddedRow(u,o)}return this.setPropertyValueDirectly("rowCount",e.length),!0},t.prototype.updateValueFromSurvey=function(e,n){if(n===void 0&&(n=!1),this.setRowCountValueFromData=!0,this.minRowCount>0&&D.isValueEmpty(e)&&!D.isValueEmpty(this.defaultRowValue)){e=[];for(var i=0;i<this.minRowCount;i++)e.push(D.createCopy(this.defaultRowValue))}r.prototype.updateValueFromSurvey.call(this,e,n),this.setRowCountValueFromData=!1},t.prototype.getFilteredDataCore=function(){var e=[],n=this.createValueCopy();if(!Array.isArray(n))return e;for(var i=this.generatedVisibleRows,o=0;o<i.length&&o<n.length;o++){var l=n[o];i[o].isVisible&&!D.isValueEmpty(l)&&e.push(l)}return e},t.prototype.onBeforeValueChanged=function(e){if(!(!e||!Array.isArray(e))){var n=e.length;if(n!=this.rowCount&&!(!this.setRowCountValueFromData&&n<this.initialRowCount)&&!this.isEditingObjectValueChanged()&&(this.setRowCountValueFromData=!0,this.rowCountValue=n,!!this.generatedVisibleRows)){if(n==this.generatedVisibleRows.length+1){this.onStartRowAddingRemoving();var i=this.getRowValueByIndex(e,n-1),o=this.createMatrixRow(i);this.generatedVisibleRows.push(o),this.onMatrixRowCreated(o),this.onEndRowAdding()}else this.clearGeneratedRows(),this.getVisibleRows(),this.onRowsChanged();this.setRowCountValueFromData=!1}}},t.prototype.createNewValue=function(){var e=this.createValueCopy();(!e||!Array.isArray(e))&&(e=[]),e.length>this.rowCount&&e.splice(this.rowCount);var n=this.getDefaultRowValue(!1);n=n||{};for(var i=e.length;i<this.rowCount;i++)e.push(this.getUnbindValue(n));return e},t.prototype.deleteRowValue=function(e,n){if(!Array.isArray(e))return e;for(var i=!0,o=0;o<e.length;o++)if(this.isObject(e[o])&&Object.keys(e[o]).length>0){i=!1;break}return i?null:e},t.prototype.getRowValueByIndex=function(e,n){return Array.isArray(e)&&n>=0&&n<e.length?e[n]:null},t.prototype.getRowValueCore=function(e,n,i){if(i===void 0&&(i=!1),!this.generatedVisibleRows)return{};var o=this.getRowValueByIndex(n,this.generatedVisibleRows.indexOf(e));return!o&&i&&(o={}),o},t.prototype.getAddRowButtonCss=function(e){return e===void 0&&(e=!1),new F().append(this.cssClasses.button).append(this.cssClasses.buttonAdd).append(this.cssClasses.emptyRowsButton,e).toString()},t.prototype.getRemoveRowButtonCss=function(){return new F().append(this.cssClasses.button).append(this.cssClasses.buttonRemove).toString()},t.prototype.getRootCss=function(){var e;return new F().append(r.prototype.getRootCss.call(this)).append(this.cssClasses.empty,!(!((e=this.renderedTable)===null||e===void 0)&&e.showTable)).toString()},t}(An),_f=function(r){bo(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.setDefaultRowActions=function(e,n){r.prototype.setDefaultRowActions.call(this,e,n)},t}(fo);L.addClass("matrixdynamic",[{name:"allowAddRows:boolean",default:!0},{name:"allowRemoveRows:boolean",default:!0},{name:"rowCount:number",default:2,minValue:0,isBindable:!0},{name:"minRowCount:number",default:0,minValue:0},{name:"maxRowCount:number",default:R.matrix.maxRowCount},{name:"keyName"},"defaultRowValue:rowvalue","defaultValueFromLastRow:boolean",{name:"confirmDelete:boolean"},{name:"confirmDeleteText",dependsOn:"confirmDelete",visibleIf:function(r){return!r||r.confirmDelete},serializationProperty:"locConfirmDeleteText"},{name:"addRowLocation",default:"default",choices:["default","top","bottom","topBottom"]},{name:"addRowText",serializationProperty:"locAddRowText"},{name:"removeRowText",serializationProperty:"locRemoveRowText"},"hideColumnsIfEmpty:boolean",{name:"emptyRowsText:text",serializationProperty:"locEmptyRowsText",dependsOn:"hideColumnsIfEmpty",visibleIf:function(r){return!r||r.hideColumnsIfEmpty}},{name:"detailPanelShowOnAdding:boolean",dependsOn:"detailPanelMode",visibleIf:function(r){return r.detailPanelMode!=="none"}},"allowRowsDragAndDrop:switch"],function(){return new Co("")},"matrixdropdownbase"),Se.Instance.registerQuestion("matrixdynamic",function(r){var t=new Co(r);return t.choices=[1,2,3,4,5],An.addDefaultColumns(t),t});var Ze={currentType:"",getCss:function(){var r=this.currentType?this[this.currentType]:Zi;return r||(r=Zi),r},getAvailableThemes:function(){return Object.keys(this).filter(function(r){return["currentType","getCss","getAvailableThemes"].indexOf(r)===-1})}},Zi={root:"sd-root-modern",rootProgress:"sd-progress",rootMobile:"sd-root-modern--mobile",rootAnimationDisabled:"sd-root-modern--animation-disabled",rootReadOnly:"sd-root--readonly",rootCompact:"sd-root--compact",rootFitToContainer:"sd-root-modern--full-container",rootWrapper:"sd-root-modern__wrapper",rootWrapperFixed:"sd-root-modern__wrapper--fixed",rootWrapperHasImage:"sd-root-modern__wrapper--has-image",rootBackgroundImage:"sd-root_background-image",container:"sd-container-modern",header:"sd-title sd-container-modern__title",bodyContainer:"sv-components-row",body:"sd-body",bodyWithTimer:"sd-body--with-timer",clockTimerRoot:"sd-timer",clockTimerRootTop:"sd-timer--top",clockTimerRootBottom:"sd-timer--bottom",clockTimerProgress:"sd-timer__progress",clockTimerProgressAnimation:"sd-timer__progress--animation",clockTimerTextContainer:"sd-timer__text-container",clockTimerMinorText:"sd-timer__text--minor",clockTimerMajorText:"sd-timer__text--major",bodyEmpty:"sd-body sd-body--empty",bodyLoading:"sd-body--loading",footer:"sd-footer sd-body__navigation sd-clearfix",title:"sd-title",description:"sd-description",logo:"sd-logo",logoImage:"sd-logo__image",headerText:"sd-header__text",headerClose:"sd-hidden",navigationButton:"",bodyNavigationButton:"sd-btn",completedPage:"sd-completedpage",completedBeforePage:"sd-completed-before-page",timerRoot:"sd-body__timer",navigation:{complete:"sd-btn--action sd-navigation__complete-btn",prev:"sd-navigation__prev-btn",next:"sd-navigation__next-btn",start:"sd-navigation__start-btn",preview:"sd-navigation__preview-btn",edit:"sd-btn sd-btn--small"},panel:{contentEnter:"sd-element__content--enter",contentLeave:"sd-element__content--leave",enter:"sd-element-wrapper--enter",leave:"sd-element-wrapper--leave",asPage:"sd-panel--as-page",number:"sd-element__num",title:"sd-title sd-element__title sd-panel__title",titleExpandable:"sd-element__title--expandable",titleExpandableSvg:"sd-element__title-expandable-svg",titleNumInline:"sd-element__title--num-inline",titleExpanded:"sd-element__title--expanded",titleCollapsed:"sd-element__title--collapsed",titleDisabled:"sd-element__title--disabled",titleOnExpand:"sd-panel__title--expanded",titleOnError:"sd-panel__title--error",titleBar:"sd-action-title-bar",description:"sd-description sd-panel__description",container:"sd-element sd-element--complex sd-panel sd-row__panel",withFrame:"sd-element--with-frame",content:"sd-element__content sd-panel__content",icon:"sd-panel__icon",iconExpanded:"sd-panel__icon--expanded",footer:"sd-panel__footer",requiredText:"sd-panel__required-text",header:"sd-panel__header sd-element__header sd-element__header--location-top",collapsed:"sd-element--collapsed",expanded:"sd-element--expanded",expandable:"sd-element--expandable",expandableAnimating:"sd-elemenet--expandable--animating",nested:"sd-element--nested sd-element--nested-with-borders",invisible:"sd-element--invisible",navigationButton:"",compact:"sd-element--with-frame sd-element--compact",errorsContainer:"sd-panel__errbox sd-element__erbox sd-element__erbox--above-element"},paneldynamic:{mainRoot:"sd-element  sd-question sd-question--paneldynamic sd-element--complex sd-question--complex sd-row__question",empty:"sd-question--empty",root:"sd-paneldynamic",iconRemove:"sd-hidden",navigation:"sd-paneldynamic__navigation",title:"sd-title sd-element__title sd-question__title",header:"sd-paneldynamic__header sd-element__header",headerTab:"sd-paneldynamic__header-tab",button:"sd-action sd-paneldynamic__btn",buttonRemove:"sd-action--negative sd-paneldynamic__remove-btn",buttonAdd:"sd-paneldynamic__add-btn",buttonPrev:"sd-paneldynamic__prev-btn sd-action--icon sd-action",buttonPrevDisabled:"sd-action--disabled",buttonNextDisabled:"sd-action--disabled",buttonNext:"sd-paneldynamic__next-btn sd-action--icon sd-action",progressContainer:"sd-paneldynamic__progress-container",progress:"sd-progress",progressBar:"sd-progress__bar",nested:"sd-element--nested sd-element--nested-with-borders",progressText:"sd-paneldynamic__progress-text",separator:"sd-paneldynamic__separator",panelWrapper:"sd-paneldynamic__panel-wrapper",footer:"sd-paneldynamic__footer",panelFooter:"sd-paneldynamic__panel-footer",footerButtonsContainer:"sd-paneldynamic__buttons-container",panelsContainer:"sd-paneldynamic__panels-container",panelWrapperInRow:"sd-paneldynamic__panel-wrapper--in-row",panelWrapperEnter:"sd-paneldynamic__panel-wrapper--enter",panelWrapperLeave:"sd-paneldynamic__panel-wrapper--leave",panelWrapperList:"sd-paneldynamic__panel-wrapper--list",progressBtnIcon:"icon-progressbuttonv2",noEntriesPlaceholder:"sd-paneldynamic__placeholder sd-question__placeholder",compact:"sd-element--with-frame sd-element--compact",tabsRoot:"sd-tabs-toolbar",tabsLeft:"sd-tabs-toolbar--left",tabsRight:"sd-tabs-toolbar--right",tabsCenter:"sd-tabs-toolbar--center",tabs:{item:"sd-tab-item",itemPressed:"sd-tab-item--pressed",itemAsIcon:"sd-tab-item--icon",itemIcon:"sd-tab-item__icon",itemTitle:"sd-tab-item__title"}},progress:"sd-progress sd-body__progress",progressTop:"sd-body__progress--top",progressBottom:"sd-body__progress--bottom",progressBar:"sd-progress__bar",progressText:"sd-progress__text",progressButtonsRoot:"sd-progress-buttons",progressButtonsNumbered:"sd-progress-buttons--numbered",progressButtonsFitSurveyWidth:"sd-progress-buttons--fit-survey-width",progressButtonsContainerCenter:"sd-progress-buttons__container-center",progressButtonsContainer:"sd-progress-buttons__container",progressButtonsConnector:"sd-progress-buttons__connector",progressButtonsButton:"sd-progress-buttons__button",progressButtonsButtonBackground:"sd-progress-buttons__button-background",progressButtonsButtonContent:"sd-progress-buttons__button-content",progressButtonsHeader:"sd-progress-buttons__header",progressButtonsFooter:"sd-progress-buttons__footer",progressButtonsImageButtonLeft:"sd-progress-buttons__image-button-left",progressButtonsImageButtonRight:"sd-progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sd-progress-buttons__image-button--hidden",progressButtonsListContainer:"sd-progress-buttons__list-container",progressButtonsList:"sd-progress-buttons__list",progressButtonsListElementPassed:"sd-progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sd-progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sd-progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sd-progress-buttons__page-title",progressButtonsPageDescription:"sd-progress-buttons__page-description",progressTextInBar:"sd-hidden",page:{root:"sd-page sd-body__page",emptyHeaderRoot:"sd-page__empty-header",title:"sd-title sd-page__title",description:"sd-description sd-page__description",number:"sd-page__num",errorsContainer:"sd-page__errbox"},pageTitle:"sd-title sd-page__title",pageDescription:"sd-description sd-page__description",row:"sd-row sd-clearfix",rowMultiple:"sd-row--multiple",rowCompact:"sd-row--compact",rowEnter:"sd-row--enter",rowDelayedEnter:"sd-row--delayed-enter",rowLeave:"sd-row--leave",rowReplace:"sd-row--replace",pageRow:"sd-page__row",question:{contentEnter:"sd-element__content--enter",contentLeave:"sd-element__content--leave",enter:"sd-element-wrapper--enter",leave:"sd-element-wrapper--leave",mobile:"sd-question--mobile",mainRoot:"sd-element sd-question sd-row__question",flowRoot:"sd-element sd-question sd-row__question sd-row__question--flow",withFrame:"sd-element--with-frame",asCell:"sd-table__cell",answered:"sd-question--answered",header:"sd-question__header sd-element__header",headerLeft:"sd-question__header--location--left",headerTop:"sd-question__header--location-top sd-element__header--location-top",headerBottom:"sd-question__header--location--bottom",content:"sd-element__content sd-question__content",contentSupportContainerQueries:"sd-question__content--support-container-queries",contentLeft:"sd-question__content--left",titleNumInline:"sd-element__title--num-inline",titleLeftRoot:"sd-question--left",titleTopRoot:"sd-question--title-top",descriptionUnderInputRoot:"sd-question--description-under-input",titleBottomRoot:"sd-question--title-bottom",titleOnAnswer:"sd-question__title--answer",titleEmpty:"sd-question__title--empty",titleOnError:"sd-question__title--error",title:"sd-title sd-element__title sd-question__title",titleExpandable:"sd-element__title--expandable",titleExpandableSvg:"sd-element__title-expandable-svg",titleExpanded:"sd-element__title--expanded",titleCollapsed:"sd-element__title--collapsed",titleDisabled:"sd-element__title--disabled",titleReadOnly:"sd-element__title--readonly",titleBar:"sd-action-title-bar",requiredText:"sd-question__required-text",number:"sd-element__num",description:"sd-description sd-question__description",descriptionUnderInput:"sd-question__description--under-input",comment:"sd-input sd-comment",other:"sd-input sd-comment",required:"sd-question--required",titleRequired:"sd-question__title--required",indent:20,footer:"sd-question__footer",commentArea:"sd-question__comment-area",formGroup:"sd-question__form-group",hasError:"sd-question--error",hasErrorTop:"sd-question--error-top",hasErrorBottom:"sd-question--error-bottom",collapsed:"sd-element--collapsed",expandable:"sd-element--expandable",expandableAnimating:"sd-elemenet--expandable--animating",expanded:"sd-element--expanded",nested:"sd-element--nested",invisible:"sd-element--invisible",composite:"sd-element--complex sd-composite",disabled:"sd-question--disabled",readOnly:"sd-question--readonly",preview:"sd-question--preview",noPointerEventsMode:"sd-question--no-pointer-events",errorsContainer:"sd-element__erbox sd-question__erbox",errorsContainerTop:"sd-element__erbox--above-element sd-question__erbox--above-question",errorsContainerBottom:"sd-question__erbox--below-question",confirmDialog:"sd-popup--confirm sv-popup--confirm"},image:{mainRoot:"sd-question sd-question--image",root:"sd-image",image:"sd-image__image",adaptive:"sd-image__image--adaptive",noImage:"sd-image__no-image",noImageSvgIconId:"icon-no-image",withFrame:""},html:{mainRoot:"sd-question sd-row__question sd-question--html",root:"sd-html",withFrame:"",nested:"sd-element--nested sd-html--nested"},error:{root:"sd-error",icon:"",item:"",locationTop:"",locationBottom:""},checkbox:{root:"sd-selectbase",rootMobile:"sd-selectbase--mobile",rootRow:"sd-selectbase--row",rootMultiColumn:"sd-selectbase--multi-column",item:"sd-item sd-checkbox sd-selectbase__item",itemEnter:"sd-item--enter",itemLeave:"sd-item--leave",itemOnError:"sd-item--error",itemSelectAll:"sd-checkbox--selectall",itemNone:"sd-checkbox--none",itemDisabled:"sd-item--disabled sd-checkbox--disabled",itemReadOnly:"sd-item--readonly sd-checkbox--readonly",itemPreview:"sd-item--preview sd-checkbox--preview",itemPreviewSvgIconId:"#icon-check-16x16",itemChecked:"sd-item--checked sd-checkbox--checked",itemHover:"sd-item--allowhover sd-checkbox--allowhover",itemInline:"sd-selectbase__item--inline",label:"sd-selectbase__label",labelChecked:"",itemControl:"sd-visuallyhidden sd-item__control sd-checkbox__control",itemDecorator:"sd-item__svg sd-checkbox__svg",itemSvgIconId:"#icon-check-16x16",controlLabel:"sd-item__control-label",materialDecorator:"sd-item__decorator sd-checkbox__decorator",other:"sd-input sd-comment sd-selectbase__other",column:"sd-selectbase__column"},radiogroup:{root:"sd-selectbase",rootMobile:"sd-selectbase--mobile",rootRow:"sd-selectbase--row",rootMultiColumn:"sd-selectbase--multi-column",item:"sd-item sd-radio sd-selectbase__item",itemOnError:"sd-item--error",itemInline:"sd-selectbase__item--inline",label:"sd-selectbase__label",labelChecked:"",itemEnter:"sd-item--enter",itemLeave:"sd-item--leave",itemDisabled:"sd-item--disabled sd-radio--disabled",itemReadOnly:"sd-item--readonly sd-radio--readonly",itemPreview:"sd-item--preview sd-radio--preview",itemPreviewSvgIconId:"#icon-check-16x16",itemChecked:"sd-item--checked sd-radio--checked",itemHover:"sd-item--allowhover sd-radio--allowhover",itemControl:"sd-visuallyhidden sd-item__control sd-radio__control",itemDecorator:"sd-item__svg sd-radio__svg",controlLabel:"sd-item__control-label",materialDecorator:"sd-item__decorator sd-radio__decorator",other:"sd-input sd-comment sd-selectbase__other",clearButton:"",column:"sd-selectbase__column"},boolean:{mainRoot:"sd-element sd-question sd-row__question sd-question--boolean",root:"sv_qcbc sv_qbln sd-scrollable-container sd-boolean-root",rootRadio:"sv_qcbc sv_qbln sd-scrollable-container sd-scrollable-container--compact",item:"sd-boolean",itemOnError:"sd-boolean--error",control:"sd-boolean__control sd-visuallyhidden",itemChecked:"sd-boolean--checked",itemExchanged:"sd-boolean--exchanged",itemIndeterminate:"sd-boolean--indeterminate",itemDisabled:"sd-boolean--disabled",itemReadOnly:"sd-boolean--readonly",itemPreview:"sd-boolean--preview",itemHover:"sd-boolean--allowhover",label:"sd-boolean__label",labelTrue:"sd-boolean__label--true",labelFalse:"sd-boolean__label--false",switch:"sd-boolean__switch",disabledLabel:"sd-checkbox__label--disabled",labelReadOnly:"sd-checkbox__label--readonly",labelPreview:"sd-checkbox__label--preview",sliderText:"sd-boolean__thumb-text",slider:"sd-boolean__thumb",sliderGhost:"sd-boolean__thumb-ghost",radioItem:"sd-item",radioItemChecked:"sd-item--checked sd-radio--checked",radioItemDisabled:"sd-item--disabled sd-radio--disabled",radioItemReadOnly:"sd-item--readonly sd-radio--readonly",radioItemPreview:"sd-item--preview sd-radio--preview",itemPreviewSvgIconId:"#icon-check-16x16",radioLabel:"sd-selectbase__label",radioControlLabel:"sd-item__control-label",radioFieldset:"sd-selectbase",itemRadioDecorator:"sd-item__svg sd-radio__svg",materialRadioDecorator:"sd-item__decorator sd-radio__decorator",itemRadioControl:"sd-visuallyhidden sd-item__control sd-radio__control",rootCheckbox:"sd-selectbase",checkboxItem:"sd-item sd-selectbase__item sd-checkbox",checkboxLabel:"sd-selectbase__label",checkboxItemOnError:"sd-item--error",checkboxItemIndeterminate:"sd-checkbox--intermediate",checkboxItemChecked:"sd-item--checked sd-checkbox--checked",checkboxItemDecorator:"sd-item__svg sd-checkbox__svg",checkboxItemDisabled:"sd-item--disabled sd-checkbox--disabled",checkboxItemReadOnly:"sd-item--readonly sd-checkbox--readonly",checkboxItemPreview:"sd-item--preview sd-checkbox--preview",controlCheckbox:"sd-visuallyhidden sd-item__control sd-checkbox__control",checkboxMaterialDecorator:"sd-item__decorator sd-checkbox__decorator",checkboxControlLabel:"sd-item__control-label",svgIconCheckedId:"#icon-check-16x16"},text:{root:"sd-input sd-text",small:"sd-row__question--small",controlDisabled:"sd-input--disabled",controlReadOnly:"sd-input--readonly",controlPreview:"sd-input--preview",constrolWithCharacterCounter:"sd-text__character-counter",characterCounterBig:"sd-text__character-counter--big",content:"sd-text__content sd-question__content",remainingCharacterCounter:"sd-remaining-character-counter",onError:"sd-input--error"},multipletext:{root:"sd-multipletext",rootMobile:"sd-multipletext--mobile",itemLabel:"sd-multipletext__item-container sd-input",itemLabelReadOnly:"sd-input--readonly",itemLabelDisabled:"sd-input--disabled",itemLabelPreview:"sd-input--preview",itemLabelOnError:"sd-multipletext__item-container--error",itemLabelAllowFocus:"sd-multipletext__item-container--allow-focus",itemLabelAnswered:"sd-multipletext__item-container--answered",itemWithCharacterCounter:"sd-multipletext-item__character-counter",item:"sd-multipletext__item",itemTitle:"sd-multipletext__item-title",content:"sd-multipletext__content sd-question__content",row:"sd-multipletext__row",cell:"sd-multipletext__cell",cellError:"sd-multipletext__cell--error",cellErrorTop:"sd-multipletext__cell--error-top",cellErrorBottom:"sd-multipletext__cell--error-bottom"},dropdown:{root:"sd-selectbase",popup:"sv-dropdown-popup",small:"sd-row__question--small",selectWrapper:"sv-dropdown_select-wrapper",other:"sd-input sd-comment sd-selectbase__other",onError:"sd-input--error",label:"sd-selectbase__label",itemEnter:"sd-item--enter",itemLeave:"sd-item--leave",item:"sd-item sd-radio sd-selectbase__item",itemDisabled:"sd-item--disabled sd-radio--disabled",itemChecked:"sd-item--checked sd-radio--checked",itemHover:"sd-item--allowhover sd-radio--allowhover",itemControl:"sd-visuallyhidden sd-item__control sd-radio__control",itemDecorator:"sd-item__svg sd-radio__svg",cleanButton:"sd-dropdown_clean-button",cleanButtonSvg:"sd-dropdown_clean-button-svg",cleanButtonIconId:"icon-cancel",chevronButton:"sd-dropdown_chevron-button",chevronButtonSvg:"sd-dropdown_chevron-button-svg",chevronButtonIconId:"icon-chevron",control:"sd-input sd-dropdown",controlInputFieldComponent:"sd-dropdown__input-field-component",controlValue:"sd-dropdown__value",controlDisabled:"sd-input--disabled",controlReadOnly:"sd-input--readonly",controlPreview:"sd-input--preview",controlEmpty:"sd-dropdown--empty",controlLabel:"sd-item__control-label",filterStringInput:"sd-dropdown__filter-string-input",materialDecorator:"sd-item__decorator sd-radio__decorator",hintPrefix:"sd-dropdown__hint-prefix",hintSuffix:"sd-dropdown__hint-suffix"},imagepicker:{mainRoot:"sd-element sd-question sd-row__question",root:"sd-selectbase sd-imagepicker",rootColumn:"sd-imagepicker--column",item:"sd-imagepicker__item",itemOnError:"sd-imagepicker__item--error",itemInline:"sd-imagepicker__item--inline",itemChecked:"sd-imagepicker__item--checked",itemDisabled:"sd-imagepicker__item--disabled",itemReadOnly:"sd-imagepicker__item--readonly",itemPreview:"sd-imagepicker__item--preview",itemHover:"sd-imagepicker__item--allowhover",label:"sd-imagepicker__label",itemDecorator:"sd-imagepicker__item-decorator",imageContainer:"sd-imagepicker__image-container",itemControl:"sd-imagepicker__control sd-visuallyhidden",image:"sd-imagepicker__image",itemText:"sd-imagepicker__text",other:"sd-input sd-comment",itemNoImage:"sd-imagepicker__no-image",itemNoImageSvgIcon:"sd-imagepicker__no-image-svg",itemNoImageSvgIconId:"icon-no-image",column:"sd-selectbase__column sd-imagepicker__column",checkedItemDecorator:"sd-imagepicker__check-decorator",checkedItemSvgIcon:"sd-imagepicker__check-icon",checkedItemSvgIconId:"icon-check-24x24"},matrix:{mainRoot:"sd-element sd-question sd-row__question sd-element--complex sd-question--complex sd-question--table",tableWrapper:"sd-matrix sd-table-wrapper",root:"sd-table sd-matrix__table",columnsAutoWidth:"sd-table--columnsautowidth",noHeader:"sd-table--no-header",rootVerticalAlignTop:"sd-table--align-top",rootVerticalAlignMiddle:"sd-table--align-middle",rootAlternateRows:"sd-table--alternate-rows",rowError:"sd-matrix__row--error",cell:"sd-table__cell sd-matrix__cell",row:"sd-table__row",rowDisabled:"sd-table__row-disabled",rowReadOnly:"sd-table__row-readonly",headerCell:"sd-table__cell sd-table__cell--header",rowTextCell:"sd-table__cell sd-matrix__cell sd-table__cell--row-text",label:"sd-item sd-radio sd-matrix__label",itemOnError:"sd-item--error",itemValue:"sd-visuallyhidden sd-item__control sd-radio__control",itemChecked:"sd-item--checked sd-radio--checked",itemDisabled:"sd-item--disabled sd-radio--disabled",itemReadOnly:"sd-item--readonly sd-radio--readonly",itemPreview:"sd-item--preview sd-radio--preview",itemPreviewSvgIconId:"#icon-check-16x16",itemHover:"sd-radio--allowhover",materialDecorator:"sd-item__decorator sd-radio__decorator",itemDecorator:"sd-item__svg sd-radio__svg",cellText:"sd-matrix__text",cellTextSelected:"sd-matrix__text--checked",cellTextDisabled:"sd-matrix__text--disabled",cellResponsiveTitle:"sd-matrix__responsive-title",compact:"sd-element--with-frame sd-element--compact"},matrixdropdown:{mainRoot:"sd-element sd-question sd-row__question sd-element--complex sd-question--complex sd-question--table",rootScroll:"sd-question--scroll",root:"sd-table sd-matrixdropdown",columnsAutoWidth:"sd-table--columnsautowidth",noHeader:"sd-table--no-header",hasFooter:"sd-table--has-footer",rootVerticalAlignTop:"sd-table--align-top",rootVerticalAlignMiddle:"sd-table--align-middle",tableWrapper:"sd-table-wrapper",rootAlternateRows:"sd-table--alternate-rows",cell:"sd-table__cell",cellResponsiveTitle:"sd-table__responsive-title",errorsCell:"sd-table__cell--error",errorsCellTop:"sd-table__cell--error-top",errorsCellBottom:"sd-table__cell--error-bottom",itemCell:"sd-table__cell--item",row:"sd-table__row",rowDelayedEnter:"sd-table__row--delayed-enter",rowEnter:"sd-table__row--enter",rowLeave:"sd-table__row--leave",expandedRow:"sd-table__row--expanded",rowHasPanel:"sd-table__row--has-panel",rowHasEndActions:"sd-table__row--has-end-actions",headerCell:"sd-table__cell sd-table__cell--header",rowTextCell:"sd-table__cell sd-table__cell--row-text",footerCell:"sd-table__cell sd-table__cell--footer",footerTotalCell:"sd-table__cell sd-table__cell--footer-total",columnTitleCell:"sd-table__cell--column-title",cellRequiredText:"sd-question__required-text",detailButton:"sd-table__cell--detail-button",detailButtonExpanded:"sd-table__cell--detail-button--expanded",detailIcon:"sd-detail-panel__icon",detailIconExpanded:"sd-detail-panel__icon--expanded",detailIconId:"icon-expanddetail",detailIconExpandedId:"icon-collapsedetail",detailPanelCell:"sd-table__cell--detail-panel",detailRowCell:"sd-table__cell--detail",actionsCellPrefix:"sd-table__cell-action",actionsCell:"sd-table__cell sd-table__cell--actions",actionsCellDrag:"sd-table__cell--drag",emptyCell:"sd-table__cell--empty",verticalCell:"sd-table__cell--vertical",cellQuestionWrapper:"sd-matrix__question-wrapper sd-table__question-wrapper",compact:"sd-element--with-frame sd-element--compact"},matrixdynamic:{mainRoot:"sd-element sd-question sd-row__question sd-element--complex sd-question--complex sd-question--table",rootScroll:"sd-question--scroll",empty:"sd-question--empty",root:"sd-table sd-matrixdynamic",columnsAutoWidth:"sd-table--columnsautowidth",noHeader:"sd-table--no-header",hasFooter:"sd-table--has-footer",tableWrapper:"sd-table-wrapper",rootAlternateRows:"sd-table--alternate-rows",content:"sd-matrixdynamic__content sd-question__content",cell:"sd-table__cell",cellResponsiveTitle:"sd-table__responsive-title",row:"sd-table__row",rowDelayedEnter:"sd-table__row--delayed-enter",rowEnter:"sd-table__row--enter",rowLeave:"sd-table__row--leave",rowHasPanel:"sd-table__row--has-panel",rowHasEndActions:"sd-table__row--has-end-actions",expandedRow:"sd-table__row--expanded",itemCell:"sd-table__cell--item",headerCell:"sd-table__cell sd-table__cell--header",rowTextCell:"sd-table__cell sd-table__cell--row-text",footerCell:"sd-table__cell sd-table__cell--footer",columnTitleCell:"sd-table__cell--column-title",cellRequiredText:"sd-question__required-text",button:"sd-action sd-matrixdynamic__btn",detailRow:"sd-table__row sd-table__row--detail",detailButton:"sd-table__cell--detail-button",detailButtonExpanded:"sd-table__cell--detail-button--expanded",detailIcon:"sd-detail-panel__icon",detailIconExpanded:"sd-detail-panel__icon--expanded",detailIconId:"icon-expanddetail",detailIconExpandedId:"icon-collapsedetail",detailPanelCell:"sd-table__cell--detail-panel",detailRowCell:"sd-table__cell--detail",actionsCellPrefix:"sd-table__cell-action",actionsCell:"sd-table__cell sd-table__cell--actions",actionsCellDrag:"sd-table__cell--drag",buttonAdd:"sd-matrixdynamic__add-btn",buttonRemove:"sd-action--negative sd-matrixdynamic__remove-btn",iconAdd:"sd-hidden",iconRemove:"",dragElementDecorator:"sd-drag-element__svg",iconDragElement:"#icon-drag-24x24",footer:"sd-matrixdynamic__footer",footerTotalCell:"sd-table__cell sd-table__cell--footer-total",emptyRowsSection:"sd-matrixdynamic__placeholder sd-question__placeholder",iconDrag:"sv-matrixdynamic__drag-icon",ghostRow:"sv-matrix-row--drag-drop-ghost-mod",draggedRow:"sv-matrixdynamic-dragged-row",emptyCell:"sd-table__cell--empty",verticalCell:"sd-table__cell--vertical",cellQuestionWrapper:"sd-matrix__question-wrapper sd-table__question-wrapper",errorsCell:"sd-table__cell--error",errorsCellTop:"sd-table__cell--error-top",errorsCellBottom:"sd-table__cell--error-bottom",compact:"sd-element--with-frame sd-element--compact"},rating:{rootDropdown:"sd-scrollable-container sd-scrollable-container--compact sd-selectbase",root:"sd-scrollable-container sd-rating",rootWrappable:"sd-rating--wrappable",rootLabelsTop:"sd-rating--labels-top",rootLabelsBottom:"sd-rating--labels-bottom",rootLabelsDiagonal:"sd-rating--labels-diagonal",item:"sd-rating__item",itemOnError:"sd-rating__item--error",itemHover:"sd-rating__item--allowhover",selected:"sd-rating__item--selected",itemStar:"sd-rating__item-star",itemStarOnError:"sd-rating__item-star--error",itemStarHover:"sd-rating__item-star--allowhover",itemStarSelected:"sd-rating__item-star--selected",itemStarDisabled:"sd-rating__item-star--disabled",itemStarReadOnly:"sd-rating__item-star--readonly",itemStarPreview:"sd-rating__item-star--preview",itemStarHighlighted:"sd-rating__item-star--highlighted",itemStarUnhighlighted:"sd-rating__item-star--unhighlighted",itemStarSmall:"sd-rating__item-star--small",itemSmiley:"sd-rating__item-smiley",itemSmileyOnError:"sd-rating__item-smiley--error",itemSmileyHover:"sd-rating__item-smiley--allowhover",itemSmileySelected:"sd-rating__item-smiley--selected",itemSmileyDisabled:"sd-rating__item-smiley--disabled",itemSmileyReadOnly:"sd-rating__item-smiley--readonly",itemSmileyPreview:"sd-rating__item-smiley--preview",itemSmileyHighlighted:"sd-rating__item-star--highlighted",itemSmileyScaleColored:"sd-rating__item-smiley--scale-colored",itemSmileyRateColored:"sd-rating__item-smiley--rate-colored",itemSmileySmall:"sd-rating__item-smiley--small",minText:"sd-rating__item-text sd-rating__min-text",itemText:"sd-rating__item-text",maxText:"sd-rating__item-text sd-rating__max-text",itemDisabled:"sd-rating__item--disabled",itemReadOnly:"sd-rating__item--readonly",itemPreview:"sd-rating__item--preview",itemFixedSize:"sd-rating__item--fixed-size",control:"sd-input sd-dropdown",itemSmall:"sd-rating--small",selectWrapper:"sv-dropdown_select-wrapper",controlValue:"sd-dropdown__value",controlDisabled:"sd-input--disabled",controlReadOnly:"sd-input--readonly",controlPreview:"sd-input--preview",controlEmpty:"sd-dropdown--empty",filterStringInput:"sd-dropdown__filter-string-input",chevronButton:"sd-dropdown_chevron-button",chevronButtonSvg:"sd-dropdown_chevron-button-svg",chevronButtonIconId:"icon-chevron",popup:"sv-dropdown-popup",onError:"sd-input--error"},comment:{root:"sd-input sd-comment",small:"sd-row__question--small",controlDisabled:"sd-input--disabled",controlReadOnly:"sd-input--readonly",controlPreview:"sd-input--preview",content:"sd-comment__content sd-question__content",remainingCharacterCounter:"sd-remaining-character-counter",onError:"sd-input--error"},expression:"sd-expression",file:{root:"sd-file",rootDragging:"sd-file--dragging",rootAnswered:"sd-file--answered",rootDisabled:"sd-file--disabled",rootReadOnly:"sd-file--readonly",rootPreview:"sd-file--preview",other:"sd-input sd-comment",placeholderInput:"sd-visuallyhidden",previewItem:"sd-file__preview-item",fileSign:"",fileList:"sd-file__list",fileSignBottom:"sd-file__sign",dragArea:"sd-file__drag-area",dragAreaActive:"sd-file__drag-area--active",fileDecorator:"sd-file__decorator",onError:"sd-file__decorator--error",fileDecoratorDrag:"sd-file__decorator--drag",fileInput:"sd-visuallyhidden",noFileChosen:"sd-description sd-file__no-file-chosen",chooseFile:"sd-file__choose-btn",chooseFileAsText:"sd-action sd-file__choose-btn--text",chooseFileAsTextDisabled:"sd-action--disabled",chooseFileAsIcon:"sd-file__choose-btn--icon",chooseFileIconId:"icon-choosefile",disabled:"sd-file__choose-btn--disabled",controlDisabled:"sd-file__choose-file-btn--disabled",removeButton:"sd-context-btn--negative",removeButtonBottom:"",removeButtonIconId:"icon-clear",removeFile:"sd-hidden",removeFileSvg:"",removeFileSvgIconId:"icon-close_16x16",wrapper:"sd-file__wrapper",defaultImage:"sd-file__default-image",defaultImageIconId:"icon-defaultfile",leftIconId:"icon-arrowleft",rightIconId:"icon-arrowright",removeFileButton:"sd-context-btn--small sd-context-btn--with-border sd-context-btn--colorful sd-context-btn--negative sd-file__remove-file-button",dragAreaPlaceholder:"sd-file__drag-area-placeholder",imageWrapper:"sd-file__image-wrapper",imageWrapperDefaultImage:"sd-file__image-wrapper--default-image",single:"sd-file--single",singleImage:"sd-file--single-image",mobile:"sd-file--mobile",videoContainer:"sd-file__video-container",contextButton:"sd-context-btn",video:"sd-file__video",actionsContainer:"sd-file__actions-container",closeCameraButton:"sd-file__close-camera-button",changeCameraButton:"sd-file__change-camera-button",takePictureButton:"sd-file__take-picture-button",loadingIndicator:"sd-file__loading-indicator",page:"sd-file__page"},signaturepad:{mainRoot:"sd-element sd-question sd-question--signature sd-row__question",root:"sd-signaturepad sjs_sp_container",small:"sd-row__question--small",controls:"sjs_sp_controls sd-signaturepad__controls",placeholder:"sjs_sp_placeholder",canvas:"sjs_sp_canvas sd-signaturepad__canvas",backgroundImage:"sjs_sp__background-image sd-signaturepad__background-image",clearButton:"sjs_sp_clear sd-context-btn sd-context-btn--negative sd-signaturepad__clear",clearButtonIconId:"icon-clear",loadingIndicator:"sd-signaturepad__loading-indicator"},saveData:{root:"sv-save-data_root",rootWithButtons:"sv-save-data_root--with-buttons",info:"sv-save-data_info",error:"sv-save-data_error",success:"sv-save-data_success",button:"sv-save-data_button",shown:"sv-save-data_root--shown"},window:{root:"sv_window",rootCollapsedMod:"sv_window--collapsed",rootFullScreenMode:"sv_window--full-screen",rootContent:"sv_window_root-content",body:"sv_window_content",header:{root:"sv_window_header",titleCollapsed:"sv_window_header_title_collapsed",buttonsContainer:"sv_window_buttons_container",button:"sv_window_button",buttonExpanded:"",buttonCollapsed:"",collapseButton:"sv_window_button sv_window_button_collapse",closeButton:"sv_window_button sv_window_button_close",fullScreenButton:"sv_window_button sv_window_button_full_screen"}},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",rootDisabled:"sd-ranking--disabled",rootReadOnly:"sd-ranking--readonly",rootPreview:"sd-ranking--preview",rootDesignMode:"sv-ranking--design-mode",rootDragHandleAreaIcon:"sv-ranking--drag-handle-area-icon",rootSelectToRankMod:"sv-ranking--select-to-rank",rootSelectToRankEmptyValueMod:"sv-ranking--select-to-rank-empty-value",rootSelectToRankAlignVertical:"sv-ranking--select-to-rank-vertical",rootSelectToRankAlignHorizontal:"sv-ranking--select-to-rank-horizontal",rootSelectToRankSwapAreas:"sv-ranking--select-to-rank-swap-areas",item:"sv-ranking-item",itemContent:"sv-ranking-item__content sd-ranking-item__content",itemIndex:"sv-ranking-item__index sd-ranking-item__index",itemIndexEmptyMode:"sv-ranking-item__index--empty sd-ranking-item__index--empty",itemDisabled:"sv-ranking-item--disabled",itemReadOnly:"sv-ranking-item--readonly",itemPreview:"sv-ranking-item--preview",controlLabel:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking--drag",itemOnError:"sv-ranking-item--error",container:"sv-ranking__container",containerEmptyMode:"sv-ranking__container--empty",containerFromMode:"sv-ranking__container--from",containerToMode:"sv-ranking__container--to",containerPlaceholder:"sv-ranking__container-placeholder",containersDivider:"sv-ranking__containers-divider"},buttongroup:{root:"sv-button-group",item:"sv-button-group__item",itemIcon:"sv-button-group__item-icon",itemDecorator:"sv-button-group__item-decorator",itemCaption:"sv-button-group__item-caption",itemHover:"sv-button-group__item--hover",itemSelected:"sv-button-group__item--selected",itemDisabled:"sv-button-group__item--disabled",itemControl:"sv-visuallyhidden"},list:{root:"sv-list__container sd-list",item:"sv-list__item sd-list__item",itemBody:"sv-list__item-body sd-list__item-body",itemSelected:"sv-list__item--selected sd-list__item--selected",itemFocused:"sv-list__item--focused sd-list__item--focused",itemHovered:"sv-list__item--hovered sd-list__item--hovered"},actionBar:{root:"sd-action-bar",item:"sd-action",defaultSizeMode:"",smallSizeMode:"",itemPressed:"sd-action--pressed",itemAsIcon:"sd-action--icon",itemIcon:"sd-action__icon",itemTitle:"sd-action__title"},variables:{mobileWidth:"--sd-mobile-width",themeMark:"--sv-defaultV2-mark"},tagbox:{root:"sd-selectbase",popup:"sv-dropdown-popup",small:"sd-row__question--small",selectWrapper:"sv-dropdown_select-wrapper",other:"sd-input sd-comment sd-selectbase__other",onError:"sd-input--error",label:"sd-selectbase__label",itemSvgIconId:"#icon-check-16x16",item:"sd-item sd-checkbox sd-selectbase__item",itemDisabled:"sd-item--disabled sd-checkbox--disabled",itemChecked:"sd-item--checked sd-checkbox--checked",itemHover:"sd-item--allowhover sd-checkbox--allowhover",itemControl:"sd-visuallyhidden sd-item__control sd-checkbox__control",itemDecorator:"sd-item__svg sd-checkbox__svg",itemEnter:"sd-item--enter",itemLeave:"sd-item--leave",cleanButton:"sd-tagbox_clean-button sd-dropdown_clean-button",cleanButtonSvg:"sd-tagbox_clean-button-svg sd-dropdown_clean-button-svg",cleanButtonIconId:"icon-cancel-24x24",cleanItemButton:"sd-tagbox-item_clean-button",cleanItemButtonSvg:"sd-tagbox-item_clean-button-svg",cleanItemButtonIconId:"icon-clear_16x16",chevronButton:"sd-dropdown_chevron-button",chevronButtonSvg:"sd-dropdown_chevron-button-svg",chevronButtonIconId:"icon-chevron",control:"sd-input sd-tagbox sd-dropdown",controlValue:"sd-tagbox__value sd-dropdown__value",controlValueItems:"sd-tagbox__value-items",placeholderInput:"sd-tagbox__placeholder",controlEditable:"sd-input--editable",controlDisabled:"sd-input--disabled",controlReadOnly:"sd-input--readonly",controlPreview:"sd-input--preview",controlEmpty:"sd-dropdown--empty sd-tagbox--empty",controlLabel:"sd-item__control-label",filterStringInput:"sd-tagbox__filter-string-input sd-dropdown__filter-string-input",materialDecorator:"sd-item__decorator sd-checkbox__decorator",hint:"sd-tagbox__hint",hintPrefix:"sd-dropdown__hint-prefix sd-tagbox__hint-prefix",hintSuffix:"sd-dropdown__hint-suffix sd-tagbox__hint-suffix",hintSuffixWrapper:"sd-tagbox__hint-suffix-wrapper"}},al="defaultV2";Ze[al]=Zi;var wf="surveyjs.io",Pf=65536,ll=function(){function r(){}return Object.defineProperty(r,"serviceUrl",{get:function(){return R.web.surveyServiceUrl},set:function(t){R.web.surveyServiceUrl=t},enumerable:!1,configurable:!0}),r.prototype.loadSurvey=function(t,e){var n=new XMLHttpRequest;n.open("GET",this.serviceUrl+"/getSurvey?surveyId="+t),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.onload=function(){var i=JSON.parse(n.response);e(n.status==200,i,n.response)},n.send()},r.prototype.getSurveyJsonAndIsCompleted=function(t,e,n){var i=new XMLHttpRequest;i.open("GET",this.serviceUrl+"/getSurveyAndIsCompleted?surveyId="+t+"&clientId="+e),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.onload=function(){var o=JSON.parse(i.response),l=o?o.survey:null,u=o?o.isCompleted:null;n(i.status==200,l,u,i.response)},i.send()},r.prototype.canSendResult=function(t){if(!this.isSurveJSIOService)return!0;var e=JSON.stringify(t);return e.length<Pf},Object.defineProperty(r.prototype,"isSurveJSIOService",{get:function(){return this.serviceUrl.indexOf(wf)>=0},enumerable:!1,configurable:!0}),r.prototype.sendResult=function(t,e,n,i,o){i===void 0&&(i=null),o===void 0&&(o=!1),this.canSendResult(e)?this.sendResultCore(t,e,n,i,o):n(!1,Ge("savingExceedSize",this.locale),void 0)},r.prototype.sendResultCore=function(t,e,n,i,o){i===void 0&&(i=null),o===void 0&&(o=!1);var l=new XMLHttpRequest;l.open("POST",this.serviceUrl+"/post/"),l.setRequestHeader("Content-Type","application/json; charset=utf-8");var u={postId:t,surveyResult:JSON.stringify(e)};i&&(u.clientId=i),o&&(u.isPartialCompleted=!0);var d=JSON.stringify(u);l.onload=l.onerror=function(){n&&n(l.status===200,l.response,l)},l.send(d)},r.prototype.sendFile=function(t,e,n){var i=new XMLHttpRequest;i.onload=i.onerror=function(){n&&n(i.status==200,JSON.parse(i.response))},i.open("POST",this.serviceUrl+"/upload/",!0);var o=new FormData;o.append("file",e),o.append("postId",t),i.send(o)},r.prototype.getResult=function(t,e,n){var i=new XMLHttpRequest,o="resultId="+t+"&name="+e;i.open("GET",this.serviceUrl+"/getResult?"+o),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var l=this;i.onload=function(){var u=null,d=null;if(i.status==200){u=JSON.parse(i.response),d=[];for(var m in u.QuestionResult){var w={name:m,value:u.QuestionResult[m]};d.push(w)}}n(i.status==200,u,d,i.response)},i.send()},r.prototype.isCompleted=function(t,e,n){var i=new XMLHttpRequest,o="resultId="+t+"&clientId="+e;i.open("GET",this.serviceUrl+"/isCompleted?"+o),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var l=this;i.onload=function(){var u=null;i.status==200&&(u=JSON.parse(i.response)),n(i.status==200,u,i.response)},i.send()},Object.defineProperty(r.prototype,"serviceUrl",{get:function(){return r.serviceUrl||""},enumerable:!1,configurable:!0}),r}(),Kt={setTimeout:function(r){return Kt.safeTimeOut(r,1e3)},clearTimeout:function(r){clearTimeout(r)},safeTimeOut:function(r,t){return t<=0?(r(),0):setTimeout(r,t)},now:function(){return Date.now()}},xo=function(){function r(){this.listenerCounter=0,this.timerId=-1,this.onTimerTick=new ft,this.onTimer=this.onTimerTick}return Object.defineProperty(r,"instance",{get:function(){return r.instanceValue||(r.instanceValue=new r),r.instanceValue},enumerable:!1,configurable:!0}),r.prototype.start=function(t){var e=this;t===void 0&&(t=null),t&&this.onTimerTick.add(t),this.prevTimeInMs=Kt.now(),this.timerId<0&&(this.timerId=Kt.setTimeout(function(){e.doTimer()})),this.listenerCounter++},r.prototype.stop=function(t){t===void 0&&(t=null),t&&this.onTimerTick.remove(t),this.listenerCounter--,this.listenerCounter==0&&this.timerId>-1&&(Kt.clearTimeout(this.timerId),this.timerId=-1)},r.prototype.doTimer=function(){var t=this;if((this.onTimerTick.isEmpty||this.listenerCounter==0)&&(this.timerId=-1),!(this.timerId<0)){var e=Kt.now(),n=Math.floor((e-this.prevTimeInMs)/1e3);this.prevTimeInMs=e,n<0&&(n=1);var i=this.timerId;this.onTimerTick.fire(this,{seconds:n}),i===this.timerId&&(this.timerId=Kt.setTimeout(function(){t.doTimer()}))}},r.instanceValue=null,r}(),Vf=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ni=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ul=function(r){Vf(t,r);function t(e){var n=r.call(this)||this;return n.timerFunc=null,n.surveyValue=e,n.onCreating(),n}return Object.defineProperty(t.prototype,"survey",{get:function(){return this.surveyValue},enumerable:!1,configurable:!0}),t.prototype.onCreating=function(){},t.prototype.start=function(){var e=this;this.survey&&(this.isRunning||this.isDesignMode||(this.survey.onCurrentPageChanged.add(function(){e.update()}),this.timerFunc=function(n,i){e.doTimer(i.seconds)},this.setIsRunning(!0),this.update(),xo.instance.start(this.timerFunc)))},t.prototype.stop=function(){this.isRunning&&(this.setIsRunning(!1),xo.instance.stop(this.timerFunc))},Object.defineProperty(t.prototype,"isRunning",{get:function(){return this.getPropertyValue("isRunning",!1)},enumerable:!1,configurable:!0}),t.prototype.setIsRunning=function(e){this.setPropertyValue("isRunning",e)},t.prototype.update=function(){this.updateText(),this.updateProgress()},t.prototype.doTimer=function(e){var n=this.survey.currentPage;if(n){var i=n.getMaxTimeToFinish();i>0&&i<n.timeSpent+e&&(e=i-n.timeSpent),n.timeSpent=n.timeSpent+e}this.spent=this.spent+e,this.update(),this.onTimerTick&&this.onTimerTick(n)},t.prototype.updateProgress=function(){var e=this,n=this.survey.timerInfo,i=n.spent,o=n.limit;o?(i==0?(this.progress=0,setTimeout(function(){e.progress=Math.floor((i+1)/o*100)/100},0)):i<=o&&(this.progress=Math.floor((i+1)/o*100)/100),this.progress>1&&(this.progress=void 0)):this.progress=void 0},t.prototype.updateText=function(){var e=this.survey.timerClock;this.clockMajorText=e.majorText,this.clockMinorText=e.minorText,this.text=this.survey.timerInfoText},Object.defineProperty(t.prototype,"showProgress",{get:function(){return this.progress!==void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showTimerAsClock",{get:function(){return!!this.survey.getCss().clockTimerRoot},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rootCss",{get:function(){return new F().append(this.survey.getCss().clockTimerRoot).append(this.survey.getCss().clockTimerRootTop,this.survey.isTimerPanelShowingOnTop).append(this.survey.getCss().clockTimerRootBottom,this.survey.isTimerPanelShowingOnBottom).toString()},enumerable:!1,configurable:!0}),t.prototype.getProgressCss=function(){return new F().append(this.survey.getCss().clockTimerProgress).append(this.survey.getCss().clockTimerProgressAnimation,this.progress>0).toString()},Object.defineProperty(t.prototype,"textContainerCss",{get:function(){return this.survey.getCss().clockTimerTextContainer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minorTextCss",{get:function(){return this.survey.getCss().clockTimerMinorText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"majorTextCss",{get:function(){return this.survey.getCss().clockTimerMajorText},enumerable:!1,configurable:!0}),ni([V()],t.prototype,"text",void 0),ni([V()],t.prototype,"progress",void 0),ni([V()],t.prototype,"clockMajorText",void 0),ni([V()],t.prototype,"clockMinorText",void 0),ni([V({defaultValue:0})],t.prototype,"spent",void 0),t}(be),If=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ji=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},cl=function(r){If(t,r);function t(e){var n=r.call(this)||this;return n.cssClasses=e,n.timeout=R.notifications.lifetime,n.timer=void 0,n.actionsVisibility={},n.showActions=!0,n.actionBar=new Vt,n.actionBar.updateCallback=function(i){n.actionBar.actions.forEach(function(o){return o.cssClasses={}})},n.css=n.cssClasses.root,n}return t.prototype.getCssClass=function(e){return new F().append(this.cssClasses.root).append(this.cssClasses.rootWithButtons,this.actionBar.visibleActions.length>0).append(this.cssClasses.info,e!=="error"&&e!=="success").append(this.cssClasses.error,e==="error").append(this.cssClasses.success,e==="success").append(this.cssClasses.shown,this.active).toString()},t.prototype.updateActionsVisibility=function(e){var n=this;this.actionBar.actions.forEach(function(i){return i.visible=n.showActions&&n.actionsVisibility[i.id]===e})},t.prototype.notify=function(e,n,i){var o=this;n===void 0&&(n="info"),i===void 0&&(i=!1),this.isDisplayed=!0,setTimeout(function(){o.updateActionsVisibility(n),o.message=e,o.active=!0,o.css=o.getCssClass(n),o.timer&&(clearTimeout(o.timer),o.timer=void 0),i||(o.timer=setTimeout(function(){o.timer=void 0,o.active=!1,o.css=o.getCssClass(n)},o.timeout))},1)},t.prototype.addAction=function(e,n){e.visible=!1,e.innerCss=this.cssClasses.button;var i=this.actionBar.addAction(e);this.actionsVisibility[i.id]=n},Ji([V({defaultValue:!1})],t.prototype,"active",void 0),Ji([V({defaultValue:!1})],t.prototype,"isDisplayed",void 0),Ji([V()],t.prototype,"message",void 0),Ji([V()],t.prototype,"css",void 0),t}(be),Tf=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Me=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},pl=function(){function r(t,e,n){this.cover=t,this.positionX=e,this.positionY=n}return r.prototype.calcRow=function(t){return t==="top"?1:t==="middle"?2:3},r.prototype.calcColumn=function(t){return t==="left"?1:t==="center"?2:3},r.prototype.calcAlignItems=function(t){return t==="left"?"flex-start":t==="center"?"center":"flex-end"},r.prototype.calcAlignText=function(t){return t==="left"?"start":t==="center"?"center":"end"},r.prototype.calcJustifyContent=function(t){return t==="top"?"flex-start":t==="middle"?"center":"flex-end"},Object.defineProperty(r.prototype,"survey",{get:function(){return this.cover.survey},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"css",{get:function(){var t=r.CLASSNAME+" "+r.CLASSNAME+"--"+this.positionX+" "+r.CLASSNAME+"--"+this.positionY;return t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){var t={};return t.gridColumn=this.calcColumn(this.positionX),t.gridRow=this.calcRow(this.positionY),t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"contentStyle",{get:function(){var t={};return t.textAlign=this.calcAlignText(this.positionX),t.alignItems=this.calcAlignItems(this.positionX),t.justifyContent=this.calcJustifyContent(this.positionY),t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"showLogo",{get:function(){return this.survey.hasLogo&&this.positionX===this.cover.logoPositionX&&this.positionY===this.cover.logoPositionY},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"showTitle",{get:function(){return this.survey.hasTitle&&this.positionX===this.cover.titlePositionX&&this.positionY===this.cover.titlePositionY},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"showDescription",{get:function(){return this.survey.renderedHasDescription&&this.positionX===this.cover.descriptionPositionX&&this.positionY===this.cover.descriptionPositionY},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textAreaWidth",{get:function(){return this.cover.textAreaWidth?""+this.cover.textAreaWidth+"px":""},enumerable:!1,configurable:!0}),r.CLASSNAME="sv-header__cell",r}(),Ki=function(r){Tf(t,r);function t(){var e=r.call(this)||this;return e.cells=[],["top","middle","bottom"].forEach(function(n){return["left","center","right"].forEach(function(i){return e.cells.push(new pl(e,i,n))})}),e.init(),e}return t.prototype.calcBackgroundSize=function(e){return e==="fill"?"100% 100%":e==="tile"?"auto":e},t.prototype.updateHeaderClasses=function(){this.headerClasses=new F().append("sv-header").append("sv-header__without-background",this.backgroundColor==="transparent"&&!this.backgroundImage).append("sv-header__background-color--none",this.backgroundColor==="transparent"&&!this.titleColor&&!this.descriptionColor).append("sv-header__background-color--accent",!this.backgroundColor&&!this.titleColor&&!this.descriptionColor).append("sv-header__background-color--custom",!!this.backgroundColor&&this.backgroundColor!=="transparent"&&!this.titleColor&&!this.descriptionColor).append("sv-header__overlap",this.overlapEnabled).toString()},t.prototype.updateContentClasses=function(){var e=!!this.survey&&this.survey.calculateWidthMode();this.maxWidth=this.inheritWidthFrom==="survey"&&!!e&&e==="static"&&this.survey.renderedWidth,this.contentClasses=new F().append("sv-header__content").append("sv-header__content--static",this.inheritWidthFrom==="survey"&&!!e&&e==="static").append("sv-header__content--responsive",this.inheritWidthFrom==="container"||!!e&&e==="responsive").toString()},t.prototype.updateBackgroundImageClasses=function(){this.backgroundImageClasses=new F().append("sv-header__background-image").append("sv-header__background-image--contain",this.backgroundImageFit==="contain").append("sv-header__background-image--tile",this.backgroundImageFit==="tile").toString()},t.prototype.fromTheme=function(e){r.prototype.fromJSON.call(this,e.header||{}),e.cssVariables&&(this.backgroundColor=e.cssVariables["--sjs-header-backcolor"],this.titleColor=e.cssVariables["--sjs-font-headertitle-color"],this.descriptionColor=e.cssVariables["--sjs-font-headerdescription-color"]),this.init()},t.prototype.init=function(){this.renderBackgroundImage=Ur(this.backgroundImage),this.updateHeaderClasses(),this.updateContentClasses(),this.updateBackgroundImageClasses()},t.prototype.getType=function(){return"cover"},Object.defineProperty(t.prototype,"renderedHeight",{get:function(){if(this.survey&&!this.survey.isMobile||!this.survey)return this.height?Math.max(this.height,this.actualHeight+40)+"px":void 0;if(this.survey&&this.survey.isMobile)return this.mobileHeight?Math.max(this.mobileHeight,this.actualHeight)+"px":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedtextAreaWidth",{get:function(){return this.textAreaWidth?this.textAreaWidth+"px":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"survey",{get:function(){return this._survey},set:function(e){var n=this;this._survey!==e&&(this._survey=e,e&&(this.updateContentClasses(),this._survey.onPropertyChanged.add(function(i,o){(o.name=="widthMode"||o.name=="width")&&n.updateContentClasses()})))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundImageStyle",{get:function(){return this.backgroundImage?{opacity:this.backgroundImageOpacity,backgroundImage:this.renderBackgroundImage,backgroundSize:this.calcBackgroundSize(this.backgroundImageFit)}:null},enumerable:!1,configurable:!0}),t.prototype.propertyValueChanged=function(e,n,i,o,l){r.prototype.propertyValueChanged.call(this,e,n,i),(e==="backgroundColor"||e==="backgroundImage"||e==="overlapEnabled")&&this.updateHeaderClasses(),e==="inheritWidthFrom"&&this.updateContentClasses(),e==="backgroundImageFit"&&this.updateBackgroundImageClasses()},t.prototype.calculateActualHeight=function(e,n,i){var o=["top","middle","bottom"],l=o.indexOf(this.logoPositionY),u=o.indexOf(this.titlePositionY),d=o.indexOf(this.descriptionPositionY),m=["left","center","right"],w=m.indexOf(this.logoPositionX),E=m.indexOf(this.titlePositionX),A=m.indexOf(this.descriptionPositionX),U=[[0,0,0],[0,0,0],[0,0,0]];return U[l][w]=e,U[u][E]+=n,U[d][A]+=i,U.reduce(function(W,se){return W+Math.max.apply(Math,se)},0)},t.prototype.processResponsiveness=function(e){if(this.survey&&this.survey.rootElement)if(this.survey.isMobile){var m=this.survey.rootElement.querySelectorAll(".sv-header > div")[0];this.actualHeight=m?m.getBoundingClientRect().height:0}else{var n=this.survey.rootElement.querySelectorAll(".sv-header__logo")[0],i=this.survey.rootElement.querySelectorAll(".sv-header__title")[0],o=this.survey.rootElement.querySelectorAll(".sv-header__description")[0],l=n?n.getBoundingClientRect().height:0,u=i?i.getBoundingClientRect().height:0,d=o?o.getBoundingClientRect().height:0;this.actualHeight=this.calculateActualHeight(l,u,d)}},Object.defineProperty(t.prototype,"hasBackground",{get:function(){return!!this.backgroundImage||this.backgroundColor!=="transparent"},enumerable:!1,configurable:!0}),Me([V({defaultValue:0})],t.prototype,"actualHeight",void 0),Me([V()],t.prototype,"height",void 0),Me([V()],t.prototype,"mobileHeight",void 0),Me([V()],t.prototype,"inheritWidthFrom",void 0),Me([V()],t.prototype,"textAreaWidth",void 0),Me([V()],t.prototype,"textGlowEnabled",void 0),Me([V()],t.prototype,"overlapEnabled",void 0),Me([V()],t.prototype,"backgroundColor",void 0),Me([V()],t.prototype,"titleColor",void 0),Me([V()],t.prototype,"descriptionColor",void 0),Me([V({onSet:function(e,n){n.renderBackgroundImage=Ur(e)}})],t.prototype,"backgroundImage",void 0),Me([V()],t.prototype,"renderBackgroundImage",void 0),Me([V()],t.prototype,"backgroundImageFit",void 0),Me([V()],t.prototype,"backgroundImageOpacity",void 0),Me([V()],t.prototype,"logoPositionX",void 0),Me([V()],t.prototype,"logoPositionY",void 0),Me([V()],t.prototype,"titlePositionX",void 0),Me([V()],t.prototype,"titlePositionY",void 0),Me([V()],t.prototype,"descriptionPositionX",void 0),Me([V()],t.prototype,"descriptionPositionY",void 0),Me([V()],t.prototype,"logoStyle",void 0),Me([V()],t.prototype,"titleStyle",void 0),Me([V()],t.prototype,"descriptionStyle",void 0),Me([V()],t.prototype,"headerClasses",void 0),Me([V()],t.prototype,"contentClasses",void 0),Me([V()],t.prototype,"maxWidth",void 0),Me([V()],t.prototype,"backgroundImageClasses",void 0),t}(be);L.addClass("cover",[{name:"height:number",minValue:0,default:256},{name:"mobileHeight:number",minValue:0,default:0},{name:"inheritWidthFrom",default:"container"},{name:"textAreaWidth:number",minValue:0,default:512},{name:"textGlowEnabled:boolean"},{name:"overlapEnabled:boolean"},{name:"backgroundImage:file"},{name:"backgroundImageOpacity:number",minValue:0,maxValue:1,default:1},{name:"backgroundImageFit",default:"cover",choices:["cover","fill","contain"]},{name:"logoPositionX",default:"right"},{name:"logoPositionY",default:"top"},{name:"titlePositionX",default:"left"},{name:"titlePositionY",default:"bottom"},{name:"descriptionPositionX",default:"left"},{name:"descriptionPositionY",default:"bottom"}],function(){return new Ki});var Sf=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ef=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Of=function(){function r(t){this.type=t,this.timestamp=new Date}return r}(),Rf=function(r){Sf(t,r);function t(){var e=r.call(this)||this;return e.taskList=[],e.onAllTasksCompleted=e.addEvent(),e}return t.prototype.runTask=function(e,n){var i=this,o=new Of(e);return this.taskList.push(o),this.hasActiveTasks=!0,n(function(){return i.taskFinished(o)}),o},t.prototype.waitAndExecute=function(e){if(!this.hasActiveTasks){e();return}this.onAllTasksCompleted.add(function(){e()})},t.prototype.taskFinished=function(e){var n=this.taskList.indexOf(e);n>-1&&this.taskList.splice(n,1),this.hasActiveTasks&&this.taskList.length==0&&(this.hasActiveTasks=!1,this.onAllTasksCompleted.fire(this,{}))},Ef([V({defaultValue:!1})],t.prototype,"hasActiveTasks",void 0),t}(be),dl=function(){function r(t,e,n){n===void 0&&(n=-1),this.source=t,this.target=e,this.nestedPanelDepth=n}return r}(),Df=function(){function r(t){this.panel=t}return r.prototype.dragDropAddTarget=function(t){var e=this.dragDropFindRow(t.target);this.dragDropAddTargetToRow(t,e)&&this.panel.updateRowsRemoveElementFromRow(t.target,e)},r.prototype.dragDropFindRow=function(t){if(!t||t.isPage)return null;for(var e=t,n=this.panel.rows,i=0;i<n.length;i++)if(n[i].elements.indexOf(e)>-1)return n[i];for(var i=0;i<this.panel.elements.length;i++){var o=this.panel.elements[i].getPanel();if(o){var l=o.dragDropFindRow(e);if(l)return l}}return null},r.prototype.dragDropMoveElement=function(t,e,n){var i=t.parent.elements.indexOf(t);n>i&&n--,this.panel.removeElement(t),this.panel.addElement(e,n)},r.prototype.updateRowsOnElementAdded=function(t,e,n,i){n||(n=new dl(null,t),n.target=t,n.isEdge=this.panel.elements.length>1,this.panel.elements.length<2?n.destination=i:(n.isBottom=e>0,e==0?n.destination=this.panel.elements[1]:n.destination=this.panel.elements[e-1])),this.dragDropAddTargetToRow(n,null)},r.prototype.dragDropAddTargetToRow=function(t,e){if(!t.destination||this.dragDropAddTargetToEmptyPanel(t))return!0;var n=t.destination,i=this.dragDropFindRow(n);return i?t.target.startWithNewLine?this.dragDropAddTargetToNewRow(t,i,e):this.dragDropAddTargetToExistingRow(t,i,e):!0},r.prototype.dragDropAddTargetToEmptyPanel=function(t){if(t.destination.isPage)return this.dragDropAddTargetToEmptyPanelCore(this.panel.root,t.target,t.isBottom),!0;var e=t.destination;if(e.isPanel&&!t.isEdge){var n=e;if(t.target.template===e)return!1;if(t.nestedPanelDepth<0||t.nestedPanelDepth>=n.depth)return this.dragDropAddTargetToEmptyPanelCore(e,t.target,t.isBottom),!0}return!1},r.prototype.dragDropAddTargetToExistingRow=function(t,e,n){var i=e.elements.indexOf(t.destination);if(i==0&&!t.isBottom&&!this.panel.isDesignModeV2){if(e.elements[0].startWithNewLine)return e.index>0?(t.isBottom=!0,e=e.panel.rows[e.index-1],t.destination=e.elements[e.elements.length-1],this.dragDropAddTargetToExistingRow(t,e,n)):this.dragDropAddTargetToNewRow(t,e,n)}var o=-1;n==e&&(o=e.elements.indexOf(t.target)),t.isBottom&&i++;var l=this.panel.findRowByElement(t.source);return l==e&&l.elements.indexOf(t.source)==i||i==o?!1:(o>-1&&(e.elements.splice(o,1),o<i&&i--),e.elements.splice(i,0,t.target),e.updateVisible(),o<0)},r.prototype.dragDropAddTargetToNewRow=function(t,e,n){var i=e.panel.createRowAndSetLazy(e.panel.rows.length);this.panel.isDesignModeV2&&i.setIsLazyRendering(!1),i.addElement(t.target);var o=e.index;if(t.isBottom&&o++,n&&n.panel==i.panel&&n.index==o)return!1;var l=this.panel.findRowByElement(t.source);return l&&l.panel==i.panel&&l.elements.length==1&&l.index==o?!1:(e.panel.rows.splice(o,0,i),!0)},r.prototype.dragDropAddTargetToEmptyPanelCore=function(t,e,n){var i=t.createRow();i.addElement(e),t.elements.length==0||n?t.rows.push(i):t.rows.splice(0,0,i)},r}(),Mf=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),_o=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},fl=function(r){Mf(t,r);function t(e,n){var i=r.call(this)||this;return i.effectiveWidth=e,i.questionTitleWidth=n,i}return t.prototype.getType=function(){return"panellayoutcolumn"},t.prototype.isEmpty=function(){return!this.width&&!this.questionTitleWidth},_o([V()],t.prototype,"width",void 0),_o([V({onSet:function(e,n,i){e!==i&&(n.width=e)}})],t.prototype,"effectiveWidth",void 0),_o([V()],t.prototype,"questionTitleWidth",void 0),t}(be);L.addClass("panellayoutcolumn",[{name:"effectiveWidth:number",isSerializable:!1,minValue:0},{name:"width:number",visible:!1},"questionTitleWidth"],function(r){return new fl});var wo=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ii=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},hl=function(r,t){for(var e=0,n=t.length,i=r.length;e<n;e++,i++)r[i]=t[e];return r},ml=function(r){wo(t,r);function t(e){var n=r.call(this)||this;return n.panel=e,n._scrollableParent=void 0,n._updateVisibility=void 0,n.visibleElementsAnimation=new Zt(n.getVisibleElementsAnimationOptions(),function(i){n.setWidth(i),n.setPropertyValue("visibleElements",i)},function(){return n.visibleElements}),n.idValue=t.getRowId(),n.visible=e.areInvisibleElementsShowing,n.createNewArray("elements"),n.createNewArray("visibleElements"),n}return t.getRowId=function(){return"pr_"+t.rowCounter++},Object.defineProperty(t.prototype,"allowRendering",{get:function(){return!this.panel||!this.panel.survey||!this.panel.survey.isLazyRenderingSuspended},enumerable:!1,configurable:!0}),t.prototype.startLazyRendering=function(e,n){var i=this;if(n===void 0&&(n=Fi),!!g.isAvailable()){this._scrollableParent=n(e),this._scrollableParent===g.getDocumentElement()&&(this._scrollableParent=p.getWindow());var o=this._scrollableParent.scrollHeight>this._scrollableParent.clientHeight;this.isNeedRender=!o,o&&(this._updateVisibility=function(){if(i.allowRendering){var l=Sd(e,50);!i.isNeedRender&&l&&(i.isNeedRender=!0,i.stopLazyRendering())}},setTimeout(function(){i._scrollableParent&&i._scrollableParent.addEventListener&&i._scrollableParent.addEventListener("scroll",i._updateVisibility),i.ensureVisibility()},10))}},t.prototype.ensureVisibility=function(){this._updateVisibility&&this._updateVisibility()},t.prototype.stopLazyRendering=function(){this._scrollableParent&&this._updateVisibility&&this._scrollableParent.removeEventListener&&this._scrollableParent.removeEventListener("scroll",this._updateVisibility),this._scrollableParent=void 0,this._updateVisibility=void 0},t.prototype.setIsLazyRendering=function(e){this.isLazyRenderingValue=e,this.isNeedRender=!e},t.prototype.isLazyRendering=function(){return this.isLazyRenderingValue===!0},Object.defineProperty(t.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),t.prototype.equalsCore=function(e){return this==e},Object.defineProperty(t.prototype,"elements",{get:function(){return this.getPropertyValue("elements")},enumerable:!1,configurable:!0}),t.prototype.getIsAnimationAllowed=function(){var e;return r.prototype.getIsAnimationAllowed.call(this)&&this.visible&&((e=this.panel)===null||e===void 0?void 0:e.animationAllowed)},t.prototype.getVisibleElementsAnimationOptions=function(){var e=this,n=function(i){Tt(i),Xn(i,{width:Jr(i)+"px"})};return{getRerenderEvent:function(){return e.onElementRerendered},isAnimationEnabled:function(){return e.animationAllowed},allowSyncRemovalAddition:!1,getAnimatedElement:function(i){return i.getWrapperElement()},getLeaveOptions:function(i){var o=i,l=i.isPanel?o.cssClasses.panel:o.cssClasses;return{cssClass:l.leave,onBeforeRunAnimation:n,onAfterRunAnimation:pt}},getEnterOptions:function(i){var o=i,l=i.isPanel?o.cssClasses.panel:o.cssClasses;return{cssClass:l.enter,onBeforeRunAnimation:n,onAfterRunAnimation:pt}}}},Object.defineProperty(t.prototype,"visibleElements",{get:function(){return this.getPropertyValue("visibleElements")},set:function(e){if(e.length)this.visible=!0;else{this.visible=!1,this.visibleElementsAnimation.cancel();return}this.visibleElementsAnimation.sync(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this.getPropertyValue("visible",!0)},set:function(e){this.setPropertyValue("visible",e),this.onVisibleChangedCallback&&this.onVisibleChangedCallback()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNeedRender",{get:function(){return this.getPropertyValue("isneedrender",!0)},set:function(e){this.setPropertyValue("isneedrender",e)},enumerable:!1,configurable:!0}),t.prototype.updateVisible=function(){for(var e=[],n=0;n<this.elements.length;n++)this.elements[n].isVisible&&e.push(this.elements[n]),(this.elements[n].isPanel||this.elements[n].getType()==="paneldynamic")&&(this.setIsLazyRendering(!1),this.stopLazyRendering());this.visibleElements=e},t.prototype.addElement=function(e){this.elements.push(e),this.updateVisible()},Object.defineProperty(t.prototype,"index",{get:function(){return this.panel.rows.indexOf(this)},enumerable:!1,configurable:!0}),t.prototype.setWidth=function(e){var n,i=e.length;if(i!=0){for(var o=e.length===1,l=0,u=[],d=0;d<this.elements.length;d++){var m=this.elements[d];if(m.isVisible){m.isSingleInRow=o;var w=this.getElementWidth(m);w&&(m.renderWidth=this.getRenderedWidthFromWidth(w),u.push(m)),l<i-1&&!(this.panel.isDefaultV2Theme||!((n=this.panel.parentQuestion)===null||n===void 0)&&n.isDefaultV2Theme)?m.rightIndent=1:m.rightIndent=0,l++}else m.renderWidth=""}for(var d=0;d<this.elements.length;d++){var m=this.elements[d];!m.isVisible||u.indexOf(m)>-1||(u.length==0?m.renderWidth=Number.parseFloat((100/i).toFixed(6))+"%":m.renderWidth=this.getRenderedCalcWidth(m,u,i))}}},t.prototype.getRenderedCalcWidth=function(e,n,i){for(var o="100%",l=0;l<n.length;l++)o+=" - "+n[l].renderWidth;var u=i-n.length;return u>1&&(o="("+o+")/"+u.toString()),"calc("+o+")"},t.prototype.getElementWidth=function(e){var n=e.width;return!n||typeof n!="string"?"":n.trim()},t.prototype.getRenderedWidthFromWidth=function(e){return D.isNumber(e)?e+"px":e},t.prototype.dispose=function(){r.prototype.dispose.call(this),this.stopLazyRendering()},t.prototype.getRowCss=function(){return new F().append(this.panel.cssClasses.row).append(this.panel.cssClasses.rowCompact,this.panel.isCompact).append(this.panel.cssClasses.pageRow,this.panel.isPage||this.panel.showPanelAsPage).append(this.panel.cssClasses.rowMultiple,this.visibleElements.length>1).toString()},t.prototype.setRootElement=function(e){this.rootElement=e},t.prototype.getRootElement=function(){return this.rootElement},t.rowCounter=100,ii([V({defaultValue:null})],t.prototype,"dragTypeOverMe",void 0),t}(be),Po=function(r){wo(t,r);function t(e){e===void 0&&(e="");var n=r.call(this,e)||this;return n.isQuestionsReady=!1,n.questionsValue=new Array,n._columns=void 0,n._columnsReady=!1,n.rowsAnimation=new Zt(n.getRowsAnimationOptions(),function(i){n.setPropertyValue("visibleRows",i)},function(){return n.visibleRows}),n.isRandomizing=!1,n.onColumnPropertyValueChangedCallback=function(i,o,l,u,d){n._columnsReady&&(n.updateColumnWidth(n.gridLayoutColumns),n.updateRootStyle())},n.locCountRowUpdates=0,n.createNewArray("rows",function(i,o){n.onAddRow(i)},function(i){n.onRemoveRow(i)}),n.createNewArray("visibleRows"),n.elementsValue=n.createNewArray("elements",n.onAddElement.bind(n),n.onRemoveElement.bind(n)),n.id=t.getPanelId(),n.addExpressionProperty("visibleIf",function(i,o){n.visible=o===!0},function(i){return!n.areInvisibleElementsShowing}),n.addExpressionProperty("enableIf",function(i,o){n.readOnly=o===!1}),n.addExpressionProperty("requiredIf",function(i,o){n.isRequired=o===!0}),n.createLocalizableString("requiredErrorText",n),n.createLocalizableString("navigationTitle",n,!0).onGetTextCallback=function(i){return i||n.title||n.name},n.registerPropertyChangedHandlers(["questionTitleLocation"],function(){n.onVisibleChanged.bind(n),n.updateElementCss(!0)}),n.registerPropertyChangedHandlers(["questionStartIndex","showQuestionNumbers"],function(){n.updateVisibleIndexes()}),n.registerPropertyChangedHandlers(["title"],function(){n.resetHasTextInTitle()}),n.dragDropPanelHelper=new Df(n),n}return t.getPanelId=function(){return"sp_"+t.panelCounter++},t.prototype.onAddRow=function(e){var n=this;this.onRowVisibleChanged(),e.onVisibleChangedCallback=function(){return n.onRowVisibleChanged()}},t.prototype.getRowsAnimationOptions=function(){var e=this;return{getRerenderEvent:function(){return e.onElementRerendered},isAnimationEnabled:function(){return e.animationAllowed},getAnimatedElement:function(n){return n.getRootElement()},getLeaveOptions:function(n,i){return{cssClass:e.cssClasses.rowLeave,onBeforeRunAnimation:Tt,onAfterRunAnimation:pt}},getEnterOptions:function(n,i){var o=e.cssClasses;return{cssClass:new F().append(o.rowEnter).append(o.rowDelayedEnter,i.isDeletingRunning).toString(),onBeforeRunAnimation:Tt,onAfterRunAnimation:pt}}}},Object.defineProperty(t.prototype,"visibleRows",{get:function(){return this.getPropertyValue("visibleRows")},set:function(e){this.rowsAnimation.sync(e)},enumerable:!1,configurable:!0}),t.prototype.onRemoveRow=function(e){e.visibleElementsAnimation.cancel(),this.visibleRows=this.rows.filter(function(n){return n.visible}),e.onVisibleChangedCallback=void 0},t.prototype.onRowVisibleChanged=function(){this.visibleRows=this.rows.filter(function(e){return e.visible})},t.prototype.getType=function(){return"panelbase"},t.prototype.setSurveyImpl=function(e,n){this.blockAnimations(),r.prototype.setSurveyImpl.call(this,e,n),this.isDesignMode&&this.onVisibleChanged();for(var i=0;i<this.elements.length;i++)this.elements[i].setSurveyImpl(e,n);this.releaseAnimations()},t.prototype.endLoadingFromJson=function(){var e=this;r.prototype.endLoadingFromJson.call(this),this.updateDescriptionVisibility(this.description),this.markQuestionListDirty(),this.onRowsChanged(),this.gridLayoutColumns.forEach(function(n){n.onPropertyValueChangedCallback=e.onColumnPropertyValueChangedCallback})},Object.defineProperty(t.prototype,"hasTextInTitle",{get:function(){var e=this;return this.getPropertyValue("hasTextInTitle",void 0,function(){return!!e.title})},enumerable:!1,configurable:!0}),t.prototype.resetHasTextInTitle=function(){this.resetPropertyValue("hasTextInTitle")},Object.defineProperty(t.prototype,"hasTitle",{get:function(){return this.canShowTitle(this.survey)&&(this.hasTextInTitle||this.locTitle.textOrHtml.length>0)||this.isDesignMode&&!(R.supportCreatorV2&&this.isPanel)&&this.showTitle&&R.designMode.showEmptyTitles},enumerable:!1,configurable:!0}),t.prototype.delete=function(e){e===void 0&&(e=!0),this.deletePanel(),this.removeFromParent(),e&&this.dispose()},t.prototype.deletePanel=function(){for(var e=this.elements,n=0;n<e.length;n++){var i=e[n];i.isPanel&&i.deletePanel(),this.onRemoveElementNotifySurvey(i)}},t.prototype.removeFromParent=function(){},t.prototype.canShowTitle=function(e){return!0},Object.defineProperty(t.prototype,"_showDescription",{get:function(){return!this.hasTitle&&this.isDesignMode?!1:this.survey&&this.survey.showPageTitles&&this.hasDescription||this.showDescription&&this.isDesignMode&&R.designMode.showEmptyDescriptions},enumerable:!1,configurable:!0}),t.prototype.localeChanged=function(){r.prototype.localeChanged.call(this);for(var e=0;e<this.elements.length;e++)this.elements[e].localeChanged()},t.prototype.locStrsChanged=function(){r.prototype.locStrsChanged.call(this);for(var e=0;e<this.elements.length;e++)this.elements[e].locStrsChanged()},t.prototype.getMarkdownHtml=function(e,n){return n==="navigationTitle"&&this.locNavigationTitle.isEmpty?this.locTitle.renderedHtml||this.name:r.prototype.getMarkdownHtml.call(this,e,n)},Object.defineProperty(t.prototype,"locNavigationTitle",{get:function(){return this.getLocalizableString("navigationTitle")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedNavigationTitle",{get:function(){return this.locNavigationTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requiredText",{get:function(){return this.survey&&this.isRequired?this.survey.requiredText:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titlePattern",{get:function(){return this.survey?this.survey.questionTitlePattern:"numTitleRequire"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRequireTextOnStart",{get:function(){return this.isRequired&&this.titlePattern=="requireNumTitle"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRequireTextBeforeTitle",{get:function(){return this.isRequired&&this.titlePattern=="numRequireTitle"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRequireTextAfterTitle",{get:function(){return this.isRequired&&this.titlePattern=="numTitleRequire"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requiredErrorText",{get:function(){return this.getLocalizableStringText("requiredErrorText")},set:function(e){this.setLocalizableStringText("requiredErrorText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locRequiredErrorText",{get:function(){return this.getLocalizableString("requiredErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"questionsOrder",{get:function(){return this.getPropertyValue("questionsOrder")},set:function(e){this.setPropertyValue("questionsOrder",e)},enumerable:!1,configurable:!0}),t.prototype.canRandomize=function(e){return e&&this.questionsOrder!=="initial"||this.questionsOrder==="random"},t.prototype.randomizeElements=function(e){if(!(!this.canRandomize(e)||this.isRandomizing)){this.isRandomizing=!0;for(var n=[],i=this.elements,o=0;o<i.length;o++)n.push(i[o]);var l=D.randomizeArray(n);this.setArrayPropertyDirectly("elements",l,!1),this.updateRows(),this.updateVisibleIndexes(),this.isRandomizing=!1}},Object.defineProperty(t.prototype,"areQuestionsRandomized",{get:function(){var e=this.questionsOrder=="default"&&this.survey?this.survey.questionsOrder:this.questionsOrder;return e=="random"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getPropertyValue("parent",null)},set:function(e){this.setPropertyValue("parent",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depth",{get:function(){return this.parent==null?0:this.parent.depth+1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleIf",{get:function(){return this.getPropertyValue("visibleIf","")},set:function(e){this.setPropertyValue("visibleIf",e)},enumerable:!1,configurable:!0}),t.prototype.calcCssClasses=function(e){var n={panel:{},error:{},row:"",rowEnter:"",rowLeave:"",rowDelayedEnter:"",rowMultiple:"",pageRow:"",rowCompact:""};return this.copyCssClasses(n.panel,e.panel),this.copyCssClasses(n.error,e.error),e.pageRow&&(n.pageRow=e.pageRow),e.rowCompact&&(n.rowCompact=e.rowCompact),e.row&&(n.row=e.row),e.rowEnter&&(n.rowEnter=e.rowEnter),e.rowLeave&&(n.rowLeave=e.rowLeave),e.rowDelayedEnter&&(n.rowDelayedEnter=e.rowDelayedEnter),e.rowMultiple&&(n.rowMultiple=e.rowMultiple),this.survey&&this.survey.updatePanelCssClasses(this,n),n},Object.defineProperty(t.prototype,"id",{get:function(){return this.getPropertyValue("id")},set:function(e){this.setPropertyValue("id",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPanel",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.getPanel=function(){return this},t.prototype.getLayoutType=function(){return"row"},t.prototype.isLayoutTypeSupported=function(e){return e!=="flow"},Object.defineProperty(t.prototype,"questions",{get:function(){if(!this.isQuestionsReady){this.questionsValue=[];for(var e=0;e<this.elements.length;e++){var n=this.elements[e];if(n.isPanel)for(var i=n.questions,o=0;o<i.length;o++)this.questionsValue.push(i[o]);else this.questionsValue.push(n)}this.isQuestionsReady=!0}return this.questionsValue},enumerable:!1,configurable:!0}),t.prototype.getQuestions=function(e){var n=this.questions;if(!e)return n;var i=[];return n.forEach(function(o){i.push(o),o.getNestedQuestions().forEach(function(l){return i.push(l)})}),i},t.prototype.getValidName=function(e){return e&&e.trim()},t.prototype.getQuestionByName=function(e){for(var n=this.questions,i=0;i<n.length;i++)if(n[i].name==e)return n[i];return null},t.prototype.getElementByName=function(e){for(var n=this.elements,i=0;i<n.length;i++){var o=n[i];if(o.name==e)return o;var l=o.getPanel();if(l){var u=l.getElementByName(e);if(u)return u}}return null},t.prototype.getQuestionByValueName=function(e){var n=this.getQuestionsByValueName(e);return n.length>0?n[0]:null},t.prototype.getQuestionsByValueName=function(e){for(var n=[],i=this.questions,o=0;o<i.length;o++)i[o].getValueName()==e&&n.push(i[o]);return n},t.prototype.getValue=function(){var e={};return this.collectValues(e,0),D.getUnbindValue(e)},t.prototype.collectValues=function(e,n){var i=this.elements;n===0&&(i=this.questions);for(var o=!1,l=0;l<i.length;l++){var u=i[l];if(u.isPanel||u.isPage){var d={};u.collectValues(d,n-1)&&(e[u.name]=d,o=!0)}else{var m=u;if(!m.isEmpty()){var w=m.getValueName();if(e[w]=m.value,this.data){var E=this.data.getComment(w);E&&(e[w+be.commentSuffix]=E)}}o=!0}}return!0},t.prototype.getDisplayValue=function(e){for(var n={},i=this.questions,o=0;o<i.length;o++){var l=i[o];if(!l.isEmpty()){var u=e?l.title:l.getValueName();n[u]=l.getDisplayValue(e)}}return n},t.prototype.getComments=function(){var e={};if(!this.data)return e;for(var n=this.questions,i=0;i<n.length;i++){var o=n[i],l=this.data.getComment(o.getValueName());l&&(e[o.getValueName()]=l)}return e},t.prototype.clearIncorrectValues=function(){for(var e=0;e<this.elements.length;e++)this.elements[e].clearIncorrectValues()},t.prototype.clearErrors=function(){for(var e=0;e<this.elements.length;e++)this.elements[e].clearErrors();this.errors=[]},t.prototype.markQuestionListDirty=function(){this.isQuestionsReady=!1,this.parent&&this.parent.markQuestionListDirty()},Object.defineProperty(t.prototype,"elements",{get:function(){return be.collectDependency(this,"elements"),this.elementsValue},enumerable:!1,configurable:!0}),t.prototype.getElementsInDesign=function(e){return e===void 0&&(e=!1),this.elements},t.prototype.containsElement=function(e){for(var n=0;n<this.elements.length;n++){var i=this.elements[n];if(i==e)return!0;var o=i.getPanel();if(o&&o.containsElement(e))return!0}return!1},Object.defineProperty(t.prototype,"isRequired",{get:function(){return this.getPropertyValue("isRequired")},set:function(e){this.setPropertyValue("isRequired",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requiredIf",{get:function(){return this.getPropertyValue("requiredIf","")},set:function(e){this.setPropertyValue("requiredIf",e)},enumerable:!1,configurable:!0}),t.prototype.searchText=function(e,n){r.prototype.searchText.call(this,e,n);for(var i=0;i<this.elements.length;i++)this.elements[i].searchText(e,n)},t.prototype.hasErrors=function(e,n,i){return e===void 0&&(e=!0),n===void 0&&(n=!1),i===void 0&&(i=null),!this.validate(e,n,i)},t.prototype.validate=function(e,n,i){return e===void 0&&(e=!0),n===void 0&&(n=!1),i===void 0&&(i=null),i=i||{fireCallback:e,focusOnFirstError:n,firstErrorQuestion:null,result:!1},i.result!==!0&&(i.result=!1),this.hasErrorsCore(i),!i.result},t.prototype.validateContainerOnly=function(){this.hasErrorsInPanels({fireCallback:!0}),this.parent&&this.parent.validateContainerOnly()},t.prototype.onQuestionValueChanged=function(e){var n=this.questions.indexOf(e);if(!(n<0)){for(var i=5,o=this.questions.length-1,l=n-i>0?n-i:0,u=n+i<o?n+i:o,d=l;d<=u;d++)if(d!==n){var m=this.questions[d];m.errors.length>0&&m.validate(!1)&&m.validate(!0)}}},t.prototype.hasErrorsInPanels=function(e){var n=[];if(this.hasRequiredError(e,n),this.isPanel&&this.survey){var i=this.survey.validatePanel(this);i&&(n.push(i),e.result=!0)}e.fireCallback&&(this.survey&&this.survey.beforeSettingPanelErrors(this,n),this.errors=n)},t.prototype.getErrorCustomText=function(e,n){return this.survey?this.survey.getSurveyErrorCustomText(this,e,n):e},t.prototype.hasRequiredError=function(e,n){if(this.isRequired){var i=[];if(this.addQuestionsToList(i,!0),i.length!=0){for(var o=0;o<i.length;o++)if(!i[o].isEmpty())return;e.result=!0,n.push(new Ra(this.requiredErrorText,this)),e.focusOnFirstError&&!e.firstErrorQuestion&&(e.firstErrorQuestion=i[0])}}},t.prototype.hasErrorsCore=function(e){for(var n=this.elements,i=null,o=null,l=0;l<n.length;l++)if(i=n[l],!!i.isVisible)if(i.isPanel)i.hasErrorsCore(e);else{var u=i;u.validate(e.fireCallback,e)||(o||(o=u),e.firstErrorQuestion||(e.firstErrorQuestion=u),e.result=!0)}this.hasErrorsInPanels(e),this.updateContainsErrors(),!o&&this.errors.length>0&&(o=this.getFirstQuestionToFocus(!1,!0),e.firstErrorQuestion||(e.firstErrorQuestion=o)),e.fireCallback&&o&&(o===e.firstErrorQuestion&&e.focusOnFirstError?o.focus(!0):o.expandAllParents())},t.prototype.getContainsErrors=function(){var e=r.prototype.getContainsErrors.call(this);if(e)return e;for(var n=this.elements,i=0;i<n.length;i++)if(n[i].containsErrors)return!0;return!1},t.prototype.updateElementVisibility=function(){for(var e=0;e<this.elements.length;e++)this.elements[e].updateElementVisibility();r.prototype.updateElementVisibility.call(this)},t.prototype.getFirstQuestionToFocus=function(e,n){if(e===void 0&&(e=!1),n===void 0&&(n=!1),!e&&!n&&this.isCollapsed)return null;for(var i=this.elements,o=0;o<i.length;o++){var l=i[o];if(!(!l.isVisible||!n&&l.isCollapsed))if(l.isPanel){var u=l.getFirstQuestionToFocus(e,n);if(u)return u}else{var d=l.getFirstQuestionToFocus(e);if(d)return d}}return null},t.prototype.focusFirstQuestion=function(){var e=this.getFirstQuestionToFocus();e&&e.focus()},t.prototype.focusFirstErrorQuestion=function(){var e=this.getFirstQuestionToFocus(!0);e&&e.focus()},t.prototype.addQuestionsToList=function(e,n,i){n===void 0&&(n=!1),i===void 0&&(i=!1),this.addElementsToList(e,n,i,!1)},t.prototype.addPanelsIntoList=function(e,n,i){n===void 0&&(n=!1),i===void 0&&(i=!1),this.addElementsToList(e,n,i,!0)},t.prototype.addElementsToList=function(e,n,i,o){n&&!this.visible||this.addElementsToListCore(e,this.elements,n,i,o)},t.prototype.addElementsToListCore=function(e,n,i,o,l){for(var u=0;u<n.length;u++){var d=n[u];i&&!d.visible||((l&&d.isPanel||!l&&!d.isPanel)&&e.push(d),d.isPanel?d.addElementsToListCore(e,d.elements,i,o,l):o&&this.addElementsToListCore(e,d.getElementsInDesign(!1),i,o,l))}},t.prototype.calcMaxRowColSpan=function(){var e=0;return this.rows.forEach(function(n){var i=0,o=!1;n.elements.forEach(function(l){l.width&&(o=!0),i+=l.colSpan||1}),!o&&i>e&&(e=i)}),e},t.prototype.updateColumnWidth=function(e){var n=0,i=0;if(e.forEach(function(u){u.width?(n+=u.width,u.setPropertyValue("effectiveWidth",u.width)):i++}),i)for(var o=zd((100-n)/i),l=0;l<e.length;l++)e[l].width||e[l].setPropertyValue("effectiveWidth",o)},t.prototype.updateColumns=function(){this._columns=void 0,this.updateRootStyle()},t.prototype.updateRootStyle=function(){var e;r.prototype.updateRootStyle.call(this),(e=this.elements)===null||e===void 0||e.forEach(function(n){return n.updateRootStyle()})},t.prototype.updateCustomWidgets=function(){for(var e=0;e<this.elements.length;e++)this.elements[e].updateCustomWidgets()},Object.defineProperty(t.prototype,"questionTitleLocation",{get:function(){return this.getPropertyValue("questionTitleLocation")},set:function(e){this.setPropertyValue("questionTitleLocation",e.toLowerCase())},enumerable:!1,configurable:!0}),t.prototype.getQuestionTitleLocation=function(){return this.onGetQuestionTitleLocation?this.onGetQuestionTitleLocation():this.questionTitleLocation!="default"?this.questionTitleLocation:this.parent?this.parent.getQuestionTitleLocation():this.survey?this.survey.questionTitleLocation:"top"},t.prototype.availableQuestionTitleWidth=function(){var e=this.getQuestionTitleLocation();return e==="left"?!0:this.hasElementWithTitleLocationLeft()},t.prototype.hasElementWithTitleLocationLeft=function(){var e=this.elements.some(function(n){if(n instanceof t)return n.hasElementWithTitleLocationLeft();if(n instanceof tt)return n.getTitleLocation()==="left"});return e},t.prototype.getQuestionTitleWidth=function(){return this.questionTitleWidth||this.parent&&this.parent.getQuestionTitleWidth()},Object.defineProperty(t.prototype,"columns",{get:function(){return this._columns||this.generateColumns(),this._columns||[]},enumerable:!1,configurable:!0}),t.prototype.generateColumns=function(){var e=this.calcMaxRowColSpan(),n=[].concat(this.gridLayoutColumns);if(e<=this.gridLayoutColumns.length)n=this.gridLayoutColumns.slice(0,e);else for(var i=this.gridLayoutColumns.length;i<e;i++){var o=new fl;o.onPropertyValueChangedCallback=this.onColumnPropertyValueChangedCallback,n.push(o)}this._columns=n;try{this._columnsReady=!1,this.updateColumnWidth(n)}finally{this._columnsReady=!0}this.gridLayoutColumns=n},t.prototype.updateGridColumns=function(){this.updateColumns(),this.elements.forEach(function(e){e.isPanel&&e.updateGridColumns()})},t.prototype.getColumsForElement=function(e){var n=this.findRowByElement(e);if(!n||!this.survey||!this.survey.gridLayoutEnabled)return[];for(var i=n.elements.length-1;i>=0&&n.elements[i].getPropertyValueWithoutDefault("colSpan");)i--;for(var o=n.elements.indexOf(e),l=0,u=0;u<o;u++)l+=n.elements[u].colSpan;var d=e.getPropertyValueWithoutDefault("colSpan");if(!d&&o===i){for(var m=0,u=0;u<n.elements.length;u++)u!==i&&(m+=n.elements[u].colSpan);d=this.columns.length-m}var w=this.columns.slice(l,l+(d||1));return e.setPropertyValue("effectiveColSpan",w.length),w},t.prototype.getStartIndex=function(){return this.parent?this.parent.getQuestionStartIndex():this.survey?this.survey.questionStartIndex:""},t.prototype.getQuestionStartIndex=function(){return this.getStartIndex()},t.prototype.getChildrenLayoutType=function(){return"row"},t.prototype.getProgressInfo=function(){return et.getProgressInfoByElements(this.elements,this.isRequired)},Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t.prototype.childVisibilityChanged=function(){var e=this.getIsPageVisible(null),n=this.getPropertyValue("isVisible",!0);e!==n&&this.onVisibleChanged()},t.prototype.canRenderFirstRows=function(){return this.isPage},t.prototype.isLazyRenderInRow=function(e){return!this.survey||!this.survey.isLazyRendering?!1:e>=this.survey.lazyRenderingFirstBatchSize||!this.canRenderFirstRows()},t.prototype.createRowAndSetLazy=function(e){var n=this.createRow();return n.setIsLazyRendering(this.isLazyRenderInRow(e)),n},t.prototype.createRow=function(){return new ml(this)},t.prototype.onSurveyLoad=function(){this.blockAnimations(),r.prototype.onSurveyLoad.call(this);for(var e=0;e<this.elements.length;e++)this.elements[e].onSurveyLoad();this.onElementVisibilityChanged(this),this.releaseAnimations()},t.prototype.onFirstRenderingCore=function(){r.prototype.onFirstRenderingCore.call(this),this.onRowsChanged(),this.elements.forEach(function(e){return e.onFirstRendering()})},t.prototype.updateRows=function(){this.isLoadingFromJson||(this.getElementsForRows().forEach(function(e){e.isPanel&&e.updateRows()}),this.onRowsChanged())},Object.defineProperty(t.prototype,"rows",{get:function(){return this.getPropertyValue("rows")},enumerable:!1,configurable:!0}),t.prototype.ensureRowsVisibility=function(){this.rows.forEach(function(e){e.ensureVisibility()})},t.prototype.onRowsChanged=function(){this.isLoadingFromJson||(this.blockAnimations(),this.setArrayPropertyDirectly("rows",this.buildRows()),this.updateColumns(),this.releaseAnimations())},t.prototype.blockRowsUpdates=function(){this.locCountRowUpdates++},t.prototype.releaseRowsUpdates=function(){this.locCountRowUpdates--},t.prototype.updateRowsBeforeElementRemoved=function(e){var n=this,i=this.findRowByElement(e),o=this.rows.indexOf(i),l=i.elements.indexOf(e);i.elements.splice(l,1),i.elements.length==0?this.rows.splice(o,1):!i.elements[0].startWithNewLine&&this.rows[o-1]?(i.elements.forEach(function(u){return n.rows[o-1].addElement(u)}),this.rows.splice(o,1)):i.updateVisible()},t.prototype.updateRowsOnElementAdded=function(e){var n=this,i=this.elements.indexOf(e),o=this.elements[i+1],l=function(E){var A=n.createRowAndSetLazy(E);return n.isDesignModeV2&&A.setIsLazyRendering(!1),n.rows.splice(E,0,A),A},u=function(E,A,U){for(var W,se=[],ie=3;ie<arguments.length;ie++)se[ie-3]=arguments[ie];var K=(W=E.elements).splice.apply(W,hl([A,U],se));return E.updateVisible(),K};if(!o){i==0||e.startWithNewLine?u(l(this.rows.length),0,0,e):this.rows[this.rows.length-1].addElement(e);return}var d=this.findRowByElement(o);if(d){var m=this.rows.indexOf(d),w=d.elements.indexOf(o);w==0?o.startWithNewLine?e.startWithNewLine||m<1?l(m).addElement(e):this.rows[m-1].addElement(e):u(d,0,0,e):e.startWithNewLine?u.apply(void 0,hl([l(m+1),0,0],[e].concat(u(d,w,d.elements.length)))):u(d,w,0,e)}},t.prototype.canFireAddRemoveNotifications=function(e){return!!this.survey&&e.prevSurvey!==this.survey},t.prototype.onAddElement=function(e,n){var i=this,o=this.survey,l=this.canFireAddRemoveNotifications(e);this.surveyImpl&&e.setSurveyImpl(this.surveyImpl),e.parent=this,this.markQuestionListDirty(),this.canBuildRows()&&this.updateRowsOnElementAdded(e),l&&(e.isPanel?o.panelAdded(e,n,this,this.root):o.questionAdded(e,n,this,this.root)),this.addElementCallback&&this.addElementCallback(e),e.registerPropertyChangedHandlers(["visible","isVisible"],function(){i.onElementVisibilityChanged(e)},this.id),e.registerPropertyChangedHandlers(["startWithNewLine"],function(){i.onElementStartWithNewLineChanged(e)},this.id),this.onElementVisibilityChanged(this)},t.prototype.onRemoveElement=function(e){e.parent=null,this.unregisterElementPropertiesChanged(e),this.markQuestionListDirty(),this.updateRowsOnElementRemoved(e),!this.isRandomizing&&(this.onRemoveElementNotifySurvey(e),this.removeElementCallback&&this.removeElementCallback(e),this.onElementVisibilityChanged(this))},t.prototype.unregisterElementPropertiesChanged=function(e){e.unregisterPropertyChangedHandlers(["visible","isVisible","startWithNewLine"],this.id)},t.prototype.onRemoveElementNotifySurvey=function(e){this.canFireAddRemoveNotifications(e)&&(e.isPanel?this.survey.panelRemoved(e):this.survey.questionRemoved(e))},t.prototype.onElementVisibilityChanged=function(e){this.isLoadingFromJson||this.isRandomizing||(this.updateRowsVisibility(e),this.childVisibilityChanged(),this.parent&&this.parent.onElementVisibilityChanged(this))},t.prototype.onElementStartWithNewLineChanged=function(e){this.locCountRowUpdates>0||(this.blockAnimations(),this.updateRowsBeforeElementRemoved(e),this.updateRowsOnElementAdded(e),this.releaseAnimations())},t.prototype.updateRowsVisibility=function(e){for(var n=this.rows,i=0;i<n.length;i++){var o=n[i];if(o.elements.indexOf(e)>-1){o.updateVisible(),o.visible&&!o.isNeedRender&&(o.isNeedRender=!0);break}}},t.prototype.canBuildRows=function(){return!this.isLoadingFromJson&&this.getChildrenLayoutType()=="row"},t.prototype.buildRows=function(){if(!this.canBuildRows())return[];for(var e=new Array,n=this.getElementsForRows(),i=0;i<n.length;i++){var o=n[i],l=i==0||o.startWithNewLine,u=l?this.createRowAndSetLazy(e.length):e[e.length-1];l&&e.push(u),u.addElement(o)}return e.forEach(function(d){return d.updateVisible()}),e},t.prototype.getElementsForRows=function(){return this.elements},t.prototype.getDragDropInfo=function(){var e=this.getPage(this.parent);return e?e.getDragDropInfo():void 0},t.prototype.updateRowsOnElementRemoved=function(e){this.canBuildRows()&&(this.updateRowsRemoveElementFromRow(e,this.findRowByElement(e)),this.updateColumns())},t.prototype.updateRowsRemoveElementFromRow=function(e,n){if(!(!n||!n.panel)){var i=n.elements.indexOf(e);i<0||(n.elements.splice(i,1),n.elements.length>0?(this.blockRowsUpdates(),n.elements[0].startWithNewLine=!0,this.releaseRowsUpdates(),n.updateVisible()):n.index>=0&&n.panel.rows.splice(n.index,1))}},t.prototype.getAllRows=function(){var e=this,n=[];return this.rows.forEach(function(i){var o=[];i.elements.forEach(function(l){l.isPanel?o.push.apply(o,l.getAllRows()):l.getType()=="paneldynamic"&&(e.isDesignMode?o.push.apply(o,l.template.getAllRows()):l.panels.forEach(function(u){return o.push.apply(o,u.getAllRows())}))}),n.push(i),n.push.apply(n,o)}),n},t.prototype.findRowAndIndexByElement=function(e,n){if(!e)return{row:void 0,index:this.rows.length-1};n=n||this.rows;for(var i=0;i<n.length;i++)if(n[i].elements.indexOf(e)>-1)return{row:n[i],index:i};return{row:null,index:-1}},t.prototype.forceRenderRow=function(e){e&&!e.isNeedRender&&(e.isNeedRender=!0,e.stopLazyRendering())},t.prototype.forceRenderElement=function(e,n,i){n===void 0&&(n=function(){}),i===void 0&&(i=0);var o=this.getAllRows(),l=this.findRowAndIndexByElement(e,o),u=l.row,d=l.index;if(d>=0&&d<o.length){var m=[];m.push(u);for(var w=d-1;w>=d-i&&w>=0;w--)m.push(o[w]);this.forceRenderRows(m,n)}},t.prototype.forceRenderRows=function(e,n){var i=this;n===void 0&&(n=function(){});var o=function(l){return function(){l--,l<=0&&n()}}(e.length);e.forEach(function(l){return new Id(l.visibleElements,o)}),e.forEach(function(l){return i.forceRenderRow(l)})},t.prototype.findRowByElement=function(e){return this.findRowAndIndexByElement(e).row},t.prototype.elementWidthChanged=function(e){if(!this.isLoadingFromJson){var n=this.findRowByElement(e);n&&n.updateVisible()}},Object.defineProperty(t.prototype,"processedTitle",{get:function(){return this.getRenderedTitle(this.locTitle.textOrHtml)},enumerable:!1,configurable:!0}),t.prototype.getRenderedTitle=function(e){return this.textProcessor!=null?this.textProcessor.processText(e,!0):e},Object.defineProperty(t.prototype,"visible",{get:function(){return this.getPropertyValue("visible",!0)},set:function(e){e!==this.visible&&(this.setPropertyValue("visible",e),this.setPropertyValue("isVisible",this.isVisible),this.isLoadingFromJson||this.onVisibleChanged())},enumerable:!1,configurable:!0}),t.prototype.onHidingContent=function(){this.questions.forEach(function(e){return e.onHidingContent()})},t.prototype.onVisibleChanged=function(){if(!this.isRandomizing&&(this.setPropertyValue("isVisible",this.isVisible),this.survey&&this.survey.getQuestionClearIfInvisible("default")!=="none"&&!this.isLoadingFromJson))for(var e=this.questions,n=this.isVisible,i=0;i<e.length;i++){var o=e[i];n?o.updateValueWithDefaults():(o.clearValueIfInvisible("onHiddenContainer"),o.onHidingContent())}},t.prototype.notifyStateChanged=function(e){r.prototype.notifyStateChanged.call(this,e),this.isCollapsed&&this.questions.forEach(function(n){return n.onHidingContent()})},Object.defineProperty(t.prototype,"isVisible",{get:function(){return this.areInvisibleElementsShowing||this.getIsPageVisible(null)},enumerable:!1,configurable:!0}),t.prototype.getIsContentVisible=function(e){if(this.areInvisibleElementsShowing)return!0;for(var n=0;n<this.elements.length;n++)if(this.elements[n]!=e&&this.elements[n].isVisible)return!0;return!1},t.prototype.getIsPageVisible=function(e){return this.visible&&this.getIsContentVisible(e)},t.prototype.setVisibleIndex=function(e){if(!this.isVisible||e<0)return this.resetVisibleIndexes(),0;this.lastVisibleIndex=e;var n=e;e+=this.beforeSetVisibleIndex(e);for(var i=this.getPanelStartIndex(e),o=i,l=0;l<this.elements.length;l++)o+=this.elements[l].setVisibleIndex(o);return this.isContinueNumbering()&&(e+=o-i),e-n},t.prototype.updateVisibleIndexes=function(){this.lastVisibleIndex!==void 0&&(this.resetVisibleIndexes(),this.setVisibleIndex(this.lastVisibleIndex))},t.prototype.resetVisibleIndexes=function(){for(var e=0;e<this.elements.length;e++)this.elements[e].setVisibleIndex(-1)},t.prototype.beforeSetVisibleIndex=function(e){return 0},t.prototype.getPanelStartIndex=function(e){return e},t.prototype.isContinueNumbering=function(){return!0},Object.defineProperty(t.prototype,"isReadOnly",{get:function(){var e=!!this.parent&&this.parent.isReadOnly,n=!!this.survey&&this.survey.isDisplayMode;return this.readOnly||e||n},enumerable:!1,configurable:!0}),t.prototype.onReadOnlyChanged=function(){for(var e=0;e<this.elements.length;e++){var n=this.elements[e];n.setPropertyValue("isReadOnly",n.isReadOnly)}r.prototype.onReadOnlyChanged.call(this)},t.prototype.updateElementCss=function(e){r.prototype.updateElementCss.call(this,e);for(var n=0;n<this.elements.length;n++){var i=this.elements[n];i.updateElementCss(e)}},Object.defineProperty(t.prototype,"enableIf",{get:function(){return this.getPropertyValue("enableIf","")},set:function(e){this.setPropertyValue("enableIf",e)},enumerable:!1,configurable:!0}),t.prototype.addElement=function(e,n){return n===void 0&&(n=-1),this.canAddElement(e)?(n<0||n>=this.elements.length?this.elements.push(e):this.elements.splice(n,0,e),this.wasRendered&&e.onFirstRendering(),this.updateColumns(),!0):!1},t.prototype.insertElement=function(e,n,i){if(i===void 0&&(i="bottom"),!n){this.addElement(e);return}this.blockRowsUpdates();var o=this.elements.indexOf(n),l=this.findRowByElement(n);i=="left"||i=="right"?i=="right"?(e.startWithNewLine=!1,o++):l.elements.indexOf(n)==0?(n.startWithNewLine=!1,e.startWithNewLine=!0):e.startWithNewLine=!1:(e.startWithNewLine=!0,i=="top"?o=this.elements.indexOf(l.elements[0]):o=this.elements.indexOf(l.elements[l.elements.length-1])+1),this.releaseRowsUpdates(),this.addElement(e,o)},t.prototype.insertElementAfter=function(e,n){var i=this.elements.indexOf(n);i>=0&&this.addElement(e,i+1)},t.prototype.insertElementBefore=function(e,n){var i=this.elements.indexOf(n);i>=0&&this.addElement(e,i)},t.prototype.canAddElement=function(e){return!!e&&e.isLayoutTypeSupported(this.getChildrenLayoutType())},t.prototype.addQuestion=function(e,n){return n===void 0&&(n=-1),this.addElement(e,n)},t.prototype.addPanel=function(e,n){return n===void 0&&(n=-1),this.addElement(e,n)},t.prototype.addNewQuestion=function(e,n,i){n===void 0&&(n=null),i===void 0&&(i=-1);var o=Se.Instance.createQuestion(e,n);return this.addQuestion(o,i)?o:null},t.prototype.addNewPanel=function(e){e===void 0&&(e=null);var n=this.createNewPanel(e);return this.addPanel(n)?n:null},t.prototype.indexOf=function(e){return this.elements.indexOf(e)},t.prototype.createNewPanel=function(e){var n=L.createClass("panel");return n.name=e,n},t.prototype.removeElement=function(e){var n=this.elements.indexOf(e);if(n<0){for(var i=0;i<this.elements.length;i++)if(this.elements[i].removeElement(e))return!0;return!1}return this.elements.splice(n,1),this.updateColumns(),!0},t.prototype.removeQuestion=function(e){this.removeElement(e)},t.prototype.runCondition=function(e,n){if(!(this.isDesignMode||this.isLoadingFromJson)){for(var i=this.elements.slice(),o=0;o<i.length;o++)i[o].runCondition(e,n);this.runConditionCore(e,n)}},t.prototype.onAnyValueChanged=function(e,n){for(var i=this.elements,o=0;o<i.length;o++)i[o].onAnyValueChanged(e,n)},t.prototype.checkBindings=function(e,n){for(var i=this.elements,o=0;o<i.length;o++)i[o].checkBindings(e,n)},t.prototype.dragDropAddTarget=function(e){this.dragDropPanelHelper.dragDropAddTarget(e)},t.prototype.dragDropFindRow=function(e){return this.dragDropPanelHelper.dragDropFindRow(e)},t.prototype.dragDropMoveElement=function(e,n,i){this.dragDropPanelHelper.dragDropMoveElement(e,n,i)},t.prototype.needResponsiveWidth=function(){var e=!1;return this.elements.forEach(function(n){n.needResponsiveWidth()&&(e=!0)}),this.rows.forEach(function(n){n.elements.length>1&&(e=!0)}),e},Object.defineProperty(t.prototype,"hasDescriptionUnderTitle",{get:function(){return this.hasDescription},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssHeader",{get:function(){return this.cssClasses.panel.header},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssDescription",{get:function(){return this.cssClasses.panel.description},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"questionErrorLocation",{get:function(){return this.getPropertyValue("questionErrorLocation")},set:function(e){this.setPropertyValue("questionErrorLocation",e)},enumerable:!1,configurable:!0}),t.prototype.getQuestionErrorLocation=function(){return this.questionErrorLocation!=="default"?this.questionErrorLocation:this.parent?this.parent.getQuestionErrorLocation():this.survey?this.survey.questionErrorLocation:"top"},t.prototype.getTitleOwner=function(){return this},Object.defineProperty(t.prototype,"no",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssTitleNumber",{get:function(){return this.cssClasses.panel.number},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssRequiredText",{get:function(){return this.cssClasses.panel.requiredText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssError",{get:function(){return this.getCssError(this.cssClasses)},enumerable:!1,configurable:!0}),t.prototype.getCssError=function(e){return new F().append(e.error.root).toString()},t.prototype.getSerializableColumnsValue=function(){for(var e=-1,n=this.gridLayoutColumns.length-1;n>=0;n--)if(!this.gridLayoutColumns[n].isEmpty()){e=n;break}return this.gridLayoutColumns.slice(0,e+1)},t.prototype.afterRender=function(e){this.afterRenderCore(e)},t.prototype.dispose=function(){if(r.prototype.dispose.call(this),this.rows){for(var e=0;e<this.rows.length;e++)this.rows[e].dispose();this.rows.splice(0,this.rows.length)}this.disposeElements(),this.elements.splice(0,this.elements.length)},t.prototype.disposeElements=function(){for(var e=0;e<this.elements.length;e++)this.elements[e].dispose()},t.panelCounter=100,ii([Xe()],t.prototype,"gridLayoutColumns",void 0),ii([V({defaultValue:!0})],t.prototype,"showTitle",void 0),ii([V({defaultValue:!0})],t.prototype,"showDescription",void 0),ii([V()],t.prototype,"questionTitleWidth",void 0),t}(et),ri=function(r){wo(t,r);function t(e){e===void 0&&(e="");var n=r.call(this,e)||this;return n.forcusFirstQuestionOnExpand=!0,n.createNewArray("footerActions"),n.registerPropertyChangedHandlers(["width"],function(){n.parent&&n.parent.elementWidthChanged(n)}),n.registerPropertyChangedHandlers(["indent","innerIndent","rightIndent"],function(){n.resetIndents()}),n.registerPropertyChangedHandlers(["colSpan"],function(){var i;(i=n.parent)===null||i===void 0||i.updateColumns()}),n}return t.prototype.getType=function(){return"panel"},Object.defineProperty(t.prototype,"contentId",{get:function(){return this.id+"_content"},enumerable:!1,configurable:!0}),t.prototype.getSurvey=function(e){return e===void 0&&(e=!1),e&&this.isPanel?this.parent?this.parent.getSurvey(e):null:r.prototype.getSurvey.call(this,e)},Object.defineProperty(t.prototype,"isPanel",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"page",{get:function(){return this.getPage(this.parent)},set:function(e){this.setPage(this.parent,e)},enumerable:!1,configurable:!0}),t.prototype.removeFromParent=function(){this.parent&&this.removeSelfFromList(this.parent.elements)},t.prototype.moveTo=function(e,n){return n===void 0&&(n=null),this.moveToBase(this.parent,e,n)},Object.defineProperty(t.prototype,"visibleIndex",{get:function(){return this.getPropertyValue("visibleIndex",-1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showNumber",{get:function(){return this.getPropertyValue("showNumber")},set:function(e){this.setPropertyValue("showNumber",e),this.notifySurveyOnVisibilityChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showQuestionNumbers",{get:function(){return this.getPropertyValue("showQuestionNumbers")},set:function(e){this.setPropertyValue("showQuestionNumbers",e),this.notifySurveyOnVisibilityChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"questionStartIndex",{get:function(){return this.getPropertyValue("questionStartIndex","")},set:function(e){this.setPropertyValue("questionStartIndex",e)},enumerable:!1,configurable:!0}),t.prototype.getQuestionStartIndex=function(){return this.questionStartIndex?this.questionStartIndex:r.prototype.getQuestionStartIndex.call(this)},Object.defineProperty(t.prototype,"no",{get:function(){var e=this;return this.getPropertyValue("no",void 0,function(){return e.calcNo()})},enumerable:!1,configurable:!0}),t.prototype.calcNo=function(){var e=D.getNumberByIndex(this.visibleIndex,this.getStartIndex());return this.survey&&(e=this.survey.getUpdatedPanelNo(this,e)),e||""},t.prototype.notifyStateChanged=function(e){this.isLoadingFromJson||this.locTitle.strChanged(),r.prototype.notifyStateChanged.call(this,e)},t.prototype.createLocTitleProperty=function(){var e=this,n=r.prototype.createLocTitleProperty.call(this);return n.onGetTextCallback=function(i){return!i&&e.state!=="default"&&(i=e.name),i},n},t.prototype.beforeSetVisibleIndex=function(e){if(this.isPage)return r.prototype.beforeSetVisibleIndex.call(this,e);var n=-1;return this.showNumber&&(this.isDesignMode||!this.locTitle.isEmpty||this.hasParentInQuestionIndex())&&(n=e),this.setPropertyValue("visibleIndex",n),this.resetPropertyValue("no"),n<0?0:1},t.prototype.getPanelStartIndex=function(e){return this.showQuestionNumbers==="off"?-1:this.showQuestionNumbers==="onpanel"?0:e},t.prototype.hasParentInQuestionIndex=function(){if(this.showQuestionNumbers!=="onpanel")return!1;var e=this.questionStartIndex,n=e.indexOf(".");return n>-1&&n<e.length-1},t.prototype.isContinueNumbering=function(){return this.showQuestionNumbers!=="off"&&this.showQuestionNumbers!=="onpanel"},t.prototype.notifySurveyOnVisibilityChanged=function(){this.survey!=null&&!this.isLoadingFromJson&&this.page&&this.survey.panelVisibilityChanged(this,this.isVisible)},t.prototype.getRenderedTitle=function(e){if(this.isPanel&&!e){if(this.isCollapsed||this.isExpanded)return this.name;if(this.isDesignMode)return"["+this.name+"]"}return r.prototype.getRenderedTitle.call(this,e)},Object.defineProperty(t.prototype,"innerIndent",{get:function(){return this.getPropertyValue("innerIndent")},set:function(e){this.setPropertyValue("innerIndent",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startWithNewLine",{get:function(){return this.getPropertyValue("startWithNewLine")},set:function(e){this.setPropertyValue("startWithNewLine",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowAdaptiveActions",{get:function(){return this.getPropertyValue("allowAdaptiveActions")},set:function(e){this.setPropertyValue("allowAdaptiveActions",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"innerPaddingLeft",{get:function(){var e=this,n=function(){return e.getIndentSize(e.innerIndent)};return this.getPropertyValue("innerPaddingLeft",void 0,n)},set:function(e){this.setPropertyValue("innerPaddingLeft",e)},enumerable:!1,configurable:!0}),t.prototype.calcPaddingLeft=function(){return this.getIndentSize(this.indent)},t.prototype.calcPaddingRight=function(){return this.getIndentSize(this.rightIndent)},t.prototype.resetIndents=function(){this.resetPropertyValue("innerPaddingLeft"),r.prototype.resetIndents.call(this)},t.prototype.getIndentSize=function(e){if(this.survey){if(e<1)return"";var n=this.survey.css;return!n||!n.question||!n.question.indent?"":e*n.question.indent+"px"}},t.prototype.clearOnDeletingContainer=function(){this.elements.forEach(function(e){(e instanceof tt||e instanceof t)&&e.clearOnDeletingContainer()})},Object.defineProperty(t.prototype,"footerActions",{get:function(){return this.getPropertyValue("footerActions")},enumerable:!1,configurable:!0}),t.prototype.getFooterToolbar=function(){var e=this,n,i;if(!this.footerToolbarValue){var o=this.footerActions;this.hasEditButton&&o.push({id:"cancel-preview",locTitle:this.survey.locEditText,innerCss:this.survey.cssNavigationEdit,component:"sv-nav-btn",action:function(){e.cancelPreview()}}),this.onGetFooterActionsCallback?o=this.onGetFooterActionsCallback():o=(n=this.survey)===null||n===void 0?void 0:n.getUpdatedPanelFooterActions(this,o),this.footerToolbarValue=this.createActionContainer(this.allowAdaptiveActions);var l=this.onGetFooterToolbarCssCallback?this.onGetFooterToolbarCssCallback():"";l||(l=(i=this.cssClasses.panel)===null||i===void 0?void 0:i.footer),l&&(this.footerToolbarValue.containerCss=l),this.footerToolbarValue.setItems(o)}return this.footerToolbarValue},Object.defineProperty(t.prototype,"hasEditButton",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.cancelPreview=function(){this.hasEditButton&&this.survey.cancelPreviewByPage(this)},Object.defineProperty(t.prototype,"cssTitle",{get:function(){return this.getCssPanelTitle()},enumerable:!1,configurable:!0}),t.prototype.getCssPanelTitle=function(){return this.getCssTitle(this.cssClasses.panel)},t.prototype.getCssTitleExpandableSvg=function(){return this.state==="default"?null:this.cssClasses.panel.titleExpandableSvg},Object.defineProperty(t.prototype,"showErrorsAbovePanel",{get:function(){return this.isDefaultV2Theme&&!this.showPanelAsPage},enumerable:!1,configurable:!0}),t.prototype.getCssError=function(e){if(this.isPage)return r.prototype.getCssError.call(this,e);var n=new F().append(r.prototype.getCssError.call(this,e)).append(e.panel.errorsContainer);return n.append("panel-error-root",n.isEmpty()).toString()},t.prototype.onVisibleChanged=function(){r.prototype.onVisibleChanged.call(this),this.notifySurveyOnVisibilityChanged()},t.prototype.needResponsiveWidth=function(){return this.startWithNewLine?r.prototype.needResponsiveWidth.call(this):!0},t.prototype.focusIn=function(){this.survey&&this.survey.whenPanelFocusIn(this)},t.prototype.getHasFrameV2=function(){return r.prototype.getHasFrameV2.call(this)&&!this.showPanelAsPage},t.prototype.getIsNested=function(){return r.prototype.getIsNested.call(this)&&this.parent!==void 0},Object.defineProperty(t.prototype,"showPanelAsPage",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.expand=function(e){e===void 0&&(e=!0),this.forcusFirstQuestionOnExpand=e,r.prototype.expand.call(this)},t.prototype.onElementExpanded=function(e){var n=this;if(this.forcusFirstQuestionOnExpand&&this.survey!=null&&!this.isLoadingFromJson){var i=this.getFirstQuestionToFocus(!1);i&&setTimeout(function(){!n.isDisposed&&n.survey&&n.survey.scrollElementToTop(i,i,null,i.inputId,!1,{behavior:"smooth"})},e?0:15)}},t.prototype.getCssRoot=function(e){return new F().append(r.prototype.getCssRoot.call(this,e)).append(e.container).append(e.asPage,this.showPanelAsPage).append(e.invisible,!this.isDesignMode&&this.areInvisibleElementsShowing&&!this.visible).toString()},t.prototype.getContainerCss=function(){return this.getCssRoot(this.cssClasses.panel)},t.prototype.afterRenderCore=function(e){var n;r.prototype.afterRenderCore.call(this,e),this.isPanel&&((n=this.survey)===null||n===void 0||n.afterRenderPanel(this,e))},t}(Po);L.addClass("panelbase",["name",{name:"elements",alternativeName:"questions",baseClassName:"question",visible:!1,isLightSerializable:!1},{name:"visible:switch",default:!0,overridingProperty:"visibleIf"},{name:"readOnly:boolean",overridingProperty:"enableIf"},"visibleIf:condition","enableIf:condition","requiredIf:condition",{name:"questionTitleWidth",visibleIf:function(r){return!!r&&r.availableQuestionTitleWidth()}},{name:"questionTitleLocation",default:"default",choices:["default","top","bottom","left","hidden"]},{name:"gridLayoutColumns:panellayoutcolumns",className:"panellayoutcolumn",isArray:!0,onSerializeValue:function(r){return r.getSerializableColumnsValue()},visibleIf:function(r){return!!r&&!!r.survey&&r.survey.gridLayoutEnabled}},{name:"title:text",serializationProperty:"locTitle"},{name:"description:text",serializationProperty:"locDescription"},{name:"questionsOrder",default:"default",choices:["default","initial","random"]},{name:"questionErrorLocation",default:"default",choices:["default","top","bottom"]}],function(){return new Po}),L.addClass("panel",[{name:"state",default:"default",choices:["default","collapsed","expanded"]},{name:"isRequired:switch",overridingProperty:"requiredIf"},{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},{name:"startWithNewLine:boolean",default:!0},{name:"width"},{name:"minWidth",defaultFunc:function(){return"auto"}},{name:"maxWidth",defaultFunc:function(){return R.maxWidth}},{name:"colSpan:number",visible:!1,onSerializeValue:function(r){return r.getPropertyValue("colSpan")}},{name:"effectiveColSpan:number",minValue:1,isSerializable:!1,visibleIf:function(r){return!!r.survey&&r.survey.gridLayoutEnabled}},{name:"innerIndent:number",default:0,choices:[0,1,2,3]},{name:"indent:number",default:0,choices:[0,1,2,3],visible:!1},{name:"page",isSerializable:!1,visibleIf:function(r){var t=r?r.survey:null;return!t||!t.pages||t.pages.length>1},choices:function(r){var t=r?r.survey:null;return t?t.pages.map(function(e){return{value:e.name,text:e.title}}):[]}},{name:"showNumber:boolean"},{name:"showQuestionNumbers",default:"default",choices:["default","onpanel","off"]},{name:"questionStartIndex",visibleIf:function(r){return r.isPanel}},{name:"allowAdaptiveActions:boolean",default:!0,visible:!1}],function(){return new ri},"panelbase"),Jt.Instance.registerElement("panel",function(r){return new ri(r)});var Af=function(){function r(t){this.page=t}return r.prototype.getDragDropInfo=function(){return this.dragDropInfo},r.prototype.dragDropStart=function(t,e,n){n===void 0&&(n=-1),this.dragDropInfo=new dl(t,e,n)},r.prototype.dragDropMoveTo=function(t,e,n){if(e===void 0&&(e=!1),n===void 0&&(n=!1),!this.dragDropInfo||(this.dragDropInfo.destination=t,this.dragDropInfo.isBottom=e,this.dragDropInfo.isEdge=n,this.correctDragDropInfo(this.dragDropInfo),!this.dragDropCanDropTagert()))return!1;if(!this.dragDropCanDropSource()||!this.dragDropAllowFromSurvey()){if(this.dragDropInfo.source){var i=this.page.dragDropFindRow(this.dragDropInfo.target);this.page.updateRowsRemoveElementFromRow(this.dragDropInfo.target,i)}return!1}return this.page.dragDropAddTarget(this.dragDropInfo),!0},r.prototype.correctDragDropInfo=function(t){if(t.destination){var e=t.destination.isPanel?t.destination:null;e&&(t.target.isLayoutTypeSupported(e.getChildrenLayoutType())||(t.isEdge=!0))}},r.prototype.dragDropAllowFromSurvey=function(){var t=this.dragDropInfo.destination;if(!t||!this.page.survey)return!0;var e=null,n=null,i=t.isPage||!this.dragDropInfo.isEdge&&t.isPanel?t:t.parent;if(!t.isPage){var o=t.parent;if(o){var l=o.elements,u=l.indexOf(t);u>-1&&(e=t,n=t,this.dragDropInfo.isBottom?e=u<l.length-1?l[u+1]:null:n=u>0?l[u-1]:null)}}var d={allow:!0,target:this.dragDropInfo.target,source:this.dragDropInfo.source,toElement:this.dragDropInfo.target,draggedElement:this.dragDropInfo.source,parent:i,fromElement:this.dragDropInfo.source?this.dragDropInfo.source.parent:null,insertAfter:n,insertBefore:e};return this.page.survey.dragAndDropAllow(d)},r.prototype.dragDropFinish=function(t){if(t===void 0&&(t=!1),!!this.dragDropInfo){var e=this.dragDropInfo.target,n=this.dragDropInfo.source,i=this.dragDropInfo.destination,o=this.page.dragDropFindRow(e),l=this.dragDropGetElementIndex(e,o);this.page.updateRowsRemoveElementFromRow(e,o);var u=[],d=[];if(!t&&o){var m=!1;if(this.page.isDesignModeV2){var w=n&&n.parent&&n.parent.dragDropFindRow(n);o.panel.elements[l]&&o.panel.elements[l].startWithNewLine&&o.elements.length>1&&o.panel.elements[l]===i&&(u.push(e),d.push(o.panel.elements[l])),e.startWithNewLine&&o.elements.length>1&&(!o.panel.elements[l]||!o.panel.elements[l].startWithNewLine)&&d.push(e),w&&w.elements[0]===n&&w.elements[1]&&u.push(w.elements[1]),o.elements.length<=1&&u.push(e),e.startWithNewLine&&o.elements.length>1&&o.elements[0]!==i&&d.push(e)}this.page.survey.startMovingQuestion(),n&&n.parent&&(m=o.panel==n.parent,m?(o.panel.dragDropMoveElement(n,e,l),l=-1):n.parent.removeElement(n)),l>-1&&o.panel.addElement(e,l),this.page.survey.stopMovingQuestion()}return u.map(function(E){E.startWithNewLine=!0}),d.map(function(E){E.startWithNewLine=!1}),this.dragDropInfo=null,t?null:e}},r.prototype.dragDropGetElementIndex=function(t,e){if(!e)return-1;var n=e.elements.indexOf(t);if(e.index==0)return n;var i=e.panel.rows[e.index-1],o=i.elements[i.elements.length-1];return n+e.panel.elements.indexOf(o)+1},r.prototype.dragDropCanDropTagert=function(){var t=this.dragDropInfo.destination;return!t||t.isPage?!0:this.dragDropCanDropCore(this.dragDropInfo.target,t)},r.prototype.dragDropCanDropSource=function(){var t=this.dragDropInfo.source;if(!t)return!0;var e=this.dragDropInfo.destination;if(!this.dragDropCanDropCore(t,e))return!1;if(this.page.isDesignModeV2){var n=this.page.dragDropFindRow(t),i=this.page.dragDropFindRow(e);if(n!==i&&(!t.startWithNewLine&&e.startWithNewLine||t.startWithNewLine&&!e.startWithNewLine))return!0;var o=this.page.dragDropFindRow(e);if(o&&o.elements.length==1)return!0}return this.dragDropCanDropNotNext(t,e,this.dragDropInfo.isEdge,this.dragDropInfo.isBottom)},r.prototype.dragDropCanDropCore=function(t,e){if(!e)return!0;if(this.dragDropIsSameElement(e,t))return!1;if(t.isPanel){var n=t;if(n.containsElement(e)||n.getElementByName(e.name))return!1}return!0},r.prototype.dragDropCanDropNotNext=function(t,e,n,i){if(!e||e.isPanel&&!n||typeof t.parent>"u"||t.parent!==e.parent)return!0;var o=t.parent,l=o.elements.indexOf(t),u=o.elements.indexOf(e);return u<l&&!i&&u--,i&&u++,l<u?u-l>1:l-u>0},r.prototype.dragDropIsSameElement=function(t,e){return t==e||t.name==e.name},r}(),kf=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Lf=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Vo=function(r){kf(t,r);function t(e){e===void 0&&(e="");var n=r.call(this,e)||this;return n.hasShownValue=!1,n.timeSpent=0,n._isReadyForClean=!0,n.createLocalizableString("navigationDescription",n,!0),n.dragDropPageHelper=new Af(n),n}return t.prototype.getType=function(){return"page"},t.prototype.toString=function(){return this.name},Object.defineProperty(t.prototype,"isPage",{get:function(){return!this.isPanel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPanel",{get:function(){return!!this.parent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showPanelAsPage",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasEditButton",{get:function(){return this.isPanel&&this.survey&&this.survey.state==="preview"&&!!this.parent&&!this.parent.isPanel},enumerable:!1,configurable:!0}),t.prototype.getElementsForRows=function(){var e,n=(e=this.survey)===null||e===void 0?void 0:e.currentSingleQuestion;return n?n.page===this?[n]:[]:r.prototype.getElementsForRows.call(this)},t.prototype.disposeElements=function(){this.isPageContainer||r.prototype.disposeElements.call(this)},t.prototype.onRemoveElement=function(e){this.isPageContainer?(e.parent=null,this.unregisterElementPropertiesChanged(e)):r.prototype.onRemoveElement.call(this,e)},t.prototype.getTemplate=function(){return this.isPanel?"panel":r.prototype.getTemplate.call(this)},Object.defineProperty(t.prototype,"no",{get:function(){if(!this.canShowPageNumber()||!this.survey)return"";var e=this.isStartPage?"":this.num+". ";return this.survey.getUpdatedPageNo(this,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssTitleNumber",{get:function(){return this.cssClasses.page.number},enumerable:!1,configurable:!0}),t.prototype.getCssTitleExpandableSvg=function(){return null},Object.defineProperty(t.prototype,"cssRequiredText",{get:function(){return""},enumerable:!1,configurable:!0}),t.prototype.canShowPageNumber=function(){return this.survey&&this.survey.showPageNumbers},t.prototype.canShowTitle=function(e){return!e||e.showPageTitles},t.prototype.setTitleValue=function(e){r.prototype.setTitleValue.call(this,e),this.navigationLocStrChanged()},Object.defineProperty(t.prototype,"navigationTitle",{get:function(){return this.getLocalizableStringText("navigationTitle")},set:function(e){this.setLocalizableStringText("navigationTitle",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"navigationDescription",{get:function(){return this.getLocalizableStringText("navigationDescription")},set:function(e){this.setLocalizableStringText("navigationDescription",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locNavigationDescription",{get:function(){return this.getLocalizableString("navigationDescription")},enumerable:!1,configurable:!0}),t.prototype.navigationLocStrChanged=function(){this.locNavigationTitle.isEmpty&&this.locTitle.strChanged(),this.locNavigationTitle.strChanged(),this.locNavigationDescription.strChanged()},t.prototype.getMarkdownHtml=function(e,n){var i=r.prototype.getMarkdownHtml.call(this,e,n);return n==="navigationTitle"&&this.canShowPageNumber()&&i?this.num+". "+i:i},Object.defineProperty(t.prototype,"passed",{get:function(){return this.getPropertyValue("passed",!1)},set:function(e){this.setPropertyValue("passed",e)},enumerable:!1,configurable:!0}),t.prototype.removeFromParent=function(){this.survey&&this.removeSelfFromList(this.survey.pages)},Object.defineProperty(t.prototype,"visibleIndex",{get:function(){return this.getPropertyValue("visibleIndex",-1)},set:function(e){this.setPropertyValue("visibleIndex",e)},enumerable:!1,configurable:!0}),t.prototype.canRenderFirstRows=function(){return!this.isDesignMode||this.visibleIndex==0},Object.defineProperty(t.prototype,"isStartPage",{get:function(){return this.survey&&this.survey.isPageStarted(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isStarted",{get:function(){return this.isStartPage},enumerable:!1,configurable:!0}),t.prototype.calcCssClasses=function(e){if(this.isPanel)return r.prototype.calcCssClasses.call(this,e);var n={page:{},error:{},pageTitle:"",pageDescription:"",row:"",rowMultiple:"",pageRow:"",rowCompact:"",rowEnter:"",rowLeave:"",rowDelayedEnter:"",rowReplace:""};return this.copyCssClasses(n.page,e.page),this.copyCssClasses(n.error,e.error),e.pageTitle&&(n.pageTitle=e.pageTitle),e.pageDescription&&(n.pageDescription=e.pageDescription),e.row&&(n.row=e.row),e.pageRow&&(n.pageRow=e.pageRow),e.rowMultiple&&(n.rowMultiple=e.rowMultiple),e.rowCompact&&(n.rowCompact=e.rowCompact),e.rowEnter&&(n.rowEnter=e.rowEnter),e.rowDelayedEnter&&(n.rowDelayedEnter=e.rowDelayedEnter),e.rowLeave&&(n.rowLeave=e.rowLeave),e.rowReplace&&(n.rowReplace=e.rowReplace),this.survey&&this.survey.updatePageCssClasses(this,n),n},t.prototype.getCssPanelTitle=function(){return this.isPanel?r.prototype.getCssPanelTitle.call(this):this.cssClasses.page?new F().append(this.cssClasses.page.title).toString():""},Object.defineProperty(t.prototype,"cssRoot",{get:function(){return this.isPanel||!this.cssClasses.page||!this.survey?"":new F().append(this.cssClasses.page.root).append(this.cssClasses.page.emptyHeaderRoot,!this.survey.renderedHasHeader&&!(this.survey.isShowProgressBarOnTop&&!this.survey.isStaring)).toString()},enumerable:!1,configurable:!0}),t.prototype.getCssError=function(e){return this.isPanel?r.prototype.getCssError.call(this,e):new F().append(r.prototype.getCssError.call(this,e)).append(e.page.errorsContainer).toString()},Object.defineProperty(t.prototype,"navigationButtonsVisibility",{get:function(){return this.getPropertyValue("navigationButtonsVisibility")},set:function(e){this.setPropertyValue("navigationButtonsVisibility",e.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){return!!this.survey&&this.survey.currentPage===this},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wasShown",{get:function(){return this.hasShownValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasShown",{get:function(){return this.wasShown},enumerable:!1,configurable:!0}),t.prototype.setWasShown=function(e){if(e!=this.hasShownValue&&(this.hasShownValue=e,!(this.isDesignMode||e!==!0))){for(var n=this.elements,i=0;i<n.length;i++)n[i].isPanel&&n[i].randomizeElements(this.areQuestionsRandomized);this.randomizeElements(this.areQuestionsRandomized)}},t.prototype.scrollToTop=function(){this.survey&&this.survey.scrollElementToTop(this,null,this,this.id)},t.prototype.getAllPanels=function(e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var i=new Array;return this.addPanelsIntoList(i,e,n),i},t.prototype.getPanels=function(e,n){return e===void 0&&(e=!1),n===void 0&&(n=!1),this.getAllPanels(e,n)},Object.defineProperty(t.prototype,"timeLimit",{get:function(){return this.getPropertyValue("timeLimit",0)},set:function(e){this.setPropertyValue("timeLimit",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxTimeToFinish",{get:function(){return this.timeLimit},set:function(e){this.timeLimit=e},enumerable:!1,configurable:!0}),t.prototype.getMaxTimeToFinish=function(){if(this.timeLimit!==0)return this.timeLimit;var e=this.survey?this.survey.timeLimitPerPage:0;return e>0?e:0},t.prototype.onNumChanged=function(e){},t.prototype.onVisibleChanged=function(){this.isRandomizing||(r.prototype.onVisibleChanged.call(this),this.survey!=null&&this.survey.pageVisibilityChanged(this,this.isVisible))},t.prototype.getDragDropInfo=function(){return this.dragDropPageHelper.getDragDropInfo()},t.prototype.dragDropStart=function(e,n,i){i===void 0&&(i=-1),this.dragDropPageHelper.dragDropStart(e,n,i)},t.prototype.dragDropMoveTo=function(e,n,i){return n===void 0&&(n=!1),i===void 0&&(i=!1),this.dragDropPageHelper.dragDropMoveTo(e,n,i)},t.prototype.dragDropFinish=function(e){return e===void 0&&(e=!1),this.dragDropPageHelper.dragDropFinish(e)},t.prototype.ensureRowsVisibility=function(){r.prototype.ensureRowsVisibility.call(this),this.getPanels().forEach(function(e){return e.ensureRowsVisibility()})},Object.defineProperty(t.prototype,"isReadyForClean",{get:function(){return this._isReadyForClean},set:function(e){var n=this._isReadyForClean;this._isReadyForClean=e,this._isReadyForClean!==n&&this.isReadyForCleanChangedCallback&&this.isReadyForCleanChangedCallback()},enumerable:!1,configurable:!0}),t.prototype.enableOnElementRerenderedEvent=function(){r.prototype.enableOnElementRerenderedEvent.call(this),this.isReadyForClean=!1},t.prototype.disableOnElementRerenderedEvent=function(){r.prototype.disableOnElementRerenderedEvent.call(this),this.isReadyForClean=!0},Lf([V({defaultValue:-1,onSet:function(e,n){return n.onNumChanged(e)}})],t.prototype,"num",void 0),t}(ri);L.addClass("page",[{name:"navigationButtonsVisibility",default:"inherit",choices:["inherit","show","hide"]},{name:"timeLimit:number",alternativeName:"maxTimeToFinish",default:0,minValue:0},{name:"navigationTitle",visibleIf:function(r){return!!r.survey&&(r.survey.progressBarType==="buttons"||r.survey.showTOC)},serializationProperty:"locNavigationTitle"},{name:"navigationDescription",visibleIf:function(r){return!!r.survey&&r.survey.progressBarType==="buttons"},serializationProperty:"locNavigationDescription"},{name:"title:text",serializationProperty:"locTitle"},{name:"description:text",serializationProperty:"locDescription"},{name:"state",visible:!1},{name:"isRequired",visible:!1},{name:"startWithNewLine",visible:!1},{name:"width",visible:!1},{name:"minWidth",visible:!1},{name:"maxWidth",visible:!1},{name:"colSpan",visible:!1,isSerializable:!1},{name:"effectiveColSpan:number",visible:!1,isSerializable:!1},{name:"innerIndent",visible:!1},{name:"indent",visible:!1},{name:"page",visible:!1,isSerializable:!1},{name:"showNumber",visible:!1},{name:"showQuestionNumbers",visible:!1},{name:"questionStartIndex",visible:!1},{name:"allowAdaptiveActions",visible:!1},{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText",visible:!1}],function(){return new Vo},"panel");var Ff=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),gl=function(r){Ff(t,r);function t(e){var n=r.call(this)||this;return n.survey=e,n.onResize=n.addEvent(),n}return t.prototype.isListElementClickable=function(e){return!this.survey.onServerValidateQuestions||this.survey.onServerValidateQuestions.isEmpty||this.survey.checkErrorsMode==="onComplete"?!0:e<=this.survey.currentPageNo+1},t.prototype.getRootCss=function(e){e===void 0&&(e="center");var n=this.survey.css.progressButtonsContainerCenter;return this.survey.css.progressButtonsRoot&&(n+=" "+this.survey.css.progressButtonsRoot+" "+this.survey.css.progressButtonsRoot+"--"+(["footer","contentBottom"].indexOf(e)!==-1?"bottom":"top"),n+=" "+this.survey.css.progressButtonsRoot+"--"+(this.showItemTitles?"with-titles":"no-titles")),this.showItemNumbers&&this.survey.css.progressButtonsNumbered&&(n+=" "+this.survey.css.progressButtonsNumbered),this.isFitToSurveyWidth&&(n+=" "+this.survey.css.progressButtonsFitSurveyWidth),n},t.prototype.getListElementCss=function(e){if(!(e>=this.survey.visiblePages.length))return new F().append(this.survey.css.progressButtonsListElementPassed,this.survey.visiblePages[e].passed).append(this.survey.css.progressButtonsListElementCurrent,this.survey.currentPageNo===e).append(this.survey.css.progressButtonsListElementNonClickable,!this.isListElementClickable(e)).toString()},t.prototype.getScrollButtonCss=function(e,n){return new F().append(this.survey.css.progressButtonsImageButtonLeft,n).append(this.survey.css.progressButtonsImageButtonRight,!n).append(this.survey.css.progressButtonsImageButtonHidden,!e).toString()},t.prototype.clickListElement=function(e){e instanceof Vo||(e=this.survey.visiblePages[e]),this.survey.tryNavigateToPage(e)},t.prototype.isListContainerHasScroller=function(e){var n=e.querySelector("."+this.survey.css.progressButtonsListContainer);return n?n.scrollWidth>n.offsetWidth:!1},t.prototype.isCanShowItemTitles=function(e){var n=e.querySelector("ul");if(!n||n.children.length<2)return!0;if(n.clientWidth>n.parentElement.clientWidth)return!1;for(var i=n.children[0].clientWidth,o=0;o<n.children.length;o++)if(Math.abs(n.children[o].clientWidth-i)>5)return!1;return!0},t.prototype.clearConnectorsWidth=function(e){for(var n=e.querySelectorAll(".sd-progress-buttons__connector"),i=0;i<n.length;i++)n[i].style.width=""},t.prototype.adjustConnectors=function(e){var n=e.querySelector("ul");if(n)for(var i=e.querySelectorAll(".sd-progress-buttons__connector"),o=this.showItemNumbers?36:20,l=(n.clientWidth-o)/(n.children.length-1)-o,u=0;u<i.length;u++)i[u].style.width=l+"px"},Object.defineProperty(t.prototype,"isFitToSurveyWidth",{get:function(){return Ze.currentType!=="defaultV2"?!1:this.survey.progressBarInheritWidthFrom==="survey"&&this.survey.widthMode=="static"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"progressWidth",{get:function(){return this.isFitToSurveyWidth?this.survey.renderedWidth:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showItemNumbers",{get:function(){return Ze.currentType!=="defaultV2"?!1:this.survey.progressBarShowPageNumbers},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showItemTitles",{get:function(){return Ze.currentType!=="defaultV2"?!0:this.survey.progressBarShowPageTitles},enumerable:!1,configurable:!0}),t.prototype.getItemNumber=function(e){var n="";return this.showItemNumbers&&(n+=this.survey.visiblePages.indexOf(e)+1),n},Object.defineProperty(t.prototype,"headerText",{get:function(){return this.survey.currentPage?this.survey.currentPage.renderedNavigationTitle:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"footerText",{get:function(){return this.survey.progressText},enumerable:!1,configurable:!0}),t.prototype.processResponsiveness=function(e){this.onResize.fire(this,{width:e})},t}(be),jf=function(){function r(t,e,n){var i=this;this.model=t,this.element=e,this.viewModel=n,this.criticalProperties=["progressBarType","progressBarShowPageTitles"],this.canShowItemTitles=!0,this.processResponsiveness=function(o,l){if(i.viewModel.onUpdateScroller(o.isListContainerHasScroller(i.element)),i.model.clearConnectorsWidth(i.element),!o.showItemTitles){i.model.adjustConnectors(i.element);return}if(o.survey.isMobile){i.prevWidth=l.width,i.canShowItemTitles=!1,i.model.adjustConnectors(i.element),i.viewModel.onResize(i.canShowItemTitles);return}i.timer!==void 0&&clearTimeout(i.timer),i.timer=setTimeout(function(){(i.prevWidth===void 0||i.prevWidth<l.width&&!i.canShowItemTitles||i.prevWidth>l.width&&i.canShowItemTitles)&&(i.prevWidth=l.width,i.canShowItemTitles=o.isCanShowItemTitles(i.element),i.viewModel.onResize(i.canShowItemTitles),i.timer=void 0)},10)},this.model.survey.registerFunctionOnPropertiesValueChanged(this.criticalProperties,function(){return i.forceUpdate()},"ProgressButtonsResponsivityManager"+this.viewModel.container),this.model.onResize.add(this.processResponsiveness),this.forceUpdate()}return r.prototype.forceUpdate=function(){this.viewModel.onUpdateSettings(),this.processResponsiveness(this.model,{})},r.prototype.dispose=function(){clearTimeout(this.timer),this.model.onResize.remove(this.processResponsiveness),this.model.survey.unRegisterFunctionOnPropertiesValueChanged(this.criticalProperties,"ProgressButtonsResponsivityManager"+this.viewModel.container),this.element=void 0,this.model=void 0},r}();function Bf(r,t){return r.isDesignMode||t.focusFirstQuestion(),!0}function vl(r){if(r.parentQuestion)return vl(r.parentQuestion);for(var t=r.parent;t&&t.getType()!=="page"&&t.parent;)t=t.parent;return t&&t.getType()==="page"?t:null}function yl(r,t){var e=bl(r,t),n={items:e,searchEnabled:!1,locOwner:r},i=new $n(n);i.allowSelection=!1;var o=function(l,u){i.selectedItem=!!l&&i.actions.filter(function(d){return d.id===l.name})[0]||u};return o(r.currentPage,e[0]),r.onCurrentPageChanged.add(function(l,u){o(r.currentPage)}),r.onFocusInQuestion.add(function(l,u){o(vl(u.question))}),r.registerFunctionOnPropertyValueChanged("pages",function(){i.setItems(bl(r,t))},"toc"),i}function bl(r,t){var e=r.pages,n=(e||[]).map(function(i){return new Te({id:i.name,locTitle:i.locNavigationTitle,action:function(){if(g.activeElementBlur(),t&&t(),i.isPage)return r.tryNavigateToPage(i)},visible:new qe(function(){return i.isVisible&&!i.isStartPage})})});return n}function Cl(r,t){t===void 0&&(t=!1);var e=Cn.RootStyle;return t?e+" "+Cn.RootStyle+"--mobile":(e+=" "+Cn.RootStyle+"--"+(r.tocLocation||"").toLowerCase(),Cn.StickyPosition&&(e+=" "+Cn.RootStyle+"--sticky"),e)}var Cn=function(){function r(t){var e=this;this.survey=t,this.icon="icon-navmenu_24x24",this.togglePopup=function(){e.popupModel.toggleVisibility()},this.listModel=yl(t,function(){e.popupModel.isVisible=!1}),this.popupModel=new Gn("sv-list",{model:this.listModel}),this.popupModel.overlayDisplayMode="plain",this.popupModel.displayMode=new qe(function(){return e.isMobile?"overlay":"popup"}),r.StickyPosition&&(t.onAfterRenderSurvey.add(function(n,i){return e.initStickyTOCSubscriptions(i.htmlElement)}),this.initStickyTOCSubscriptions(t.rootElement))}return r.prototype.initStickyTOCSubscriptions=function(t){var e=this;r.StickyPosition&&t&&(t.addEventListener("scroll",function(n){e.updateStickyTOCSize(t)}),this.updateStickyTOCSize(t))},r.prototype.updateStickyTOCSize=function(t){if(t){var e=t.querySelector("."+r.RootStyle);if(e&&(e.style.height="",!this.isMobile&&r.StickyPosition&&t)){var n=t.getBoundingClientRect().height,i=this.survey.headerView==="advanced"?".sv-header":".sv_custom_header+div div."+(this.survey.css.title||"sd-title"),o=t.querySelector(i),l=o?o.getBoundingClientRect().height:0,u=t.scrollTop>l?0:l-t.scrollTop;e.style.height=n-u-1+"px"}}},Object.defineProperty(r.prototype,"isMobile",{get:function(){return this.survey.isMobile},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"containerCss",{get:function(){return Cl(this.survey,this.isMobile)},enumerable:!1,configurable:!0}),r.prototype.dispose=function(){this.survey.unRegisterFunctionOnPropertyValueChanged("pages","toc"),this.popupModel.dispose(),this.listModel.dispose()},r.RootStyle="sv_progress-toc",r.StickyPosition=!0,r}(),Nf=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Re=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Yt=function(r){Nf(t,r);function t(e,n){e===void 0&&(e=null),n===void 0&&(n=null);var i=r.call(this)||this;i.valuesHash={},i.variablesHash={},i.onTriggerExecuted=i.addEvent(),i.onCompleting=i.addEvent(),i.onComplete=i.addEvent(),i.onShowingPreview=i.addEvent(),i.onNavigateToUrl=i.addEvent(),i.onStarted=i.addEvent(),i.onPartialSend=i.addEvent(),i.onCurrentPageChanging=i.addEvent(),i.onCurrentPageChanged=i.addEvent(),i.onValueChanging=i.addEvent(),i.onValueChanged=i.addEvent(),i.onVariableChanged=i.addEvent(),i.onQuestionVisibleChanged=i.addEvent(),i.onVisibleChanged=i.onQuestionVisibleChanged,i.onPageVisibleChanged=i.addEvent(),i.onPanelVisibleChanged=i.addEvent(),i.onQuestionCreated=i.addEvent(),i.onQuestionAdded=i.addEvent(),i.onQuestionRemoved=i.addEvent(),i.onPanelAdded=i.addEvent(),i.onPanelRemoved=i.addEvent(),i.onPageAdded=i.addEvent(),i.onValidateQuestion=i.addEvent(),i.onSettingQuestionErrors=i.addEvent(),i.onServerValidateQuestions=i.addEvent(),i.onValidatePanel=i.addEvent(),i.onErrorCustomText=i.addEvent(),i.onValidatedErrorsOnCurrentPage=i.addEvent(),i.onProcessHtml=i.addEvent(),i.onGetQuestionDisplayValue=i.addEvent(),i.onGetQuestionTitle=i.addEvent(),i.onGetTitleTagName=i.addEvent(),i.onGetQuestionNumber=i.addEvent(),i.onGetQuestionNo=i.onGetQuestionNumber,i.onGetPanelNumber=i.addEvent(),i.onGetPageNumber=i.addEvent(),i.onGetProgressText=i.addEvent(),i.onProgressText=i.onGetProgressText,i.onTextMarkdown=i.addEvent(),i.onTextRenderAs=i.addEvent(),i.onSendResult=i.addEvent(),i.onGetResult=i.addEvent(),i.onOpenFileChooser=i.addEvent(),i.onUploadFiles=i.addEvent(),i.onDownloadFile=i.addEvent(),i.onClearFiles=i.addEvent(),i.onLoadChoicesFromServer=i.addEvent(),i.onLoadedSurveyFromService=i.addEvent(),i.onProcessTextValue=i.addEvent(),i.onUpdateQuestionCssClasses=i.addEvent(),i.onUpdatePanelCssClasses=i.addEvent(),i.onUpdatePageCssClasses=i.addEvent(),i.onUpdateChoiceItemCss=i.addEvent(),i.onAfterRenderSurvey=i.addEvent(),i.onAfterRenderHeader=i.addEvent(),i.onAfterRenderPage=i.addEvent(),i.onAfterRenderQuestion=i.addEvent(),i.onAfterRenderQuestionInput=i.addEvent(),i.onAfterRenderPanel=i.addEvent(),i.onFocusInQuestion=i.addEvent(),i.onFocusInPanel=i.addEvent(),i.onShowingChoiceItem=i.addEvent(),i.onChoicesLazyLoad=i.addEvent(),i.onChoicesSearch=i.addEvent(),i.onGetChoiceDisplayValue=i.addEvent(),i.onMatrixRowAdded=i.addEvent(),i.onMatrixRowAdding=i.addEvent(),i.onMatrixBeforeRowAdded=i.onMatrixRowAdding,i.onMatrixRowRemoving=i.addEvent(),i.onMatrixRowRemoved=i.addEvent(),i.onMatrixRenderRemoveButton=i.addEvent(),i.onMatrixAllowRemoveRow=i.onMatrixRenderRemoveButton,i.onMatrixDetailPanelVisibleChanged=i.addEvent(),i.onMatrixCellCreating=i.addEvent(),i.onMatrixCellCreated=i.addEvent(),i.onAfterRenderMatrixCell=i.addEvent(),i.onMatrixAfterCellRender=i.onAfterRenderMatrixCell,i.onMatrixCellValueChanged=i.addEvent(),i.onMatrixCellValueChanging=i.addEvent(),i.onMatrixCellValidate=i.addEvent(),i.onMatrixColumnAdded=i.addEvent(),i.onMultipleTextItemAdded=i.addEvent(),i.onDynamicPanelAdded=i.addEvent(),i.onDynamicPanelRemoved=i.addEvent(),i.onDynamicPanelRemoving=i.addEvent(),i.onTimerTick=i.addEvent(),i.onTimer=i.onTimerTick,i.onTimerPanelInfoText=i.addEvent(),i.onDynamicPanelItemValueChanged=i.addEvent(),i.onGetDynamicPanelTabTitle=i.addEvent(),i.onDynamicPanelCurrentIndexChanged=i.addEvent(),i.onCheckAnswerCorrect=i.addEvent(),i.onIsAnswerCorrect=i.onCheckAnswerCorrect,i.onDragDropAllow=i.addEvent(),i.onScrollToTop=i.addEvent(),i.onScrollingElementToTop=i.onScrollToTop,i.onLocaleChangedEvent=i.addEvent(),i.onGetQuestionTitleActions=i.addEvent(),i.onGetPanelTitleActions=i.addEvent(),i.onGetPageTitleActions=i.addEvent(),i.onGetPanelFooterActions=i.addEvent(),i.onGetMatrixRowActions=i.addEvent(),i.onElementContentVisibilityChanged=i.addEvent(),i.onGetExpressionDisplayValue=i.addEvent(),i.onPopupVisibleChanged=i.addEvent(),i.onOpenDropdownMenu=i.addEvent(),i.onElementWrapperComponentName=i.addEvent(),i.onElementWrapperComponentData=i.addEvent(),i.jsonErrors=null,i.cssValue=null,i.showHeaderOnCompletePage="auto",i._isLazyRenderingSuspended=!1,i.hideRequiredErrors=!1,i.cssVariables={},i._isMobile=!1,i._isCompact=!1,i.setValueOnExpressionCounter=0,i._isDesignMode=!1,i.validationAllowSwitchPages=!1,i.validationAllowComplete=!1,i.isNavigationButtonPressed=!1,i.mouseDownPage=null,i.isCalculatingProgressText=!1,i.isSmoothScrollEnabled=!1,i.onResize=new ft,i.isCurrentPageRendering=!0,i.isCurrentPageRendered=void 0,i.skeletonHeight=void 0,i.isTriggerIsRunning=!1,i.triggerValues=null,i.triggerKeys=null,i.conditionValues=null,i.isValueChangedOnRunningCondition=!1,i.conditionRunnerCounter=0,i.conditionUpdateVisibleIndexes=!1,i.conditionNotifyElementsOnAnyValueOrVariableChanged=!1,i.isEndLoadingFromJson=null,i.questionHashes={names:{},namesInsensitive:{},valueNames:{},valueNamesInsensitive:{}},i.setValueFromTriggerCounter=0,i.needRenderIcons=!0,i.skippedPages=[],i.skeletonComponentName="sv-skeleton",i.taskManager=new Rf,i.questionErrorComponent="sv-question-error",i.onBeforeRunConstructor();var o=function(u){return"<h3>"+u+"</h3>"};i.createHtmlLocString("completedHtml","completingSurvey",o),i.createHtmlLocString("completedBeforeHtml","completingSurveyBefore",o,"completed-before"),i.createHtmlLocString("loadingHtml","loadingSurvey",o,"loading"),i.createLocalizableString("emptySurveyText",i,!0,"emptySurvey"),i.createLocalizableString("logo",i,!1),i.createLocalizableString("startSurveyText",i,!1,!0),i.createLocalizableString("pagePrevText",i,!1,!0),i.createLocalizableString("pageNextText",i,!1,!0),i.createLocalizableString("completeText",i,!1,!0),i.createLocalizableString("previewText",i,!1,!0),i.createLocalizableString("editText",i,!1,!0),i.createLocalizableString("questionTitleTemplate",i,!0),i.timerModelValue=new ul(i),i.timerModelValue.onTimerTick=function(u){i.doTimer(u)},i.createNewArray("pages",function(u){u.isReadyForCleanChangedCallback&&u.isReadyForCleanChangedCallback(),i.doOnPageAdded(u)},function(u){u.isReadyForClean?i.doOnPageRemoved(u):u.isReadyForCleanChangedCallback=function(){i.doOnPageRemoved(u),u.isReadyForCleanChangedCallback=void 0}}),i.createNewArray("triggers",function(u){u.setOwner(i)}),i.createNewArray("calculatedValues",function(u){u.setOwner(i)}),i.createNewArray("completedHtmlOnCondition",function(u){u.locOwner=i}),i.createNewArray("navigateToUrlOnCondition",function(u){u.locOwner=i}),i.registerPropertyChangedHandlers(["locale"],function(){i.onSurveyLocaleChanged()}),i.registerPropertyChangedHandlers(["firstPageIsStarted"],function(){i.onFirstPageIsStartedChanged()}),i.registerPropertyChangedHandlers(["mode"],function(){i.onModeChanged()}),i.registerPropertyChangedHandlers(["progressBarType"],function(){i.updateProgressText()}),i.registerPropertyChangedHandlers(["questionStartIndex","requiredText","questionTitlePattern"],function(){i.resetVisibleIndexes()}),i.registerPropertyChangedHandlers(["isLoading","isCompleted","isCompletedBefore","mode","isStartedState","currentPage","isShowingPreview"],function(){i.updateState()}),i.registerPropertyChangedHandlers(["state","currentPage","showPreviewBeforeComplete"],function(){i.onStateAndCurrentPageChanged()}),i.registerPropertyChangedHandlers(["logo","logoPosition"],function(){i.updateHasLogo()}),i.registerPropertyChangedHandlers(["backgroundImage"],function(){i.updateRenderBackgroundImage()}),i.registerPropertyChangedHandlers(["renderBackgroundImage","backgroundOpacity","backgroundImageFit","fitToContainer","backgroundImageAttachment"],function(){i.updateBackgroundImageStyle()}),i.registerPropertyChangedHandlers(["showPrevButton","showCompleteButton"],function(){i.updateButtonsVisibility()}),i.onGetQuestionNumber.onCallbacksChanged=function(){i.resetVisibleIndexes()},i.onGetPanelNumber.onCallbacksChanged=function(){i.resetVisibleIndexes()},i.onGetProgressText.onCallbacksChanged=function(){i.updateProgressText()},i.onTextMarkdown.onCallbacksChanged=function(){i.locStrsChanged()},i.onProcessHtml.onCallbacksChanged=function(){i.locStrsChanged()},i.onGetQuestionTitle.onCallbacksChanged=function(){i.locStrsChanged()},i.onUpdatePageCssClasses.onCallbacksChanged=function(){i.currentPage&&i.currentPage.updateElementCss()},i.onUpdatePanelCssClasses.onCallbacksChanged=function(){i.currentPage&&i.currentPage.updateElementCss()},i.onUpdateQuestionCssClasses.onCallbacksChanged=function(){i.currentPage&&i.currentPage.updateElementCss()},i.onShowingChoiceItem.onCallbacksChanged=function(){i.rebuildQuestionChoices()},i.navigationBarValue=i.createNavigationBar(),i.navigationBar.locOwner=i,i.onBeforeCreating(),e&&((typeof e=="string"||e instanceof String)&&(e=JSON.parse(e)),e&&e.clientId&&(i.clientId=e.clientId),i.fromJSON(e),i.surveyId&&i.loadSurveyFromService(i.surveyId,i.clientId)),i.onCreating(),n&&i.render(n),i.updateCss(),i.setCalculatedWidthModeUpdater(),i.notifier=new cl(i.css.saveData),i.notifier.addAction(i.createTryAgainAction(),"error"),i.onPopupVisibleChanged.add(function(u,d){d.visible?i.onScrollCallback=function(){d.popup.hide()}:i.onScrollCallback=void 0}),i.progressBarValue=new gl(i),i.layoutElements.push({id:"timerpanel",template:"survey-timerpanel",component:"sv-timerpanel",data:i.timerModel}),i.layoutElements.push({id:"progress-buttons",component:"sv-progress-buttons",data:i.progressBar,processResponsiveness:function(u){return i.progressBar.processResponsiveness&&i.progressBar.processResponsiveness(u)}}),i.layoutElements.push({id:"progress-questions",component:"sv-progress-questions",data:i}),i.layoutElements.push({id:"progress-pages",component:"sv-progress-pages",data:i}),i.layoutElements.push({id:"progress-correctquestions",component:"sv-progress-correctquestions",data:i}),i.layoutElements.push({id:"progress-requiredquestions",component:"sv-progress-requiredquestions",data:i});var l=new Cn(i);return i.addLayoutElement({id:"toc-navigation",component:"sv-navigation-toc",data:l,processResponsiveness:function(u){return l.updateStickyTOCSize(i.rootElement)}}),i.layoutElements.push({id:"buttons-navigation",component:"sv-action-bar",data:i.navigationBar}),i.locTitle.onStringChanged.add(function(){return i.titleIsEmpty=i.locTitle.isEmpty}),i}return Object.defineProperty(t.prototype,"platformName",{get:function(){return t.platform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"commentSuffix",{get:function(){return R.commentSuffix},set:function(e){R.commentSuffix=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"commentPrefix",{get:function(){return this.commentSuffix},set:function(e){this.commentSuffix=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sjsVersion",{get:function(){return this.getPropertyValue("sjsVersion")},set:function(e){this.setPropertyValue("sjsVersion",e)},enumerable:!1,configurable:!0}),t.prototype.processClosedPopup=function(e,n){throw new Error("Method not implemented.")},t.prototype.createTryAgainAction=function(){var e=this;return{id:"save-again",title:this.getLocalizationString("saveAgainButton"),action:function(){e.isCompleted?e.saveDataOnComplete():e.doComplete()}}},t.prototype.createHtmlLocString=function(e,n,i,o){var l=this,u=this.createLocalizableString(e,this,!1,n);u.onGetLocalizationTextCallback=i,o&&(u.onGetTextCallback=function(d){return l.processHtml(d,o)})},t.prototype.getType=function(){return"survey"},t.prototype.onPropertyValueChanged=function(e,n,i){e==="questionsOnPageMode"&&this.onQuestionsOnPageModeChanged(n)},Object.defineProperty(t.prototype,"pages",{get:function(){return this.getPropertyValue("pages")},enumerable:!1,configurable:!0}),t.prototype.render=function(e){e===void 0&&(e=null),this.renderCallback&&this.renderCallback()},t.prototype.updateSurvey=function(e,n){var i=function(){if(l=="model"||l=="children")return"continue";if(l.indexOf("on")==0&&o[l]&&o[l].add){var u=e[l],d=function(m,w){u(m,w)};o[l].add(d)}else o[l]=e[l]},o=this;for(var l in e)i();e&&e.data&&this.onValueChanged.add(function(u,d){e.data[d.name]=d.value})},t.prototype.getCss=function(){return this.css},t.prototype.updateCompletedPageCss=function(){this.containerCss=this.css.container,this.completedCss=new F().append(this.css.body).append(this.css.completedPage).toString(),this.completedBeforeCss=new F().append(this.css.body).append(this.css.completedBeforePage).toString(),this.loadingBodyCss=new F().append(this.css.body).append(this.css.bodyLoading).toString()},t.prototype.updateCss=function(){this.rootCss=this.getRootCss(),this.updateNavigationCss(),this.updateCompletedPageCss(),this.updateWrapperFormCss()},Object.defineProperty(t.prototype,"css",{get:function(){return this.cssValue||(this.cssValue={},this.copyCssClasses(this.cssValue,Ze.getCss())),this.cssValue},set:function(e){this.setCss(e)},enumerable:!1,configurable:!0}),t.prototype.setCss=function(e,n){n===void 0&&(n=!0),n?this.mergeValues(e,this.css):this.cssValue=e,this.updateElementCss(!1)},Object.defineProperty(t.prototype,"cssTitle",{get:function(){return this.css.title},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssNavigationComplete",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.complete)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssNavigationPreview",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.preview)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssNavigationEdit",{get:function(){return this.getNavigationCss(this.css.navigationButton,this.css.navigation.edit)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssNavigationPrev",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.prev)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssNavigationStart",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.start)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssNavigationNext",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.next)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssSurveyNavigationButton",{get:function(){return new F().append(this.css.navigationButton).append(this.css.bodyNavigationButton).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bodyCss",{get:function(){return new F().append(this.css.body).append(this.css.bodyWithTimer,this.showTimer&&this.state==="running").append(this.css.body+"--"+this.calculatedWidthMode).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bodyContainerCss",{get:function(){return this.css.bodyContainer},enumerable:!1,configurable:!0}),t.prototype.insertAdvancedHeader=function(e){e.survey=this,this.layoutElements.push({id:"advanced-header",container:"header",component:"sv-header",index:-100,data:e,processResponsiveness:function(n){return e.processResponsiveness(n)}})},t.prototype.getNavigationCss=function(e,n){return new F().append(e).append(n).toString()},Object.defineProperty(t.prototype,"lazyRendering",{get:function(){return this.lazyRenderingValue===!0},set:function(e){if(this.lazyRendering!==e){this.lazyRenderingValue=e;var n=this.currentPage;n&&n.updateRows()}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLazyRendering",{get:function(){return this.lazyRendering||R.lazyRender.enabled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lazyRenderingFirstBatchSize",{get:function(){return this.lazyRenderingFirstBatchSizeValue||R.lazyRender.firstBatchSize},set:function(e){this.lazyRenderingFirstBatchSizeValue=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLazyRenderingSuspended",{get:function(){return this._isLazyRenderingSuspended},enumerable:!1,configurable:!0}),t.prototype.suspendLazyRendering=function(){this.isLazyRendering&&(this._isLazyRenderingSuspended=!0)},t.prototype.releaseLazyRendering=function(){this.isLazyRendering&&(this._isLazyRenderingSuspended=!1)},t.prototype.updateLazyRenderingRowsOnRemovingElements=function(){if(this.isLazyRendering){var e=this.currentPage;e&&zr(e.id)}},Object.defineProperty(t.prototype,"triggers",{get:function(){return this.getPropertyValue("triggers")},set:function(e){this.setPropertyValue("triggers",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"calculatedValues",{get:function(){return this.getPropertyValue("calculatedValues")},set:function(e){this.setPropertyValue("calculatedValues",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"surveyId",{get:function(){return this.getPropertyValue("surveyId","")},set:function(e){this.setPropertyValue("surveyId",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"surveyPostId",{get:function(){return this.getPropertyValue("surveyPostId","")},set:function(e){this.setPropertyValue("surveyPostId",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clientId",{get:function(){return this.getPropertyValue("clientId","")},set:function(e){this.setPropertyValue("clientId",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cookieName",{get:function(){return this.getPropertyValue("cookieName","")},set:function(e){this.setPropertyValue("cookieName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sendResultOnPageNext",{get:function(){return this.getPropertyValue("sendResultOnPageNext")},set:function(e){this.setPropertyValue("sendResultOnPageNext",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"surveyShowDataSaving",{get:function(){return this.getPropertyValue("surveyShowDataSaving")},set:function(e){this.setPropertyValue("surveyShowDataSaving",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"focusFirstQuestionAutomatic",{get:function(){return this.getPropertyValue("focusFirstQuestionAutomatic")},set:function(e){this.setPropertyValue("focusFirstQuestionAutomatic",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"focusOnFirstError",{get:function(){return this.getPropertyValue("focusOnFirstError")},set:function(e){this.setPropertyValue("focusOnFirstError",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showNavigationButtons",{get:function(){return this.getPropertyValue("showNavigationButtons")},set:function(e){(e===!0||e===void 0)&&(e="bottom"),e===!1&&(e="none"),this.setPropertyValue("showNavigationButtons",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showPrevButton",{get:function(){return this.getPropertyValue("showPrevButton")},set:function(e){this.setPropertyValue("showPrevButton",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showCompleteButton",{get:function(){return this.getPropertyValue("showCompleteButton",!0)},set:function(e){this.setPropertyValue("showCompleteButton",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showTOC",{get:function(){return this.getPropertyValue("showTOC")},set:function(e){this.setPropertyValue("showTOC",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tocLocation",{get:function(){return this.getPropertyValue("tocLocation")},set:function(e){this.setPropertyValue("tocLocation",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showTitle",{get:function(){return this.getPropertyValue("showTitle")},set:function(e){this.setPropertyValue("showTitle",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showPageTitles",{get:function(){return this.getPropertyValue("showPageTitles")},set:function(e){this.setPropertyValue("showPageTitles",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showCompletedPage",{get:function(){return this.getPropertyValue("showCompletedPage")},set:function(e){this.setPropertyValue("showCompletedPage",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"navigateToUrl",{get:function(){return this.getPropertyValue("navigateToUrl")},set:function(e){this.setPropertyValue("navigateToUrl",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"navigateToUrlOnCondition",{get:function(){return this.getPropertyValue("navigateToUrlOnCondition")},set:function(e){this.setPropertyValue("navigateToUrlOnCondition",e)},enumerable:!1,configurable:!0}),t.prototype.getNavigateToUrl=function(){var e=this.getExpressionItemOnRunCondition(this.navigateToUrlOnCondition),n=e?e.url:this.navigateToUrl;return n&&(n=this.processText(n,!1)),n},t.prototype.navigateTo=function(){var e=this.getNavigateToUrl(),n={url:e,allow:!0};this.onNavigateToUrl.fire(this,n),!(!n.url||!n.allow)&&Ed(n.url)},Object.defineProperty(t.prototype,"requiredText",{get:function(){return this.getPropertyValue("requiredText","*")},set:function(e){this.setPropertyValue("requiredText",e)},enumerable:!1,configurable:!0}),t.prototype.beforeSettingQuestionErrors=function(e,n){this.makeRequiredErrorsInvisible(n),this.onSettingQuestionErrors.fire(this,{question:e,errors:n})},t.prototype.beforeSettingPanelErrors=function(e,n){this.makeRequiredErrorsInvisible(n)},t.prototype.makeRequiredErrorsInvisible=function(e){if(this.hideRequiredErrors)for(var n=0;n<e.length;n++){var i=e[n].getErrorType();(i=="required"||i=="requireoneanswer")&&(e[n].visible=!1)}},Object.defineProperty(t.prototype,"questionStartIndex",{get:function(){return this.getPropertyValue("questionStartIndex","")},set:function(e){this.setPropertyValue("questionStartIndex",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storeOthersAsComment",{get:function(){return this.getPropertyValue("storeOthersAsComment")},set:function(e){this.setPropertyValue("storeOthersAsComment",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxTextLength",{get:function(){return this.getPropertyValue("maxTextLength")},set:function(e){this.setPropertyValue("maxTextLength",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOthersLength",{get:function(){return this.getPropertyValue("maxOthersLength")},set:function(e){this.setPropertyValue("maxOthersLength",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"goNextPageAutomatic",{get:function(){return this.getPropertyValue("goNextPageAutomatic")},set:function(e){this.setPropertyValue("goNextPageAutomatic",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowCompleteSurveyAutomatic",{get:function(){return this.getPropertyValue("allowCompleteSurveyAutomatic")},set:function(e){this.setPropertyValue("allowCompleteSurveyAutomatic",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checkErrorsMode",{get:function(){return this.getPropertyValue("checkErrorsMode")},set:function(e){this.setPropertyValue("checkErrorsMode",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"validateVisitedEmptyFields",{get:function(){return this.getPropertyValue("validateVisitedEmptyFields")},set:function(e){this.setPropertyValue("validateVisitedEmptyFields",e)},enumerable:!1,configurable:!0}),t.prototype.getValidateVisitedEmptyFields=function(){return this.validateVisitedEmptyFields&&this.isValidateOnValueChange},Object.defineProperty(t.prototype,"autoGrowComment",{get:function(){return this.getPropertyValue("autoGrowComment")},set:function(e){this.setPropertyValue("autoGrowComment",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowResizeComment",{get:function(){return this.getPropertyValue("allowResizeComment")},set:function(e){this.setPropertyValue("allowResizeComment",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"commentAreaRows",{get:function(){return this.getPropertyValue("commentAreaRows")},set:function(e){this.setPropertyValue("commentAreaRows",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textUpdateMode",{get:function(){return this.getPropertyValue("textUpdateMode")},set:function(e){this.setPropertyValue("textUpdateMode",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clearInvisibleValues",{get:function(){return this.getPropertyValue("clearInvisibleValues")},set:function(e){e===!0&&(e="onComplete"),e===!1&&(e="none"),this.setPropertyValue("clearInvisibleValues",e)},enumerable:!1,configurable:!0}),t.prototype.clearIncorrectValues=function(e){e===void 0&&(e=!1);for(var n=0;n<this.pages.length;n++)this.pages[n].clearIncorrectValues();if(e){var i=this.data,o=!1;for(var l in i)if(!this.getQuestionByValueName(l)&&!(this.iscorrectValueWithPostPrefix(l,R.commentSuffix)||this.iscorrectValueWithPostPrefix(l,R.matrix.totalsSuffix))){var u=this.getCalculatedValueByName(l);u&&u.includeIntoResult||(o=!0,delete i[l])}o&&(this.data=i)}},t.prototype.iscorrectValueWithPostPrefix=function(e,n){return e.indexOf(n)!==e.length-n.length?!1:!!this.getQuestionByValueName(e.substring(0,e.indexOf(n)))},Object.defineProperty(t.prototype,"keepIncorrectValues",{get:function(){return this.getPropertyValue("keepIncorrectValues")},set:function(e){this.setPropertyValue("keepIncorrectValues",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locale",{get:function(){return this.getPropertyValueWithoutDefault("locale")||Ye.currentLocale},set:function(e){e===Ye.defaultLocale&&!Ye.currentLocale&&(e=""),this.setPropertyValue("locale",e)},enumerable:!1,configurable:!0}),t.prototype.onSurveyLocaleChanged=function(){this.notifyElementsOnAnyValueOrVariableChanged("locale"),this.localeChanged(),this.onLocaleChangedEvent.fire(this,this.locale)},Object.defineProperty(t.prototype,"localeDir",{get:function(){return Ye.localeDirections[this.locale]},enumerable:!1,configurable:!0}),t.prototype.getUsedLocales=function(){var e=new Array;this.addUsedLocales(e);var n=e.indexOf("default");if(n>-1){var i=Ye.defaultLocale,o=e.indexOf(i);o>-1&&e.splice(o,1),n=e.indexOf("default"),e[n]=i}return e},t.prototype.localeChanged=function(){for(var e=0;e<this.pages.length;e++)this.pages[e].localeChanged()},t.prototype.getLocale=function(){return this.locale},t.prototype.locStrsChanged=function(){if(!this.isClearingUnsedValues&&(r.prototype.locStrsChanged.call(this),!!this.currentPage)){if(this.isDesignMode)this.pages.forEach(function(o){return o.locStrsChanged()});else{var e=this.activePage;e&&e.locStrsChanged();for(var n=this.visiblePages,i=0;i<n.length;i++)n[i].navigationLocStrChanged()}this.isShowStartingPage||this.updateProgressText(),this.navigationBar.locStrsChanged()}},t.prototype.getMarkdownHtml=function(e,n){return this.getSurveyMarkdownHtml(this,e,n)},t.prototype.getRenderer=function(e){return this.getRendererForString(this,e)},t.prototype.getRendererContext=function(e){return this.getRendererContextForString(this,e)},t.prototype.getRendererForString=function(e,n){var i=this.getBuiltInRendererForString(e,n);i=this.elementWrapperComponentNameCore(i,e,"string",n);var o={element:e,name:n,renderAs:i};return this.onTextRenderAs.fire(this,o),o.renderAs},t.prototype.getRendererContextForString=function(e,n){return this.elementWrapperDataCore(n,e,"string")},t.prototype.getExpressionDisplayValue=function(e,n,i){var o={question:e,value:n,displayValue:i};return this.onGetExpressionDisplayValue.fire(this,o),o.displayValue},t.prototype.getBuiltInRendererForString=function(e,n){if(this.isDesignMode)return bt.editableRenderer},t.prototype.getProcessedText=function(e){return this.processText(e,!0)},t.prototype.getLocString=function(e){return this.getLocalizationString(e)},t.prototype.getErrorCustomText=function(e,n){return this.getSurveyErrorCustomText(this,e,n)},t.prototype.getSurveyErrorCustomText=function(e,n,i){var o={text:n,name:i.getErrorType(),obj:e,error:i};return this.onErrorCustomText.fire(this,o),o.text},t.prototype.getQuestionDisplayValue=function(e,n){var i={question:e,displayValue:n};return this.onGetQuestionDisplayValue.fire(this,i),i.displayValue},Object.defineProperty(t.prototype,"emptySurveyText",{get:function(){return this.getLocalizableStringText("emptySurveyText")},set:function(e){this.setLocalizableStringText("emptySurveyText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"logo",{get:function(){return this.getLocalizableStringText("logo")},set:function(e){this.setLocalizableStringText("logo",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locLogo",{get:function(){return this.getLocalizableString("logo")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"logoWidth",{get:function(){return this.getPropertyValue("logoWidth")},set:function(e){this.setPropertyValue("logoWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedLogoWidth",{get:function(){return this.logoWidth?gn(this.logoWidth):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedStyleLogoWidth",{get:function(){return this.logoWidth?ji(this.logoWidth):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"logoHeight",{get:function(){return this.getPropertyValue("logoHeight")},set:function(e){this.setPropertyValue("logoHeight",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedLogoHeight",{get:function(){return this.logoHeight?gn(this.logoHeight):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedStyleLogoHeight",{get:function(){return this.logoHeight?ji(this.logoHeight):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"logoPosition",{get:function(){return this.getPropertyValue("logoPosition")},set:function(e){this.setPropertyValue("logoPosition",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasLogo",{get:function(){return this.getPropertyValue("hasLogo",!1)},enumerable:!1,configurable:!0}),t.prototype.updateHasLogo=function(){this.setPropertyValue("hasLogo",!!this.logo&&this.logoPosition!=="none")},Object.defineProperty(t.prototype,"isLogoBefore",{get:function(){return this.isDesignMode?!1:this.renderedHasLogo&&(this.logoPosition==="left"||this.logoPosition==="top")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLogoAfter",{get:function(){return this.isDesignMode?this.renderedHasLogo:this.renderedHasLogo&&(this.logoPosition==="right"||this.logoPosition==="bottom")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"logoClassNames",{get:function(){var e={left:"sv-logo--left",right:"sv-logo--right",top:"sv-logo--top",bottom:"sv-logo--bottom"};return new F().append(this.css.logo).append(e[this.logoPosition]).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedHasTitle",{get:function(){return this.isDesignMode?this.isPropertyVisible("title"):!this.titleIsEmpty&&this.showTitle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedHasDescription",{get:function(){return this.isDesignMode?this.isPropertyVisible("description"):!!this.hasDescription},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTitle",{get:function(){return this.renderedHasTitle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedHasLogo",{get:function(){return this.isDesignMode?this.isPropertyVisible("logo"):this.hasLogo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedHasHeader",{get:function(){return this.renderedHasTitle||this.renderedHasLogo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"logoFit",{get:function(){return this.getPropertyValue("logoFit")},set:function(e){this.setPropertyValue("logoFit",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"themeVariables",{get:function(){return Object.assign({},this.cssVariables)},enumerable:!1,configurable:!0}),t.prototype.setIsMobile=function(e){e===void 0&&(e=!0),this._isMobile!==e&&(this._isMobile=e,this.updateCss(),this.getAllQuestions().forEach(function(n){return n.setIsMobile(e)}))},Object.defineProperty(t.prototype,"isMobile",{get:function(){return this._isMobile&&!this.isDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCompact",{get:function(){return this._isCompact},set:function(e){e!==this._isCompact&&(this._isCompact=e,this.updateElementCss(),this.triggerResponsiveness(!0))},enumerable:!1,configurable:!0}),t.prototype.isLogoImageChoosen=function(){return this.locLogo.renderedHtml},Object.defineProperty(t.prototype,"titleMaxWidth",{get:function(){if(!(Td()||this.isMobile)&&!this.isValueEmpty(this.isLogoImageChoosen())&&!R.supportCreatorV2){var e=this.logoWidth;if(this.logoPosition==="left"||this.logoPosition==="right")return"calc(100% - 5px - 2em - "+e+")"}return""},enumerable:!1,configurable:!0}),t.prototype.updateRenderBackgroundImage=function(){var e=this.backgroundImage;this.renderBackgroundImage=Ur(e)},Object.defineProperty(t.prototype,"backgroundOpacity",{get:function(){return this.getPropertyValue("backgroundOpacity")},set:function(e){this.setPropertyValue("backgroundOpacity",e)},enumerable:!1,configurable:!0}),t.prototype.updateBackgroundImageStyle=function(){this.backgroundImageStyle={opacity:this.backgroundOpacity,backgroundImage:this.renderBackgroundImage,backgroundSize:this.backgroundImageFit,backgroundAttachment:this.fitToContainer?void 0:this.backgroundImageAttachment}},t.prototype.updateWrapperFormCss=function(){this.wrapperFormCss=new F().append(this.css.rootWrapper).append(this.css.rootWrapperHasImage,!!this.backgroundImage).append(this.css.rootWrapperFixed,!!this.backgroundImage&&this.backgroundImageAttachment==="fixed").toString()},Object.defineProperty(t.prototype,"completedHtml",{get:function(){return this.getLocalizableStringText("completedHtml")},set:function(e){this.setLocalizableStringText("completedHtml",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locCompletedHtml",{get:function(){return this.getLocalizableString("completedHtml")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"completedHtmlOnCondition",{get:function(){return this.getPropertyValue("completedHtmlOnCondition")},set:function(e){this.setPropertyValue("completedHtmlOnCondition",e)},enumerable:!1,configurable:!0}),t.prototype.runExpression=function(e,n){if(!e)return null;var i=this.getFilteredValues(),o=this.getFilteredProperties(),l=new hn(e),u=void 0;return l.onRunComplete=function(d){u=d,n&&n(d)},l.run(i,o)||u},Object.defineProperty(t.prototype,"isSettingValueOnExpression",{get:function(){return this.setValueOnExpressionCounter>0},enumerable:!1,configurable:!0}),t.prototype.startSetValueOnExpression=function(){this.setValueOnExpressionCounter++},t.prototype.finishSetValueOnExpression=function(){this.setValueOnExpressionCounter--},t.prototype.runCondition=function(e){if(!e)return!1;var n=this.getFilteredValues(),i=this.getFilteredProperties();return new rt(e).run(n,i)},t.prototype.runTriggers=function(){this.checkTriggers(this.getFilteredValues(),!1)},Object.defineProperty(t.prototype,"renderedCompletedHtml",{get:function(){var e=this.getExpressionItemOnRunCondition(this.completedHtmlOnCondition);return e?e.html:this.completedHtml},enumerable:!1,configurable:!0}),t.prototype.getExpressionItemOnRunCondition=function(e){if(e.length==0)return null;for(var n=this.getFilteredValues(),i=this.getFilteredProperties(),o=0;o<e.length;o++)if(e[o].runCondition(n,i))return e[o];return null},Object.defineProperty(t.prototype,"completedBeforeHtml",{get:function(){return this.getLocalizableStringText("completedBeforeHtml")},set:function(e){this.setLocalizableStringText("completedBeforeHtml",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locCompletedBeforeHtml",{get:function(){return this.getLocalizableString("completedBeforeHtml")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loadingHtml",{get:function(){return this.getLocalizableStringText("loadingHtml")},set:function(e){this.setLocalizableStringText("loadingHtml",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locLoadingHtml",{get:function(){return this.getLocalizableString("loadingHtml")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultLoadingHtml",{get:function(){return"<h3>"+this.getLocalizationString("loadingSurvey")+"</h3>"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"navigationBar",{get:function(){return this.navigationBarValue},enumerable:!1,configurable:!0}),t.prototype.addNavigationItem=function(e){return e.component||(e.component="sv-nav-btn"),e.innerCss||(e.innerCss=this.cssSurveyNavigationButton),this.navigationBar.addAction(e)},Object.defineProperty(t.prototype,"startSurveyText",{get:function(){return this.getLocalizableStringText("startSurveyText")},set:function(e){this.setLocalizableStringText("startSurveyText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locStartSurveyText",{get:function(){return this.getLocalizableString("startSurveyText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pagePrevText",{get:function(){return this.getLocalizableStringText("pagePrevText")},set:function(e){this.setLocalizableStringText("pagePrevText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPagePrevText",{get:function(){return this.getLocalizableString("pagePrevText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageNextText",{get:function(){return this.getLocalizableStringText("pageNextText")},set:function(e){this.setLocalizableStringText("pageNextText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPageNextText",{get:function(){return this.getLocalizableString("pageNextText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"completeText",{get:function(){return this.getLocalizableStringText("completeText")},set:function(e){this.setLocalizableStringText("completeText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locCompleteText",{get:function(){return this.getLocalizableString("completeText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previewText",{get:function(){return this.getLocalizableStringText("previewText")},set:function(e){this.setLocalizableStringText("previewText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPreviewText",{get:function(){return this.getLocalizableString("previewText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editText",{get:function(){return this.getLocalizableStringText("editText")},set:function(e){this.setLocalizableStringText("editText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locEditText",{get:function(){return this.getLocalizableString("editText")},enumerable:!1,configurable:!0}),t.prototype.getElementTitleTagName=function(e,n){if(this.onGetTitleTagName.isEmpty)return n;var i={element:e,tagName:n};return this.onGetTitleTagName.fire(this,i),i.tagName},Object.defineProperty(t.prototype,"questionTitlePattern",{get:function(){return this.getPropertyValue("questionTitlePattern","numTitleRequire")},set:function(e){e!=="numRequireTitle"&&e!=="requireNumTitle"&&e!="numTitle"&&(e="numTitleRequire"),this.setPropertyValue("questionTitlePattern",e)},enumerable:!1,configurable:!0}),t.prototype.getQuestionTitlePatternOptions=function(){var e=new Array,n=this.getLocalizationString("questionTitlePatternText"),i=this.questionStartIndex?this.questionStartIndex:"1.";return e.push({value:"numTitleRequire",text:i+" "+n+" "+this.requiredText}),e.push({value:"numRequireTitle",text:i+" "+this.requiredText+" "+n}),e.push({value:"numTitle",text:i+" "+n}),e},Object.defineProperty(t.prototype,"questionTitleTemplate",{get:function(){return this.getLocalizableStringText("questionTitleTemplate")},set:function(e){this.setLocalizableStringText("questionTitleTemplate",e),this.questionTitlePattern=this.getNewTitlePattern(e),this.questionStartIndex=this.getNewQuestionTitleElement(e,"no",this.questionStartIndex,"1"),this.requiredText=this.getNewQuestionTitleElement(e,"require",this.requiredText,"*")},enumerable:!1,configurable:!0}),t.prototype.getNewTitlePattern=function(e){if(e){for(var n=[];e.indexOf("{")>-1;){e=e.substring(e.indexOf("{")+1);var i=e.indexOf("}");if(i<0)break;n.push(e.substring(0,i)),e=e.substring(i+1)}if(n.length>1){if(n[0]=="require")return"requireNumTitle";if(n[1]=="require"&&n.length==3)return"numRequireTitle";if(n.indexOf("require")<0)return"numTitle"}if(n.length==1&&n[0]=="title")return"numTitle"}return"numTitleRequire"},t.prototype.getNewQuestionTitleElement=function(e,n,i,o){if(n="{"+n+"}",!e||e.indexOf(n)<0)return i;for(var l=e.indexOf(n),u="",d="",m=l-1;m>=0&&e[m]!="}";m--);for(m<l-1&&(u=e.substring(m+1,l)),l+=n.length,m=l;m<e.length&&e[m]!="{";m++);for(m>l&&(d=e.substring(l,m)),m=0;m<u.length&&u.charCodeAt(m)<33;)m++;for(u=u.substring(m),m=d.length-1;m>=0&&d.charCodeAt(m)<33;)m--;if(d=d.substring(0,m+1),!u&&!d)return i;var w=i||o;return u+w+d},Object.defineProperty(t.prototype,"locQuestionTitleTemplate",{get:function(){return this.getLocalizableString("questionTitleTemplate")},enumerable:!1,configurable:!0}),t.prototype.getUpdatedQuestionTitle=function(e,n){if(this.onGetQuestionTitle.isEmpty)return n;var i={question:e,title:n};return this.onGetQuestionTitle.fire(this,i),i.title},t.prototype.getUpdatedQuestionNo=function(e,n){if(this.onGetQuestionNumber.isEmpty)return n;var i={question:e,number:n,no:n};return this.onGetQuestionNumber.fire(this,i),i.no===n?i.number:i.no},t.prototype.getUpdatedPanelNo=function(e,n){if(this.onGetPanelNumber.isEmpty)return n;var i={panel:e,number:n};return this.onGetPanelNumber.fire(this,i),i.number},t.prototype.getUpdatedPageNo=function(e,n){if(this.onGetPageNumber.isEmpty)return n;var i={page:e,number:n};return this.onGetPageNumber.fire(this,i),i.number},Object.defineProperty(t.prototype,"showPageNumbers",{get:function(){return this.getPropertyValue("showPageNumbers")},set:function(e){e!==this.showPageNumbers&&(this.setPropertyValue("showPageNumbers",e),this.updateVisibleIndexes())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showQuestionNumbers",{get:function(){return this.getPropertyValue("showQuestionNumbers")},set:function(e){e===!0&&(e="on"),e===!1&&(e="off"),e=e.toLowerCase(),e=e==="onpage"?"onPage":e,e!==this.showQuestionNumbers&&(this.setPropertyValue("showQuestionNumbers",e),this.updateVisibleIndexes())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"progressBar",{get:function(){return this.progressBarValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showProgressBar",{get:function(){return this.getPropertyValue("showProgressBar")},set:function(e){this.setPropertyValue("showProgressBar",e.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"progressBarType",{get:function(){return this.getPropertyValue("progressBarType")},set:function(e){e==="correctquestion"&&(e="correctQuestion"),e==="requiredquestion"&&(e="requiredQuestion"),this.setPropertyValue("progressBarType",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"progressBarComponentName",{get:function(){var e=this.progressBarType;return!R.legacyProgressBarView&&Ze.currentType==="defaultV2"&&Xt(e,"pages")&&(e="buttons"),"progress-"+e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isShowProgressBarOnTop",{get:function(){return this.canShowProresBar()?["auto","aboveheader","belowheader","topbottom","top","both"].indexOf(this.showProgressBar)!==-1:!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isShowProgressBarOnBottom",{get:function(){return this.canShowProresBar()?this.showProgressBar==="bottom"||this.showProgressBar==="both"||this.showProgressBar==="topbottom":!1},enumerable:!1,configurable:!0}),t.prototype.getProgressTypeComponent=function(){return"sv-progress-"+this.progressBarType.toLowerCase()},t.prototype.getProgressCssClasses=function(e){return e===void 0&&(e=""),new F().append(this.css.progress).append(this.css.progressTop,this.isShowProgressBarOnTop&&(!e||e=="header")).append(this.css.progressBottom,this.isShowProgressBarOnBottom&&(!e||e=="footer")).toString()},t.prototype.canShowProresBar=function(){return!this.isShowingPreview||this.showPreviewBeforeComplete!="showAllQuestions"},Object.defineProperty(t.prototype,"processedTitle",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"questionTitleLocation",{get:function(){return this.getPropertyValue("questionTitleLocation")},set:function(e){this.setPropertyValue("questionTitleLocation",e.toLowerCase()),this.isLoadingFromJson||this.updateElementCss(!0)},enumerable:!1,configurable:!0}),t.prototype.updateElementCss=function(e){this.startedPage&&this.startedPage.updateElementCss(e);for(var n=this.visiblePages,i=0;i<n.length;i++)n[i].updateElementCss(e);this.updateCss()},Object.defineProperty(t.prototype,"questionErrorLocation",{get:function(){return this.getPropertyValue("questionErrorLocation")},set:function(e){this.setPropertyValue("questionErrorLocation",e.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"questionDescriptionLocation",{get:function(){return this.getPropertyValue("questionDescriptionLocation")},set:function(e){this.setPropertyValue("questionDescriptionLocation",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mode",{get:function(){return this.getPropertyValue("mode")},set:function(e){e=e.toLowerCase(),e!=this.mode&&(e!="edit"&&e!="display"||this.setPropertyValue("mode",e))},enumerable:!1,configurable:!0}),t.prototype.onModeChanged=function(){for(var e=0;e<this.pages.length;e++){var n=this.pages[e];n.setPropertyValue("isReadOnly",n.isReadOnly)}this.updateButtonsVisibility(),this.updateCss()},Object.defineProperty(t.prototype,"data",{get:function(){for(var e={},n=this.getValuesKeys(),i=0;i<n.length;i++){var o=n[i],l=this.getDataValueCore(this.valuesHash,o);l!==void 0&&(e[o]=l)}return this.setCalculatedValuesIntoResult(e),e},set:function(e){this.valuesHash={},this.setDataCore(e,!e)},enumerable:!1,configurable:!0}),t.prototype.mergeData=function(e){if(e){var n=this.data;this.mergeValues(e,n),this.setDataCore(n)}},t.prototype.setDataCore=function(e,n){if(n===void 0&&(n=!1),n&&(this.valuesHash={}),e)for(var i in e){var o=typeof i=="string"?i.trim():i;this.setDataValueCore(this.valuesHash,o,e[i])}this.updateAllQuestionsValue(n),this.notifyAllQuestionsOnValueChanged(),this.notifyElementsOnAnyValueOrVariableChanged(""),this.runConditions(),this.updateAllQuestionsValue(n)},Object.defineProperty(t.prototype,"isSurvey",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.getData=function(e){var n=e||{includePages:!1,includePanels:!1};return!n.includePages&&!n.includePanels?this.data:this.getStructuredData(!!n.includePages,n.includePanels?-1:n.includePages?1:0)},t.prototype.getStructuredData=function(e,n){if(e===void 0&&(e=!0),n===void 0&&(n=-1),n===0)return this.data;var i={};return this.pages.forEach(function(o){if(e){var l={};o.collectValues(l,n-1)&&(i[o.name]=l)}else o.collectValues(i,n)}),i},t.prototype.setStructuredData=function(e,n){if(n===void 0&&(n=!1),!!e){var i={};for(var o in e){var l=this.getQuestionByValueName(o);if(l)i[o]=e[o];else{var u=this.getPageByName(o);u||(u=this.getPanelByName(o)),u&&this.collectDataFromPanel(u,i,e[o])}}n?this.mergeData(i):this.data=i}},t.prototype.collectDataFromPanel=function(e,n,i){for(var o in i){var l=e.getElementByName(o);l&&(l.isPanel?this.collectDataFromPanel(l,n,i[o]):n[o]=i[o])}},Object.defineProperty(t.prototype,"editingObj",{get:function(){return this.editingObjValue},set:function(e){var n=this;if(this.editingObj!=e&&(this.unConnectEditingObj(),this.editingObjValue=e,!this.isDisposed)){if(!e)for(var i=this.getAllQuestions(),o=0;o<i.length;o++)i[o].unbindValue();this.editingObj&&(this.setDataCore({}),this.onEditingObjPropertyChanged=function(l,u){L.hasOriginalProperty(n.editingObj,u.name)&&(u.name==="locale"&&n.setDataCore({}),n.updateOnSetValue(u.name,n.editingObj[u.name],u.oldValue))},this.editingObj.onPropertyChanged.add(this.onEditingObjPropertyChanged))}},enumerable:!1,configurable:!0}),t.prototype.unConnectEditingObj=function(){this.editingObj&&!this.editingObj.isDisposed&&this.editingObj.onPropertyChanged.remove(this.onEditingObjPropertyChanged)},Object.defineProperty(t.prototype,"isEditingSurveyElement",{get:function(){return!!this.editingObj},enumerable:!1,configurable:!0}),t.prototype.setCalculatedValuesIntoResult=function(e){for(var n=0;n<this.calculatedValues.length;n++){var i=this.calculatedValues[n];i.includeIntoResult&&i.name&&this.getVariable(i.name)!==void 0&&(e[i.name]=this.getVariable(i.name))}},t.prototype.getAllValues=function(){return this.data},t.prototype.getPlainData=function(e){e||(e={includeEmpty:!0,includeQuestionTypes:!1,includeValues:!1});var n=[],i=[];if(this.getAllQuestions().forEach(function(m){var w=m.getPlainData(e);w&&(n.push(w),i.push(m.valueName||m.name))}),e.includeValues)for(var o=this.getValuesKeys(),l=0;l<o.length;l++){var u=o[l];if(i.indexOf(u)==-1){var d=this.getDataValueCore(this.valuesHash,u);d&&n.push({name:u,title:u,value:d,displayValue:d,isNode:!1,getString:function(m){return typeof m=="object"?JSON.stringify(m):m}})}}return n},t.prototype.getFilteredValues=function(){var e={};for(var n in this.variablesHash)e[n]=this.variablesHash[n];if(this.addCalculatedValuesIntoFilteredValues(e),!this.isDesignMode){for(var i=this.getValuesKeys(),o=0;o<i.length;o++){var n=i[o];e[n]=this.getDataValueCore(this.valuesHash,n)}this.getAllQuestions().forEach(function(l){l.hasFilteredValue&&(e[l.getFilteredName()]=l.getFilteredValue())})}return e},t.prototype.addCalculatedValuesIntoFilteredValues=function(e){for(var n=this.calculatedValues,i=0;i<n.length;i++)e[n[i].name]=n[i].value},t.prototype.getFilteredProperties=function(){return{survey:this}},t.prototype.getValuesKeys=function(){if(!this.editingObj)return Object.keys(this.valuesHash);for(var e=L.getPropertiesByObj(this.editingObj),n=[],i=0;i<e.length;i++)n.push(e[i].name);return n},t.prototype.getDataValueCore=function(e,n){return this.editingObj?L.getObjPropertyValue(this.editingObj,n):this.getDataFromValueHash(e,n)},t.prototype.setDataValueCore=function(e,n,i){this.editingObj?L.setObjPropertyValue(this.editingObj,n,i):this.setDataToValueHash(e,n,i)},t.prototype.deleteDataValueCore=function(e,n){this.editingObj?this.editingObj[n]=null:this.deleteDataFromValueHash(e,n)},t.prototype.getDataFromValueHash=function(e,n){return this.valueHashGetDataCallback?this.valueHashGetDataCallback(e,n):e[n]},t.prototype.setDataToValueHash=function(e,n,i){this.valueHashSetDataCallback?this.valueHashSetDataCallback(e,n,i):e[n]=i},t.prototype.deleteDataFromValueHash=function(e,n){this.valueHashDeleteDataCallback?this.valueHashDeleteDataCallback(e,n):delete e[n]},Object.defineProperty(t.prototype,"comments",{get:function(){for(var e={},n=this.getValuesKeys(),i=0;i<n.length;i++){var o=n[i];o.indexOf(this.commentSuffix)>0&&(e[o]=this.getDataValueCore(this.valuesHash,o))}return e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visiblePages",{get:function(){if(this.isDesignMode)return this.pages;if(this.pageContainerValue&&(this.isShowingPreview||this.isSinglePage))return[this.pageContainerValue];for(var e=new Array,n=0;n<this.pages.length;n++)this.isPageInVisibleList(this.pages[n])&&e.push(this.pages[n]);return e},enumerable:!1,configurable:!0}),t.prototype.isPageInVisibleList=function(e){return this.isDesignMode||e.isVisible&&!e.isStartPage},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return this.pages.length==0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"PageCount",{get:function(){return this.pageCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageCount",{get:function(){return this.pages.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visiblePageCount",{get:function(){return this.visiblePages.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startedPage",{get:function(){var e=this.firstPageIsStarted&&this.pages.length>1?this.pages[0]:null;return e&&(e.onFirstRendering(),e.setWasShown(!0)),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentPage",{get:function(){return this.getPropertyValue("currentPage",null)},set:function(e){if(!this.isLoadingFromJson){var n=this.getPageByObject(e);if(!(e&&!n)&&!(!n&&this.isCurrentPageAvailable)){var i=this.visiblePages;if(!(n!=null&&i.indexOf(n)<0)&&n!=this.currentPage){var o=this.currentPage;!this.isShowingPreview&&!this.currentPageChanging(n,o)||(this.setPropertyValue("currentPage",n),n&&(n.onFirstRendering(),n.updateCustomWidgets(),n.setWasShown(!0)),this.locStrsChanged(),this.isShowingPreview||this.currentPageChanged(n,o))}}}},enumerable:!1,configurable:!0}),t.prototype.tryNavigateToPage=function(e){if(!this.performValidationOnPageChanging(e))return!1;var n=this.visiblePages.indexOf(e),i=n<this.currentPageNo||!this.doServerValidation(!1,!1,e);return i&&(this.currentPage=e),i},t.prototype.performValidationOnPageChanging=function(e){if(this.isDesignMode)return!1;var n=this.visiblePages.indexOf(e);if(n<0||n>=this.visiblePageCount||n===this.currentPageNo)return!1;if(n<this.currentPageNo||this.checkErrorsMode==="onComplete"||this.validationAllowSwitchPages)return!0;if(!this.validateCurrentPage())return!1;for(var i=this.currentPageNo+1;i<n;i++){var o=this.visiblePages[i];if(!o.validate(!0,!0))return!1;o.passed=!0}return!0},t.prototype.updateCurrentPage=function(){this.isCurrentPageAvailable||(this.currentPage=this.firstVisiblePage)},Object.defineProperty(t.prototype,"isCurrentPageAvailable",{get:function(){var e=this.currentPage;return!!e&&this.isPageInVisibleList(e)&&this.isPageExistsInSurvey(e)},enumerable:!1,configurable:!0}),t.prototype.isPageExistsInSurvey=function(e){return this.pages.indexOf(e)>-1?!0:!!this.onContainsPageCallback&&this.onContainsPageCallback(e)},Object.defineProperty(t.prototype,"activePage",{get:function(){return this.getPropertyValue("activePage")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isShowStartingPage",{get:function(){return this.state==="starting"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"matrixDragHandleArea",{get:function(){return this.getPropertyValue("matrixDragHandleArea","entireItem")},set:function(e){this.setPropertyValue("matrixDragHandleArea",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isShowingPage",{get:function(){return this.state=="running"||this.state=="preview"||this.isShowStartingPage},enumerable:!1,configurable:!0}),t.prototype.updateActivePage=function(){var e=this.isShowStartingPage?this.startedPage:this.currentPage;e!==this.activePage&&this.setPropertyValue("activePage",e)},t.prototype.onStateAndCurrentPageChanged=function(){this.updateActivePage(),this.updateButtonsVisibility()},t.prototype.getPageByObject=function(e){if(!e)return null;if(e.getType&&e.getType()=="page")return e;if(typeof e=="string"||e instanceof String)return this.getPageByName(String(e));if(!isNaN(e)){var n=Number(e),i=this.visiblePages;return e<0||e>=i.length?null:i[n]}return e},Object.defineProperty(t.prototype,"currentPageNo",{get:function(){return this.visiblePages.indexOf(this.currentPage)},set:function(e){var n=this.visiblePages;e<0||e>=n.length||(this.currentPage=n[e])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"questionsOrder",{get:function(){return this.getPropertyValue("questionsOrder")},set:function(e){this.setPropertyValue("questionsOrder",e)},enumerable:!1,configurable:!0}),t.prototype.focusFirstQuestion=function(){if(!this.focusingQuestionInfo){var e=this.activePage;e&&(e.scrollToTop(),e.focusFirstQuestion())}},t.prototype.scrollToTopOnPageChange=function(e){e===void 0&&(e=!0);var n=this.activePage;n&&(e&&n.scrollToTop(),this.isCurrentPageRendering&&this.focusFirstQuestionAutomatic&&!this.focusingQuestionInfo&&(n.focusFirstQuestion(),this.isCurrentPageRendering=!1))},Object.defineProperty(t.prototype,"state",{get:function(){return this.getPropertyValue("state","empty")},enumerable:!1,configurable:!0}),t.prototype.updateState=function(){this.setPropertyValue("state",this.calcState())},t.prototype.calcState=function(){return this.isLoading?"loading":this.isCompleted?"completed":this.isCompletedBefore?"completedbefore":!this.isDesignMode&&this.isEditMode&&this.isStartedState&&this.startedPage?"starting":this.isShowingPreview?this.currentPage?"preview":"empty":this.currentPage?"running":"empty"},Object.defineProperty(t.prototype,"isCompleted",{get:function(){return this.getPropertyValue("isCompleted",!1)},set:function(e){this.setPropertyValue("isCompleted",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isShowingPreview",{get:function(){return this.getPropertyValue("isShowingPreview",!1)},set:function(e){this.isShowingPreview!=e&&(this.setPropertyValue("isShowingPreview",e),this.onShowingPreviewChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isStartedState",{get:function(){return this.getPropertyValue("isStartedState",!1)},set:function(e){this.setPropertyValue("isStartedState",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCompletedBefore",{get:function(){return this.getPropertyValue("isCompletedBefore",!1)},set:function(e){this.setPropertyValue("isCompletedBefore",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this.getPropertyValue("isLoading",!1)},set:function(e){this.setPropertyValue("isLoading",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"completedState",{get:function(){return this.getPropertyValue("completedState","")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"completedStateText",{get:function(){return this.getPropertyValue("completedStateText","")},enumerable:!1,configurable:!0}),t.prototype.setCompletedState=function(e,n){this.setPropertyValue("completedState",e),n||(e=="saving"&&(n=this.getLocalizationString("savingData")),e=="error"&&(n=this.getLocalizationString("savingDataError")),e=="success"&&(n=this.getLocalizationString("savingDataSuccess"))),this.setPropertyValue("completedStateText",n),this.state==="completed"&&this.showCompletedPage&&this.completedState&&this.notify(this.completedStateText,this.completedState,e==="error")},t.prototype.notify=function(e,n,i){i===void 0&&(i=!1),this.notifier.showActions=i,this.notifier.notify(e,n,i)},t.prototype.clear=function(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0),this.isCompleted=!1,this.isCompletedBefore=!1,this.isLoading=!1,this.completedByTriggers=void 0,e&&this.setDataCore(null,!0),this.timerModel.spent=0;for(var i=0;i<this.pages.length;i++)this.pages[i].timeSpent=0,this.pages[i].setWasShown(!1),this.pages[i].passed=!1;if(this.onFirstPageIsStartedChanged(),n&&(this.currentPage=this.firstVisiblePage,this.currentSingleQuestion)){var o=this.getAllQuestions(!0);this.currentSingleQuestion=o.length>0?o[0]:void 0}e&&this.updateValuesWithDefaults()},t.prototype.mergeValues=function(e,n){Dn(e,n)},t.prototype.updateValuesWithDefaults=function(){if(!(this.isDesignMode||this.isLoading))for(var e=0;e<this.pages.length;e++)for(var n=this.pages[e].questions,i=0;i<n.length;i++)n[i].updateValueWithDefaults()},t.prototype.updateCustomWidgets=function(e){e&&e.updateCustomWidgets()},t.prototype.currentPageChanging=function(e,n){var i=this.createPageChangeEventOptions(e,n);i.allow=!0,i.allowChanging=!0,this.onCurrentPageChanging.fire(this,i);var o=i.allowChanging&&i.allow;return o&&(this.isCurrentPageRendering=!0),o},t.prototype.currentPageChanged=function(e,n){this.notifyQuestionsOnHidingContent(n);var i=this.createPageChangeEventOptions(e,n);n&&!n.isDisposed&&!n.passed&&n.validate(!1)&&(n.passed=!0),this.isCurrentPageRendered===!0&&(this.isCurrentPageRendered=!1),this.onCurrentPageChanged.fire(this,i)},t.prototype.notifyQuestionsOnHidingContent=function(e){e&&!e.isDisposed&&e.questions.forEach(function(n){return n.onHidingContent()})},t.prototype.createPageChangeEventOptions=function(e,n){var i=e&&n?e.visibleIndex-n.visibleIndex:0;return{oldCurrentPage:n,newCurrentPage:e,isNextPage:i===1,isPrevPage:i===-1,isGoingForward:i>0,isGoingBackward:i<0,isAfterPreview:this.changeCurrentPageFromPreview===!0}},t.prototype.getProgress=function(){if(this.currentPage==null)return 0;if(this.progressBarType!=="pages"){var e=this.getProgressInfo();return this.progressBarType==="requiredQuestions"?e.requiredQuestionCount>=1?Math.ceil(e.requiredAnsweredQuestionCount*100/e.requiredQuestionCount):100:e.questionCount>=1?Math.ceil(e.answeredQuestionCount*100/e.questionCount):100}var n=this.visiblePages,i=n.indexOf(this.currentPage);return Math.ceil(i*100/n.length)},Object.defineProperty(t.prototype,"progressValue",{get:function(){return this.getPropertyValue("progressValue",0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNavigationButtonsShowing",{get:function(){if(this.isDesignMode)return"none";var e=this.activePage;return e?e.navigationButtonsVisibility==="show"?this.showNavigationButtons==="none"?"bottom":this.showNavigationButtons:e.navigationButtonsVisibility==="hide"?"none":this.showNavigationButtons:"none"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNavigationButtonsShowingOnTop",{get:function(){return this.getIsNavigationButtonsShowingOn("top")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNavigationButtonsShowingOnBottom",{get:function(){return this.getIsNavigationButtonsShowingOn("bottom")},enumerable:!1,configurable:!0}),t.prototype.getIsNavigationButtonsShowingOn=function(e){var n=this.isNavigationButtonsShowing;return n=="both"||n==e},Object.defineProperty(t.prototype,"isEditMode",{get:function(){return this.mode=="edit"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDisplayMode",{get:function(){return this.mode=="display"&&!this.isDesignMode||this.state=="preview"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUpdateValueTextOnTyping",{get:function(){return this.textUpdateMode=="onTyping"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDesignMode",{get:function(){return this._isDesignMode},enumerable:!1,configurable:!0}),t.prototype.setDesignMode=function(e){!!this._isDesignMode!=!!e&&(this._isDesignMode=!!e,this.onQuestionsOnPageModeChanged("standard"))},Object.defineProperty(t.prototype,"showInvisibleElements",{get:function(){return this.getPropertyValue("showInvisibleElements",!1)},set:function(e){var n=this.visiblePages;this.setPropertyValue("showInvisibleElements",e),!this.isLoadingFromJson&&(this.runConditions(),this.updateAllElementsVisibility(n))},enumerable:!1,configurable:!0}),t.prototype.updateAllElementsVisibility=function(e){for(var n=0;n<this.pages.length;n++){var i=this.pages[n];i.updateElementVisibility(),e.indexOf(i)>-1!=i.isVisible&&this.onPageVisibleChanged.fire(this,{page:i,visible:i.isVisible})}},Object.defineProperty(t.prototype,"areInvisibleElementsShowing",{get:function(){return this.isDesignMode||this.showInvisibleElements},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"areEmptyElementsHidden",{get:function(){return this.isShowingPreview&&this.showPreviewBeforeComplete=="showAnsweredQuestions"&&this.isAnyQuestionAnswered},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAnyQuestionAnswered",{get:function(){for(var e=this.getAllQuestions(!0),n=0;n<e.length;n++)if(!e[n].isEmpty())return!0;return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCookie",{get:function(){if(!this.cookieName)return!1;var e=g.getCookie();return e&&e.indexOf(this.cookieName+"=true")>-1},enumerable:!1,configurable:!0}),t.prototype.setCookie=function(){this.cookieName&&g.setCookie(this.cookieName+"=true; expires=Fri, 31 Dec 9999 0:0:0 GMT")},t.prototype.deleteCookie=function(){this.cookieName&&g.setCookie(this.cookieName+"=;")},Object.defineProperty(t.prototype,"ignoreValidation",{get:function(){return!this.validationEnabled},set:function(e){this.validationEnabled=!e},enumerable:!1,configurable:!0}),t.prototype.nextPage=function(){return this.isLastPage?!1:this.doCurrentPageComplete(!1)},t.prototype.performNext=function(){var e=this.currentSingleQuestion;if(!e)return this.nextPage();if(!e.validate(!0))return!1;var n=this.getAllQuestions(!0),i=n.indexOf(e);return i<0||i===n.length-1?!1:(this.currentSingleQuestion=n[i+1],!0)},t.prototype.performPrevious=function(){var e=this.currentSingleQuestion;if(!e)return this.prevPage();var n=this.getAllQuestions(!0),i=n.indexOf(e);return i===0?!1:(this.currentSingleQuestion=n[i-1],!0)},t.prototype.hasErrorsOnNavigate=function(e){var n=this;if(!this.isEditMode||this.ignoreValidation)return!1;var i=e&&this.validationAllowComplete||!e&&this.validationAllowSwitchPages,o=function(l){(!l||i)&&n.doCurrentPageCompleteCore(e)};return this.isValidateOnComplete?this.isLastPage?this.validate(!0,this.focusOnFirstError,o,!0)!==!0&&!i:!1:this.validateCurrentPage(o)!==!0&&!i},t.prototype.checkForAsyncQuestionValidation=function(e,n){var i=this;this.clearAsyncValidationQuesitons();for(var o=function(){if(e[u].isRunningValidators){var d=e[u];d.onCompletedAsyncValidators=function(m){i.onCompletedAsyncQuestionValidators(d,n,m)},l.asyncValidationQuesitons.push(e[u])}},l=this,u=0;u<e.length;u++)o();return this.asyncValidationQuesitons.length>0},t.prototype.clearAsyncValidationQuesitons=function(){if(this.asyncValidationQuesitons)for(var e=this.asyncValidationQuesitons,n=0;n<e.length;n++)e[n].onCompletedAsyncValidators=null;this.asyncValidationQuesitons=[]},t.prototype.onCompletedAsyncQuestionValidators=function(e,n,i){if(i){if(this.clearAsyncValidationQuesitons(),n(!0),this.focusOnFirstError&&e&&e.page&&e.page===this.currentPage){for(var o=this.currentPage.questions,l=0;l<o.length;l++)if(o[l]!==e&&o[l].errors.length>0)return;e.focus(!0)}return}for(var u=this.asyncValidationQuesitons,d=0;d<u.length;d++)if(u[d].isRunningValidators)return;n(!1)},Object.defineProperty(t.prototype,"isCurrentPageHasErrors",{get:function(){return this.checkIsCurrentPageHasErrors()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCurrentPageValid",{get:function(){return!this.checkIsCurrentPageHasErrors()},enumerable:!1,configurable:!0}),t.prototype.hasCurrentPageErrors=function(e){return this.hasPageErrors(void 0,e)},t.prototype.validateCurrentPage=function(e){return this.validatePage(void 0,e)},t.prototype.hasPageErrors=function(e,n){var i=this.validatePage(e,n);return i===void 0?i:!i},t.prototype.validatePage=function(e,n){return e||(e=this.activePage),e?this.checkIsPageHasErrors(e)?!1:n&&this.checkForAsyncQuestionValidation(e.questions,function(i){return n(i)})?void 0:!0:!0},t.prototype.hasErrors=function(e,n,i){e===void 0&&(e=!0),n===void 0&&(n=!1);var o=this.validate(e,n,i);return o===void 0?o:!o},t.prototype.validate=function(e,n,i,o){e===void 0&&(e=!0),n===void 0&&(n=!1),i&&(e=!0);for(var l=this.visiblePages,u=!0,d={fireCallback:e,focusOnFirstError:n,firstErrorQuestion:null,result:!1},m=0;m<l.length;m++)l[m].validate(e,n,d)||(u=!1);return d.firstErrorQuestion&&(n||o)&&(n?d.firstErrorQuestion.focus(!0):this.currentPage=d.firstErrorQuestion.page),!u||!i?u:this.checkForAsyncQuestionValidation(this.getAllQuestions(),function(w){return i(w)})?void 0:!0},t.prototype.ensureUniqueNames=function(e){if(e===void 0&&(e=null),e==null)for(var n=0;n<this.pages.length;n++)this.ensureUniqueName(this.pages[n]);else this.ensureUniqueName(e)},t.prototype.ensureUniqueName=function(e){if(e.isPage&&this.ensureUniquePageName(e),e.isPanel&&this.ensureUniquePanelName(e),e.isPage||e.isPanel)for(var n=e.elements,i=0;i<n.length;i++)this.ensureUniqueNames(n[i]);else this.ensureUniqueQuestionName(e)},t.prototype.ensureUniquePageName=function(e){var n=this;return this.ensureUniqueElementName(e,function(i){return n.getPageByName(i)})},t.prototype.ensureUniquePanelName=function(e){var n=this;return this.ensureUniqueElementName(e,function(i){return n.getPanelByName(i)})},t.prototype.ensureUniqueQuestionName=function(e){var n=this;return this.ensureUniqueElementName(e,function(i){return n.getQuestionByName(i)})},t.prototype.ensureUniqueElementName=function(e,n){var i=n(e.name);if(!(!i||i==e)){for(var o=this.getNewName(e.name);n(o);)var o=this.getNewName(e.name);e.name=o}},t.prototype.getNewName=function(e){for(var n=e.length;n>0&&e[n-1]>="0"&&e[n-1]<="9";)n--;var i=e.substring(0,n),o=0;return n<e.length&&(o=parseInt(e.substring(n))),o++,i+o},t.prototype.checkIsCurrentPageHasErrors=function(e){return e===void 0&&(e=void 0),this.checkIsPageHasErrors(this.activePage,e)},t.prototype.checkIsPageHasErrors=function(e,n){if(n===void 0&&(n=void 0),n===void 0&&(n=this.focusOnFirstError),!e)return!0;var i=!1;return this.currentSingleQuestion?i=!this.currentSingleQuestion.validate(!0):i=!e.validate(!0,n),this.fireValidatedErrorsOnPage(e),i},t.prototype.fireValidatedErrorsOnPage=function(e){if(!(this.onValidatedErrorsOnCurrentPage.isEmpty||!e)){for(var n=e.questions,i=new Array,o=new Array,l=0;l<n.length;l++){var u=n[l];if(u.errors.length>0){i.push(u);for(var d=0;d<u.errors.length;d++)o.push(u.errors[d])}}this.onValidatedErrorsOnCurrentPage.fire(this,{questions:i,errors:o,page:e})}},t.prototype.prevPage=function(){var e=this;if(this.isFirstPage||this.state==="starting")return!1;this.resetNavigationButton();var n=this.skippedPages.find(function(l){return l.to==e.currentPage});if(n)this.currentPage=n.from,this.skippedPages.splice(this.skippedPages.indexOf(n),1);else{var i=this.visiblePages,o=i.indexOf(this.currentPage);this.currentPage=i[o-1]}return!0},t.prototype.tryComplete=function(){this.isValidateOnComplete&&this.cancelPreview();var e=this.doCurrentPageComplete(!0);return e&&this.cancelPreview(),e},t.prototype.completeLastPage=function(){return this.tryComplete()},t.prototype.navigationMouseDown=function(){return this.isNavigationButtonPressed=!0,!0},t.prototype.resetNavigationButton=function(){this.isNavigationButtonPressed=!1},t.prototype.nextPageUIClick=function(){return this.mouseDownPage&&this.mouseDownPage!==this.activePage?!1:(this.mouseDownPage=null,this.performNext())},t.prototype.nextPageMouseDown=function(){return this.mouseDownPage=this.activePage,this.navigationMouseDown()},t.prototype.showPreview=function(){return this.resetNavigationButton(),!this.isValidateOnComplete&&(this.hasErrorsOnNavigate(!0)||this.doServerValidation(!0,!0))?!1:(this.showPreviewCore(),!0)},t.prototype.showPreviewCore=function(){var e={allowShowPreview:!0,allow:!0};this.onShowingPreview.fire(this,e),this.isShowingPreview=e.allowShowPreview&&e.allow},t.prototype.cancelPreview=function(e){e===void 0&&(e=null),this.isShowingPreview&&(this.gotoPageFromPreview=e,this.isShowingPreview=!1)},t.prototype.cancelPreviewByPage=function(e){this.cancelPreview(e)},t.prototype.doCurrentPageComplete=function(e){return this.isValidatingOnServer||(this.resetNavigationButton(),this.hasErrorsOnNavigate(e))?!1:this.doCurrentPageCompleteCore(e)},t.prototype.doCurrentPageCompleteCore=function(e){return this.doServerValidation(e)?!1:e?(this.currentPage.passed=!0,this.doComplete(this.canBeCompletedByTrigger,this.completedTrigger)):(this.doNextPage(),!0)},Object.defineProperty(t.prototype,"isSinglePage",{get:function(){return this.questionsOnPageMode=="singlePage"},set:function(e){this.questionsOnPageMode=e?"singlePage":"standard"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSingleVisibleQuestion",{get:function(){return this.isSingleVisibleQuestionVal(this.questionsOnPageMode)},enumerable:!1,configurable:!0}),t.prototype.isSingleVisibleQuestionVal=function(e){return e==="questionPerPage"||e==="questionOnPage"},Object.defineProperty(t.prototype,"questionsOnPageMode",{get:function(){return this.getPropertyValue("questionsOnPageMode")},set:function(e){this.setPropertyValue("questionsOnPageMode",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"firstPageIsStarted",{get:function(){return this.getPropertyValue("firstPageIsStarted")},set:function(e){this.setPropertyValue("firstPageIsStarted",e)},enumerable:!1,configurable:!0}),t.prototype.isPageStarted=function(e){return this.firstPageIsStarted&&this.pages.length>1&&this.pages[0]===e},Object.defineProperty(t.prototype,"showPreviewBeforeComplete",{get:function(){return this.getPropertyValue("showPreviewBeforeComplete")},set:function(e){this.setPropertyValue("showPreviewBeforeComplete",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isShowPreviewBeforeComplete",{get:function(){var e=this.showPreviewBeforeComplete;return e=="showAllQuestions"||e=="showAnsweredQuestions"},enumerable:!1,configurable:!0}),t.prototype.onFirstPageIsStartedChanged=function(){this.isStartedState=this.firstPageIsStarted&&this.pages.length>1,this.pageVisibilityChanged(this.pages[0],!this.isStartedState)},t.prototype.onShowingPreviewChanged=function(){this.updatePagesContainer()},t.prototype.createRootPage=function(e,n){var i=L.createClass("page");return i.name=e,i.isPageContainer=!0,n.forEach(function(o){o.isStartPage||i.addElement(o)}),i},t.prototype.disposeContainerPage=function(){var e=this.pageContainerValue,n=[].concat(e.elements);n.forEach(function(i){return e.removeElement(i)}),e.dispose(),this.pageContainerValue=void 0},t.prototype.updatePagesContainer=function(){if(!this.isDesignMode){this.getAllQuestions().forEach(function(u){return u.updateElementVisibility()}),this.setPropertyValue("currentPage",void 0);var e="single-page",n="preview-page",i=void 0;if(this.isSinglePage){var o=this.pageContainerValue;o&&o.name===n?(i=o.elements[0],this.disposeContainerPage()):i=this.createRootPage(e,this.pages)}if(this.isShowingPreview&&(i=this.createRootPage(n,i?[i]:this.pages)),i&&(i.setSurveyImpl(this),this.pageContainerValue=i,this.currentPage=i),!this.isSinglePage&&!this.isShowingPreview){this.disposeContainerPage();var l=this.gotoPageFromPreview;this.gotoPageFromPreview=null,D.isValueEmpty(l)&&this.visiblePageCount>0&&(l=this.visiblePages[this.visiblePageCount-1]),l&&(this.changeCurrentPageFromPreview=!0,this.currentPage=l,this.changeCurrentPageFromPreview=!1)}!this.currentPage&&this.visiblePageCount>0&&(this.currentPage=this.visiblePages[0]),this.pages.forEach(function(u){u.hasShown&&u.updateElementCss(!0)}),this.updateButtonsVisibility()}},Object.defineProperty(t.prototype,"currentSingleQuestion",{get:function(){return this.currentSingleQuestionValue},set:function(e){if(e!==this.currentSingleQuestion)if(this.currentSingleQuestionValue=e,e){var n=e.page;n.updateRows(),n!==this.currentPage?this.currentPage=n:this.focusFirstQuestionAutomatic&&e.focus(),this.updateButtonsVisibility()}else this.visiblePages.forEach(function(i){return i.updateRows()})},enumerable:!1,configurable:!0}),t.prototype.onQuestionsOnPageModeChanged=function(e){if(!(this.isShowingPreview||this.isDesignMode)&&(this.currentSingleQuestion=void 0,e==="singlePage"&&this.updatePagesContainer(),this.isSinglePage&&this.updatePagesContainer(),this.isSingleVisibleQuestion)){var n=this.getAllQuestions(!0);n.length>0&&(this.currentSingleQuestion=n[0])}},t.prototype.getPageStartIndex=function(){return this.firstPageIsStarted&&this.pages.length>0?1:0},Object.defineProperty(t.prototype,"isFirstPage",{get:function(){return this.getPropertyValue("isFirstPage")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLastPage",{get:function(){return this.getPropertyValue("isLastPage")},enumerable:!1,configurable:!0}),t.prototype.updateButtonsVisibility=function(){this.updateIsFirstLastPageState(),this.setPropertyValue("isShowPrevButton",this.calcIsShowPrevButton()),this.setPropertyValue("isShowNextButton",this.calcIsShowNextButton()),this.setPropertyValue("isCompleteButtonVisible",this.calcIsCompleteButtonVisible()),this.setPropertyValue("isPreviewButtonVisible",this.calcIsPreviewButtonVisible()),this.setPropertyValue("isCancelPreviewButtonVisible",this.calcIsCancelPreviewButtonVisible())},Object.defineProperty(t.prototype,"isShowPrevButton",{get:function(){return this.getPropertyValue("isShowPrevButton")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isShowNextButton",{get:function(){return this.getPropertyValue("isShowNextButton")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCompleteButtonVisible",{get:function(){return this.getPropertyValue("isCompleteButtonVisible")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPreviewButtonVisible",{get:function(){return this.getPropertyValue("isPreviewButtonVisible")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCancelPreviewButtonVisible",{get:function(){return this.getPropertyValue("isCancelPreviewButtonVisible")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFirstElement",{get:function(){return this.getPropertyValue("isFirstElement")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLastElement",{get:function(){return this.getPropertyValue("isLastElement")},enumerable:!1,configurable:!0}),t.prototype.updateIsFirstLastPageState=function(){var e=this.currentPage;this.setPropertyValue("isFirstPage",!!e&&e===this.firstVisiblePage),this.setPropertyValue("isLastPage",!!e&&e===this.lastVisiblePage);var n=void 0,i=void 0,o=this.currentSingleQuestion;if(o){var l=this.getAllQuestions(!0),u=l.indexOf(o);u>=0&&(n=u===0,i=u===l.length-1)}this.setPropertyValue("isFirstElement",n),this.setPropertyValue("isLastElement",i)},Object.defineProperty(t.prototype,"isLastPageOrElement",{get:function(){return this.isLastElement!==void 0?this.isLastElement:this.isLastPage},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFirstPageOrElement",{get:function(){return this.isFirstElement!==void 0?this.isFirstElement:this.isFirstPage},enumerable:!1,configurable:!0}),t.prototype.calcIsShowPrevButton=function(){if(this.isFirstPageOrElement||!this.showPrevButton||this.state!=="running")return!1;if(this.isFirstElement!==void 0)return!0;var e=this.visiblePages[this.currentPageNo-1];return e&&e.getMaxTimeToFinish()<=0},t.prototype.calcIsShowNextButton=function(){return this.state==="running"&&!this.isLastPageOrElement&&!this.canBeCompletedByTrigger},t.prototype.calcIsCompleteButtonVisible=function(){var e=this.state;return this.isEditMode&&(this.state==="running"&&(this.isLastPageOrElement&&!this.isShowPreviewBeforeComplete||this.canBeCompletedByTrigger)||e==="preview")&&this.showCompleteButton},t.prototype.calcIsPreviewButtonVisible=function(){return this.isEditMode&&this.isShowPreviewBeforeComplete&&this.state=="running"&&this.isLastPageOrElement},t.prototype.calcIsCancelPreviewButtonVisible=function(){return this.isEditMode&&this.isShowPreviewBeforeComplete&&this.state=="preview"},Object.defineProperty(t.prototype,"firstVisiblePage",{get:function(){if(this.visiblePageCount===1)return this.visiblePages[0];for(var e=this.pages,n=0;n<e.length;n++)if(this.isPageInVisibleList(e[n]))return e[n];return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastVisiblePage",{get:function(){if(this.visiblePageCount===1)return this.visiblePages[0];for(var e=this.pages,n=e.length-1;n>=0;n--)if(this.isPageInVisibleList(e[n]))return e[n];return null},enumerable:!1,configurable:!0}),t.prototype.doComplete=function(e,n){if(e===void 0&&(e=!1),!this.isCompleted)return this.checkOnCompletingEvent(e,n)?(this.checkOnPageTriggers(!0),this.stopTimer(),this.notifyQuestionsOnHidingContent(this.currentPage),this.isCompleted=!0,this.clearUnusedValues(),this.saveDataOnComplete(e,n),this.setCookie(),!0):(this.isCompleted=!1,!1)},t.prototype.saveDataOnComplete=function(e,n){var i=this;e===void 0&&(e=!1);var o=this.hasCookie,l=function(A){w=!0,i.setCompletedState("saving",A)},u=function(A){i.setCompletedState("error",A)},d=function(A){i.setCompletedState("success",A),i.navigateTo()},m=function(A){i.setCompletedState("","")},w=!1,E={isCompleteOnTrigger:e,completeTrigger:n,showSaveInProgress:l,showSaveError:u,showSaveSuccess:d,clearSaveMessages:m,showDataSaving:l,showDataSavingError:u,showDataSavingSuccess:d,showDataSavingClear:m};this.onComplete.fire(this,E),!o&&this.surveyPostId&&this.sendResult(),w||this.navigateTo()},t.prototype.checkOnCompletingEvent=function(e,n){var i={allowComplete:!0,allow:!0,isCompleteOnTrigger:e,completeTrigger:n};return this.onCompleting.fire(this,i),i.allowComplete&&i.allow},t.prototype.start=function(){return!this.firstPageIsStarted||(this.isCurrentPageRendering=!0,this.checkIsPageHasErrors(this.startedPage,!0))?!1:(this.isStartedState=!1,this.notifyQuestionsOnHidingContent(this.pages[0]),this.startTimerFromUI(),this.onStarted.fire(this,{}),this.updateVisibleIndexes(),this.currentPage&&this.currentPage.locStrsChanged(),!0)},Object.defineProperty(t.prototype,"isValidatingOnServer",{get:function(){return this.getPropertyValue("isValidatingOnServer",!1)},enumerable:!1,configurable:!0}),t.prototype.setIsValidatingOnServer=function(e){e!=this.isValidatingOnServer&&(this.setPropertyValue("isValidatingOnServer",e),this.onIsValidatingOnServerChanged())},t.prototype.createServerValidationOptions=function(e,n,i){var o=this,l={data:{},errors:{},survey:this,complete:function(){o.completeServerValidation(l,n,i)}};if(e&&this.isValidateOnComplete)l.data=this.data;else for(var u=this.activePage.questions,d=0;d<u.length;d++){var m=u[d];if(m.visible){var w=this.getValue(m.getValueName());this.isValueEmpty(w)||(l.data[m.getValueName()]=w)}}return l},t.prototype.onIsValidatingOnServerChanged=function(){},t.prototype.doServerValidation=function(e,n,i){var o=this;if(n===void 0&&(n=!1),!this.onServerValidateQuestions||this.onServerValidateQuestions.isEmpty||!e&&this.isValidateOnComplete)return!1;this.setIsValidatingOnServer(!0);var l=typeof this.onServerValidateQuestions=="function";return this.serverValidationEventCount=l?1:this.onServerValidateQuestions.length,l?this.onServerValidateQuestions(this,this.createServerValidationOptions(e,n,i)):this.onServerValidateQuestions.fireByCreatingOptions(this,function(){return o.createServerValidationOptions(e,n,i)}),!0},t.prototype.completeServerValidation=function(e,n,i){if(!(this.serverValidationEventCount>1&&(this.serverValidationEventCount--,e&&e.errors&&Object.keys(e.errors).length===0))&&(this.serverValidationEventCount=0,this.setIsValidatingOnServer(!1),!(!e&&!e.survey))){var o=e.survey,l=!1;if(e.errors){var u=this.focusOnFirstError;for(var d in e.errors){var m=o.getQuestionByName(d);m&&m.errors&&(l=!0,m.addError(new ht(e.errors[d],this)),u&&(u=!1,m.page&&(this.currentPage=m.page),m.focus(!0)))}this.fireValidatedErrorsOnPage(this.currentPage)}l||(n?this.showPreviewCore():i?this.currentPage=i:o.isLastPage?o.doComplete():o.doNextPage())}},t.prototype.doNextPage=function(){var e=this.currentPage;if(this.checkOnPageTriggers(!1),this.isCompleted)this.doComplete(!0);else if(this.sendResultOnPageNext&&this.sendResult(this.surveyPostId,this.clientId,!0),e===this.currentPage){var n=this.visiblePages,i=n.indexOf(this.currentPage);this.currentPage=n[i+1]}},t.prototype.setCompleted=function(e){this.doComplete(!0,e)},t.prototype.canBeCompleted=function(e,n){var i;if(R.triggers.changeNavigationButtonsOnComplete){var o=this.canBeCompletedByTrigger;this.completedByTriggers||(this.completedByTriggers={}),n?this.completedByTriggers[e.id]={trigger:e,pageId:(i=this.currentPage)===null||i===void 0?void 0:i.id}:delete this.completedByTriggers[e.id],o!==this.canBeCompletedByTrigger&&this.updateButtonsVisibility()}},Object.defineProperty(t.prototype,"canBeCompletedByTrigger",{get:function(){var e;if(!this.completedByTriggers)return!1;var n=Object.keys(this.completedByTriggers);if(n.length===0)return!1;var i=(e=this.currentPage)===null||e===void 0?void 0:e.id;if(!i)return!0;for(var o=0;o<n.length;o++)if(i===this.completedByTriggers[n[o]].pageId)return!0;return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"completedTrigger",{get:function(){if(this.canBeCompletedByTrigger){var e=Object.keys(this.completedByTriggers)[0];return this.completedByTriggers[e].trigger}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"processedCompletedHtml",{get:function(){var e=this.renderedCompletedHtml;return e?this.processHtml(e,"completed"):""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"processedCompletedBeforeHtml",{get:function(){return this.locCompletedBeforeHtml.textOrHtml},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"processedLoadingHtml",{get:function(){return this.locLoadingHtml.textOrHtml},enumerable:!1,configurable:!0}),t.prototype.getProgressInfo=function(){var e=this.isDesignMode?this.pages:this.visiblePages;return et.getProgressInfoByElements(e,!1)},Object.defineProperty(t.prototype,"progressText",{get:function(){var e=this.getPropertyValue("progressText","");return e||(this.updateProgressText(),e=this.getPropertyValue("progressText","")),e},enumerable:!1,configurable:!0}),t.prototype.updateProgressText=function(e){e===void 0&&(e=!1),!(this.isCalculatingProgressText||this.isShowingPreview)&&(e&&this.progressBarType=="pages"&&this.onGetProgressText.isEmpty||(this.isCalculatingProgressText=!0,this.setPropertyValue("progressText",this.getProgressText()),this.setPropertyValue("progressValue",this.getProgress()),this.isCalculatingProgressText=!1))},t.prototype.getProgressText=function(){if(!this.isDesignMode&&this.currentPage==null)return"";var e={questionCount:0,answeredQuestionCount:0,requiredQuestionCount:0,requiredAnsweredQuestionCount:0,text:""},n=this.progressBarType.toLowerCase();if(n==="questions"||n==="requiredquestions"||n==="correctquestions"||!this.onGetProgressText.isEmpty){var i=this.getProgressInfo();e.questionCount=i.questionCount,e.answeredQuestionCount=i.answeredQuestionCount,e.requiredQuestionCount=i.requiredQuestionCount,e.requiredAnsweredQuestionCount=i.requiredAnsweredQuestionCount}return e.text=this.getProgressTextCore(e),this.onGetProgressText.fire(this,e),e.text},t.prototype.getProgressTextCore=function(e){var n=this.progressBarType.toLowerCase();if(n==="questions")return this.getLocalizationFormatString("questionsProgressText",e.answeredQuestionCount,e.questionCount);if(n==="requiredquestions")return this.getLocalizationFormatString("questionsProgressText",e.requiredAnsweredQuestionCount,e.requiredQuestionCount);if(n==="correctquestions"){var i=this.getCorrectedAnswerCount();return this.getLocalizationFormatString("questionsProgressText",i,e.questionCount)}var o=this.isDesignMode?this.pages:this.visiblePages,l=o.indexOf(this.currentPage)+1;return this.getLocalizationFormatString("progressText",l,o.length)},t.prototype.getRootCss=function(){return new F().append(this.css.root).append(this.css.rootProgress+"--"+this.progressBarType).append(this.css.rootMobile,this.isMobile).append(this.css.rootAnimationDisabled,!R.animationEnabled).append(this.css.rootReadOnly,this.mode==="display"&&!this.isDesignMode).append(this.css.rootCompact,this.isCompact).append(this.css.rootFitToContainer,this.fitToContainer).toString()},t.prototype.afterRenderSurvey=function(e){var n=this;this.destroyResizeObserver(),Array.isArray(e)&&(e=et.GetFirstNonTextElement(e));var i=e,o=this.css.variables;if(o){var l=Number.parseFloat(g.getComputedStyle(i).getPropertyValue(o.mobileWidth));if(l){var u=!1;this.resizeObserver=new ResizeObserver(function(d){p.requestAnimationFrame(function(){u||!Kr(i)?u=!1:u=n.processResponsiveness(i.offsetWidth,l,i.offsetHeight)})}),this.resizeObserver.observe(i)}}this.onAfterRenderSurvey.fire(this,{survey:this,htmlElement:e}),this.rootElement=e,this.addScrollEventListener()},t.prototype.beforeDestroySurveyElement=function(){this.destroyResizeObserver(),this.removeScrollEventListener(),this.rootElement=void 0},t.prototype.processResponsiveness=function(e,n,i){var o=e<n,l=this.isMobile!==o;this.setIsMobile(o),this.layoutElements.forEach(function(d){return d.processResponsiveness&&d.processResponsiveness(e)});var u={height:i,width:e};return this.onResize.fire(this,u),l},t.prototype.triggerResponsiveness=function(e){this.getAllQuestions().forEach(function(n){n.triggerResponsiveness(e)})},t.prototype.destroyResizeObserver=function(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=void 0)},t.prototype.updateQuestionCssClasses=function(e,n){this.onUpdateQuestionCssClasses.fire(this,{question:e,cssClasses:n})},t.prototype.updatePanelCssClasses=function(e,n){this.onUpdatePanelCssClasses.fire(this,{panel:e,cssClasses:n})},t.prototype.updatePageCssClasses=function(e,n){this.onUpdatePageCssClasses.fire(this,{page:e,cssClasses:n})},t.prototype.updateChoiceItemCss=function(e,n){n.question=e,this.onUpdateChoiceItemCss.fire(this,n)},t.prototype.afterRenderPage=function(e){var n=this;if(!this.isDesignMode&&!this.focusingQuestionInfo){var i=this.isCurrentPageRendered===!1;setTimeout(function(){return n.scrollToTopOnPageChange(i)},1)}this.focusQuestionInfo(),this.isCurrentPageRendered=!0,!this.onAfterRenderPage.isEmpty&&this.onAfterRenderPage.fire(this,{page:this.activePage,htmlElement:e})},t.prototype.afterRenderHeader=function(e){this.onAfterRenderHeader.isEmpty||this.onAfterRenderHeader.fire(this,{htmlElement:e})},t.prototype.afterRenderQuestion=function(e,n){this.onAfterRenderQuestion.fire(this,{question:e,htmlElement:n})},t.prototype.afterRenderQuestionInput=function(e,n){if(!this.onAfterRenderQuestionInput.isEmpty){var i=e.inputId,o=R.environment.root;if(i&&n.id!==i&&typeof o<"u"){var l=o.getElementById(i);l&&(n=l)}this.onAfterRenderQuestionInput.fire(this,{question:e,htmlElement:n})}},t.prototype.afterRenderPanel=function(e,n){this.onAfterRenderPanel.fire(this,{panel:e,htmlElement:n})},t.prototype.whenQuestionFocusIn=function(e){this.onFocusInQuestion.fire(this,{question:e})},t.prototype.whenPanelFocusIn=function(e){this.onFocusInPanel.fire(this,{panel:e})},t.prototype.rebuildQuestionChoices=function(){this.getAllQuestions().forEach(function(e){return e.surveyChoiceItemVisibilityChange()})},t.prototype.canChangeChoiceItemsVisibility=function(){return!this.onShowingChoiceItem.isEmpty},t.prototype.getChoiceItemVisibility=function(e,n,i){var o={question:e,item:n,visible:i};return this.onShowingChoiceItem.fire(this,o),o.visible},t.prototype.loadQuestionChoices=function(e){this.onChoicesLazyLoad.fire(this,e)},t.prototype.getChoiceDisplayValue=function(e){this.onGetChoiceDisplayValue.isEmpty?e.setItems(null):this.onGetChoiceDisplayValue.fire(this,e)},t.prototype.matrixBeforeRowAdded=function(e){this.onMatrixRowAdding.fire(this,e)},t.prototype.matrixRowAdded=function(e,n){this.onMatrixRowAdded.fire(this,{question:e,row:n})},t.prototype.matrixColumnAdded=function(e,n){this.onMatrixColumnAdded.fire(this,{question:e,column:n})},t.prototype.multipleTextItemAdded=function(e,n){this.onMultipleTextItemAdded.fire(this,{question:e,item:n})},t.prototype.getQuestionByValueNameFromArray=function(e,n,i){var o=this.getQuestionsByValueName(e);if(o){for(var l=0;l<o.length;l++){var u=o[l].getQuestionFromArray(n,i);if(u)return u}return null}},t.prototype.matrixRowRemoved=function(e,n,i){this.onMatrixRowRemoved.fire(this,{question:e,rowIndex:n,row:i})},t.prototype.matrixRowRemoving=function(e,n,i){var o={question:e,rowIndex:n,row:i,allow:!0};return this.onMatrixRowRemoving.fire(this,o),o.allow},t.prototype.matrixAllowRemoveRow=function(e,n,i){var o={question:e,rowIndex:n,row:i,allow:!0};return this.onMatrixRenderRemoveButton.fire(this,o),o.allow},t.prototype.matrixDetailPanelVisibleChanged=function(e,n,i,o){var l={question:e,rowIndex:n,row:i,visible:o,detailPanel:i.detailPanel};this.onMatrixDetailPanelVisibleChanged.fire(this,l)},t.prototype.matrixCellCreating=function(e,n){n.question=e,this.onMatrixCellCreating.fire(this,n)},t.prototype.matrixCellCreated=function(e,n){n.question=e,this.onMatrixCellCreated.fire(this,n)},t.prototype.matrixAfterCellRender=function(e,n){n.question=e,this.onAfterRenderMatrixCell.fire(this,n)},t.prototype.matrixCellValueChanged=function(e,n){n.question=e,this.onMatrixCellValueChanged.fire(this,n)},t.prototype.matrixCellValueChanging=function(e,n){n.question=e,this.onMatrixCellValueChanging.fire(this,n)},Object.defineProperty(t.prototype,"isValidateOnValueChanging",{get:function(){return this.checkErrorsMode==="onValueChanging"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isValidateOnValueChanged",{get:function(){return this.checkErrorsMode==="onValueChanged"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isValidateOnValueChange",{get:function(){return this.isValidateOnValueChanged||this.isValidateOnValueChanging},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isValidateOnComplete",{get:function(){return this.checkErrorsMode==="onComplete"||this.validationAllowSwitchPages&&!this.validationAllowComplete},enumerable:!1,configurable:!0}),t.prototype.matrixCellValidate=function(e,n){return n.question=e,this.onMatrixCellValidate.fire(this,n),n.error?new ht(n.error,this):null},t.prototype.dynamicPanelAdded=function(e,n,i){if(!this.isLoadingFromJson&&this.hasQuestionVisibleIndeces(e,!0)&&this.updateVisibleIndexes(e.page),!this.onDynamicPanelAdded.isEmpty){var o=e.panels;n===void 0&&(n=o.length-1,i=o[n]),this.onDynamicPanelAdded.fire(this,{question:e,panel:i,panelIndex:n})}},t.prototype.dynamicPanelRemoved=function(e,n,i){for(var o=i?i.questions:[],l=0;l<o.length;l++)o[l].clearOnDeletingContainer();this.hasQuestionVisibleIndeces(e,!1)&&this.updateVisibleIndexes(e.page),this.onDynamicPanelRemoved.fire(this,{question:e,panelIndex:n,panel:i})},t.prototype.hasQuestionVisibleIndeces=function(e,n){n&&e.setVisibleIndex(this.getStartVisibleIndex());for(var i=e.getNestedQuestions(!0),o=0;o<i.length;o++)if(i[o].visibleIndex>-1)return!0;return!1},t.prototype.dynamicPanelRemoving=function(e,n,i){var o={question:e,panelIndex:n,panel:i,allow:!0};return this.onDynamicPanelRemoving.fire(this,o),o.allow},t.prototype.dynamicPanelItemValueChanged=function(e,n){n.question=e,n.panelIndex=n.itemIndex,n.panelData=n.itemValue,this.onDynamicPanelItemValueChanged.fire(this,n)},t.prototype.dynamicPanelGetTabTitle=function(e,n){n.question=e,this.onGetDynamicPanelTabTitle.fire(this,n)},t.prototype.dynamicPanelCurrentIndexChanged=function(e,n){n.question=e,this.onDynamicPanelCurrentIndexChanged.fire(this,n)},t.prototype.dragAndDropAllow=function(e){return this.onDragDropAllow.fire(this,e),e.allow},t.prototype.elementContentVisibilityChanged=function(e){this.currentPage&&this.currentPage.ensureRowsVisibility(),this.onElementContentVisibilityChanged.fire(this,{element:e})},t.prototype.getUpdatedPanelFooterActions=function(e,n,i){var o={question:i,panel:e,actions:n};return this.onGetPanelFooterActions.fire(this,o),o.actions},t.prototype.getUpdatedElementTitleActions=function(e,n){return e.isPage?this.getUpdatedPageTitleActions(e,n):e.isPanel?this.getUpdatedPanelTitleActions(e,n):this.getUpdatedQuestionTitleActions(e,n)},t.prototype.getTitleActionsResult=function(e,n){return e!=n.actions?n.actions:e!=n.titleActions?n.titleActions:e},t.prototype.getUpdatedQuestionTitleActions=function(e,n){var i={question:e,actions:n,titleActions:n};return this.onGetQuestionTitleActions.fire(this,i),this.getTitleActionsResult(n,i)},t.prototype.getUpdatedPanelTitleActions=function(e,n){var i={panel:e,actions:n,titleActions:n};return this.onGetPanelTitleActions.fire(this,i),this.getTitleActionsResult(n,i)},t.prototype.getUpdatedPageTitleActions=function(e,n){var i={page:e,actions:n,titleActions:n};return this.onGetPageTitleActions.fire(this,i),this.getTitleActionsResult(n,i)},t.prototype.getUpdatedMatrixRowActions=function(e,n,i){var o={question:e,actions:i,row:n};return this.onGetMatrixRowActions.fire(this,o),o.actions},t.prototype.scrollElementToTop=function(e,n,i,o,l,u,d,m){var w=this,E={element:e,question:n,page:i,elementId:o,cancel:!1,allow:!0};if(this.onScrollToTop.fire(this,E),!E.cancel&&E.allow){var A=this.getPageByElement(e);if(this.isLazyRendering&&A){var U=1,W=R.environment.rootElement,se=this.rootElement||d||W;this.skeletonHeight&&se&&typeof se.getBoundingClientRect=="function"&&(U=se.getBoundingClientRect().height/this.skeletonHeight-1),A.forceRenderElement(e,function(){w.suspendLazyRendering(),et.ScrollElementToTop(E.elementId,l,u,function(){w.releaseLazyRendering(),zr(A.id),m&&m()})},U)}else if(e.isPage&&!this.isSinglePage&&!this.isDesignMode&&this.rootElement){var ie=this.rootElement.querySelector(ct(this.css.rootWrapper));et.ScrollElementToViewCore(ie,!1,l,u,m)}else et.ScrollElementToTop(E.elementId,l,u,m)}},t.prototype.chooseFiles=function(e,n,i){this.onOpenFileChooser.isEmpty?Ea(e,n):this.onOpenFileChooser.fire(this,{input:e,element:i&&i.element||this.survey,elementType:i&&i.elementType,item:i&&i.item,propertyName:i&&i.propertyName,callback:n,context:i})},t.prototype.uploadFiles=function(e,n,i,o){var l=this;this.onUploadFiles.isEmpty?o("error",this.getLocString("noUploadFilesHandler")):this.taskManager.runTask("file",function(u){l.onUploadFiles.fire(l,{question:e,name:n,files:i||[],callback:function(d,m){o(d,m),u()}})}),this.surveyPostId&&this.uploadFilesCore(n,i,o)},t.prototype.downloadFile=function(e,n,i,o){this.onDownloadFile.isEmpty&&o&&o("skipped",i.content||i),this.onDownloadFile.fire(this,{question:e,name:n,content:i.content||i,fileValue:i,callback:o})},t.prototype.clearFiles=function(e,n,i,o,l){this.onClearFiles.isEmpty&&l&&l("success",i),this.onClearFiles.fire(this,{question:e,name:n,value:i,fileName:o,callback:l})},t.prototype.updateChoicesFromServer=function(e,n,i){var o={question:e,choices:n,serverResult:i};return this.onLoadChoicesFromServer.fire(this,o),o.choices},t.prototype.loadedChoicesFromServer=function(e){this.locStrsChanged()},t.prototype.createSurveyService=function(){return new ll},t.prototype.uploadFilesCore=function(e,n,i){var o=this,l=[];n.forEach(function(u){i&&i("uploading",u),o.createSurveyService().sendFile(o.surveyPostId,u,function(d,m){d?(l.push({content:m,file:u}),l.length===n.length&&i&&i("success",l)):i&&i("error",{response:m,file:u})})})},t.prototype.getPage=function(e){return this.pages[e]},t.prototype.addPage=function(e,n){n===void 0&&(n=-1),e!=null&&(n<0||n>=this.pages.length?this.pages.push(e):this.pages.splice(n,0,e))},t.prototype.addNewPage=function(e,n){e===void 0&&(e=null),n===void 0&&(n=-1);var i=this.createNewPage(e);return this.addPage(i,n),i},t.prototype.removePage=function(e){var n=this.pages.indexOf(e);n<0||(this.pages.splice(n,1),this.currentPage==e&&(this.currentPage=this.pages.length>0?this.pages[0]:null))},t.prototype.getQuestionByName=function(e,n){if(n===void 0&&(n=!1),!e)return null;n&&(e=e.toLowerCase());var i=n?this.questionHashes.namesInsensitive:this.questionHashes.names,o=i[e];return o?o[0]:null},t.prototype.findQuestionByName=function(e){return this.getQuestionByName(e)},t.prototype.getEditingSurveyElement=function(){return this.editingObjValue},t.prototype.getQuestionByValueName=function(e,n){n===void 0&&(n=!1);var i=this.getQuestionsByValueName(e,n);return i?i[0]:null},t.prototype.getQuestionsByValueName=function(e,n){n===void 0&&(n=!1);var i=n?this.questionHashes.valueNamesInsensitive:this.questionHashes.valueNames,o=i[e];return o||null},t.prototype.getCalculatedValueByName=function(e){for(var n=0;n<this.calculatedValues.length;n++)if(e==this.calculatedValues[n].name)return this.calculatedValues[n];return null},t.prototype.getQuestionsByNames=function(e,n){n===void 0&&(n=!1);var i=[];if(!e)return i;for(var o=0;o<e.length;o++)if(e[o]){var l=this.getQuestionByName(e[o],n);l&&i.push(l)}return i},t.prototype.getPageByElement=function(e){for(var n=0;n<this.pages.length;n++){var i=this.pages[n];if(i.containsElement(e))return i}return null},t.prototype.getPageByQuestion=function(e){return this.getPageByElement(e)},t.prototype.getPageByName=function(e){for(var n=0;n<this.pages.length;n++)if(this.pages[n].name==e)return this.pages[n];return null},t.prototype.getPagesByNames=function(e){var n=[];if(!e)return n;for(var i=0;i<e.length;i++)if(e[i]){var o=this.getPageByName(e[i]);o&&n.push(o)}return n},t.prototype.getAllQuestions=function(e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1),i===void 0&&(i=!1),i&&(n=!1);for(var o=[],l=0;l<this.pages.length;l++)this.pages[l].addQuestionsToList(o,e,n);if(!i)return o;var u=[];return o.forEach(function(d){u.push(d),d.getNestedQuestions(e).forEach(function(m){return u.push(m)})}),u},t.prototype.getQuizQuestions=function(){for(var e=new Array,n=this.getPageStartIndex(),i=n;i<this.pages.length;i++)if(this.pages[i].isVisible)for(var o=this.pages[i].questions,l=0;l<o.length;l++){var u=o[l];u.quizQuestionCount>0&&e.push(u)}return e},t.prototype.getPanelByName=function(e,n){n===void 0&&(n=!1);var i=this.getAllPanels();n&&(e=e.toLowerCase());for(var o=0;o<i.length;o++){var l=i[o].name;if(n&&(l=l.toLowerCase()),l==e)return i[o]}return null},t.prototype.getAllPanels=function(e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);for(var i=new Array,o=0;o<this.pages.length;o++)this.pages[o].addPanelsIntoList(i,e,n);return i},t.prototype.createNewPage=function(e){var n=L.createClass("page");return n.name=e,n},t.prototype.getValueChangeReason=function(){return this.isSettingValueOnExpression?"expression":this.isSettingValueFromTrigger?"trigger":void 0},t.prototype.questionOnValueChanging=function(e,n,i){if(this.editingObj){var o=L.findProperty(this.editingObj.getType(),e);o&&(n=o.settingValue(this.editingObj,n))}if(this.onValueChanging.isEmpty)return n;var l={name:e,question:this.getQuestionByValueName(i||e),value:this.getUnbindValue(n),oldValue:this.getValue(e),reason:this.getValueChangeReason()};return this.onValueChanging.fire(this,l),l.value},t.prototype.updateQuestionValue=function(e,n){if(!this.isLoadingFromJson){var i=this.getQuestionsByValueName(e);if(i)for(var o=0;o<i.length;o++){var l=i[o].value;(l===n&&Array.isArray(l)&&this.editingObj||!this.isTwoValueEquals(l,n))&&i[o].updateValueFromSurvey(n,!1)}}},t.prototype.checkQuestionErrorOnValueChanged=function(e){!this.isNavigationButtonPressed&&(this.isValidateOnValueChanged||e.getAllErrors().length>0)&&this.checkQuestionErrorOnValueChangedCore(e)},t.prototype.checkQuestionErrorOnValueChangedCore=function(e){var n=e.getAllErrors().length,i=!e.validate(!0,{isOnValueChanged:!this.isValidateOnValueChanging});return e.page&&this.isValidateOnValueChange&&(n>0||e.getAllErrors().length>0)&&this.fireValidatedErrorsOnPage(e.page),i},t.prototype.checkErrorsOnValueChanging=function(e,n){if(this.isLoadingFromJson)return!1;var i=this.getQuestionsByValueName(e);if(!i)return!1;for(var o=!1,l=0;l<i.length;l++){var u=i[l];this.isTwoValueEquals(u.valueForSurvey,n)||(u.value=n),this.checkQuestionErrorOnValueChangedCore(u)&&(o=!0),o=o||u.errors.length>0}return o},t.prototype.fireOnValueChanged=function(e,n,i){this.onValueChanged.fire(this,{name:e,question:i,value:n,reason:this.getValueChangeReason()})},t.prototype.notifyQuestionOnValueChanged=function(e,n,i){if(!this.isLoadingFromJson){var o=this.getQuestionsByValueName(e);if(o)for(var l=0;l<o.length;l++){var u=o[l];this.checkQuestionErrorOnValueChanged(u),u.onSurveyValueChanged(n)}this.fireOnValueChanged(e,n,i?this.getQuestionByName(i):void 0),!this.isDisposed&&(this.checkElementsBindings(e,n),this.notifyElementsOnAnyValueOrVariableChanged(e,i))}},t.prototype.checkElementsBindings=function(e,n){this.isRunningElementsBindings=!0;for(var i=0;i<this.pages.length;i++)this.pages[i].checkBindings(e,n);this.isRunningElementsBindings=!1,this.updateVisibleIndexAfterBindings&&(this.updateVisibleIndexes(),this.updateVisibleIndexAfterBindings=!1)},t.prototype.notifyElementsOnAnyValueOrVariableChanged=function(e,n){if(this.isEndLoadingFromJson!=="processing"){if(this.isRunningConditions){this.conditionNotifyElementsOnAnyValueOrVariableChanged=!0;return}for(var i=0;i<this.pages.length;i++)this.pages[i].onAnyValueChanged(e,n);this.isEndLoadingFromJson||this.locStrsChanged()}},t.prototype.updateAllQuestionsValue=function(e){for(var n=this.getAllQuestions(),i=0;i<n.length;i++){var o=n[i],l=o.getValueName();o.updateValueFromSurvey(this.getValue(l),e),o.requireUpdateCommentValue&&o.updateCommentFromSurvey(this.getComment(l))}},t.prototype.notifyAllQuestionsOnValueChanged=function(){for(var e=this.getAllQuestions(),n=0;n<e.length;n++)e[n].onSurveyValueChanged(this.getValue(e[n].getValueName()))},t.prototype.checkOnPageTriggers=function(e){for(var n=this.getCurrentPageQuestions(!0),i={},o=0;o<n.length;o++){var l=n[o],u=l.getValueName();i[u]=this.getValue(u)}this.addCalculatedValuesIntoFilteredValues(i),this.checkTriggers(i,!0,e)},t.prototype.getCurrentPageQuestions=function(e){e===void 0&&(e=!1);var n=[],i=this.currentPage;if(!i)return n;for(var o=0;o<i.questions.length;o++){var l=i.questions[o];!e&&!l.visible||!l.name||n.push(l)}return n},t.prototype.checkTriggers=function(e,n,i,o){if(i===void 0&&(i=!1),!(this.isCompleted||this.triggers.length==0||this.isDisplayMode)){if(this.isTriggerIsRunning){this.triggerValues=this.getFilteredValues();for(var l in e)this.triggerKeys[l]=e[l];return}var u=!1;if(!i&&o&&this.hasRequiredValidQuestionTrigger){var d=this.getQuestionByValueName(o);u=d&&!d.validate(!1)}this.isTriggerIsRunning=!0,this.triggerKeys=e,this.triggerValues=this.getFilteredValues();for(var m=this.getFilteredProperties(),w=this.canBeCompletedByTrigger,E=0;E<this.triggers.length;E++){var A=this.triggers[E];u&&A.requireValidQuestion||A.checkExpression(n,i,this.triggerKeys,this.triggerValues,m)}w!==this.canBeCompletedByTrigger&&this.updateButtonsVisibility(),this.isTriggerIsRunning=!1}},t.prototype.checkTriggersAndRunConditions=function(e,n,i){var o={};o[e]={newValue:n,oldValue:i},this.runConditionOnValueChanged(e,n),this.checkTriggers(o,!1,!1,e)},Object.defineProperty(t.prototype,"hasRequiredValidQuestionTrigger",{get:function(){for(var e=0;e<this.triggers.length;e++)if(this.triggers[e].requireValidQuestion)return!0;return!1},enumerable:!1,configurable:!0}),t.prototype.doElementsOnLoad=function(){for(var e=0;e<this.pages.length;e++)this.pages[e].onSurveyLoad()},Object.defineProperty(t.prototype,"isRunningConditions",{get:function(){return!!this.conditionValues},enumerable:!1,configurable:!0}),t.prototype.runExpressions=function(){this.runConditions()},t.prototype.runConditions=function(){if(!(this.isCompleted||this.isEndLoadingFromJson==="processing"||this.isRunningConditions)){this.conditionValues=this.getFilteredValues();var e=this.getFilteredProperties(),n=this.pages.indexOf(this.currentPage);this.runConditionsCore(e),this.checkIfNewPagesBecomeVisible(n),this.conditionValues=null,this.isValueChangedOnRunningCondition&&this.conditionRunnerCounter<R.maxConditionRunCountOnValueChanged?(this.isValueChangedOnRunningCondition=!1,this.conditionRunnerCounter++,this.runConditions()):(this.isValueChangedOnRunningCondition=!1,this.conditionRunnerCounter=0,this.conditionUpdateVisibleIndexes&&(this.conditionUpdateVisibleIndexes=!1,this.updateVisibleIndexes()),this.conditionNotifyElementsOnAnyValueOrVariableChanged&&(this.conditionNotifyElementsOnAnyValueOrVariableChanged=!1,this.notifyElementsOnAnyValueOrVariableChanged("")))}},t.prototype.runConditionOnValueChanged=function(e,n){this.isRunningConditions?(this.conditionValues[e]=n,this.questionTriggersKeys&&(this.questionTriggersKeys[e]=n),this.isValueChangedOnRunningCondition=!0):(this.questionTriggersKeys={},this.questionTriggersKeys[e]=n,this.runConditions(),this.runQuestionsTriggers(e,n),this.questionTriggersKeys=void 0)},t.prototype.runConditionsCore=function(e){for(var n=this.pages,i=0;i<this.calculatedValues.length;i++)this.calculatedValues[i].resetCalculation();for(var i=0;i<this.calculatedValues.length;i++)this.calculatedValues[i].doCalculation(this.calculatedValues,this.conditionValues,e);r.prototype.runConditionCore.call(this,this.conditionValues,e);for(var o=0;o<n.length;o++)n[o].runCondition(this.conditionValues,e)},t.prototype.runQuestionsTriggers=function(e,n){var i=this;if(!(this.isDisplayMode||this.isDesignMode)){var o=this.getAllQuestions();o.forEach(function(l){l.runTriggers(e,n,i.questionTriggersKeys)})}},t.prototype.checkIfNewPagesBecomeVisible=function(e){var n=this.pages.indexOf(this.currentPage);if(!(n<=e+1)){for(var i=e+1;i<n;i++)if(this.pages[i].isVisible){this.currentPage=this.pages[i];break}}},t.prototype.sendResult=function(e,n,i){var o=this;if(e===void 0&&(e=null),n===void 0&&(n=null),i===void 0&&(i=!1),!!this.isEditMode&&(i&&this.onPartialSend&&this.onPartialSend.fire(this,null),!e&&this.surveyPostId&&(e=this.surveyPostId),!!e&&(n&&(this.clientId=n),!(i&&!this.clientId)))){var l=this.createSurveyService();l.locale=this.getLocale();var u=this.surveyShowDataSaving||!i&&l.isSurveJSIOService;u&&this.setCompletedState("saving",""),l.sendResult(e,this.data,function(d,m,w){(u||l.isSurveJSIOService)&&(d?o.setCompletedState("success",""):o.setCompletedState("error",m));var E={success:d,response:m,request:w};o.onSendResult.fire(o,E)},this.clientId,i)}},t.prototype.getResult=function(e,n){var i=this;this.createSurveyService().getResult(e,n,function(o,l,u,d){i.onGetResult.fire(i,{success:o,data:l,dataList:u,response:d})})},t.prototype.loadSurveyFromService=function(e,n){e===void 0&&(e=null),n===void 0&&(n=null),e&&(this.surveyId=e),n&&(this.clientId=n);var i=this;this.isLoading=!0,this.onLoadingSurveyFromService(),n?this.createSurveyService().getSurveyJsonAndIsCompleted(this.surveyId,this.clientId,function(o,l,u,d){o&&(i.isCompletedBefore=u=="completed",i.loadSurveyFromServiceJson(l)),i.isLoading=!1}):this.createSurveyService().loadSurvey(this.surveyId,function(o,l,u){o&&i.loadSurveyFromServiceJson(l),i.isLoading=!1})},t.prototype.loadSurveyFromServiceJson=function(e){e&&(this.fromJSON(e),this.notifyAllQuestionsOnValueChanged(),this.onLoadSurveyFromService(),this.onLoadedSurveyFromService.fire(this,{}))},t.prototype.onLoadingSurveyFromService=function(){},t.prototype.onLoadSurveyFromService=function(){},t.prototype.resetVisibleIndexes=function(){for(var e=this.getAllQuestions(!0),n=0;n<e.length;n++)e[n].setVisibleIndex(-1);this.updateVisibleIndexes()},t.prototype.updateVisibleIndexes=function(e){if(!(this.isLoadingFromJson||this.isEndLoadingFromJson)){if(this.isRunningConditions&&this.onQuestionVisibleChanged.isEmpty&&this.onPageVisibleChanged.isEmpty){this.conditionUpdateVisibleIndexes=!0;return}if(this.isRunningElementsBindings){this.updateVisibleIndexAfterBindings=!0;return}this.updatePageVisibleIndexes(),this.updatePageElementsVisibleIndexes(e),this.updateProgressText(!0)}},t.prototype.updatePageElementsVisibleIndexes=function(e){if(this.showQuestionNumbers=="onPage")for(var n=e?[e]:this.visiblePages,i=0;i<n.length;i++)n[i].setVisibleIndex(0);else for(var o=this.getStartVisibleIndex(),l=0;l<this.pages.length;l++)o+=this.pages[l].setVisibleIndex(o)},t.prototype.getStartVisibleIndex=function(){return this.showQuestionNumbers=="on"?0:-1},t.prototype.updatePageVisibleIndexes=function(){this.updateButtonsVisibility();for(var e=0,n=0;n<this.pages.length;n++){var i=this.pages[n],o=i.isVisible&&(n>0||!i.isStartPage);i.visibleIndex=o?e++:-1,i.num=o?i.visibleIndex+1:-1}},t.prototype.fromJSON=function(e,n){if(e){this.questionHashesClear(),this.jsonErrors=null,this.sjsVersion=void 0;var i=new nt;i.toObject(e,this,n),i.errors.length>0&&(this.jsonErrors=i.errors),this.onStateAndCurrentPageChanged(),this.updateState(),this.sjsVersion&&R.version&&D.compareVerions(this.sjsVersion,R.version)>0&&Lt.warn("The version of the survey JSON schema (v"+this.sjsVersion+") is newer than your current Form Library version ("+R.version+"). Please update the Form Library to make sure that all survey features work as expected.")}},t.prototype.startLoadingFromJson=function(e){r.prototype.startLoadingFromJson.call(this,e),e&&e.locale&&(this.locale=e.locale)},t.prototype.setJsonObject=function(e){this.fromJSON(e)},t.prototype.endLoadingFromJson=function(){this.isEndLoadingFromJson="processing",this.onFirstPageIsStartedChanged(),r.prototype.endLoadingFromJson.call(this),this.hasCookie&&(this.isCompletedBefore=!0),this.doElementsOnLoad(),this.onQuestionsOnPageModeChanged("standard"),this.isEndLoadingFromJson="conditions",this.runConditions(),this.notifyElementsOnAnyValueOrVariableChanged(""),this.isEndLoadingFromJson=null,this.updateVisibleIndexes(),this.updateHasLogo(),this.updateRenderBackgroundImage(),this.updateCurrentPage(),this.hasDescription=!!this.description,this.titleIsEmpty=this.locTitle.isEmpty,this.setCalculatedWidthModeUpdater()},t.prototype.updateNavigationCss=function(){this.navigationBar&&(this.updateNavigationBarCss(),this.updateNavigationItemCssCallback&&this.updateNavigationItemCssCallback())},t.prototype.updateNavigationBarCss=function(){var e=this.navigationBar;e.cssClasses=this.css.actionBar,e.containerCss=this.css.footer},t.prototype.createNavigationBar=function(){var e=new Vt;return e.setItems(this.createNavigationActions()),e},t.prototype.createNavigationActions=function(){var e=this,n="sv-nav-btn",i=new Te({id:"sv-nav-start",visible:new qe(function(){return e.isShowStartingPage}),visibleIndex:10,locTitle:this.locStartSurveyText,action:function(){return e.start()},component:n}),o=new Te({id:"sv-nav-prev",visible:new qe(function(){return e.isShowPrevButton}),visibleIndex:20,data:{mouseDown:function(){return e.navigationMouseDown()}},locTitle:this.locPagePrevText,action:function(){return e.performPrevious()},component:n}),l=new Te({id:"sv-nav-next",visible:new qe(function(){return e.isShowNextButton}),visibleIndex:30,data:{mouseDown:function(){return e.nextPageMouseDown()}},locTitle:this.locPageNextText,action:function(){return e.nextPageUIClick()},component:n}),u=new Te({id:"sv-nav-preview",visible:new qe(function(){return e.isPreviewButtonVisible}),visibleIndex:40,data:{mouseDown:function(){return e.navigationMouseDown()}},locTitle:this.locPreviewText,action:function(){return e.showPreview()},component:n}),d=new Te({id:"sv-nav-complete",visible:new qe(function(){return e.isCompleteButtonVisible}),visibleIndex:50,data:{mouseDown:function(){return e.navigationMouseDown()}},locTitle:this.locCompleteText,action:function(){return e.taskManager.waitAndExecute(function(){return e.tryComplete()})},component:n});return this.updateNavigationItemCssCallback=function(){i.innerCss=e.cssNavigationStart,o.innerCss=e.cssNavigationPrev,l.innerCss=e.cssNavigationNext,u.innerCss=e.cssNavigationPreview,d.innerCss=e.cssNavigationComplete},[i,o,l,u,d]},t.prototype.onBeforeRunConstructor=function(){},t.prototype.onBeforeCreating=function(){},t.prototype.onCreating=function(){},t.prototype.getProcessedTextValue=function(e){if(this.getProcessedTextValueCore(e),!this.onProcessTextValue.isEmpty){var n=this.isValueEmpty(e.value);this.onProcessTextValue.fire(this,e),e.isExists=e.isExists||n&&!this.isValueEmpty(e.value)}},t.prototype.getBuiltInVariableValue=function(e){if(e==="pageno"){var n=this.currentPage;return n!=null?this.visiblePages.indexOf(n)+1:0}if(e==="pagecount")return this.visiblePageCount;if(e==="correctedanswers"||e==="correctanswers"||e==="correctedanswercount")return this.getCorrectedAnswerCount();if(e==="incorrectedanswers"||e==="incorrectanswers"||e==="incorrectedanswercount")return this.getInCorrectedAnswerCount();if(e==="questioncount")return this.getQuizQuestionCount()},t.prototype.getProcessedTextValueCore=function(e){var n=e.name.toLocaleLowerCase();if(["no","require","title"].indexOf(n)===-1){var i=this.getBuiltInVariableValue(n);if(i!==void 0){e.isExists=!0,e.value=i;return}if(n==="locale"){e.isExists=!0,e.value=this.locale?this.locale:Ye.defaultLocale;return}var o=this.getVariable(n);if(o!==void 0){e.isExists=!0,e.value=o;return}var l=this.getFirstName(n);if(l){var u=l.useDisplayValuesInDynamicTexts;e.isExists=!0;var d=l.getValueName().toLowerCase();n=d+n.substring(d.length),n=n.toLocaleLowerCase();var m={};m[d]=e.returnDisplayValue&&u?l.getDisplayValue(!1,void 0):l.value,e.value=new lt().getValue(n,m);return}this.getProcessedValuesWithoutQuestion(e)}},t.prototype.getProcessedValuesWithoutQuestion=function(e){var n=this.getValue(e.name);if(n!==void 0){e.isExists=!0,e.value=n;return}var i=new lt,o=i.getFirstName(e.name);if(o!==e.name){var l={},u=this.getValue(o);D.isValueEmpty(u)&&(u=this.getVariable(o)),!D.isValueEmpty(u)&&(l[o]=u,e.value=i.getValue(e.name,l),e.isExists=i.hasValue(e.name,l))}},t.prototype.getFirstName=function(e){e=e.toLowerCase();var n;do n=this.getQuestionByValueName(e,!0),e=this.reduceFirstName(e);while(!n&&e);return n},t.prototype.reduceFirstName=function(e){var n=e.lastIndexOf("."),i=e.lastIndexOf("[");if(n<0&&i<0)return"";var o=Math.max(n,i);return e.substring(0,o)},t.prototype.clearUnusedValues=function(){this.isClearingUnsedValues=!0;for(var e=this.getAllQuestions(),n=0;n<e.length;n++)e[n].clearUnusedValues();this.clearInvisibleQuestionValues(),this.isClearingUnsedValues=!1},t.prototype.hasVisibleQuestionByValueName=function(e){var n=this.getQuestionsByValueName(e);if(!n)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(o.isVisible&&o.isParentVisible&&!o.parentQuestion)return!0}return!1},t.prototype.questionsByValueName=function(e){var n=this.getQuestionsByValueName(e);return n||[]},t.prototype.clearInvisibleQuestionValues=function(){for(var e=this.clearInvisibleValues==="none"?"none":"onComplete",n=this.getAllQuestions(),i=0;i<n.length;i++)n[i].clearValueIfInvisible(e)},t.prototype.getVariable=function(e){if(!e)return null;e=e.toLowerCase();var n=this.variablesHash[e];return this.isValueEmpty(n)&&(e.indexOf(".")>-1||e.indexOf("[")>-1)&&new lt().hasValue(e,this.variablesHash)?new lt().getValue(e,this.variablesHash):n},t.prototype.setVariable=function(e,n){if(e){var i=this.getVariable(e);this.valuesHash&&delete this.valuesHash[e],e=e.toLowerCase(),this.variablesHash[e]=n,this.notifyElementsOnAnyValueOrVariableChanged(e),D.isTwoValueEquals(i,n)||(this.checkTriggersAndRunConditions(e,n,i),this.onVariableChanged.fire(this,{name:e,value:n}))}},t.prototype.getVariableNames=function(){var e=[];for(var n in this.variablesHash)e.push(n);return e},t.prototype.getUnbindValue=function(e){return this.editingObj?e:D.getUnbindValue(e)},t.prototype.getValue=function(e){if(!e||e.length==0)return null;var n=this.getDataValueCore(this.valuesHash,e);return this.getUnbindValue(n)},t.prototype.setValue=function(e,n,i,o,l){i===void 0&&(i=!1),o===void 0&&(o=!0);var u=n;if(o&&(u=this.questionOnValueChanging(e,n)),!(this.isValidateOnValueChanging&&this.checkErrorsOnValueChanging(e,u))&&!(!this.editingObj&&this.isValueEqual(e,u)&&this.isTwoValueEquals(u,n))){var d=this.getValue(e);this.isValueEmpyOnSetValue(e,u)?this.deleteDataValueCore(this.valuesHash,e):(u=this.getUnbindValue(u),this.setDataValueCore(this.valuesHash,e,u)),this.updateOnSetValue(e,u,d,i,o,l)}},t.prototype.isValueEmpyOnSetValue=function(e,n){return this.isValueEmpty(n,!1)?!this.editingObj||n===null||n===void 0?!0:this.editingObj.getDefaultPropertyValue(e)===n:!1},t.prototype.updateOnSetValue=function(e,n,i,o,l,u){o===void 0&&(o=!1),l===void 0&&(l=!0),this.updateQuestionValue(e,n),!(o===!0||this.isDisposed||this.isRunningElementsBindings)&&(u=u||e,this.checkTriggersAndRunConditions(e,n,i),l&&this.notifyQuestionOnValueChanged(e,n,u),o!=="text"&&this.tryGoNextPageAutomatic(e))},t.prototype.isValueEqual=function(e,n){(n===""||n===void 0)&&(n=null);var i=this.getValue(e);return(i===""||i===void 0)&&(i=null),n===null||i===null?n===i:this.isTwoValueEquals(n,i)},t.prototype.doOnPageAdded=function(e){if(e.setSurveyImpl(this),e.name||(e.name=this.generateNewName(this.pages,"page")),this.questionHashesPanelAdded(e),this.updateVisibleIndexes(),!this.runningPages){this.isLoadingFromJson||(this.updateProgressText(),this.updateCurrentPage());var n={page:e};this.onPageAdded.fire(this,n)}},t.prototype.doOnPageRemoved=function(e){e.setSurveyImpl(null),!this.runningPages&&(e===this.currentPage&&this.updateCurrentPage(),this.updateVisibleIndexes(),this.updateProgressText(),this.updateLazyRenderingRowsOnRemovingElements())},t.prototype.generateNewName=function(e,n){for(var i={},o=0;o<e.length;o++)i[e[o].name]=!0;for(var l=1;i[n+l];)l++;return n+l},t.prototype.tryGoNextPageAutomatic=function(e){var n=this;if(!(this.isEndLoadingFromJson||!this.goNextPageAutomatic||!this.currentPage)){var i=this.getQuestionByValueName(e);if(!(!i||i&&(!i.visible||!i.supportGoNextPageAutomatic()))&&!(!i.validate(!1)&&!i.supportGoNextPageError())){if(this.currentSingleQuestion){var o=this.currentSingleQuestion,l=function(){o===n.currentSingleQuestion&&(n.isLastElement?n.allowCompleteSurveyAutomatic&&n.tryCompleteOrShowPreview():n.performNext())};Kt.safeTimeOut(l,R.autoAdvanceDelay)}var u=this.getCurrentPageQuestions();if(!(u.indexOf(i)<0)){for(var d=0;d<u.length;d++)if(u[d].hasInput&&u[d].isEmpty())return;if(!(this.isLastPage&&(this.goNextPageAutomatic!==!0||!this.allowCompleteSurveyAutomatic))&&!this.checkIsCurrentPageHasErrors(!1)){var m=this.currentPage,w=function(){m===n.currentPage&&(n.isLastPage?n.tryCompleteOrShowPreview():n.nextPage())};Kt.safeTimeOut(w,R.autoAdvanceDelay)}}}}},t.prototype.tryCompleteOrShowPreview=function(){this.isShowPreviewBeforeComplete?this.showPreview():this.tryComplete()},t.prototype.getComment=function(e){var n=this.getValue(e+this.commentSuffix);return n||""},t.prototype.setComment=function(e,n,i){if(i===void 0&&(i=!1),n||(n=""),!this.isTwoValueEquals(n,this.getComment(e))){var o=e+this.commentSuffix;n=this.questionOnValueChanging(o,n,e),this.isValueEmpty(n)?this.deleteDataValueCore(this.valuesHash,o):this.setDataValueCore(this.valuesHash,o,n);var l=this.getQuestionsByValueName(e);if(l)for(var u=0;u<l.length;u++)l[u].updateCommentFromSurvey(n),this.checkQuestionErrorOnValueChanged(l[u]);i||this.checkTriggersAndRunConditions(e,this.getValue(e),void 0),i!=="text"&&this.tryGoNextPageAutomatic(e);var d=this.getQuestionByValueName(e);d&&(this.fireOnValueChanged(o,n,d),d.comment=n,d.comment!=n&&(d.comment=n))}},t.prototype.clearValue=function(e){this.setValue(e,null),this.setComment(e,null)},Object.defineProperty(t.prototype,"clearValueOnDisableItems",{get:function(){return this.getPropertyValue("clearValueOnDisableItems",!1)},set:function(e){this.setPropertyValue("clearValueOnDisableItems",e)},enumerable:!1,configurable:!0}),t.prototype.getQuestionClearIfInvisible=function(e){return this.isShowingPreview||this.runningPages?"none":e!=="default"?e:this.clearInvisibleValues},t.prototype.questionVisibilityChanged=function(e,n,i){i&&this.updateVisibleIndexes(e.page),this.onQuestionVisibleChanged.fire(this,{question:e,name:e.name,visible:n})},t.prototype.pageVisibilityChanged=function(e,n){this.isLoadingFromJson||((n&&!this.currentPage||e===this.currentPage)&&this.updateCurrentPage(),this.updateVisibleIndexes(),this.onPageVisibleChanged.fire(this,{page:e,visible:n}))},t.prototype.panelVisibilityChanged=function(e,n){this.updateVisibleIndexes(e.page),this.onPanelVisibleChanged.fire(this,{panel:e,visible:n})},t.prototype.questionCreated=function(e){this.onQuestionCreated.fire(this,{question:e})},t.prototype.questionAdded=function(e,n,i,o){e.name||(e.name=this.generateNewName(this.getAllQuestions(!1,!0),"question")),e.page&&this.questionHashesAdded(e),this.isLoadingFromJson||(this.currentPage||this.updateCurrentPage(),this.updateVisibleIndexes(e.page),this.setCalculatedWidthModeUpdater()),this.canFireAddElement()&&this.onQuestionAdded.fire(this,{question:e,name:e.name,index:n,parent:i,page:o,parentPanel:i,rootPanel:o})},t.prototype.canFireAddElement=function(){return!this.isMovingQuestion||this.isDesignMode&&!R.supportCreatorV2},t.prototype.questionRemoved=function(e){this.questionHashesRemoved(e,e.name,e.getValueName()),this.updateVisibleIndexes(e.page),this.onQuestionRemoved.fire(this,{question:e,name:e.name}),this.updateLazyRenderingRowsOnRemovingElements()},t.prototype.questionRenamed=function(e,n,i){this.questionHashesRemoved(e,n,i),this.questionHashesAdded(e)},t.prototype.questionHashesClear=function(){this.questionHashes.names={},this.questionHashes.namesInsensitive={},this.questionHashes.valueNames={},this.questionHashes.valueNamesInsensitive={}},t.prototype.questionHashesPanelAdded=function(e){if(!this.isLoadingFromJson)for(var n=e.questions,i=0;i<n.length;i++)this.questionHashesAdded(n[i])},t.prototype.questionHashesAdded=function(e){this.questionHashAddedCore(this.questionHashes.names,e,e.name),this.questionHashAddedCore(this.questionHashes.namesInsensitive,e,e.name.toLowerCase()),this.questionHashAddedCore(this.questionHashes.valueNames,e,e.getValueName()),this.questionHashAddedCore(this.questionHashes.valueNamesInsensitive,e,e.getValueName().toLowerCase())},t.prototype.questionHashesRemoved=function(e,n,i){n&&(this.questionHashRemovedCore(this.questionHashes.names,e,n),this.questionHashRemovedCore(this.questionHashes.namesInsensitive,e,n.toLowerCase())),i&&(this.questionHashRemovedCore(this.questionHashes.valueNames,e,i),this.questionHashRemovedCore(this.questionHashes.valueNamesInsensitive,e,i.toLowerCase()))},t.prototype.questionHashAddedCore=function(e,n,i){var o=e[i];if(o){var o=e[i];o.indexOf(n)<0&&o.push(n)}else e[i]=[n]},t.prototype.questionHashRemovedCore=function(e,n,i){var o=e[i];if(o){var l=o.indexOf(n);l>-1&&o.splice(l,1),o.length==0&&delete e[i]}},t.prototype.panelAdded=function(e,n,i,o){e.name||(e.name=this.generateNewName(this.getAllPanels(!1,!0),"panel")),this.questionHashesPanelAdded(e),this.updateVisibleIndexes(e.page),this.canFireAddElement()&&this.onPanelAdded.fire(this,{panel:e,name:e.name,index:n,parent:i,page:o,parentPanel:i,rootPanel:o})},t.prototype.panelRemoved=function(e){this.updateVisibleIndexes(e.page),this.onPanelRemoved.fire(this,{panel:e,name:e.name}),this.updateLazyRenderingRowsOnRemovingElements()},t.prototype.validateQuestion=function(e){if(this.onValidateQuestion.isEmpty)return null;var n={name:e.name,question:e,value:e.value,error:null};return this.onValidateQuestion.fire(this,n),n.error?new ht(n.error,this):null},t.prototype.validatePanel=function(e){if(this.onValidatePanel.isEmpty)return null;var n={name:e.name,panel:e,error:null};return this.onValidatePanel.fire(this,n),n.error?new ht(n.error,this):null},t.prototype.processHtml=function(e,n){n||(n="");var i={html:e,reason:n};return this.onProcessHtml.fire(this,i),this.processText(i.html,!0)},t.prototype.processText=function(e,n){return this.processTextEx({text:e,returnDisplayValue:n,doEncoding:!1}).text},t.prototype.processTextEx=function(e){var n=e.doEncoding===void 0?R.web.encodeUrlParams:e.doEncoding,i=e.text;(e.runAtDesign||!this.isDesignMode)&&(i=this.textPreProcessor.process(i,e.returnDisplayValue===!0,n));var o={text:i,hasAllValuesOnLastRun:!0};return o.hasAllValuesOnLastRun=this.textPreProcessor.hasAllValuesOnLastRun,o},Object.defineProperty(t.prototype,"textPreProcessor",{get:function(){var e=this;return this.textPreProcessorValue||(this.textPreProcessorValue=new so,this.textPreProcessorValue.onProcess=function(n){e.getProcessedTextValue(n)}),this.textPreProcessorValue},enumerable:!1,configurable:!0}),t.prototype.getSurveyMarkdownHtml=function(e,n,i){var o={element:e,text:n,name:i,html:null};return this.onTextMarkdown.fire(this,o),o.html},t.prototype.getCorrectedAnswerCount=function(){return this.getCorrectAnswerCount()},t.prototype.getCorrectAnswerCount=function(){return this.getCorrectedAnswerCountCore(!0)},t.prototype.getQuizQuestionCount=function(){for(var e=this.getQuizQuestions(),n=0,i=0;i<e.length;i++)n+=e[i].quizQuestionCount;return n},t.prototype.getInCorrectedAnswerCount=function(){return this.getIncorrectAnswerCount()},t.prototype.getInCorrectAnswerCount=function(){return this.getIncorrectAnswerCount()},t.prototype.getIncorrectAnswerCount=function(){return this.getCorrectedAnswerCountCore(!1)},t.prototype.onCorrectQuestionAnswer=function(e,n){this.onIsAnswerCorrect.isEmpty||(n.question=e,this.onIsAnswerCorrect.fire(this,n))},t.prototype.getCorrectedAnswerCountCore=function(e){for(var n=this.getQuizQuestions(),i=0,o=0;o<n.length;o++){var l=n[o],u=l.correctAnswerCount;e?i+=u:i+=l.quizQuestionCount-u}return i},t.prototype.getCorrectedAnswers=function(){return this.getCorrectedAnswerCount()},t.prototype.getInCorrectedAnswers=function(){return this.getInCorrectedAnswerCount()},Object.defineProperty(t.prototype,"showTimerPanel",{get:function(){return this.showTimer?this.timerLocation:"none"},set:function(e){this.showTimer=e!=="none",this.showTimer&&(this.timerLocation=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showTimer",{get:function(){return this.getPropertyValue("showTimer")},set:function(e){this.setPropertyValue("showTimer",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timerLocation",{get:function(){return this.getPropertyValue("timerLocation")},set:function(e){this.setPropertyValue("timerLocation",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isTimerPanelShowingOnTop",{get:function(){return this.showTimer&&this.timerLocation==="top"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isTimerPanelShowingOnBottom",{get:function(){return this.showTimer&&this.timerLocation==="bottom"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timerInfoMode",{get:function(){return this.getTimerInfoVal(this.getPropertyValue("timerInfoMode"))},set:function(e){this.setPropertyValue("timerInfoMode",e)},enumerable:!1,configurable:!0}),t.prototype.getTimerInfoVal=function(e){return e==="all"?"combined":e},Object.defineProperty(t.prototype,"showTimerPanelMode",{get:function(){var e=this.timerInfoMode;return e==="combined"?"all":e},set:function(e){this.timerInfoMode=this.getTimerInfoVal(e)},enumerable:!1,configurable:!0}),t.prototype.updateGridColumns=function(){this.pages.forEach(function(e){return e.updateGridColumns()})},Object.defineProperty(t.prototype,"widthMode",{get:function(){return this.getPropertyValue("widthMode")},set:function(e){this.setPropertyValue("widthMode",e)},enumerable:!1,configurable:!0}),t.prototype.setCalculatedWidthModeUpdater=function(){var e=this;this.isLoadingFromJson||(this.calculatedWidthModeUpdater&&this.calculatedWidthModeUpdater.dispose(),this.calculatedWidthModeUpdater=new qe(function(){return e.calculateWidthMode()}),this.calculatedWidthMode=this.calculatedWidthModeUpdater)},t.prototype.calculateWidthMode=function(){if(this.widthMode=="auto"){var e=!1;return this.pages.forEach(function(n){n.needResponsiveWidth()&&(e=!0)}),e?"responsive":"static"}return this.widthMode},Object.defineProperty(t.prototype,"width",{get:function(){return this.getPropertyValue("width")},set:function(e){this.setPropertyValue("width",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedWidth",{get:function(){var e=this.getPropertyValue("calculatedWidthMode")=="static",n=this.getPropertyValue("width");if(this.isScaled&&this.responsiveStartWidth>1){var i=this.responsiveStartWidth;try{n=n||this.staticStartWidth,i=isNaN(n)?parseFloat(n.toString().replace("px","")):n}catch{}return(e?i:this.responsiveStartWidth)*this.widthScale/100+"px"}return n&&!isNaN(n)&&(n=n+"px"),e&&n||void 0},enumerable:!1,configurable:!0}),t.prototype.setStaticStartWidth=function(e){this.staticStartWidth=e},t.prototype.setResponsiveStartWidth=function(e){this.responsiveStartWidth=e},Object.defineProperty(t.prototype,"isScaled",{get:function(){return Math.abs(this.widthScale-100)>.001},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timerInfo",{get:function(){return this.getTimerInfo()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timerClock",{get:function(){var e,n;if(this.currentPage){var i=this.getTimerInfo(),o=i.spent,l=i.limit,u=i.minorSpent,d=i.minorLimit;l>0?e=this.getDisplayClockTime(l-o):e=this.getDisplayClockTime(o),u!==void 0&&(d>0?n=this.getDisplayClockTime(d-u):n=this.getDisplayClockTime(u))}return{majorText:e,minorText:n}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timerInfoText",{get:function(){var e={text:this.getTimerInfoText()};this.onTimerPanelInfoText.fire(this,e);var n=new bt(this,!0);return n.text=e.text,n.textOrHtml},enumerable:!1,configurable:!0}),t.prototype.getTimerInfo=function(){var e=this.currentPage;if(!e)return{spent:0,limit:0};var n=e.timeSpent,i=this.timeSpent,o=e.getMaxTimeToFinish(),l=this.timeLimit;return this.timerInfoMode=="page"?{spent:n,limit:o}:this.timerInfoMode=="survey"?{spent:i,limit:l}:o>0&&l>0?{spent:n,limit:o,minorSpent:i,minorLimit:l}:o>0?{spent:n,limit:o,minorSpent:i}:l>0?{spent:i,limit:l,minorSpent:n}:{spent:n,minorSpent:i}},t.prototype.getTimerInfoText=function(){var e=this.currentPage;if(!e)return"";var n=this.getDisplayTime(e.timeSpent),i=this.getDisplayTime(this.timeSpent),o=e.getMaxTimeToFinish(),l=this.getDisplayTime(o),u=this.getDisplayTime(this.timeLimit);if(this.timerInfoMode=="page")return this.getTimerInfoPageText(e,n,l);if(this.timerInfoMode=="survey")return this.getTimerInfoSurveyText(i,u);if(this.timerInfoMode=="combined"){if(o<=0&&this.timeLimit<=0)return this.getLocalizationFormatString("timerSpentAll",n,i);if(o>0&&this.timeLimit>0)return this.getLocalizationFormatString("timerLimitAll",n,l,i,u);var d=this.getTimerInfoPageText(e,n,l),m=this.getTimerInfoSurveyText(i,u);return d+" "+m}return""},t.prototype.getTimerInfoPageText=function(e,n,i){return e&&e.getMaxTimeToFinish()>0?this.getLocalizationFormatString("timerLimitPage",n,i):this.getLocalizationFormatString("timerSpentPage",n,i)},t.prototype.getTimerInfoSurveyText=function(e,n){var i=this.timeLimit>0?"timerLimitSurvey":"timerSpentSurvey";return this.getLocalizationFormatString(i,e,n)},t.prototype.getDisplayClockTime=function(e){e<0&&(e=0);var n=Math.floor(e/60),i=e%60,o=i.toString();return i<10&&(o="0"+o),n+":"+o},t.prototype.getDisplayTime=function(e){var n=Math.floor(e/60),i=e%60,o="";return n>0&&(o+=n+" "+this.getLocalizationString("timerMin")),o&&i==0?o:(o&&(o+=" "),o+i+" "+this.getLocalizationString("timerSec"))},Object.defineProperty(t.prototype,"timerModel",{get:function(){return this.timerModelValue},enumerable:!1,configurable:!0}),t.prototype.startTimer=function(){this.isEditMode&&this.timerModel.start()},t.prototype.startTimerFromUI=function(){this.showTimer&&this.state==="running"&&this.startTimer()},t.prototype.stopTimer=function(){this.timerModel.stop()},Object.defineProperty(t.prototype,"timeSpent",{get:function(){return this.timerModel.spent},set:function(e){this.timerModel.spent=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeLimit",{get:function(){return this.getPropertyValue("timeLimit",0)},set:function(e){this.setPropertyValue("timeLimit",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxTimeToFinish",{get:function(){return this.timeLimit},set:function(e){this.timeLimit=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeLimitPerPage",{get:function(){return this.getPropertyValue("timeLimitPerPage",0)},set:function(e){this.setPropertyValue("timeLimitPerPage",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxTimeToFinishPage",{get:function(){return this.timeLimitPerPage},set:function(e){this.timeLimitPerPage=e},enumerable:!1,configurable:!0}),t.prototype.doTimer=function(e){if(this.onTimerTick.fire(this,{}),this.timeLimit>0&&this.timeLimit<=this.timeSpent&&(this.timeSpent=this.timeLimit,this.tryComplete()),e){var n=e.getMaxTimeToFinish();n>0&&n==e.timeSpent&&(this.isLastPage?this.tryComplete():this.nextPage())}},Object.defineProperty(t.prototype,"inSurvey",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.getSurveyData=function(){return this},t.prototype.getSurvey=function(){return this},t.prototype.getTextProcessor=function(){return this},t.prototype.getObjects=function(e,n){var i=[];return Array.prototype.push.apply(i,this.getPagesByNames(e)),Array.prototype.push.apply(i,this.getQuestionsByNames(n)),i},t.prototype.setTriggerValue=function(e,n,i){if(e)if(i)this.setVariable(e,n);else{var o=this.getQuestionByName(e);if(this.startSetValueFromTrigger(),o)o.value=n;else{var l=new lt,u=l.getFirstName(e);if(u==e)this.setValue(e,n);else{if(!this.getQuestionByName(u))return;var d=this.getUnbindValue(this.getFilteredValues());l.setValue(d,e,n),this.setValue(u,d[u])}}this.finishSetValueFromTrigger()}},t.prototype.copyTriggerValue=function(e,n,i){if(!(!e||!n)){var o;if(i)o=this.processText("{"+n+"}",!0);else{var l=new lt;o=l.getValue(n,this.getFilteredValues())}this.setTriggerValue(e,o,!1)}},t.prototype.triggerExecuted=function(e){this.onTriggerExecuted.fire(this,{trigger:e})},Object.defineProperty(t.prototype,"isSettingValueFromTrigger",{get:function(){return this.setValueFromTriggerCounter>0},enumerable:!1,configurable:!0}),t.prototype.startSetValueFromTrigger=function(){this.setValueFromTriggerCounter++},t.prototype.finishSetValueFromTrigger=function(){this.setValueFromTriggerCounter--},t.prototype.startMovingQuestion=function(){this.isMovingQuestion=!0},t.prototype.stopMovingQuestion=function(){this.isMovingQuestion=!1},Object.defineProperty(t.prototype,"isQuestionDragging",{get:function(){return this.isMovingQuestion},enumerable:!1,configurable:!0}),t.prototype.focusQuestion=function(e){return this.focusQuestionByInstance(this.getQuestionByName(e,!0))},t.prototype.focusQuestionByInstance=function(e,n){var i;if(n===void 0&&(n=!1),!e||!e.isVisible||!e.page)return!1;var o=(i=this.focusingQuestionInfo)===null||i===void 0?void 0:i.question;if(o===e)return!1;this.focusingQuestionInfo={question:e,onError:n},this.skippedPages.push({from:this.currentPage,to:e.page});var l=this.activePage!==e.page&&!e.page.isStartPage;return l&&(this.currentPage=e.page,this.isSingleVisibleQuestion&&!this.isDesignMode&&(this.currentSingleQuestion=e)),l||this.focusQuestionInfo(),!0},t.prototype.focusQuestionInfo=function(){var e,n=(e=this.focusingQuestionInfo)===null||e===void 0?void 0:e.question;n&&!n.isDisposed&&n.focus(this.focusingQuestionInfo.onError),this.focusingQuestionInfo=void 0},t.prototype.questionEditFinishCallback=function(e,n){var i=this.enterKeyAction||R.enterKeyAction;if(i=="loseFocus"&&n.target.blur(),i=="moveToNextEditor"){var o=this.currentPage.questions,l=o.indexOf(e);l>-1&&l<o.length-1?o[l+1].focus():n.target.blur()}},t.prototype.elementWrapperComponentNameCore=function(e,n,i,o,l){if(this.onElementWrapperComponentName.isEmpty)return e;var u={componentName:e,element:n,wrapperName:i,reason:o,item:l};return this.onElementWrapperComponentName.fire(this,u),u.componentName},t.prototype.elementWrapperDataCore=function(e,n,i,o,l){if(this.onElementWrapperComponentData.isEmpty)return e;var u={data:e,element:n,wrapperName:i,reason:o,item:l};return this.onElementWrapperComponentData.fire(this,u),u.data},t.prototype.getElementWrapperComponentName=function(e,n){var i=n==="logo-image"?"sv-logo-image":t.TemplateRendererComponentName;return this.elementWrapperComponentNameCore(i,e,"component",n)},t.prototype.getQuestionContentWrapperComponentName=function(e){return this.elementWrapperComponentNameCore(t.TemplateRendererComponentName,e,"content-component")},t.prototype.getRowWrapperComponentName=function(e){return this.elementWrapperComponentNameCore(t.TemplateRendererComponentName,e,"row")},t.prototype.getItemValueWrapperComponentName=function(e,n){return this.elementWrapperComponentNameCore(t.TemplateRendererComponentName,n,"itemvalue",void 0,e)},t.prototype.getElementWrapperComponentData=function(e,n){return this.elementWrapperDataCore(e,e,"component",n)},t.prototype.getRowWrapperComponentData=function(e){return this.elementWrapperDataCore(e,e,"row")},t.prototype.getItemValueWrapperComponentData=function(e,n){return this.elementWrapperDataCore(e,n,"itemvalue",void 0,e)},t.prototype.getMatrixCellTemplateData=function(e){var n=e.question;return this.elementWrapperDataCore(n,n,"cell")},t.prototype.searchText=function(e){e&&(e=e.toLowerCase());for(var n=[],i=0;i<this.pages.length;i++)this.pages[i].searchText(e,n);return n},t.prototype.getSkeletonComponentName=function(e){return this.skeletonComponentName},t.prototype.addLayoutElement=function(e){var n=this.removeLayoutElement(e.id);return this.layoutElements.push(e),n},t.prototype.findLayoutElement=function(e){var n=this.layoutElements.filter(function(i){return i.id===e})[0];return n},t.prototype.removeLayoutElement=function(e){var n=this.findLayoutElement(e);if(n){var i=this.layoutElements.indexOf(n);this.layoutElements.splice(i,1)}return n},t.prototype.getContainerContent=function(e){for(var n=[],i=0,o=this.layoutElements;i<o.length;i++){var l=o[i];if(this.mode!=="display"&&Xt(l.id,"timerpanel"))e==="header"&&this.isTimerPanelShowingOnTop&&!this.isShowStartingPage&&n.push(l),e==="footer"&&this.isTimerPanelShowingOnBottom&&!this.isShowStartingPage&&n.push(l);else if(this.state==="running"&&Xt(l.id,this.progressBarComponentName)){if(this.questionsOnPageMode!="singlePage"||this.progressBarType=="questions"){var u=this.findLayoutElement("advanced-header"),d=u&&u.data,m=!d||d.hasBackground;Xt(this.showProgressBar,"aboveHeader")&&(m=!1),Xt(this.showProgressBar,"belowHeader")&&(m=!0),e==="header"&&!m&&(l.index=-150,this.isShowProgressBarOnTop&&!this.isShowStartingPage&&n.push(l)),e==="center"&&m&&(l.index&&delete l.index,this.isShowProgressBarOnTop&&!this.isShowStartingPage&&n.push(l)),e==="footer"&&this.isShowProgressBarOnBottom&&!this.isShowStartingPage&&n.push(l)}}else Xt(l.id,"buttons-navigation")?(e==="contentTop"&&["top","both"].indexOf(this.isNavigationButtonsShowing)!==-1&&n.push(l),e==="contentBottom"&&["bottom","both"].indexOf(this.isNavigationButtonsShowing)!==-1&&n.push(l)):this.state==="running"&&Xt(l.id,"toc-navigation")&&this.showTOC?(e==="left"&&["left","both"].indexOf(this.tocLocation)!==-1&&n.push(l),e==="right"&&["right","both"].indexOf(this.tocLocation)!==-1&&n.push(l)):Xt(l.id,"advanced-header")?(this.state==="running"||this.state==="starting"||this.showHeaderOnCompletePage===!0&&this.state==="completed")&&l.container===e&&n.push(l):(Array.isArray(l.container)&&l.container.indexOf(e)!==-1||l.container===e)&&n.push(l)}return n.sort(function(w,E){return(w.index||0)-(E.index||0)}),n},t.prototype.processPopupVisiblityChanged=function(e,n,i){this.onPopupVisibleChanged.fire(this,{question:e,popup:n,visible:i})},t.prototype.processOpenDropdownMenu=function(e,n){var i=Object.assign({question:e},n);this.onOpenDropdownMenu.fire(this,i),n.menuType=i.menuType},t.prototype.getCssTitleExpandableSvg=function(){return null},t.prototype.applyTheme=function(e){var n=this;if(e){if(Object.keys(e).forEach(function(o){o!=="header"&&(o==="isPanelless"?n.isCompact=e[o]:n[o]=e[o])}),this.headerView==="advanced"||"header"in e){this.removeLayoutElement("advanced-header");var i=new Ki;i.fromTheme(e),this.insertAdvancedHeader(i)}this.themeChanged(e)}},t.prototype.themeChanged=function(e){this.getAllQuestions().forEach(function(n){return n.themeChanged(e)})},t.prototype.dispose=function(){if(this.unConnectEditingObj(),this.removeScrollEventListener(),this.destroyResizeObserver(),this.rootElement=void 0,this.layoutElements){for(var e=0;e<this.layoutElements.length;e++)this.layoutElements[e].data&&this.layoutElements[e].data!==this&&this.layoutElements[e].data.dispose&&this.layoutElements[e].data.dispose();this.layoutElements.splice(0,this.layoutElements.length)}if(r.prototype.dispose.call(this),this.editingObj=null,!!this.pages){this.currentPage=null;for(var e=0;e<this.pages.length;e++)this.pages[e].setSurveyImpl(void 0),this.pages[e].dispose();this.pages.splice(0,this.pages.length),this.disposeCallback&&this.disposeCallback()}},t.prototype._isElementShouldBeSticky=function(e){if(!e)return!1;var n=this.rootElement.querySelector(e);return n?this.rootElement.scrollTop>0&&n.getBoundingClientRect().y<=this.rootElement.getBoundingClientRect().y:!1},t.prototype.onScroll=function(){this.rootElement&&(this._isElementShouldBeSticky(".sv-components-container-center")?this.rootElement.classList&&this.rootElement.classList.add("sv-root--sticky-top"):this.rootElement.classList&&this.rootElement.classList.remove("sv-root--sticky-top")),this.onScrollCallback&&this.onScrollCallback()},t.prototype.addScrollEventListener=function(){var e=this,n;this.scrollHandler=function(){e.onScroll()},this.rootElement.addEventListener("scroll",this.scrollHandler),this.rootElement.getElementsByTagName("form")[0]&&this.rootElement.getElementsByTagName("form")[0].addEventListener("scroll",this.scrollHandler),this.css.rootWrapper&&((n=this.rootElement.getElementsByClassName(this.css.rootWrapper)[0])===null||n===void 0||n.addEventListener("scroll",this.scrollHandler))},t.prototype.removeScrollEventListener=function(){var e;this.rootElement&&this.scrollHandler&&(this.rootElement.removeEventListener("scroll",this.scrollHandler),this.rootElement.getElementsByTagName("form")[0]&&this.rootElement.getElementsByTagName("form")[0].removeEventListener("scroll",this.scrollHandler),this.css.rootWrapper&&((e=this.rootElement.getElementsByClassName(this.css.rootWrapper)[0])===null||e===void 0||e.removeEventListener("scroll",this.scrollHandler)))},t.TemplateRendererComponentName="sv-template-renderer",t.platform="unknown",Re([V()],t.prototype,"completedCss",void 0),Re([V()],t.prototype,"completedBeforeCss",void 0),Re([V()],t.prototype,"loadingBodyCss",void 0),Re([V()],t.prototype,"containerCss",void 0),Re([V({onSet:function(e,n){n.updateCss()}})],t.prototype,"fitToContainer",void 0),Re([V({onSet:function(e,n){if(e==="advanced"){var i=n.findLayoutElement("advanced-header");if(!i){var o=new Ki;o.logoPositionX=n.logoPosition==="right"?"right":"left",o.logoPositionY="middle",o.titlePositionX=n.logoPosition==="right"?"left":"right",o.titlePositionY="middle",o.descriptionPositionX=n.logoPosition==="right"?"left":"right",o.descriptionPositionY="middle",n.insertAdvancedHeader(o)}}else n.removeLayoutElement("advanced-header")}})],t.prototype,"headerView",void 0),Re([V()],t.prototype,"showBrandInfo",void 0),Re([V()],t.prototype,"enterKeyAction",void 0),Re([V()],t.prototype,"lazyRenderingFirstBatchSizeValue",void 0),Re([V({defaultValue:!0})],t.prototype,"titleIsEmpty",void 0),Re([V({defaultValue:{}})],t.prototype,"cssVariables",void 0),Re([V()],t.prototype,"_isMobile",void 0),Re([V()],t.prototype,"_isCompact",void 0),Re([V({onSet:function(e,n){n.updateCss()}})],t.prototype,"backgroundImage",void 0),Re([V()],t.prototype,"renderBackgroundImage",void 0),Re([V()],t.prototype,"backgroundImageFit",void 0),Re([V({onSet:function(e,n){n.updateCss()}})],t.prototype,"backgroundImageAttachment",void 0),Re([V()],t.prototype,"backgroundImageStyle",void 0),Re([V()],t.prototype,"wrapperFormCss",void 0),Re([V({getDefaultValue:function(e){return e.progressBarType==="buttons"}})],t.prototype,"progressBarShowPageTitles",void 0),Re([V()],t.prototype,"progressBarShowPageNumbers",void 0),Re([V()],t.prototype,"progressBarInheritWidthFrom",void 0),Re([V({defaultValue:!0})],t.prototype,"validationEnabled",void 0),Re([V()],t.prototype,"rootCss",void 0),Re([V({onSet:function(e,n){n.updateGridColumns()}})],t.prototype,"gridLayoutEnabled",void 0),Re([V()],t.prototype,"calculatedWidthMode",void 0),Re([V({defaultValue:100,onSet:function(e,n,i){n.pages.forEach(function(o){return o.updateRootStyle()})}})],t.prototype,"widthScale",void 0),Re([V()],t.prototype,"staticStartWidth",void 0),Re([V()],t.prototype,"responsiveStartWidth",void 0),Re([Xe()],t.prototype,"layoutElements",void 0),t}(Li);function Xt(r,t){return!r||!t?!1:r.toUpperCase()===t.toUpperCase()}L.addClass("survey",[{name:"locale",choices:function(){return Ye.getLocales(!0)},onGetValue:function(r){return r.locale==Ye.defaultLocale?null:r.locale}},{name:"title",serializationProperty:"locTitle",dependsOn:"locale"},{name:"description:text",serializationProperty:"locDescription",dependsOn:"locale"},{name:"logo:file",serializationProperty:"locLogo"},{name:"logoWidth",default:"300px",minValue:0},{name:"logoHeight",default:"200px",minValue:0},{name:"logoFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"logoPosition",default:"left",choices:["none","left","right","top","bottom"]},{name:"focusFirstQuestionAutomatic:boolean"},{name:"focusOnFirstError:boolean",default:!0},{name:"completedHtml:html",serializationProperty:"locCompletedHtml"},{name:"completedBeforeHtml:html",serializationProperty:"locCompletedBeforeHtml"},{name:"completedHtmlOnCondition:htmlconditions",className:"htmlconditionitem",isArray:!0},{name:"loadingHtml:html",serializationProperty:"locLoadingHtml"},{name:"pages:surveypages",className:"page",isArray:!0,onSerializeValue:function(r){return r.originalPages||r.pages}},{name:"elements",alternativeName:"questions",baseClassName:"question",visible:!1,isLightSerializable:!1,onGetValue:function(r){return null},onSetValue:function(r,t,e){r.pages.splice(0,r.pages.length);var n=r.addNewPage("");e.toObject({questions:t},n,e?.options)}},{name:"triggers:triggers",baseClassName:"surveytrigger",classNamePart:"trigger"},{name:"calculatedValues:calculatedvalues",className:"calculatedvalue",isArray:!0},{name:"sjsVersion",visible:!1},{name:"surveyId",visible:!1},{name:"surveyPostId",visible:!1},{name:"surveyShowDataSaving:boolean",visible:!1},"cookieName","sendResultOnPageNext:boolean",{name:"showNavigationButtons",default:"bottom",choices:["none","top","bottom","both"]},{name:"showPrevButton:boolean",default:!0,visibleIf:function(r){return r.showNavigationButtons!=="none"}},{name:"showTitle:boolean",default:!0},{name:"showPageTitles:boolean",default:!0},{name:"showCompletedPage:boolean",default:!0},"navigateToUrl",{name:"navigateToUrlOnCondition:urlconditions",className:"urlconditionitem",isArray:!0},{name:"questionsOrder",default:"initial",choices:["initial","random"]},{name:"matrixDragHandleArea",visible:!1,default:"entireItem",choices:["entireItem","icon"]},"showPageNumbers:boolean",{name:"showQuestionNumbers",default:"on",choices:["on","onPage","off"]},{name:"questionTitleLocation",default:"top",choices:["top","bottom","left"]},{name:"questionDescriptionLocation",default:"underTitle",choices:["underInput","underTitle"]},{name:"questionErrorLocation",default:"top",choices:["top","bottom"]},{name:"showProgressBar",default:"off",choices:["off","auto","aboveheader","belowheader","bottom","topbottom"]},{name:"progressBarType",default:"pages",choices:["pages","questions","requiredQuestions","correctQuestions"],visibleIf:function(r){return r.showProgressBar!=="off"}},{name:"progressBarShowPageTitles:switch",category:"navigation",visibleIf:function(r){return r.showProgressBar!=="off"&&r.progressBarType==="pages"}},{name:"progressBarShowPageNumbers:switch",default:!1,category:"navigation",visibleIf:function(r){return r.showProgressBar!=="off"&&r.progressBarType==="pages"}},{name:"progressBarInheritWidthFrom",default:"container",choices:["container","survey"],category:"navigation",visibleIf:function(r){return r.showProgressBar!=="off"&&r.progressBarType==="pages"}},{name:"showTOC:switch",default:!1},{name:"tocLocation",default:"left",choices:["left","right"],dependsOn:["showTOC"],visibleIf:function(r){return!!r&&r.showTOC}},{name:"mode",default:"edit",choices:["edit","display"]},{name:"storeOthersAsComment:boolean",default:!0},{name:"maxTextLength:number",default:0,minValue:0},{name:"maxOthersLength:number",default:0,minValue:0},{name:"goNextPageAutomatic:boolean",onSetValue:function(r,t){t!=="autogonext"&&(t=D.isTwoValueEquals(t,!0)),r.setPropertyValue("goNextPageAutomatic",t)}},{name:"allowCompleteSurveyAutomatic:boolean",default:!0,visibleIf:function(r){return r.goNextPageAutomatic===!0}},{name:"clearInvisibleValues",default:"onComplete",choices:["none","onComplete","onHidden","onHiddenContainer"]},{name:"checkErrorsMode",default:"onNextPage",choices:["onNextPage","onValueChanged","onComplete"]},{name:"validateVisitedEmptyFields:boolean",dependsOn:"checkErrorsMode",visibleIf:function(r){return r.checkErrorsMode==="onValueChanged"}},{name:"textUpdateMode",default:"onBlur",choices:["onBlur","onTyping"]},{name:"autoGrowComment:boolean",default:!1},{name:"allowResizeComment:boolean",default:!0},{name:"commentAreaRows:number",minValue:1},{name:"startSurveyText",serializationProperty:"locStartSurveyText",visibleIf:function(r){return r.firstPageIsStarted}},{name:"pagePrevText",serializationProperty:"locPagePrevText",visibleIf:function(r){return r.showNavigationButtons!=="none"&&r.showPrevButton}},{name:"pageNextText",serializationProperty:"locPageNextText",visibleIf:function(r){return r.showNavigationButtons!=="none"}},{name:"completeText",serializationProperty:"locCompleteText",visibleIf:function(r){return r.showNavigationButtons!=="none"}},{name:"previewText",serializationProperty:"locPreviewText",visibleIf:function(r){return r.showPreviewBeforeComplete!=="noPreview"}},{name:"editText",serializationProperty:"locEditText",visibleIf:function(r){return r.showPreviewBeforeComplete!=="noPreview"}},{name:"requiredText",default:"*"},{name:"questionStartIndex",dependsOn:["showQuestionNumbers"],visibleIf:function(r){return!r||r.showQuestionNumbers!=="off"}},{name:"questionTitlePattern",default:"numTitleRequire",dependsOn:["questionStartIndex","requiredText"],choices:function(r){return r?r.getQuestionTitlePatternOptions():[]}},{name:"questionTitleTemplate",visible:!1,isSerializable:!1,serializationProperty:"locQuestionTitleTemplate"},{name:"firstPageIsStarted:boolean",default:!1},{name:"isSinglePage:boolean",default:!1,visible:!1,isSerializable:!1},{name:"questionsOnPageMode",default:"standard",choices:["standard","singlePage","questionPerPage"]},{name:"showPreviewBeforeComplete",default:"noPreview",choices:["noPreview","showAllQuestions","showAnsweredQuestions"]},{name:"showTimer:boolean"},{name:"timeLimit:number",alternativeName:"maxTimeToFinish",default:0,minValue:0,enableIf:function(r){return r.showTimer}},{name:"timeLimitPerPage:number",alternativeName:"maxTimeToFinishPage",default:0,minValue:0,enableIf:function(r){return r.showTimer}},{name:"timerLocation",default:"top",choices:["top","bottom"],enableIf:function(r){return r.showTimer}},{name:"timerInfoMode",alternativeName:"showTimerPanelMode",default:"combined",choices:["page","survey","combined"],enableIf:function(r){return r.showTimer}},{name:"showTimerPanel",visible:!1,isSerializable:!1},{name:"widthMode",default:"auto",choices:["auto","static","responsive"]},{name:"gridLayoutEnabled:boolean",default:!1},{name:"width",visibleIf:function(r){return r.widthMode==="static"}},{name:"fitToContainer:boolean",default:!0,visible:!1},{name:"headerView",default:"basic",choices:["basic","advanced"],visible:!1},{name:"backgroundImage:file",visible:!1},{name:"backgroundImageFit",default:"cover",choices:["auto","contain","cover"],visible:!1},{name:"backgroundImageAttachment",default:"scroll",choices:["scroll","fixed"],visible:!1},{name:"backgroundOpacity:number",minValue:0,maxValue:1,default:1,visible:!1},{name:"showBrandInfo:boolean",default:!1,visible:!1}]);var xl=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Yi=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Io=function(r){xl(t,r);function t(e){var n=r.call(this,e)||this;n.otherItemValue=new de("other"),n.isSettingDefaultValue=!1,n.isSettingComment=!1,n.isRunningChoices=!1,n.isFirstLoadChoicesFromUrl=!0,n.isUpdatingChoicesDependedQuestions=!1,n._renderedChoices=[],n.renderedChoicesAnimation=new Zt(n.getRenderedChoicesAnimationOptions(),function(o){n._renderedChoices=o,n.renderedChoicesChangedCallback&&n.renderedChoicesChangedCallback()},function(){return n._renderedChoices}),n.headItemsCount=0,n.footItemsCount=0,n.prevIsOtherSelected=!1,n.noneItemValue=n.createDefaultItem(R.noneItemValue,"noneText","noneItemText"),n.refuseItemValue=n.createDefaultItem(R.refuseItemValue,"refuseText","refuseItemText"),n.dontKnowItemValue=n.createDefaultItem(R.dontKnowItemValue,"dontKnowText","dontKnowItemText"),n.createItemValues("choices"),n.registerPropertyChangedHandlers(["choices"],function(){n.filterItems()||n.onVisibleChoicesChanged()}),n.registerPropertyChangedHandlers(["choicesFromQuestion","choicesFromQuestionMode","choiceValuesFromQuestion","choiceTextsFromQuestion","showNoneItem","showRefuseItem","showDontKnowItem","isUsingRestful","isMessagePanelVisible"],function(){n.onVisibleChoicesChanged()}),n.registerPropertyChangedHandlers(["hideIfChoicesEmpty"],function(){n.onVisibleChanged()}),n.createNewArray("visibleChoices",function(){return n.updateRenderedChoices()},function(){return n.updateRenderedChoices()}),n.setNewRestfulProperty();var i=n.createLocalizableString("otherText",n.otherItemValue,!0,"otherItemText");return n.createLocalizableString("otherErrorText",n,!0,"otherRequiredError"),n.otherItemValue.locOwner=n,n.otherItemValue.setLocText(i),n.choicesByUrl.createItemValue=function(o){return n.createItemValue(o)},n.choicesByUrl.beforeSendRequestCallback=function(){n.onBeforeSendRequest()},n.choicesByUrl.getResultCallback=function(o){n.onLoadChoicesFromUrl(o)},n.choicesByUrl.updateResultCallback=function(o,l){return n.survey?n.survey.updateChoicesFromServer(n,o,l):o},n}return Object.defineProperty(t.prototype,"waitingChoicesByURL",{get:function(){return!this.isChoicesLoaded&&this.hasChoicesUrl},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"selectbase"},t.prototype.dispose=function(){r.prototype.dispose.call(this);var e=this.getQuestionWithChoices();e&&e.removeDependedQuestion(this)},Object.defineProperty(t.prototype,"otherTextAreaModel",{get:function(){return this.otherTextAreaModelValue||(this.otherTextAreaModelValue=new qi(this.getOtherTextAreaOptions())),this.otherTextAreaModelValue},enumerable:!1,configurable:!0}),t.prototype.getOtherTextAreaOptions=function(){var e=this,n={question:this,id:function(){return e.otherId},propertyName:"otherValue",className:function(){return e.cssClasses.other},placeholder:function(){return e.otherPlaceholder},isDisabledAttr:function(){return e.isInputReadOnly||!1},rows:function(){return e.commentAreaRows},maxLength:function(){return e.getOthersMaxLength()},autoGrow:function(){return e.survey&&e.survey.autoGrowComment},ariaRequired:function(){return e.ariaRequired||e.a11y_input_ariaRequired},ariaLabel:function(){return e.ariaLabel||e.a11y_input_ariaLabel},getTextValue:function(){return e.otherValue},onTextAreaChange:function(i){e.onOtherValueChange(i)},onTextAreaInput:function(i){e.onOtherValueInput(i)}};return n},t.prototype.resetDependedQuestion=function(){this.choicesFromQuestion=""},Object.defineProperty(t.prototype,"otherId",{get:function(){return this.id+"_other"},enumerable:!1,configurable:!0}),t.prototype.getCommentElementsId=function(){return[this.commentId,this.otherId]},t.prototype.getItemValueType=function(){return"itemvalue"},t.prototype.createItemValue=function(e,n){var i=L.createClass(this.getItemValueType(),{value:e});return i.locOwner=this,n&&(i.text=n),i},Object.defineProperty(t.prototype,"isUsingCarryForward",{get:function(){return!!this.carryForwardQuestionType},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"carryForwardQuestionType",{get:function(){return this.getPropertyValue("carryForwardQuestionType")},enumerable:!1,configurable:!0}),t.prototype.setCarryForwardQuestionType=function(e,n){var i=e?"select":n?"array":void 0;this.setPropertyValue("carryForwardQuestionType",i)},Object.defineProperty(t.prototype,"isUsingRestful",{get:function(){return this.getPropertyValueWithoutDefault("isUsingRestful")||!1},enumerable:!1,configurable:!0}),t.prototype.updateIsUsingRestful=function(){this.setPropertyValueDirectly("isUsingRestful",this.hasChoicesUrl)},t.prototype.supportGoNextPageError=function(){return!this.isOtherSelected||!!this.otherValue},t.prototype.isLayoutTypeSupported=function(e){return!0},t.prototype.localeChanged=function(){r.prototype.localeChanged.call(this),this.choicesOrder!=="none"&&(this.updateVisibleChoices(),this.onVisibleChoicesChanged())},t.prototype.locStrsChanged=function(){r.prototype.locStrsChanged.call(this),this.choicesFromUrl&&(de.locStrsChanged(this.choicesFromUrl),de.locStrsChanged(this.visibleChoices)),this.isUsingCarryForward&&de.locStrsChanged(this.visibleChoices)},t.prototype.updatePrevOtherErrorValue=function(e){var n=this.otherValue;e!==n&&(this.prevOtherErrorValue=n)},Object.defineProperty(t.prototype,"otherValue",{get:function(){return this.showCommentArea?this.otherValueCore:this.comment},set:function(e){this.updatePrevOtherErrorValue(e),this.showCommentArea?this.setOtherValueInternally(e):this.comment=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"otherValueCore",{get:function(){return this.getPropertyValue("otherValue")},set:function(e){this.setPropertyValue("otherValue",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"otherItem",{get:function(){return this.otherItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isOtherSelected",{get:function(){return this.hasOther&&this.getHasOther(this.renderedValue)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNoneSelected",{get:function(){return this.showNoneItem&&this.getIsItemValue(this.renderedValue,this.noneItem)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showNoneItem",{get:function(){return this.getPropertyValue("showNoneItem")},set:function(e){this.setPropertyValue("showNoneItem",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasNone",{get:function(){return this.showNoneItem},set:function(e){this.showNoneItem=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"noneItem",{get:function(){return this.noneItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"noneText",{get:function(){return this.getLocalizableStringText("noneText")},set:function(e){this.setLocalizableStringText("noneText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locNoneText",{get:function(){return this.getLocalizableString("noneText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showRefuseItem",{get:function(){return this.getPropertyValue("showRefuseItem")},set:function(e){this.setPropertyValue("showRefuseItem",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"refuseItem",{get:function(){return this.refuseItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"refuseText",{get:function(){return this.getLocalizableStringText("refuseText")},set:function(e){this.setLocalizableStringText("refuseText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locRefuseText",{get:function(){return this.getLocalizableString("refuseText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showDontKnowItem",{get:function(){return this.getPropertyValue("showDontKnowItem")},set:function(e){this.setPropertyValue("showDontKnowItem",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dontKnowItem",{get:function(){return this.dontKnowItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dontKnowText",{get:function(){return this.getLocalizableStringText("dontKnowText")},set:function(e){this.setLocalizableStringText("dontKnowText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locDontKnowText",{get:function(){return this.getLocalizableString("dontKnowText")},enumerable:!1,configurable:!0}),t.prototype.createDefaultItem=function(e,n,i){var o=new de(e),l=this.createLocalizableString(n,o,!0,i);return o.locOwner=this,o.setLocText(l),o},Object.defineProperty(t.prototype,"choicesVisibleIf",{get:function(){return this.getPropertyValue("choicesVisibleIf","")},set:function(e){this.setPropertyValue("choicesVisibleIf",e),this.filterItems()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"choicesEnableIf",{get:function(){return this.getPropertyValue("choicesEnableIf","")},set:function(e){this.setPropertyValue("choicesEnableIf",e),this.filterItems()},enumerable:!1,configurable:!0}),t.prototype.surveyChoiceItemVisibilityChange=function(){this.filterItems()},t.prototype.runCondition=function(e,n){r.prototype.runCondition.call(this,e,n),this.runItemsEnableCondition(e,n),this.runItemsCondition(e,n),this.choices.forEach(function(i){i.runConditionCore(e,n)})},t.prototype.isTextValue=function(){return!0},t.prototype.setDefaultValue=function(){this.isSettingDefaultValue=!this.isValueEmpty(this.defaultValue)&&this.hasUnknownValue(this.defaultValue),this.prevOtherValue=void 0;var e=this.comment;r.prototype.setDefaultValue.call(this),this.isSettingDefaultValue=!1,this.comment&&this.getStoreOthersAsComment()&&e!==this.comment&&(this.setValueCore(this.setOtherValueIntoValue(this.value)),this.setCommentIntoData(this.comment))},t.prototype.getIsMultipleValue=function(){return!1},t.prototype.convertDefaultValue=function(e){if(e==null||e==null)return e;if(this.getIsMultipleValue()){if(!Array.isArray(e))return[e]}else if(Array.isArray(e)&&e.length>0)return e[0];return e},t.prototype.filterItems=function(){if(this.isLoadingFromJson||!this.data||this.areInvisibleElementsShowing)return!1;var e=this.getDataFilteredValues(),n=this.getDataFilteredProperties();return this.runItemsEnableCondition(e,n),this.runItemsCondition(e,n)},t.prototype.runItemsCondition=function(e,n){this.setConditionalChoicesRunner();var i=this.runConditionsForItems(e,n);return this.filteredChoicesValue&&this.filteredChoicesValue.length===this.activeChoices.length&&(this.filteredChoicesValue=void 0),i&&(this.onVisibleChoicesChanged(),this.clearIncorrectValues()),i},t.prototype.runItemsEnableCondition=function(e,n){var i=this;this.setConditionalEnableChoicesRunner();var o=de.runEnabledConditionsForItems(this.activeChoices,this.conditionChoicesEnableIfRunner,e,n,function(l,u){return u&&i.onEnableItemCallBack(l)});o&&this.clearDisabledValues(),this.onAfterRunItemsEnableCondition()},t.prototype.onAfterRunItemsEnableCondition=function(){},t.prototype.onEnableItemCallBack=function(e){return!0},t.prototype.onSelectedItemValuesChangedHandler=function(e){var n;(n=this.survey)===null||n===void 0||n.loadedChoicesFromServer(this)},t.prototype.getItemIfChoicesNotContainThisValue=function(e,n){return this.waitingChoicesByURL?this.createItemValue(e,n):null},t.prototype.getSingleSelectedItem=function(){var e=this.selectedItemValues;if(this.isEmpty())return null;var n=de.getItemByValue(this.visibleChoices,this.value);return this.onGetSingleSelectedItem(n),!n&&(!e||this.value!=e.id)&&this.updateSelectedItemValues(),n||e||(this.isOtherSelected?this.otherItem:this.getItemIfChoicesNotContainThisValue(this.value))},t.prototype.onGetSingleSelectedItem=function(e){},t.prototype.getMultipleSelectedItems=function(){return[]},t.prototype.setConditionalChoicesRunner=function(){this.choicesVisibleIf?(this.conditionChoicesVisibleIfRunner||(this.conditionChoicesVisibleIfRunner=new rt(this.choicesVisibleIf)),this.conditionChoicesVisibleIfRunner.expression=this.choicesVisibleIf):this.conditionChoicesVisibleIfRunner=null},t.prototype.setConditionalEnableChoicesRunner=function(){this.choicesEnableIf?(this.conditionChoicesEnableIfRunner||(this.conditionChoicesEnableIfRunner=new rt(this.choicesEnableIf)),this.conditionChoicesEnableIfRunner.expression=this.choicesEnableIf):this.conditionChoicesEnableIfRunner=null},t.prototype.canSurveyChangeItemVisibility=function(){return!!this.survey&&this.survey.canChangeChoiceItemsVisibility()},t.prototype.changeItemVisibility=function(){var e=this;return this.canSurveyChangeItemVisibility()?function(n,i){return e.survey.getChoiceItemVisibility(e,n,i)}:null},t.prototype.runConditionsForItems=function(e,n){this.filteredChoicesValue=[];var i=this.changeItemVisibility();return de.runConditionsForItems(this.activeChoices,this.getFilteredChoices(),this.areInvisibleElementsShowing?null:this.conditionChoicesVisibleIfRunner,e,n,!this.survey||!this.survey.areInvisibleElementsShowing,function(o,l){return i?i(o,l):l})},t.prototype.getHasOther=function(e){return this.getIsItemValue(e,this.otherItem)},t.prototype.getIsItemValue=function(e,n){return e===n.value},Object.defineProperty(t.prototype,"validatedValue",{get:function(){return this.rendredValueToDataCore(this.value)},enumerable:!1,configurable:!0}),t.prototype.createRestful=function(){return new bn},t.prototype.setNewRestfulProperty=function(){this.setPropertyValue("choicesByUrl",this.createRestful()),this.choicesByUrl.owner=this,this.choicesByUrl.loadingOwner=this},Object.defineProperty(t.prototype,"autoOtherMode",{get:function(){return this.getPropertyValue("autoOtherMode")},set:function(e){this.setPropertyValue("autoOtherMode",e)},enumerable:!1,configurable:!0}),t.prototype.getQuestionComment=function(){return this.showCommentArea?r.prototype.getQuestionComment.call(this):this.otherValueCore?this.otherValueCore:this.hasComment||this.getStoreOthersAsComment()?r.prototype.getQuestionComment.call(this):this.otherValueCore},t.prototype.selectOtherValueFromComment=function(e){e&&(this.prevIsOtherSelected=!0),this.value=e?this.otherItem.value:void 0},t.prototype.setQuestionComment=function(e){if(this.updatePrevOtherErrorValue(e),this.showCommentArea){r.prototype.setQuestionComment.call(this,e);return}this.onUpdateCommentOnAutoOtherMode(e),this.getStoreOthersAsComment()?r.prototype.setQuestionComment.call(this,e):this.setOtherValueInternally(e),this.updateChoicesDependedQuestions()},t.prototype.onUpdateCommentOnAutoOtherMode=function(e){if(this.autoOtherMode){this.prevOtherValue=void 0;var n=this.isOtherSelected;(!n&&e||n&&!e)&&this.selectOtherValueFromComment(!!e)}},t.prototype.setOtherValueInternally=function(e){!this.isSettingComment&&e!=this.otherValueCore&&(this.isSettingComment=!0,this.otherValueCore=e,this.isOtherSelected&&!this.isRenderedValueSetting&&(this.value=this.rendredValueToData(this.renderedValue)),this.isSettingComment=!1)},t.prototype.clearValue=function(e){r.prototype.clearValue.call(this,e),this.prevOtherValue=void 0,this.selectedItemValues=void 0},t.prototype.updateCommentFromSurvey=function(e){r.prototype.updateCommentFromSurvey.call(this,e),this.prevOtherValue=void 0},Object.defineProperty(t.prototype,"renderedValue",{get:function(){return this.getPropertyValue("renderedValue",null)},set:function(n){if(!this.isReadOnlyAttr){this.setPropertyValue("renderedValue",n);var n=this.rendredValueToData(n);this.isTwoValueEquals(n,this.value)||(this.value=n)}},enumerable:!1,configurable:!0}),t.prototype.setQuestionValue=function(e,n,i){if(n===void 0&&(n=!0),i===void 0&&(i=!0),!(this.isLoadingFromJson||this.isTwoValueEquals(this.value,e))&&(r.prototype.setQuestionValue.call(this,e,n),this.setPropertyValue("renderedValue",this.rendredValueFromData(e)),this.updateChoicesDependedQuestions(),!(this.hasComment||!i))){var o=this.isOtherSelected;if(o&&this.prevOtherValue){var l=this.prevOtherValue;this.prevOtherValue=void 0,this.otherValue=l}!o&&this.otherValue&&(this.getStoreOthersAsComment()&&!this.autoOtherMode&&(this.prevOtherValue=this.otherValue),this.makeCommentEmpty=!0,this.otherValueCore="",this.setPropertyValue("comment",""))}},t.prototype.setValueCore=function(e){r.prototype.setValueCore.call(this,e),this.makeCommentEmpty&&(this.setCommentIntoData(""),this.makeCommentEmpty=!1)},t.prototype.setNewValue=function(e){e=this.valueFromData(e),(!this.choicesByUrl.isRunning&&!this.choicesByUrl.isWaitingForParameters||!this.isValueEmpty(e))&&(this.cachedValueForUrlRequests=e),r.prototype.setNewValue.call(this,e)},t.prototype.valueFromData=function(e){var n=de.getItemByValue(this.activeChoices,e);return n?n.value:r.prototype.valueFromData.call(this,e)},t.prototype.rendredValueFromData=function(e){return this.getStoreOthersAsComment()?e:this.renderedValueFromDataCore(e)},t.prototype.rendredValueToData=function(e){return this.getStoreOthersAsComment()?e:this.rendredValueToDataCore(e)},t.prototype.renderedValueFromDataCore=function(e){return this.hasUnknownValue(e,!0,!1)?(this.otherValue=e,this.otherItem.value):this.valueFromData(e)},t.prototype.rendredValueToDataCore=function(e){return e==this.otherItem.value&&this.needConvertRenderedOtherToDataValue()&&(e=this.otherValue),e},t.prototype.needConvertRenderedOtherToDataValue=function(){var e=this.otherValue;return!e||(e=e.trim(),!e)?!1:this.hasUnknownValue(e,!0,!1)},t.prototype.getIsQuestionReady=function(){return r.prototype.getIsQuestionReady.call(this)&&!this.waitingChoicesByURL&&!this.waitingGetChoiceDisplayValueResponse},t.prototype.updateSelectedItemValues=function(){var e=this;if(!(this.waitingGetChoiceDisplayValueResponse||!this.survey||this.isEmpty())){var n=this.value,i=Array.isArray(n)?n:[n],o=i.some(function(l){return!de.getItemByValue(e.choices,l)});o&&(this.choicesLazyLoadEnabled||this.hasChoicesUrl)&&(this.waitingGetChoiceDisplayValueResponse=!0,this.updateIsReady(),this.survey.getChoiceDisplayValue({question:this,values:i,setItems:function(l){for(var u=[],d=1;d<arguments.length;d++)u[d-1]=arguments[d];if(e.waitingGetChoiceDisplayValueResponse=!1,!l||!l.length){e.updateIsReady();return}var m=l.map(function(w,E){return e.createItemValue(i[E],w)});e.setCustomValuesIntoItems(m,u),Array.isArray(n)?e.selectedItemValues=m:e.selectedItemValues=m[0],e.updateIsReady()}}))}},t.prototype.setCustomValuesIntoItems=function(e,n){!Array.isArray(n)||n.length===0||n.forEach(function(i){var o=i.values,l=i.propertyName;if(Array.isArray(o))for(var u=0;u<e.length&&u<o.length;u++)e[u][l]=o[u]})},t.prototype.hasUnknownValue=function(e,n,i,o){if(n===void 0&&(n=!1),i===void 0&&(i=!0),o===void 0&&(o=!1),!Array.isArray(e))return this.hasUnknownValueItem(e,n,i,o);for(var l=0;l<e.length;l++)if(this.hasUnknownValueItem(e,n,i,o))return!0;return!1},t.prototype.hasUnknownValueItem=function(e,n,i,o){if(n===void 0&&(n=!1),i===void 0&&(i=!0),o===void 0&&(o=!1),!o&&this.isValueEmpty(e)||n&&e==this.otherItem.value||this.showNoneItem&&e==this.noneItem.value||this.showRefuseItem&&e==this.refuseItem.value||this.showDontKnowItem&&e==this.dontKnowItem.value)return!1;var l=i?this.getFilteredChoices():this.activeChoices;return de.getItemByValue(l,e)==null},t.prototype.isValueDisabled=function(e){var n=de.getItemByValue(this.getFilteredChoices(),e);return!!n&&!n.isEnabled},t.prototype.endLoadingFromJson=function(){r.prototype.endLoadingFromJson.call(this),this.updateVisibleChoices()},Object.defineProperty(t.prototype,"choicesByUrl",{get:function(){return this.getPropertyValue("choicesByUrl")},set:function(e){e&&(this.setNewRestfulProperty(),this.choicesByUrl.fromJSON(e.toJSON()))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"choices",{get:function(){return this.getPropertyValue("choices")},set:function(e){this.setPropertyValue("choices",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"choicesFromQuestion",{get:function(){return this.getPropertyValue("choicesFromQuestion")},set:function(e){var n=this.getQuestionWithChoices();this.isLockVisibleChoices=!!n&&n.name===e,n&&n.name!==e&&(n.removeDependedQuestion(this),this.isInDesignMode&&!this.isLoadingFromJson&&e&&this.setPropertyValue("choicesFromQuestion",void 0)),this.setPropertyValue("choicesFromQuestion",e),this.isLockVisibleChoices=!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"choicesFromQuestionMode",{get:function(){return this.getPropertyValue("choicesFromQuestionMode")},set:function(e){this.setPropertyValue("choicesFromQuestionMode",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"choiceValuesFromQuestion",{get:function(){return this.getPropertyValue("choiceValuesFromQuestion")},set:function(e){this.setPropertyValue("choiceValuesFromQuestion",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"choiceTextsFromQuestion",{get:function(){return this.getPropertyValue("choiceTextsFromQuestion")},set:function(e){this.setPropertyValue("choiceTextsFromQuestion",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hideIfChoicesEmpty",{get:function(){return this.getPropertyValue("hideIfChoicesEmpty")},set:function(e){this.setPropertyValue("hideIfChoicesEmpty",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keepIncorrectValues",{get:function(){return this.getPropertyValue("keepIncorrectValues",!1)},set:function(e){this.setPropertyValue("keepIncorrectValues",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storeOthersAsComment",{get:function(){return this.getPropertyValue("storeOthersAsComment")},set:function(e){this.setPropertyValue("storeOthersAsComment",e)},enumerable:!1,configurable:!0}),t.prototype.hasOtherChanged=function(){this.onVisibleChoicesChanged()},Object.defineProperty(t.prototype,"choicesOrder",{get:function(){return this.getPropertyValue("choicesOrder")},set:function(e){e=e.toLowerCase(),e!=this.choicesOrder&&(this.setPropertyValue("choicesOrder",e),this.onVisibleChoicesChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"otherText",{get:function(){return this.getLocalizableStringText("otherText")},set:function(e){this.setLocalizableStringText("otherText",e),this.onVisibleChoicesChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locOtherText",{get:function(){return this.getLocalizableString("otherText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"otherPlaceHolder",{get:function(){return this.otherPlaceholder},set:function(e){this.otherPlaceholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"otherErrorText",{get:function(){return this.getLocalizableStringText("otherErrorText")},set:function(e){this.setLocalizableStringText("otherErrorText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locOtherErrorText",{get:function(){return this.getLocalizableString("otherErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleChoices",{get:function(){return this.getPropertyValue("visibleChoices")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabledChoices",{get:function(){for(var e=[],n=this.visibleChoices,i=0;i<n.length;i++)n[i].isEnabled&&e.push(n[i]);return e},enumerable:!1,configurable:!0}),t.prototype.updateVisibleChoices=function(){if(!(this.isLoadingFromJson||this.isDisposed)){var e=new Array,n=this.calcVisibleChoices();n||(n=[]);for(var i=0;i<n.length;i++)e.push(n[i]);var o=this.visibleChoices;(!this.isTwoValueEquals(o,e)||this.choicesLazyLoadEnabled)&&(this.setArrayPropertyDirectly("visibleChoices",e),this.updateRenderedChoices())}},t.prototype.calcVisibleChoices=function(){if(this.canUseFilteredChoices())return this.getFilteredChoices();var e=this.sortVisibleChoices(this.getFilteredChoices().slice());return this.addToVisibleChoices(e,this.isAddDefaultItems),e},t.prototype.canUseFilteredChoices=function(){return!this.isAddDefaultItems&&!this.showNoneItem&&!this.showRefuseItem&&!this.showDontKnowItem&&!this.hasOther&&this.choicesOrder=="none"},t.prototype.setCanShowOptionItemCallback=function(e){this.canShowOptionItemCallback=e,e&&this.onVisibleChoicesChanged()},Object.defineProperty(t.prototype,"newItem",{get:function(){return this.newItemValue},enumerable:!1,configurable:!0}),t.prototype.addToVisibleChoices=function(e,n){this.headItemsCount=0,this.footItemsCount=0,this.isEmptyActiveChoicesInDesign||this.addNewItemToVisibleChoices(e,n);var i=new Array;this.addNonChoicesItems(i,n),i.sort(function(u,d){return u.index===d.index?0:u.index<d.index?-1:1});for(var o=0;o<i.length;o++){var l=i[o];l.index<0?(e.splice(o,0,l.item),this.headItemsCount++):(e.push(l.item),this.footItemsCount++)}},t.prototype.addNewItemToVisibleChoices=function(e,n){var i=this;n&&(this.newItemValue||(this.newItemValue=this.createItemValue("newitem"),this.newItemValue.isGhost=!0,this.newItemValue.registerFunctionOnPropertyValueChanged("isVisible",function(){i.updateVisibleChoices()})),this.newItemValue.isVisible&&!this.isUsingCarryForward&&this.canShowOptionItem(this.newItemValue,n,!1)&&(this.footItemsCount=1,e.push(this.newItemValue)))},t.prototype.addNonChoicesItems=function(e,n){this.supportNone()&&this.addNonChoiceItem(e,this.noneItem,n,this.showNoneItem,R.specialChoicesOrder.noneItem),this.supportRefuse()&&this.addNonChoiceItem(e,this.refuseItem,n,this.showRefuseItem,R.specialChoicesOrder.refuseItem),this.supportDontKnow()&&this.addNonChoiceItem(e,this.dontKnowItem,n,this.showDontKnowItem,R.specialChoicesOrder.dontKnowItem),this.supportOther()&&this.addNonChoiceItem(e,this.otherItem,n,this.hasOther,R.specialChoicesOrder.otherItem)},t.prototype.addNonChoiceItem=function(e,n,i,o,l){this.canShowOptionItem(n,i,o)&&l.forEach(function(u){return e.push({index:u,item:n})})},t.prototype.canShowOptionItem=function(e,n,i){var o=n&&(this.canShowOptionItemCallback?this.canShowOptionItemCallback(e):!0)||i;if(this.canSurveyChangeItemVisibility()){var l=this.changeItemVisibility();return l(e,o)}return o},t.prototype.isItemInList=function(e){return e===this.otherItem?this.hasOther:e===this.noneItem?this.showNoneItem:e===this.refuseItem?this.showRefuseItem:e===this.dontKnowItem?this.showDontKnowItem:e!==this.newItemValue},Object.defineProperty(t.prototype,"isAddDefaultItems",{get:function(){return R.showDefaultItemsInCreatorV2&&this.isInDesignModeV2&&!this.customWidget},enumerable:!1,configurable:!0}),t.prototype.getPlainData=function(e){var n=this;e===void 0&&(e={includeEmpty:!0,includeQuestionTypes:!1});var i=r.prototype.getPlainData.call(this,e);if(i){var o=Array.isArray(this.value)?this.value:[this.value];i.isNode=!0,i.data=(i.data||[]).concat(o.map(function(l,u){var d=de.getItemByValue(n.visibleChoices,l),m={name:u,title:"Choice",value:l,displayValue:n.getChoicesDisplayValue(n.visibleChoices,l),getString:function(w){return typeof w=="object"?JSON.stringify(w):w},isNode:!1};return d&&(e.calculations||[]).forEach(function(w){m[w.propertyName]=d[w.propertyName]}),n.isOtherSelected&&n.otherItemValue===d&&(m.isOther=!0,m.displayValue=n.otherValue),m}))}return i},t.prototype.getDisplayValueCore=function(e,n){return this.useDisplayValuesInDynamicTexts?this.getChoicesDisplayValue(this.visibleChoices,n):n},t.prototype.getDisplayValueEmpty=function(){return de.getTextOrHtmlByValue(this.visibleChoices,void 0)},t.prototype.getChoicesDisplayValue=function(e,n){if(n==this.otherItemValue.value)return this.otherValue?this.otherValue:this.locOtherText.textOrHtml;var i=this.getSingleSelectedItem();if(i&&this.isTwoValueEquals(i.value,n))return i.locText.textOrHtml;var o=de.getTextOrHtmlByValue(e,n);return o==""&&n?n:o},t.prototype.getDisplayArrayValue=function(e,n,i){for(var o=this,l=this.visibleChoices,u=[],d=[],m=0;m<n.length;m++)d.push(i?i(m):n[m]);if(D.isTwoValueEquals(this.value,d)&&this.getMultipleSelectedItems().forEach(function(E,A){return u.push(o.getItemDisplayValue(E,d[A]))}),u.length===0)for(var m=0;m<d.length;m++){var w=this.getChoicesDisplayValue(l,d[m]);w&&u.push(w)}return u.join(R.choicesSeparator)},t.prototype.getItemDisplayValue=function(e,n){if(e===this.otherItem){if(this.hasOther&&this.showCommentArea&&n)return n;if(this.comment)return this.comment}return e.locText.textOrHtml},t.prototype.getFilteredChoices=function(){return this.filteredChoicesValue?this.filteredChoicesValue:this.activeChoices},Object.defineProperty(t.prototype,"activeChoices",{get:function(){var e=this.getCarryForwardQuestion();return this.carryForwardQuestionType==="select"?(e.addDependedQuestion(this),this.getChoicesFromSelectQuestion(e)):this.carryForwardQuestionType==="array"?(e.addDependedQuestion(this),this.getChoicesFromArrayQuestion(e)):this.isEmptyActiveChoicesInDesign?[]:this.choicesFromUrl?this.choicesFromUrl:this.getChoices()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMessagePanelVisible",{get:function(){return this.getPropertyValue("isMessagePanelVisible",!1)},set:function(e){this.setPropertyValue("isMessagePanelVisible",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEmptyActiveChoicesInDesign",{get:function(){return this.isInDesignModeV2&&(this.hasChoicesUrl||this.isMessagePanelVisible)},enumerable:!1,configurable:!0}),t.prototype.getCarryForwardQuestion=function(e){var n=this.findCarryForwardQuestion(e),i=this.getQuestionWithChoicesCore(n),o=i?null:this.getQuestionWithArrayValue(n);return this.setCarryForwardQuestionType(!!i,!!o),i||o?n:null},t.prototype.getIsReadyDependsOn=function(){var e=r.prototype.getIsReadyDependsOn.call(this);return this.carryForwardQuestion&&e.push(this.carryForwardQuestion),e},t.prototype.getQuestionWithChoices=function(){return this.getQuestionWithChoicesCore(this.findCarryForwardQuestion())},t.prototype.findCarryForwardQuestion=function(e){return e||(e=this.data),this.carryForwardQuestion=null,this.choicesFromQuestion&&e&&(this.carryForwardQuestion=e.findQuestionByName(this.choicesFromQuestion)),this.carryForwardQuestion},t.prototype.getQuestionWithChoicesCore=function(e){return e&&e.visibleChoices&&L.isDescendantOf(e.getType(),"selectbase")&&e!==this?e:null},t.prototype.getQuestionWithArrayValue=function(e){return e&&e.isValueArray?e:null},t.prototype.getChoicesFromArrayQuestion=function(e){if(this.isInDesignMode)return[];var n=e.value;if(!Array.isArray(n))return[];for(var i=[],o=0;o<n.length;o++){var l=n[o];if(D.isValueObject(l)){var u=this.getValueKeyName(l);if(u&&!this.isValueEmpty(l[u])){var d=this.choiceTextsFromQuestion?l[this.choiceTextsFromQuestion]:void 0;i.push(this.createItemValue(l[u],d))}}}return i},t.prototype.getValueKeyName=function(e){if(this.choiceValuesFromQuestion)return this.choiceValuesFromQuestion;var n=Object.keys(e);return n.length>0?n[0]:void 0},t.prototype.getChoicesFromSelectQuestion=function(e){if(this.isInDesignMode)return[];for(var n=[],i=this.choicesFromQuestionMode=="selected"?!0:this.choicesFromQuestionMode=="unselected"?!1:void 0,o=e.visibleChoices,l=0;l<o.length;l++)if(!e.isBuiltInChoice(o[l])){if(i===void 0){n.push(this.copyChoiceItem(o[l]));continue}var u=e.isItemSelected(o[l]);(u&&i||!u&&!i)&&n.push(this.copyChoiceItem(o[l]))}return this.choicesFromQuestionMode==="selected"&&!this.showOtherItem&&e.isOtherSelected&&e.comment&&n.push(this.createItemValue(e.otherItem.value,e.comment)),n},t.prototype.copyChoiceItem=function(e){var n=this.createItemValue(e.value);return n.setData(e),n},Object.defineProperty(t.prototype,"hasActiveChoices",{get:function(){var e=this.visibleChoices;(!e||e.length==0)&&(this.onVisibleChoicesChanged(),e=this.visibleChoices);for(var n=0;n<e.length;n++)if(!this.isBuiltInChoice(e[n]))return!0;return!1},enumerable:!1,configurable:!0}),t.prototype.isBuiltInChoice=function(e){return this.isNoneItem(e)||e===this.otherItem||e===this.newItemValue},t.prototype.isNoneItem=function(e){return this.getNoneItems().indexOf(e)>-1},t.prototype.getNoneItems=function(){return[this.noneItem,this.refuseItem,this.dontKnowItem]},t.prototype.getChoices=function(){return this.choices},t.prototype.supportOther=function(){return this.isSupportProperty("showOtherItem")},t.prototype.supportNone=function(){return this.isSupportProperty("showNoneItem")},t.prototype.supportRefuse=function(){return this.isSupportProperty("showRefuseItem")},t.prototype.supportDontKnow=function(){return this.isSupportProperty("showDontKnowItem")},t.prototype.isSupportProperty=function(e){return!this.isDesignMode||this.getPropertyByName(e).visible},t.prototype.onCheckForErrors=function(e,n,i){var o=this;if(r.prototype.onCheckForErrors.call(this,e,n,i),!(!this.hasOther||!this.isOtherSelected||this.otherValue||n&&!this.prevOtherErrorValue)){var l=new Zd(this.otherErrorText,this);l.onUpdateErrorTextCallback=function(u){u.text=o.otherErrorText},e.push(l)}},t.prototype.setSurveyImpl=function(e,n){this.isRunningChoices=!0,r.prototype.setSurveyImpl.call(this,e,n),this.isRunningChoices=!1,this.runChoicesByUrl(),this.isAddDefaultItems&&this.updateVisibleChoices()},t.prototype.setSurveyCore=function(e){r.prototype.setSurveyCore.call(this,e),e&&this.choicesFromQuestion&&this.onVisibleChoicesChanged()},t.prototype.getStoreOthersAsComment=function(){return this.isSettingDefaultValue||this.showCommentArea?!1:this.storeOthersAsComment===!0||this.storeOthersAsComment=="default"&&(this.survey!=null?this.survey.storeOthersAsComment:!0)||this.hasChoicesUrl&&!this.choicesFromUrl},t.prototype.onSurveyLoad=function(){this.runChoicesByUrl(),this.onVisibleChoicesChanged(),r.prototype.onSurveyLoad.call(this)},t.prototype.onAnyValueChanged=function(e,n){r.prototype.onAnyValueChanged.call(this,e,n),e!=this.getValueName()&&this.runChoicesByUrl();var i=this.choicesFromQuestion;e&&i&&(e===i||n===i)&&this.onVisibleChoicesChanged()},t.prototype.updateValueFromSurvey=function(e,n){var i="";this.hasOther&&!this.isRunningChoices&&!this.choicesByUrl.isRunning&&this.getStoreOthersAsComment()&&(this.hasUnknownValue(e)&&!this.getHasOther(e)?(i=this.getCommentFromValue(e),e=this.setOtherValueIntoValue(e)):this.data&&(i=this.data.getComment(this.getValueName()))),r.prototype.updateValueFromSurvey.call(this,e,n),(this.isRunningChoices||this.choicesByUrl.isRunning)&&!this.isEmpty()&&(this.cachedValueForUrlRequests=this.value),i&&this.setNewComment(i)},t.prototype.getCommentFromValue=function(e){return e},t.prototype.setOtherValueIntoValue=function(e){return this.otherItem.value},t.prototype.onOtherValueInput=function(e){this.isInputTextUpdate?e.target&&(this.otherValue=e.target.value):this.updateCommentElements()},t.prototype.onOtherValueChange=function(e){this.otherValue=e.target.value,this.otherValue!==e.target.value&&(e.target.value=this.otherValue)},t.prototype.runChoicesByUrl=function(){if(this.updateIsUsingRestful(),!(!this.choicesByUrl||this.isLoadingFromJson||this.isRunningChoices||this.isInDesignModeV2)){var e=this.surveyImpl?this.surveyImpl.getTextProcessor():this.textProcessor;e||(e=this.survey),e&&(this.updateIsReady(),this.isRunningChoices=!0,this.choicesByUrl.run(e),this.isRunningChoices=!1)}},t.prototype.onBeforeSendRequest=function(){R.web.disableQuestionWhileLoadingChoices===!0&&!this.isReadOnly&&(this.enableOnLoadingChoices=!0,this.readOnly=!0)},t.prototype.onLoadChoicesFromUrl=function(e){this.enableOnLoadingChoices&&(this.readOnly=!1);var n=[];this.isReadOnly||this.choicesByUrl&&this.choicesByUrl.error&&n.push(this.choicesByUrl.error);var i=null,o=!0;this.isFirstLoadChoicesFromUrl&&!this.cachedValueForUrlRequests&&this.defaultValue&&(this.cachedValueForUrlRequests=this.defaultValue,o=!1),this.isValueEmpty(this.cachedValueForUrlRequests)&&(this.cachedValueForUrlRequests=this.value);var l=this.createCachedValueForUrlRequests(this.cachedValueForUrlRequests,o);if(e&&(e.length>0||this.choicesByUrl.allowEmptyResponse)&&(i=new Array,de.setData(i,e)),i)for(var u=0;u<i.length;u++)i[u].locOwner=this;this.setChoicesFromUrl(i,n,l)},t.prototype.canAvoidSettChoicesFromUrl=function(e){if(this.isFirstLoadChoicesFromUrl)return!1;var n=!e||Array.isArray(e)&&e.length===0;return n&&!this.isEmpty()?!1:D.isTwoValueEquals(this.choicesFromUrl,e)},t.prototype.setChoicesFromUrl=function(e,n,i){if(!this.canAvoidSettChoicesFromUrl(e)){if(this.isFirstLoadChoicesFromUrl=!1,this.choicesFromUrl=e,this.filterItems(),this.onVisibleChoicesChanged(),e){var o=this.updateCachedValueForUrlRequests(i,e);if(o&&!this.isReadOnly){var l=!this.isTwoValueEquals(this.value,o.value);try{this.isValueEmpty(o.value)||(this.allowNotifyValueChanged=!1,this.setQuestionValue(void 0,!0,!1)),this.allowNotifyValueChanged=l,l?this.value=o.value:this.setQuestionValue(o.value)}finally{this.allowNotifyValueChanged=!0}}}!this.isReadOnly&&!e&&!this.isFirstLoadChoicesFromUrl&&(this.value=null),this.errors=n,this.choicesLoaded()}},t.prototype.createCachedValueForUrlRequests=function(e,n){if(this.isValueEmpty(e))return null;if(Array.isArray(e)){for(var i=[],o=0;o<e.length;o++)i.push(this.createCachedValueForUrlRequests(e[o],!0));return i}var l=n?!this.hasUnknownValue(e):!0;return{value:e,isExists:l}},t.prototype.updateCachedValueForUrlRequests=function(e,n){if(this.isValueEmpty(e))return null;if(Array.isArray(e)){for(var i=[],o=0;o<e.length;o++){var l=this.updateCachedValueForUrlRequests(e[o],n);if(l&&!this.isValueEmpty(l.value)){var u=l.value,m=de.getItemByValue(n,l.value);m&&(u=m.value),i.push(u)}}return{value:i}}var d=e.isExists&&this.hasUnknownValue(e.value)?null:e.value,m=de.getItemByValue(n,d);return m&&(d=m.value),{value:d}},t.prototype.updateChoicesDependedQuestions=function(){this.isLoadingFromJson||this.isUpdatingChoicesDependedQuestions||!this.allowNotifyValueChanged||this.choicesByUrl.isRunning||(this.isUpdatingChoicesDependedQuestions=!0,this.updateDependedQuestions(),this.isUpdatingChoicesDependedQuestions=!1)},t.prototype.updateDependedQuestion=function(){this.onVisibleChoicesChanged(),this.clearIncorrectValues()},t.prototype.onSurveyValueChanged=function(e){r.prototype.onSurveyValueChanged.call(this,e),this.updateChoicesDependedQuestions()},t.prototype.onVisibleChoicesChanged=function(){this.isLoadingFromJson||this.isLockVisibleChoices||(this.updateVisibleChoices(),this.onVisibleChanged(),this.visibleChoicesChangedCallback&&this.visibleChoicesChangedCallback(),this.updateChoicesDependedQuestions())},t.prototype.isVisibleCore=function(){var e=r.prototype.isVisibleCore.call(this);if(!this.hideIfChoicesEmpty||!e)return e;var n=this.isUsingCarryForward?this.visibleChoices:this.getFilteredChoices();return!n||n.length>0},t.prototype.sortVisibleChoices=function(e){if(this.isInDesignMode)return e;var n=this.choicesOrder.toLowerCase();return n=="asc"?this.sortArray(e,1):n=="desc"?this.sortArray(e,-1):n=="random"?this.randomizeArray(e):e},t.prototype.sortArray=function(e,n){return e.sort(function(i,o){return D.compareStrings(i.calculatedText,o.calculatedText)*n})},t.prototype.randomizeArray=function(e){return D.randomizeArray(e)},Object.defineProperty(t.prototype,"hasChoicesUrl",{get:function(){return this.choicesByUrl&&!!this.choicesByUrl.url},enumerable:!1,configurable:!0}),t.prototype.clearIncorrectValues=function(){!this.hasValueToClearIncorrectValues()||!this.canClearIncorrectValues()||(this.clearIncorrectValuesCallback?this.clearIncorrectValuesCallback():this.clearIncorrectValuesCore())},t.prototype.canClearIncorrectValues=function(){return!(this.carryForwardQuestion&&!this.carryForwardQuestion.isReady||this.survey&&this.survey.questionsByValueName(this.getValueName()).length>1||this.hasChoicesUrl&&(!this.choicesFromUrl||this.choicesFromUrl.length==0))},t.prototype.hasValueToClearIncorrectValues=function(){return this.survey&&this.survey.keepIncorrectValues?!1:!this.keepIncorrectValues&&!this.isEmpty()},t.prototype.clearValueIfInvisibleCore=function(e){r.prototype.clearValueIfInvisibleCore.call(this,e),this.clearIncorrectValues()},t.prototype.isItemSelected=function(e){return e===this.otherItem?this.isOtherSelected:this.isItemSelectedCore(e)},t.prototype.isItemSelectedCore=function(e){return e.value===this.value},t.prototype.clearDisabledValues=function(){!this.survey||!this.survey.clearValueOnDisableItems||this.clearDisabledValuesCore()},t.prototype.clearIncorrectValuesCore=function(){var e=this.value;this.canClearValueAnUnknown(e)&&this.clearValue(!0)},t.prototype.canClearValueAnUnknown=function(e){return!this.getStoreOthersAsComment()&&this.isOtherSelected?!1:this.hasUnknownValue(e,!0,!0,!0)},t.prototype.clearDisabledValuesCore=function(){this.isValueDisabled(this.value)&&this.clearValue(!0)},t.prototype.clearUnusedValues=function(){r.prototype.clearUnusedValues.call(this),this.isOtherSelected||(this.otherValue=""),!this.showCommentArea&&!this.getStoreOthersAsComment()&&!this.isOtherSelected&&(this.comment="")},t.prototype.getColumnClass=function(){return new F().append(this.cssClasses.column).append("sv-q-column-"+this.colCount,this.hasColumns).toString()},t.prototype.getItemIndex=function(e){return this.visibleChoices.indexOf(e)},t.prototype.getItemClass=function(e){var n={item:e},i=this.getItemClassCore(e,n);return n.css=i,this.survey&&this.survey.updateChoiceItemCss(this,n),n.css},t.prototype.getCurrentColCount=function(){return this.colCount},t.prototype.getItemClassCore=function(e,n){var i=new F().append(this.cssClasses.item).append(this.cssClasses.itemInline,!this.hasColumns&&this.colCount===0).append("sv-q-col-"+this.getCurrentColCount(),!this.hasColumns&&this.colCount!==0).append(this.cssClasses.itemOnError,this.hasCssError()),o=this.getIsDisableAndReadOnlyStyles(!e.isEnabled),l=o[0],u=o[1],d=this.isItemSelected(e)||this.isOtherSelected&&this.otherItem.value===e.value,m=!u&&!d&&!(this.survey&&this.survey.isDesignMode),w=e===this.noneItem;return n.isDisabled=u||l,n.isChecked=d,n.isNone=w,i.append(this.cssClasses.itemDisabled,u).append(this.cssClasses.itemReadOnly,l).append(this.cssClasses.itemPreview,this.isPreviewStyle).append(this.cssClasses.itemChecked,d).append(this.cssClasses.itemHover,m).append(this.cssClasses.itemNone,w).toString()},t.prototype.getLabelClass=function(e){return new F().append(this.cssClasses.label).append(this.cssClasses.labelChecked,this.isItemSelected(e)).toString()},t.prototype.getControlLabelClass=function(e){return new F().append(this.cssClasses.controlLabel).append(this.cssClasses.controlLabelChecked,this.isItemSelected(e)).toString()||void 0},t.prototype.updateRenderedChoices=function(){this.renderedChoices=this.onGetRenderedChoicesCallback?this.onGetRenderedChoicesCallback(this.visibleChoices):this.visibleChoices},t.prototype.getRenderedChoicesAnimationOptions=function(){var e=this;return{isAnimationEnabled:function(){return e.animationAllowed},getRerenderEvent:function(){return e.onElementRerendered},getKey:function(n){return n!=e.newItemValue?n.value:e.newItemValue},getLeaveOptions:function(n){var i=e.cssClasses.itemLeave;if(e.hasColumns){var o=e.bodyItems.indexOf(n);o!==-1&&o!==e.bodyItems.length-1&&(i="")}return{cssClass:i,onBeforeRunAnimation:Tt,onAfterRunAnimation:pt}},getAnimatedElement:function(n){return n.getRootElement()},getEnterOptions:function(n){var i=e.cssClasses.itemEnter;if(e.hasColumns){var o=e.bodyItems.indexOf(n);o!==-1&&o!==e.bodyItems.length-1&&(i="")}return{cssClass:i,onBeforeRunAnimation:function(l){if(e.getCurrentColCount()==0&&e.bodyItems.indexOf(n)>=0){var u=l.parentElement.firstElementChild.offsetLeft;l.offsetLeft>u&&Xn(l,{moveAnimationDuration:"0s",fadeAnimationDelay:"0s"},"--")}Tt(l)},onAfterRunAnimation:pt}}}},Object.defineProperty(t.prototype,"renderedChoices",{get:function(){return this._renderedChoices},set:function(e){this.renderedChoicesAnimation.sync(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headItems",{get:function(){for(var e=this.separateSpecialChoices||this.isInDesignMode?this.headItemsCount:0,n=[],i=0;i<e;i++)this.renderedChoices[i]&&n.push(this.renderedChoices[i]);return n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"footItems",{get:function(){for(var e=this.separateSpecialChoices||this.isInDesignMode?this.footItemsCount:0,n=[],i=this.renderedChoices,o=0;o<e;o++)this.renderedChoices[i.length-e+o]&&n.push(this.renderedChoices[i.length-e+o]);return n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataChoices",{get:function(){var e=this;return this.renderedChoices.filter(function(n){return!e.isBuiltInChoice(n)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bodyItems",{get:function(){return this.hasHeadItems||this.hasFootItems?this.dataChoices:this.renderedChoices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasHeadItems",{get:function(){return this.headItems.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasFootItems",{get:function(){return this.footItems.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){var e=[],n=this.getCurrentColCount();if(this.hasColumns&&this.renderedChoices.length>0){var i=!this.separateSpecialChoices&&!this.isInDesignMode?this.renderedChoices:this.dataChoices;if(R.showItemsInOrder=="column")for(var o=0,l=i.length%n,u=0;u<n;u++){for(var d=[],m=o;m<o+Math.floor(i.length/n);m++)d.push(i[m]);l>0&&(l--,d.push(i[m]),m++),o=m,e.push(d)}else for(var u=0;u<n;u++){for(var d=[],m=u;m<i.length;m+=n)d.push(i[m]);e.push(d)}}return e},enumerable:!1,configurable:!0}),t.prototype.getItemsColumnKey=function(e){return(e||[]).map(function(n){return n.value||""}).join("")},Object.defineProperty(t.prototype,"hasColumns",{get:function(){return!this.isMobile&&this.getCurrentColCount()>1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowLayout",{get:function(){return this.getCurrentColCount()==0&&!(this.hasFootItems||this.hasHeadItems)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blockedRow",{get:function(){return this.getCurrentColCount()==0&&(this.hasFootItems||this.hasHeadItems)},enumerable:!1,configurable:!0}),t.prototype.choicesLoaded=function(){this.isChoicesLoaded=!0,this.updateIsReady(),this.survey&&this.survey.loadedChoicesFromServer(this),this.loadedChoicesFromServerCallback&&this.loadedChoicesFromServerCallback()},t.prototype.getItemValueWrapperComponentName=function(e){var n=this.survey;return n?n.getItemValueWrapperComponentName(e,this):Yt.TemplateRendererComponentName},t.prototype.getItemValueWrapperComponentData=function(e){var n=this.survey;return n?n.getItemValueWrapperComponentData(e,this):e},t.prototype.ariaItemChecked=function(e){return this.renderedValue===e.value?"true":"false"},t.prototype.isOtherItem=function(e){return this.hasOther&&e.value==this.otherItem.value},Object.defineProperty(t.prototype,"itemSvgIcon",{get:function(){return this.isPreviewStyle&&this.cssClasses.itemPreviewSvgIconId?this.cssClasses.itemPreviewSvgIconId:this.cssClasses.itemSvgIconId},enumerable:!1,configurable:!0}),t.prototype.getSelectBaseRootCss=function(){return new F().append(this.getQuestionRootCss()).append(this.cssClasses.rootRow,this.rowLayout).toString()},t.prototype.allowMobileInDesignMode=function(){return!0},t.prototype.getAriaItemLabel=function(e){return e.locText.renderedHtml},t.prototype.getItemId=function(e){return this.inputId+"_"+this.getItemIndex(e)},Object.defineProperty(t.prototype,"questionName",{get:function(){return this.name+"_"+this.id},enumerable:!1,configurable:!0}),t.prototype.getItemEnabled=function(e){return!this.isDisabledAttr&&e.isEnabled},t.prototype.focusOtherComment=function(){var e;et.FocusElement(this.otherId,!1,(e=this.survey)===null||e===void 0?void 0:e.rootElement)},t.prototype.onValueChanged=function(){r.prototype.onValueChanged.call(this),!this.isDesignMode&&!this.prevIsOtherSelected&&this.isOtherSelected&&this.focusOtherComment(),this.prevIsOtherSelected=this.isOtherSelected},t.prototype.getDefaultItemComponent=function(){return""},Object.defineProperty(t.prototype,"itemComponent",{get:function(){return this.getPropertyValue("itemComponent",this.getDefaultItemComponent())},set:function(e){this.setPropertyValue("itemComponent",e)},enumerable:!1,configurable:!0}),Yi([V({onSet:function(e,n){n.onSelectedItemValuesChangedHandler(e)}})],t.prototype,"selectedItemValues",void 0),Yi([V()],t.prototype,"separateSpecialChoices",void 0),Yi([V({localizable:!0})],t.prototype,"otherPlaceholder",void 0),Yi([Xe()],t.prototype,"_renderedChoices",void 0),t}(tt),oi=function(r){xl(t,r);function t(e){return r.call(this,e)||this}return Object.defineProperty(t.prototype,"colCount",{get:function(){return this.getPropertyValue("colCount",this.isFlowLayout?0:void 0)},set:function(e){e<0||e>5||this.isFlowLayout||(this.setPropertyValue("colCount",e),this.fireCallback(this.colCountChangedCallback))},enumerable:!1,configurable:!0}),t.prototype.onParentChanged=function(){r.prototype.onParentChanged.call(this),this.isFlowLayout&&this.setPropertyValue("colCount",null)},t.prototype.onParentQuestionChanged=function(){this.onVisibleChoicesChanged()},t.prototype.getSearchableItemValueKeys=function(e){e.push("choices")},t}(Io);function To(r,t){var e;if(!r)return!1;if(r.templateQuestion){var n=(e=r.colOwner)===null||e===void 0?void 0:e.data;if(r=r.templateQuestion,!r.getCarryForwardQuestion(n))return!1}return r.carryForwardQuestionType===t}L.addClass("selectbase",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},"choicesFromQuestion:question_carryforward",{name:"choices:itemvalue[]",uniqueProperty:"value",baseValue:function(){return Ge("choices_Item")},dependsOn:"choicesFromQuestion",visibleIf:function(r){return!r.choicesFromQuestion}},{name:"choicesFromQuestionMode",default:"all",choices:["all","selected","unselected"],dependsOn:"choicesFromQuestion",visibleIf:function(r){return To(r,"select")}},{name:"choiceValuesFromQuestion",dependsOn:"choicesFromQuestion",visibleIf:function(r){return To(r,"array")}},{name:"choiceTextsFromQuestion",dependsOn:"choicesFromQuestion",visibleIf:function(r){return To(r,"array")}},{name:"choicesOrder",default:"none",choices:["none","asc","desc","random"],dependsOn:"choicesFromQuestion",visibleIf:function(r){return!r.choicesFromQuestion}},{name:"choicesByUrl:restfull",className:"choicesByUrl",onGetValue:function(r){return r.choicesByUrl.getData()},onSetValue:function(r,t){r.choicesByUrl.setData(t)}},"hideIfChoicesEmpty:boolean","choicesVisibleIf:condition",{name:"choicesEnableIf:condition",dependsOn:"choicesFromQuestion",visibleIf:function(r){return!r.choicesFromQuestion}},{name:"defaultValue:value",visibleIf:function(r){return!r.choicesFromQuestion},dependsOn:"choicesFromQuestion"},{name:"correctAnswer:value",visibleIf:function(r){return!r.choicesFromQuestion},dependsOn:"choicesFromQuestion"},{name:"separateSpecialChoices:boolean",visible:!1},{name:"showOtherItem:boolean",alternativeName:"hasOther"},{name:"showNoneItem:boolean",alternativeName:"hasNone"},{name:"showRefuseItem:boolean",visible:!1,version:"1.9.128"},{name:"showDontKnowItem:boolean",visible:!1,version:"1.9.128"},{name:"otherPlaceholder",alternativeName:"otherPlaceHolder",serializationProperty:"locOtherPlaceholder",dependsOn:"showOtherItem",visibleIf:function(r){return r.hasOther}},{name:"noneText",serializationProperty:"locNoneText",dependsOn:"showNoneItem",visibleIf:function(r){return r.showNoneItem}},{name:"refuseText",serializationProperty:"locRefuseText",dependsOn:"showRefuseItem",visibleIf:function(r){return r.showRefuseItem}},{name:"dontKnowText",serializationProperty:"locDontKnowText",dependsOn:"showDontKnowItem",visibleIf:function(r){return r.showDontKnowItem}},{name:"otherText",serializationProperty:"locOtherText",dependsOn:"showOtherItem",visibleIf:function(r){return r.hasOther}},{name:"otherErrorText",serializationProperty:"locOtherErrorText",dependsOn:"showOtherItem",visibleIf:function(r){return r.hasOther}},{name:"storeOthersAsComment",default:"default",choices:["default",!0,!1],visible:!1}],null,"question"),L.addClass("checkboxbase",[{name:"colCount:number",default:1,choices:[0,1,2,3,4,5],layout:"row"}],null,"selectbase");var So=function(){function r(t,e,n,i){this.x=t,this.y=e,this.width=n,this.height=i}return Object.defineProperty(r.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),r}(),xn=function(){function r(){}return r.calculatePosition=function(t,e,n,i,o,l){l===void 0&&(l="flex");var u=t.left,d=t.top;return l==="flex"&&(o=="center"?u=(t.left+t.right-n)/2:o=="left"?u=t.left-n:u=t.right),i=="middle"?d=(t.top+t.bottom-e)/2:i=="top"?d=t.top-e:d=t.bottom,o!="center"&&i!="middle"&&(i=="top"?d=d+t.height:d=d-t.height),{left:Math.round(u),top:Math.round(d)}},r.getCorrectedVerticalDimensions=function(t,e,n,i,o,l){o===void 0&&(o=!0),l===void 0&&(l={top:0,bottom:0});var u,d=n-r.bottomIndent;if(i==="top"&&(u={height:e,top:t}),t<-l.top)u={height:o?e+t:e,top:-l.top};else if(e+t>n){var m=Math.min(e,d-t);u={height:o?m:e,top:o?t:t-(e-m)}}return u&&(u.height=Math.min(u.height,d),u.top=Math.max(u.top,-l.top)),u},r.updateHorizontalDimensions=function(t,e,n,i,o,l){o===void 0&&(o="flex"),l===void 0&&(l={left:0,right:0}),e+=l.left+l.right;var u=void 0,d=t;return i==="center"&&(o==="fixed"?(t+e>n&&(u=n-t),d-=l.left):t<0?(d=l.left,u=Math.min(e,n)):e+t>n&&(d=n-e,d=Math.max(d,l.left),u=Math.min(e,n))),i==="left"&&t<0&&(d=l.left,u=Math.min(e,n)),i==="right"&&e+t>n&&(u=n-t),{width:u-l.left-l.right,left:d}},r.updateVerticalPosition=function(t,e,n,i,o){if(i==="middle")return i;var l=e-(t.top+(n!=="center"?t.height:0)),u=e+t.bottom-(n!=="center"?t.height:0)-o;return l>0&&u<=0&&i=="top"?i="bottom":u>0&&l<=0&&i=="bottom"?i="top":u>0&&l>0&&(i=l<u?"top":"bottom"),i},r.updateHorizontalPosition=function(t,e,n,i){if(n==="center")return n;var o=e-t.left,l=e+t.right-i;return o>0&&l<=0&&n=="left"?n="right":l>0&&o<=0&&n=="right"?n="left":l>0&&o>0&&(n=o<l?"left":"right"),n},r.calculatePopupDirection=function(t,e){var n;return e=="center"&&t!="middle"?n=t:e!="center"&&(n=e),n},r.calculatePointerTarget=function(t,e,n,i,o,l,u){l===void 0&&(l=0),u===void 0&&(u=0);var d={};return o!="center"?(d.top=t.top+t.height/2,d.left=t[o]):i!="middle"&&(d.top=t[i],d.left=t.left+t.width/2),d.left=Math.round(d.left-n),d.top=Math.round(d.top-e),o=="left"&&(d.left-=l+u),o==="center"&&(d.left-=l),d},r.bottomIndent=16,r}(),qf=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),_n=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},_l='input:not(:disabled):not([readonly]):not([type=hidden]),select:not(:disabled):not([readonly]),textarea:not(:disabled):not([readonly]), button:not(:disabled):not([readonly]), [tabindex]:not([tabindex^="-"])',Eo=function(r){qf(t,r);function t(e){var n=r.call(this)||this;return n.popupSelector=".sv-popup",n.fixedPopupContainer=".sv-popup",n.containerSelector=".sv-popup__container",n.scrollingContentSelector=".sv-popup__scrolling-content",n.visibilityAnimation=new qr(n,function(i){n._isVisible!==i&&(i?(n.updateBeforeShowing(),n.updateIsVisible(i)):(n.updateOnHiding(),n.updateIsVisible(i),n.updateAfterHiding(),n._isPositionSetValue=!1))},function(){return n._isVisible}),n.onVisibilityChanged=new ft,n.onModelIsVisibleChangedCallback=function(){n.isVisible=n.model.isVisible},n._isPositionSetValue=!1,n.model=e,n.locale=n.model.locale,n}return t.prototype.updateIsVisible=function(e){this._isVisible=e,this.onVisibilityChanged.fire(this,{isVisible:e})},t.prototype.updateBeforeShowing=function(){this.model.onShow()},t.prototype.updateAfterHiding=function(){this.model.onHiding()},t.prototype.getLeaveOptions=function(){return{cssClass:"sv-popup--leave",onBeforeRunAnimation:function(e){e.setAttribute("inert","")},onAfterRunAnimation:function(e){return e.removeAttribute("inert")}}},t.prototype.getEnterOptions=function(){return{cssClass:"sv-popup--enter"}},t.prototype.getAnimatedElement=function(){return this.getAnimationContainer()},t.prototype.isAnimationEnabled=function(){return this.model.displayMode!=="overlay"&&R.animationEnabled},t.prototype.getRerenderEvent=function(){return this.onElementRerendered},t.prototype.getAnimationContainer=function(){var e;return(e=this.container)===null||e===void 0?void 0:e.querySelector(this.fixedPopupContainer)},Object.defineProperty(t.prototype,"isVisible",{get:function(){return this._isVisible},set:function(e){this.visibilityAnimation.sync(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this.containerElement||this.createdContainer},enumerable:!1,configurable:!0}),t.prototype.getLocale=function(){return this.locale?this.locale:r.prototype.getLocale.call(this)},t.prototype.hidePopup=function(){this.model.isVisible=!1},t.prototype.getStyleClass=function(){return new F().append(this.model.cssClass).append("sv-popup--"+this.model.displayMode,this.isOverlay)},t.prototype.getShowFooter=function(){return this.isOverlay},t.prototype.getShowHeader=function(){return!1},t.prototype.getPopupHeaderTemplate=function(){},t.prototype.createFooterActionBar=function(){var e=this;this.footerToolbarValue=new Vt,this.footerToolbar.updateCallback=function(i){e.footerToolbarValue.actions.forEach(function(o){return o.cssClasses={item:"sv-popup__body-footer-item sv-popup__button sd-btn"}})};var n=[{id:"cancel",visibleIndex:10,title:this.cancelButtonText,innerCss:"sv-popup__button--cancel sd-btn",action:function(){e.cancel()}}];n=this.model.updateFooterActions(n),this.footerToolbarValue.setItems(n)},t.prototype.resetDimensionsAndPositionStyleProperties=function(){var e="inherit";this.top=e,this.left=e,this.height=e,this.width=e,this.minWidth=e},t.prototype.onModelChanging=function(e){},t.prototype.setupModel=function(e){this.model&&this.model.onVisibilityChanged.remove(this.onModelIsVisibleChangedCallback),this.onModelChanging(e),this._model=e,e.onVisibilityChanged.add(this.onModelIsVisibleChangedCallback),this.onModelIsVisibleChangedCallback()},Object.defineProperty(t.prototype,"model",{get:function(){return this._model},set:function(e){this.setupModel(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.model.title},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contentComponentName",{get:function(){return this.model.contentComponentName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contentComponentData",{get:function(){return this.model.contentComponentData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isModal",{get:function(){return this.model.isModal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFocusedContent",{get:function(){return this.model.isFocusedContent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFocusedContainer",{get:function(){return this.model.isFocusedContainer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showFooter",{get:function(){return this.getShowFooter()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showHeader",{get:function(){return this.getShowHeader()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"popupHeaderTemplate",{get:function(){return this.getPopupHeaderTemplate()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isOverlay",{get:function(){return this.model.displayMode==="overlay"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styleClass",{get:function(){return this.getStyleClass().toString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cancelButtonText",{get:function(){return this.getLocalizationString("modalCancelButtonText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"footerToolbar",{get:function(){return this.footerToolbarValue||this.createFooterActionBar(),this.footerToolbarValue},enumerable:!1,configurable:!0}),t.prototype.onKeyDown=function(e){e.key==="Tab"||e.keyCode===9?this.trapFocus(e):(e.key==="Escape"||e.keyCode===27)&&this.hidePopup()},t.prototype.trapFocus=function(e){var n=this.container.querySelectorAll(_l),i=n[0],o=n[n.length-1];e.shiftKey?R.environment.root.activeElement===i&&(o.focus(),e.preventDefault()):R.environment.root.activeElement===o&&(i.focus(),e.preventDefault())},t.prototype.switchFocus=function(){this.isFocusedContent?this.focusFirstInput():this.isFocusedContainer&&this.focusContainer()},Object.defineProperty(t.prototype,"isPositionSet",{get:function(){return this._isPositionSetValue},enumerable:!1,configurable:!0}),t.prototype.updateOnShowing=function(){this.prevActiveElement=R.environment.root.activeElement,this.isOverlay&&this.resetDimensionsAndPositionStyleProperties(),this.switchFocus(),this._isPositionSetValue=!0},t.prototype.updateOnHiding=function(){this.isFocusedContent&&this.prevActiveElement&&this.prevActiveElement.focus({preventScroll:!0})},t.prototype.focusContainer=function(){if(this.container){var e=this.container.querySelector(this.popupSelector);e?.focus()}},t.prototype.focusFirstInput=function(){var e=this;setTimeout(function(){if(e.container){var n=e.container.querySelector(e.model.focusFirstInputSelector||_l);n?n.focus():e.focusContainer()}},100)},t.prototype.clickOutside=function(e){this.hidePopup(),e?.stopPropagation()},t.prototype.cancel=function(){this.model.onCancel(),this.hidePopup()},t.prototype.dispose=function(){r.prototype.dispose.call(this),this.model&&this.model.onVisibilityChanged.remove(this.onModelIsVisibleChangedCallback),this.createdContainer&&(this.createdContainer.remove(),this.createdContainer=void 0),this.footerToolbarValue&&this.footerToolbarValue.dispose(),this.resetComponentElement()},t.prototype.initializePopupContainer=function(){if(!this.container){var e=g.createElement("div");this.createdContainer=e,Hr(R.environment.popupMountContainer).appendChild(e)}},t.prototype.setComponentElement=function(e){e&&(this.containerElement=e)},t.prototype.resetComponentElement=function(){this.containerElement=void 0,this.prevActiveElement=void 0},t.prototype.preventScrollOuside=function(e,n){for(var i=e.target;i!==this.container;){if(g.getComputedStyle(i).overflowY==="auto"&&i.scrollHeight!==i.offsetHeight){var o=i.scrollHeight,l=i.scrollTop,u=i.clientHeight;if(!(n>0&&Math.abs(o-u-l)<1)&&!(n<0&&l<=0))return}i=i.parentElement}e.cancelable&&e.preventDefault()},_n([V({defaultValue:"0px"})],t.prototype,"top",void 0),_n([V({defaultValue:"0px"})],t.prototype,"left",void 0),_n([V({defaultValue:"auto"})],t.prototype,"height",void 0),_n([V({defaultValue:"auto"})],t.prototype,"width",void 0),_n([V({defaultValue:"auto"})],t.prototype,"minWidth",void 0),_n([V({defaultValue:!1})],t.prototype,"_isVisible",void 0),_n([V()],t.prototype,"locale",void 0),t}(be),Qf=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Oo=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};function wl(r,t){var e=r||p.getInnerWidth(),n=t||p.getInnerHeight(),i=Math.min(e,n),o=i>=Ro.tabletSizeBreakpoint;return o}var Ro=function(r){Qf(t,r);function t(e){var n=r.call(this,e)||this;return n.scrollEventCallBack=function(i){if(n.isOverlay&&Qe){i.stopPropagation(),i.preventDefault();return}n.hidePopup()},n.resizeEventCallback=function(){if(p.isAvailable()){var i=p.getVisualViewport(),o=g.getDocumentElement();o&&i&&o.style.setProperty("--sv-popup-overlay-height",i.height*i.scale+"px")}},n.resizeWindowCallback=function(){n.isOverlay||n.updatePosition(!0,Yt.platform==="vue"||Yt.platform==="vue3"||Yt.platform=="react")},n.clientY=0,n.isTablet=!1,n.touchStartEventCallback=function(i){n.clientY=i.touches[0].clientY},n.touchMoveEventCallback=function(i){n.preventScrollOuside(i,n.clientY-i.changedTouches[0].clientY)},n.model.onRecalculatePosition.add(n.recalculatePositionHandler),n}return t.prototype.calculateIsTablet=function(e,n){this.isTablet=wl(e,n)},t.prototype.getAvailableAreaRect=function(){var e=this.model.getAreaCallback?this.model.getAreaCallback(this.container):void 0;if(e){var n=e.getBoundingClientRect();return new So(n.x,n.y,n.width,n.height)}return new So(0,0,p.getInnerWidth(),p.getInnerHeight())},t.prototype.getTargetElementRect=function(){var e=this.container,n=this.model.getTargetCallback?this.model.getTargetCallback(e):void 0;if(e&&e.parentElement&&!this.isModal&&!n&&(n=e.parentElement),!n)return null;var i=n.getBoundingClientRect(),o=this.getAvailableAreaRect();return new So(i.left-o.left,i.top-o.top,i.width,i.height)},t.prototype._updatePosition=function(){var e,n,i,o=this.getTargetElementRect();if(o){var l=this.getAvailableAreaRect(),u=(e=this.container)===null||e===void 0?void 0:e.querySelector(this.containerSelector);if(u){var d=(n=this.container)===null||n===void 0?void 0:n.querySelector(this.fixedPopupContainer),m=u.querySelector(this.scrollingContentSelector),w=g.getComputedStyle(u),E=parseFloat(w.marginLeft)||0,A=parseFloat(w.marginRight)||0,U=parseFloat(w.marginTop)||0,W=parseFloat(w.marginBottom)||0,se=u.offsetHeight-m.offsetHeight+m.scrollHeight,ie=u.getBoundingClientRect().width;this.model.setWidthByTarget&&(this.minWidth=o.width+"px");var K=this.model.verticalPosition,ye=this.getActualHorizontalPosition();if(p.isAvailable()){var He=[se,p.getInnerHeight()*.9,(i=p.getVisualViewport())===null||i===void 0?void 0:i.height];se=Math.ceil(Math.min.apply(Math,He.filter(function(Pn){return typeof Pn=="number"}))),K=xn.updateVerticalPosition(o,se,this.model.horizontalPosition,this.model.verticalPosition,l.height),ye=xn.updateHorizontalPosition(o,ie,ye,l.width)}this.popupDirection=xn.calculatePopupDirection(K,ye);var $e=xn.calculatePosition(o,se,ie+E+A,K,ye,this.model.positionMode);if(p.isAvailable()){var mt=xn.getCorrectedVerticalDimensions($e.top,se,l.height,K,this.model.canShrink,{top:U,bottom:W});if(mt&&(this.height=mt.height+"px",$e.top=mt.top),this.model.setWidthByTarget)this.width=o.width+"px",$e.left=o.left;else{var xt=xn.updateHorizontalDimensions($e.left,ie,p.getInnerWidth(),ye,this.model.positionMode,{left:E,right:A});xt&&(this.width=xt.width?xt.width+"px":void 0,$e.left=xt.left)}}if(d){var jn=d.getBoundingClientRect();$e.top-=jn.top,$e.left-=jn.left}$e.left+=l.left,$e.top+=l.top,this.left=$e.left+"px",this.top=$e.top+"px",this.showHeader&&(this.pointerTarget=xn.calculatePointerTarget(o,$e.top,$e.left,K,ye,E,A),this.pointerTarget.top+="px",this.pointerTarget.left+="px")}}},t.prototype.getActualHorizontalPosition=function(){var e=this.model.horizontalPosition;if(g.isAvailable()){var n=g.getComputedStyle(g.getBody()).direction=="rtl";n&&(this.model.horizontalPosition==="left"?e="right":this.model.horizontalPosition==="right"&&(e="left"))}return e},t.prototype.getStyleClass=function(){var e=this.model.overlayDisplayMode;return r.prototype.getStyleClass.call(this).append("sv-popup--dropdown",!this.isOverlay).append("sv-popup--dropdown-overlay",this.isOverlay&&e!=="plain").append("sv-popup--tablet",this.isOverlay&&(e=="tablet-dropdown-overlay"||e=="auto"&&this.isTablet)).append("sv-popup--show-pointer",!this.isOverlay&&this.showHeader).append("sv-popup--"+this.popupDirection,!this.isOverlay&&(this.showHeader||this.popupDirection=="top"||this.popupDirection=="bottom"))},t.prototype.getShowHeader=function(){return this.model.showPointer&&!this.isOverlay},t.prototype.getPopupHeaderTemplate=function(){return"popup-pointer"},t.prototype.setComponentElement=function(e){r.prototype.setComponentElement.call(this,e)},t.prototype.resetComponentElement=function(){r.prototype.resetComponentElement.call(this)},t.prototype.updateOnShowing=function(){var e=R.environment.root;this.prevActiveElement=e.activeElement,this.isOverlay?this.resetDimensionsAndPositionStyleProperties():this.updatePosition(!0,!1),this.switchFocus(),p.addEventListener("resize",this.resizeWindowCallback),this.shouldCreateResizeCallback&&(p.getVisualViewport().addEventListener("resize",this.resizeEventCallback),this.container&&(this.container.addEventListener("touchstart",this.touchStartEventCallback),this.container.addEventListener("touchmove",this.touchMoveEventCallback)),this.calculateIsTablet(),this.resizeEventCallback()),p.addEventListener("scroll",this.scrollEventCallBack),this._isPositionSetValue=!0},Object.defineProperty(t.prototype,"shouldCreateResizeCallback",{get:function(){return!!p.getVisualViewport()&&this.isOverlay&&Qe},enumerable:!1,configurable:!0}),t.prototype.updatePosition=function(e,n){var i=this;n===void 0&&(n=!0),e&&(this.height="auto"),n?setTimeout(function(){i._updatePosition()},1):this._updatePosition()},t.prototype.updateOnHiding=function(){r.prototype.updateOnHiding.call(this),p.removeEventListener("resize",this.resizeWindowCallback),this.shouldCreateResizeCallback&&(p.getVisualViewport().removeEventListener("resize",this.resizeEventCallback),this.container&&(this.container.removeEventListener("touchstart",this.touchStartEventCallback),this.container.removeEventListener("touchmove",this.touchMoveEventCallback))),p.removeEventListener("scroll",this.scrollEventCallBack),this.isDisposed||(this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.minWidth=void 0)},t.prototype.onModelChanging=function(e){var n=this;this.model&&this.model.onRecalculatePosition.remove(this.recalculatePositionHandler),this.recalculatePositionHandler||(this.recalculatePositionHandler=function(i,o){n.isOverlay||n.updatePosition(o.isResetHeight)}),r.prototype.onModelChanging.call(this,e),e.onRecalculatePosition.add(this.recalculatePositionHandler)},t.prototype.dispose=function(){r.prototype.dispose.call(this),this.updateOnHiding(),this.model&&(this.model.onRecalculatePosition.remove(this.recalculatePositionHandler),this.recalculatePositionHandler=void 0),this.resetComponentElement()},t.tabletSizeBreakpoint=600,Oo([V()],t.prototype,"isTablet",void 0),Oo([V({defaultValue:"left"})],t.prototype,"popupDirection",void 0),Oo([V({defaultValue:{left:"0px",top:"0px"}})],t.prototype,"pointerTarget",void 0),t}(Eo),Hf=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),en=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Xi=function(r){Hf(t,r);function t(e,n){var i=r.call(this)||this;i.question=e,i.onSelectionChanged=n,i.minPageSize=25,i.loadingItemHeight=40,i.timer=void 0,i._markdownMode=!1,i.filteredItems=void 0,i.selectedItemSelector=".sv-list__item--selected",i.itemSelector=".sv-list__item",i.itemsSettings={skip:0,take:0,totalCount:0,items:[]},i.listModelFilterStringChanged=function(l){i.filterString!==l&&(i.filterString=l)},i.questionPropertyChangedHandler=function(l,u){i.onPropertyChangedHandler(l,u)},i.htmlCleanerElement=g.createElement("div"),e.onPropertyChanged.add(i.questionPropertyChangedHandler),i.showInputFieldComponent=i.question.showInputFieldComponent,i.listModel=i.createListModel(),i.updateAfterListModelCreated(i.listModel),i.setChoicesLazyLoadEnabled(i.question.choicesLazyLoadEnabled),i.setSearchEnabled(i.question.searchEnabled),i.setTextWrapEnabled(i.question.textWrapEnabled),i.createPopup(),i.resetItemsSettings();var o=e.cssClasses;return i.updateCssClasses(o.popup,o.list),i}return Object.defineProperty(t.prototype,"focusFirstInputSelector",{get:function(){return this.getFocusFirstInputSelector()},enumerable:!1,configurable:!0}),t.prototype.getFocusFirstInputSelector=function(){return Qe?this.isValueEmpty(this.question.value)?this.itemSelector:this.selectedItemSelector:!this.listModel.showFilter&&this.question.value?this.selectedItemSelector:""},t.prototype.resetItemsSettings=function(){this.itemsSettings.skip=0,this.itemsSettings.take=Math.max(this.minPageSize,this.question.choicesLazyLoadPageSize),this.itemsSettings.totalCount=0,this.itemsSettings.items=[]},t.prototype.setItems=function(e,n){this.itemsSettings.items=[].concat(this.itemsSettings.items,e),this.itemsSettings.totalCount=n,this.listModel.isAllDataLoaded=this.question.choicesLazyLoadEnabled&&this.itemsSettings.items.length==this.itemsSettings.totalCount,this.question.choices=this.itemsSettings.items},t.prototype.loadQuestionChoices=function(e){var n=this;this.question.survey.loadQuestionChoices({question:this.question,filter:this.filterString,skip:this.itemsSettings.skip,take:this.itemsSettings.take,setItems:function(i,o){n.setItems(i||[],o||0),n.popupRecalculatePosition(n.itemsSettings.skip===n.itemsSettings.take),e&&e()}}),this.itemsSettings.skip+=this.itemsSettings.take},t.prototype.updateQuestionChoices=function(e){var n=this,i=this.itemsSettings.skip+1<this.itemsSettings.totalCount;(!this.itemsSettings.skip||i)&&(this.resetTimer(),this.filterString&&R.dropdownSearchDelay>0?this.timer=setTimeout(function(){n.loadQuestionChoices(e)},R.dropdownSearchDelay):this.loadQuestionChoices(e))},t.prototype.resetTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=void 0)},t.prototype.updatePopupFocusFirstInputSelector=function(){this._popupModel.focusFirstInputSelector=this.focusFirstInputSelector},t.prototype.getDropdownMenuOptions=function(){var e=p.getInnerWidth(),n=p.getInnerHeight(),i=wl(e,n),o="dropdown",l="desktop";return Qe&&(o=i?"popup":"overlay",l=i?"tablet":"mobile"),{menuType:o,deviceType:l,hasTouchScreen:Qe,screenHeight:n,screenWidth:e}},t.prototype.createPopup=function(){var e=this,n={verticalPosition:"bottom",horizontalPosition:"center",showPointer:!1};this._popupModel=new Gn("sv-list",{model:this.listModel},n),this._popupModel.displayMode=Qe?"overlay":"popup",this._popupModel.positionMode="fixed",this._popupModel.isFocusedContainer=!1,this._popupModel.isFocusedContent=Qe,this._popupModel.setWidthByTarget=!Qe,this._popupModel.locale=this.question.getLocale(),this.updatePopupFocusFirstInputSelector(),this.listModel.registerPropertyChangedHandlers(["showFilter"],function(){e.updatePopupFocusFirstInputSelector()}),this._popupModel.onVisibilityChanged.add(function(i,o){if(o.isVisible&&(e.listModel.renderElements=!0),o.isVisible&&e.question.choicesLazyLoadEnabled&&(e.listModel.actions=[],e.resetItemsSettings(),e.updateQuestionChoices()),o.isVisible){e.updatePopupFocusFirstInputSelector();var l=e.getDropdownMenuOptions(),u=l.menuType;e.question.processOpenDropdownMenu(l),u!==l.menuType&&(e._popupModel.updateDisplayMode(l.menuType),e.listModel.setSearchEnabled(e.searchEnabled&&l.menuType!=="dropdown")),e.question.onOpenedCallBack&&e.question.onOpenedCallBack()}o.isVisible||(e.onHidePopup(),e.question.choicesLazyLoadEnabled&&e.resetItemsSettings()),e.question.ariaExpanded=o.isVisible?"true":"false",e.question.processPopupVisiblilityChanged(e.popupModel,o.isVisible)})},t.prototype.setFilterStringToListModel=function(e){var n=this;if(this.listModel.filterString=e,this.listModel.resetFocusedItem(),this.question.selectedItem&&this.question.selectedItem.text.indexOf(e)>=0){this.listModel.focusedItem=this.getAvailableItems().filter(function(i){return i.id==n.question.selectedItem.value})[0],this.listModel.filterString&&this.listModel.actions.map(function(i){return i.selectedValue=!1});return}(!this.listModel.focusedItem||!this.listModel.isItemVisible(this.listModel.focusedItem))&&this.listModel.focusFirstVisibleItem()},t.prototype.setTextWrapEnabled=function(e){this.listModel.textWrapEnabled=e},t.prototype.popupRecalculatePosition=function(e){var n=this;setTimeout(function(){n.popupModel.recalculatePosition(e)},1)},t.prototype.onHidePopup=function(){this.resetFilterString(),this.question.suggestedItem=null},t.prototype.getAvailableItems=function(){return this.question.visibleChoices},t.prototype.setOnTextSearchCallbackForListModel=function(e){var n=this;e.setOnTextSearchCallback(function(i,o){if(n.filteredItems)return n.filteredItems.indexOf(i)>=0;var l=i.text.toLocaleLowerCase();l=R.comparator.normalizeTextCallback(l,"filter");var u=l.indexOf(o.toLocaleLowerCase());return n.question.searchMode=="startsWith"?u==0:u>-1})},t.prototype.createListModel=function(){var e=this,n=this.getAvailableItems(),i=this.onSelectionChanged;i||(i=function(u){e.question.value=u.id,e.question.searchEnabled&&e.applyInputString(u),e.popupModel.hide()});var o={items:n,onSelectionChanged:i,allowSelection:!1,locOwner:this.question,elementId:this.listElementId},l=new $n(o);return this.setOnTextSearchCallbackForListModel(l),l.renderElements=!1,l.forceShowFilter=!0,l.areSameItemsCallback=function(u,d){return u===d},l},t.prototype.updateAfterListModelCreated=function(e){var n=this;e.isItemSelected=function(i){return!!i.selected},e.onPropertyChanged.add(function(i,o){o.name=="hasVerticalScroller"&&(n.hasScroll=o.newValue)}),e.isAllDataLoaded=!this.question.choicesLazyLoadEnabled,e.actions.forEach(function(i){return i.disableTabStop=!0})},t.prototype.getPopupCssClasses=function(){return"sv-single-select-list"},t.prototype.updateCssClasses=function(e,n){this.popupModel.cssClass=new F().append(e).append(this.getPopupCssClasses()).toString(),this.listModel.cssClasses=n},t.prototype.resetFilterString=function(){this.filterString&&(this.filterString=void 0)},t.prototype.clear=function(){this.inputString=null,this.hintString="",this.resetFilterString()},t.prototype.onSetFilterString=function(){var e=this;if(this.filteredItems=void 0,!(!this.filterString&&!this.popupModel.isVisible)){var n={question:this.question,choices:this.getAvailableItems(),filter:this.filterString,filteredChoices:void 0};this.question.survey.onChoicesSearch.fire(this.question.survey,n),this.filteredItems=n.filteredChoices,this.filterString&&!this.popupModel.isVisible&&this.popupModel.show();var i=function(){e.setFilterStringToListModel(e.filterString),e.popupRecalculatePosition(!0)};this.question.choicesLazyLoadEnabled?(this.resetItemsSettings(),this.updateQuestionChoices(i)):i()}},Object.defineProperty(t.prototype,"isAllDataLoaded",{get:function(){return!!this.itemsSettings.totalCount&&this.itemsSettings.items.length==this.itemsSettings.totalCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canShowSelectedItem",{get:function(){return!this.focused||this._markdownMode||!this.searchEnabled},enumerable:!1,configurable:!0}),t.prototype.applyInputString=function(e){var n=e?.locText.hasHtml;n||this.question.inputFieldComponentName?(this._markdownMode=!0,this.inputString=this.cleanHtml(e?.locText.getHtmlValue()),this.hintString=""):(this.inputString=e?.title,this.hintString=e?.title)},t.prototype.cleanHtml=function(e){return this.htmlCleanerElement?(this.htmlCleanerElement.innerHTML=e,this.htmlCleanerElement.textContent):""},t.prototype.fixInputCase=function(){var e=this.hintStringMiddle;e&&this.inputString!=e&&(this.inputString=e)},t.prototype.applyHintString=function(e){var n=e?.locText.hasHtml;n||this.question.inputFieldComponentName?(this._markdownMode=!0,this.hintString=""):this.hintString=e?.title},Object.defineProperty(t.prototype,"inputStringRendered",{get:function(){return this.inputString||""},set:function(e){this.inputString=e,this.filterString=e,e?this.applyHintString(this.listModel.focusedItem||this.question.selectedItem):this.hintString=""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"placeholderRendered",{get:function(){return this.hintString?"":this.question.readOnlyText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"listElementId",{get:function(){return this.question.inputId+"_list"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hintStringLC",{get:function(){var e;return((e=this.hintString)===null||e===void 0?void 0:e.toLowerCase())||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputStringLC",{get:function(){var e;return((e=this.inputString)===null||e===void 0?void 0:e.toLowerCase())||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showHintPrefix",{get:function(){return!!this.inputString&&this.hintStringLC.indexOf(this.inputStringLC)>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hintStringPrefix",{get:function(){return this.inputString?this.hintString.substring(0,this.hintStringLC.indexOf(this.inputStringLC)):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showHintString",{get:function(){return!!this.question.searchEnabled&&this.hintStringLC&&this.hintStringLC.indexOf(this.inputStringLC)>=0||!this.question.searchEnabled&&this.hintStringLC&&this.question.isEmpty()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hintStringSuffix",{get:function(){return this.hintString.substring(this.hintStringLC.indexOf(this.inputStringLC)+this.inputStringLC.length)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hintStringMiddle",{get:function(){var e=this.hintStringLC.indexOf(this.inputStringLC);return e==-1?null:this.hintString.substring(e,e+this.inputStringLC.length)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"popupModel",{get:function(){return this._popupModel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"noTabIndex",{get:function(){return this.question.isInputReadOnly||this.searchEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"filterReadOnly",{get:function(){return this.question.isInputReadOnly||!this.searchEnabled||!this.focused},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"filterStringEnabled",{get:function(){return!this.question.isInputReadOnly&&this.searchEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputMode",{get:function(){return Qe?"none":"text"},enumerable:!1,configurable:!0}),t.prototype.setSearchEnabled=function(e){this.listModel.setSearchEnabled(Qe&&e),this.searchEnabled=e},t.prototype.setChoicesLazyLoadEnabled=function(e){this.listModel.setOnFilterStringChangedCallback(e?this.listModelFilterStringChanged:void 0)},t.prototype.updateItems=function(){this.listModel.setItems(this.getAvailableItems())},t.prototype.onClick=function(e){this.question.readOnly||this.question.isDesignMode||this.question.isPreviewStyle||this.question.isReadOnlyAttr||(this._popupModel.toggleVisibility(),this.focusItemOnClickAndPopup(),this.question.focusInputElement(!1))},t.prototype.chevronPointerDown=function(e){this._popupModel.isVisible&&e.preventDefault()},t.prototype.onPropertyChangedHandler=function(e,n){n.name=="value"&&(this.showInputFieldComponent=this.question.showInputFieldComponent),n.name=="textWrapEnabled"&&this.setTextWrapEnabled(n.newValue)},t.prototype.focusItemOnClickAndPopup=function(){this._popupModel.isVisible&&this.question.value&&this.changeSelectionWithKeyboard(!1)},t.prototype.onClear=function(e){this.question.clearValue(!0),this._popupModel.hide(),e&&(e.preventDefault(),e.stopPropagation())},t.prototype.getSelectedAction=function(){return this.question.selectedItem||null},t.prototype.changeSelectionWithKeyboard=function(e){var n,i=this.listModel.focusedItem;!i&&this.question.selectedItem?de.getItemByValue(this.question.visibleChoices,this.question.value)&&(this.listModel.focusedItem=this.question.selectedItem):e?this.listModel.focusPrevVisibleItem():this.listModel.focusNextVisibleItem(),this.beforeScrollToFocusedItem(i),this.scrollToFocusedItem(),this.afterScrollToFocusedItem(),this.ariaActivedescendant=(n=this.listModel.focusedItem)===null||n===void 0?void 0:n.elementId},t.prototype.beforeScrollToFocusedItem=function(e){this.question.value&&e&&(e.selectedValue=!1,this.listModel.focusedItem.selectedValue=!this.listModel.filterString,this.question.suggestedItem=this.listModel.focusedItem)},t.prototype.afterScrollToFocusedItem=function(){var e;this.question.value&&!this.listModel.filterString&&this.question.searchEnabled?this.applyInputString(this.listModel.focusedItem||this.question.selectedItem):this.applyHintString(this.listModel.focusedItem||this.question.selectedItem),this.fixInputCase(),this.ariaActivedescendant=(e=this.listModel.focusedItem)===null||e===void 0?void 0:e.elementId},t.prototype.keyHandler=function(e){var n=e.which||e.keyCode;if(this.popupModel.isVisible&&e.keyCode===38?(this.changeSelectionWithKeyboard(!0),e.preventDefault(),e.stopPropagation()):e.keyCode===40&&(this.popupModel.show(),this.changeSelectionWithKeyboard(!1),e.preventDefault(),e.stopPropagation()),e.keyCode===9)this.popupModel.hide();else if(!this.popupModel.isVisible&&(e.keyCode===13||e.keyCode===32))e.keyCode===32&&(this.popupModel.show(),this.changeSelectionWithKeyboard(!1)),e.keyCode===13&&this.question.survey.questionEditFinishCallback(this.question,e),e.preventDefault(),e.stopPropagation();else if(this.popupModel.isVisible&&(e.keyCode===13||e.keyCode===32&&(!this.question.searchEnabled||!this.inputString)))e.keyCode===13&&this.question.searchEnabled&&!this.inputString&&this.question instanceof si&&!this._markdownMode&&this.question.value?(this._popupModel.hide(),this.onClear(e)):(this.listModel.selectFocusedItem(),this.onFocus(e)),e.preventDefault(),e.stopPropagation();else if(n===46||n===8)this.searchEnabled||this.onClear(e);else if(e.keyCode===27)this._popupModel.hide(),this.hintString="",this.onEscape();else{if((e.keyCode===38||e.keyCode===40||e.keyCode===32&&!this.question.searchEnabled)&&(e.preventDefault(),e.stopPropagation()),e.keyCode===32&&this.question.searchEnabled)return;Ta(e,{processEsc:!1,disableTabStop:this.question.isInputReadOnly})}},t.prototype.onEscape=function(){this.question.searchEnabled&&this.applyInputString(this.question.selectedItem)},t.prototype.onScroll=function(e){var n=e.target;n.scrollHeight-(n.scrollTop+n.offsetHeight)<=this.loadingItemHeight&&this.updateQuestionChoices()},t.prototype.onBlur=function(e){if(this.focused=!1,this.popupModel.isVisible&&Qe){this._popupModel.show();return}Ia(e),this._popupModel.hide(),this.resetFilterString(),this.inputString=null,this.hintString="",e.stopPropagation()},t.prototype.onFocus=function(e){this.focused=!0,this.setInputStringFromSelectedItem(this.question.selectedItem)},t.prototype.setInputStringFromSelectedItem=function(e){this.focused&&(this.question.searchEnabled&&e?this.applyInputString(e):this.inputString=null)},t.prototype.dispose=function(){r.prototype.dispose.call(this),this.question&&this.question.onPropertyChanged.remove(this.questionPropertyChangedHandler),this.questionPropertyChangedHandler=void 0,this.listModel&&this.listModel.dispose(),this.popupModel&&this.popupModel.dispose(),this.htmlCleanerElement=void 0},t.prototype.scrollToFocusedItem=function(){this.listModel.scrollToFocusedItem()},en([V({defaultValue:!1})],t.prototype,"focused",void 0),en([V({defaultValue:!0})],t.prototype,"searchEnabled",void 0),en([V({defaultValue:"",onSet:function(e,n){n.onSetFilterString()}})],t.prototype,"filterString",void 0),en([V({defaultValue:"",onSet:function(e,n){n.question.inputHasValue=!!e}})],t.prototype,"inputString",void 0),en([V({})],t.prototype,"showInputFieldComponent",void 0),en([V()],t.prototype,"ariaActivedescendant",void 0),en([V({defaultValue:!1,onSet:function(e,n){e?n.listModel.addScrollEventListener(function(i){n.onScroll(i)}):n.listModel.removeScrollEventListener()}})],t.prototype,"hasScroll",void 0),en([V({defaultValue:""})],t.prototype,"hintString",void 0),t}(be),zf=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),jt=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},si=function(r){zf(t,r);function t(e){var n=r.call(this,e)||this;return n.lastSelectedItemValue=null,n.minMaxChoices=[],n.onOpened=n.addEvent(),n.ariaExpanded="false",n.createLocalizableString("placeholder",n,!1,!0),n.createLocalizableString("clearCaption",n,!1,!0),n.registerPropertyChangedHandlers(["choicesMin","choicesMax","choicesStep"],function(){n.onVisibleChoicesChanged()}),n.registerPropertyChangedHandlers(["value","renderAs","showOtherItem","otherText","placeholder","choices","visibleChoices"],function(){n.updateReadOnlyText()}),n.updateReadOnlyText(),n}return t.prototype.updateReadOnlyText=function(){var e=this.selectedItem?"":this.placeholder;this.renderAs=="select"&&(this.isOtherSelected?e=this.otherText:this.isNoneSelected?e=this.noneText:this.selectedItem&&(e=this.selectedItemText)),this.readOnlyText=e},t.prototype.locStrsChanged=function(){r.prototype.locStrsChanged.call(this),this.updateReadOnlyText()},Object.defineProperty(t.prototype,"showOptionsCaption",{get:function(){return this.allowClear},set:function(e){this.allowClear=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showClearButton",{get:function(){return this.allowClear&&!this.isEmpty()&&(!this.isDesignMode||R.supportCreatorV2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"optionsCaption",{get:function(){return this.placeholder},set:function(e){this.placeholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this.getLocalizableStringText("placeholder")},set:function(e){this.setLocalizableStringText("placeholder",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPlaceholder",{get:function(){return this.getLocalizableString("placeholder")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clearCaption",{get:function(){return this.getLocalizableStringText("clearCaption")},set:function(e){this.setLocalizableStringText("clearCaption",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locClearCaption",{get:function(){return this.getLocalizableString("clearCaption")},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"dropdown"},Object.defineProperty(t.prototype,"ariaRole",{get:function(){return"combobox"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedItem",{get:function(){return this.getSingleSelectedItem()},enumerable:!1,configurable:!0}),t.prototype.onGetSingleSelectedItem=function(e){e&&(this.lastSelectedItemValue=e)},t.prototype.supportGoNextPageAutomatic=function(){return!this.isOtherSelected},t.prototype.getChoices=function(){var e=r.prototype.getChoices.call(this);if(this.choicesMax<=this.choicesMin)return e;for(var n=[],i=0;i<e.length;i++)n.push(e[i]);if(this.minMaxChoices.length===0||this.minMaxChoices.length!==(this.choicesMax-this.choicesMin)/this.choicesStep+1){this.minMaxChoices=[];for(var i=this.choicesMin;i<=this.choicesMax;i+=this.choicesStep)this.minMaxChoices.push(this.createItemValue(i))}return n=n.concat(this.minMaxChoices),n},Object.defineProperty(t.prototype,"choicesMin",{get:function(){return this.getPropertyValue("choicesMin")},set:function(e){this.setPropertyValue("choicesMin",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"choicesMax",{get:function(){return this.getPropertyValue("choicesMax")},set:function(e){this.setPropertyValue("choicesMax",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"choicesStep",{get:function(){return this.getPropertyValue("choicesStep")},set:function(e){e<1&&(e=1),this.setPropertyValue("choicesStep",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autocomplete",{get:function(){return this.getPropertyValue("autocomplete","")},set:function(e){this.setPropertyValue("autocomplete",e)},enumerable:!1,configurable:!0}),t.prototype.getControlClass=function(){return new F().append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.controlDisabled,this.isDisabledStyle).append(this.cssClasses.controlReadOnly,this.isReadOnlyStyle).append(this.cssClasses.controlPreview,this.isPreviewStyle).append(this.cssClasses.controlInputFieldComponent,!!this.inputFieldComponentName).toString()},t.prototype.updateCssClasses=function(e,n){r.prototype.updateCssClasses.call(this,e,n),this.useDropdownList&&Yr(e,n)},t.prototype.calcCssClasses=function(e){var n=r.prototype.calcCssClasses.call(this,e);return this.dropdownListModelValue&&this.dropdownListModel.updateCssClasses(n.popup,n.list),n},Object.defineProperty(t.prototype,"selectedItemLocText",{get:function(){var e=this.suggestedItem||this.selectedItem;return e?.locText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputFieldComponentName",{get:function(){return this.inputFieldComponent||this.itemComponent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showSelectedItemLocText",{get:function(){return!this.inputHasValue&&!this.inputFieldComponentName&&!!this.selectedItemLocText&&this.dropdownListModel.canShowSelectedItem},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showInputFieldComponent",{get:function(){return!this.inputHasValue&&!!this.inputFieldComponentName&&!this.isEmpty()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedItemText",{get:function(){var e=this.selectedItem;return e?e.text:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"useDropdownList",{get:function(){return this.renderAs!=="select"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropdownListModel",{get:function(){return this.useDropdownList&&!this.dropdownListModelValue&&(this.dropdownListModelValue=new Xi(this)),this.dropdownListModelValue},set:function(e){this.dropdownListModelValue=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"popupModel",{get:function(){return this.dropdownListModel.popupModel},enumerable:!1,configurable:!0}),t.prototype.onOpenedCallBack=function(){this.onOpened.fire(this,{question:this,choices:this.choices})},t.prototype.onSelectedItemValuesChangedHandler=function(e){var n;(n=this.dropdownListModelValue)===null||n===void 0||n.setInputStringFromSelectedItem(e),r.prototype.onSelectedItemValuesChangedHandler.call(this,e)},t.prototype.hasUnknownValue=function(e,n,i,o){return this.choicesLazyLoadEnabled?!1:r.prototype.hasUnknownValue.call(this,e,n,i,o)},t.prototype.needConvertRenderedOtherToDataValue=function(){var e,n=(e=this.otherValue)===null||e===void 0?void 0:e.trim();return n?r.prototype.hasUnknownValue.call(this,n,!0,!1):!1},t.prototype.getItemIfChoicesNotContainThisValue=function(e,n){return this.choicesLazyLoadEnabled?this.createItemValue(e,n):r.prototype.getItemIfChoicesNotContainThisValue.call(this,e,n)},t.prototype.onVisibleChoicesChanged=function(){r.prototype.onVisibleChoicesChanged.call(this),this.dropdownListModelValue&&this.dropdownListModel.updateItems()},t.prototype.getFirstInputElementId=function(){return this.inputId+(this.searchEnabled?"_0":"")},t.prototype.getInputId=function(){return this.inputId+"_0"},t.prototype.clearValue=function(e){var n;r.prototype.clearValue.call(this,e),this.lastSelectedItemValue=null,(n=this.dropdownListModelValue)===null||n===void 0||n.clear()},t.prototype.afterRenderCore=function(e){r.prototype.afterRenderCore.call(this,e),this.dropdownListModelValue&&this.dropdownListModelValue.clear()},t.prototype.onClick=function(e){this.onOpenedCallBack&&this.onOpenedCallBack()},t.prototype.onKeyUp=function(e){var n=e.which||e.keyCode;n===46&&(this.clearValue(!0),e.preventDefault(),e.stopPropagation())},t.prototype.supportEmptyValidation=function(){return!0},t.prototype.onBlurCore=function(e){this.dropdownListModel.onBlur(e),r.prototype.onBlurCore.call(this,e)},t.prototype.onFocusCore=function(e){this.dropdownListModel.onFocus(e),r.prototype.onFocusCore.call(this,e)},t.prototype.dispose=function(){r.prototype.dispose.call(this),this.dropdownListModelValue&&(this.dropdownListModelValue.dispose(),this.dropdownListModelValue=void 0)},jt([V()],t.prototype,"allowClear",void 0),jt([V({onSet:function(e,n){n.dropdownListModelValue&&n.dropdownListModel.setSearchEnabled(e)}})],t.prototype,"searchEnabled",void 0),jt([V()],t.prototype,"searchMode",void 0),jt([V()],t.prototype,"textWrapEnabled",void 0),jt([V({defaultValue:!1})],t.prototype,"inputHasValue",void 0),jt([V({defaultValue:""})],t.prototype,"readOnlyText",void 0),jt([V({onSet:function(e,n){n.dropdownListModelValue&&n.dropdownListModel.setChoicesLazyLoadEnabled(e)}})],t.prototype,"choicesLazyLoadEnabled",void 0),jt([V()],t.prototype,"choicesLazyLoadPageSize",void 0),jt([V()],t.prototype,"suggestedItem",void 0),t}(Io);L.addClass("dropdown",[{name:"placeholder",alternativeName:"optionsCaption",serializationProperty:"locPlaceholder"},{name:"allowClear:boolean",alternativeName:"showOptionsCaption",default:!0},{name:"choicesMin:number",default:0},{name:"choicesMax:number",default:0},{name:"choicesStep:number",default:1,minValue:1},{name:"autocomplete",alternativeName:"autoComplete",choices:R.questions.dataList},{name:"textWrapEnabled:boolean",default:!0},{name:"renderAs",default:"default",visible:!1},{name:"searchEnabled:boolean",default:!0,visible:!1},{name:"searchMode",default:"contains",choices:["contains","startsWith"]},{name:"choicesLazyLoadEnabled:boolean",default:!1,visible:!1},{name:"choicesLazyLoadPageSize:number",default:25,visible:!1},{name:"inputFieldComponent",visible:!1},{name:"itemComponent",visible:!1,default:""}],function(){return new si("")},"selectbase"),Se.Instance.registerQuestion("dropdown",function(r){var t=new si(r);return t.choices=Se.DefaultChoices,t});var Do=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Pl=function(r){Do(t,r);function t(e,n,i,o){var l=r.call(this)||this;return l.item=e,l.fullName=n,l.data=i,l.setValueDirectly(o),l.cellClick=function(u){l.value=u.value},l.registerPropertyChangedHandlers(["value"],function(){l.data&&l.data.onMatrixRowChanged(l)}),l.data&&l.data.hasErrorInRow(l)&&(l.hasError=!0),l}return Object.defineProperty(t.prototype,"name",{get:function(){return this.item.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this.item.text},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locText",{get:function(){return this.item.locText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.getPropertyValue("value")},set:function(e){this.isReadOnly||this.setValueDirectly(this.data.getCorrectedRowValue(e))},enumerable:!1,configurable:!0}),t.prototype.setValueDirectly=function(e){this.setPropertyValue("value",e)},Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return!this.item.enabled||this.data.isInputReadOnly},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnlyAttr",{get:function(){return this.data.isReadOnlyAttr},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDisabledAttr",{get:function(){return!this.item.enabled||this.data.isDisabledAttr},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowTextClasses",{get:function(){return new F().append(this.data.cssClasses.rowTextCell).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasError",{get:function(){return this.getPropertyValue("hasError",!1)},set:function(e){this.setPropertyValue("hasError",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowClasses",{get:function(){var e=this.data.cssClasses;return new F().append(e.row).append(e.rowError,this.hasError).append(e.rowReadOnly,this.isReadOnly).append(e.rowDisabled,this.data.isDisabledStyle).toString()},enumerable:!1,configurable:!0}),t}(be),Vl=function(r){Do(t,r);function t(e){var n=r.call(this)||this;return n.cellsOwner=e,n.values={},n.locs={},n}return t.prototype.getType=function(){return"cells"},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return Object.keys(this.values).length==0},enumerable:!1,configurable:!0}),t.prototype.valuesChanged=function(){!this.locNotification&&this.onValuesChanged&&this.onValuesChanged()},t.prototype.getDefaultCellLocText=function(e){return this.getCellLocCore(this.defaultRowValue,e)},t.prototype.getCellDisplayLocText=function(e,n){return this.getCellLocCore(e,n)},t.prototype.getCellLocCore=function(e,n){var i=this;if(e=this.getCellRowColumnValue(e,this.rows),n=this.getCellRowColumnValue(n,this.columns),D.isValueEmpty(e)||D.isValueEmpty(n))return null;this.locs[e]||(this.locs[e]={});var o=this.locs[e][n];return o||(o=this.createString(),o.setJson(this.getCellLocData(e,n)),o.onGetTextCallback=function(l){if(!l){var u=de.getItemByValue(i.columns,n);if(u)return u.locText.getJson()||u.value}return l},o.onStrChanged=function(l,u){i.updateValues(e,n,u)},this.locs[e][n]=o),o},Object.defineProperty(t.prototype,"defaultRowValue",{get:function(){return R.matrix.defaultRowName},enumerable:!1,configurable:!0}),t.prototype.getCellLocData=function(e,n){var i=this.getCellLocDataFromValue(e,n);return i||this.getCellLocDataFromValue(this.defaultRowValue,n)},t.prototype.getCellLocDataFromValue=function(e,n){return!this.values[e]||!this.values[e][n]?null:this.values[e][n]},t.prototype.getCellText=function(e,n){var i=this.getCellLocCore(e,n);return i?i.calculatedText:null},t.prototype.setCellText=function(e,n,i){var o=this.getCellLocCore(e,n);o&&(o.text=i)},t.prototype.updateValues=function(e,n,i){i?(this.values[e]||(this.values[e]={}),this.values[e][n]=i,this.valuesChanged()):this.values[e]&&this.values[e][n]&&(delete this.values[e][n],Object.keys(this.values[e]).length==0&&delete this.values[e],this.valuesChanged())},t.prototype.getDefaultCellText=function(e){var n=this.getCellLocCore(this.defaultRowValue,e);return n?n.calculatedText:null},t.prototype.setDefaultCellText=function(e,n){this.setCellText(this.defaultRowValue,e,n)},t.prototype.getCellDisplayText=function(e,n){var i=this.getCellDisplayLocText(e,n);return i?i.calculatedText:null},Object.defineProperty(t.prototype,"rows",{get:function(){return this.cellsOwner?this.cellsOwner.getRows():[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this.cellsOwner?this.cellsOwner.getColumns():[]},enumerable:!1,configurable:!0}),t.prototype.getCellRowColumnValue=function(e,n){if(e==null)return null;if(typeof e=="number"){if(e<0||e>=n.length)return null;e=n[e].value}return e.value?e.value:e},t.prototype.getJson=function(){if(this.isEmpty)return null;var e=this.values[this.defaultRowValue],n={};for(var i in this.values){var o={},l=this.values[i];for(var u in l)(i===this.defaultRowValue||!e||e[u]!==l[u])&&(o[u]=l[u]);n[i]=o}return n},t.prototype.setJson=function(e,n){var i=this;if(this.values={},e){for(var o in e)if(o!="pos"){var l=e[o];this.values[o]={};for(var u in l)u!="pos"&&(this.values[o][u]=l[u])}}this.locNotification=!0,this.runFuncOnLocs(function(d,m,w){return w.setJson(i.getCellLocData(d,m))}),this.locNotification=!1,this.valuesChanged()},t.prototype.locStrsChanged=function(){this.runFuncOnLocs(function(e,n,i){return i.strChanged()})},t.prototype.runFuncOnLocs=function(e){for(var n in this.locs){var i=this.locs[n];for(var o in i)e(n,o,i[o])}},t.prototype.createString=function(){return new bt(this.cellsOwner,!0)},t}(be),Mo=function(r){Do(t,r);function t(e){var n=r.call(this,e)||this;return n.isRowChanging=!1,n.emptyLocalizableString=new bt(n),n.cellsValue=new Vl(n),n.cellsValue.onValuesChanged=function(){n.updateHasCellText(),n.propertyValueChanged("cells",n.cells,n.cells)},n.registerPropertyChangedHandlers(["columns"],function(){n.onColumnsChanged()}),n.registerPropertyChangedHandlers(["rows"],function(){n.runCondition(n.getDataFilteredValues(),n.getDataFilteredProperties()),n.onRowsChanged()}),n.registerPropertyChangedHandlers(["hideIfRowsEmpty"],function(){n.updateVisibilityBasedOnRows()}),n}return t.prototype.getType=function(){return"matrix"},Object.defineProperty(t.prototype,"cellComponent",{get:function(){return this.getPropertyValue("cellComponent")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemComponent",{set:function(e){this.setPropertyValue("cellComponent",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAllRowRequired",{get:function(){return this.getPropertyValue("isAllRowRequired")},set:function(e){this.setPropertyValue("isAllRowRequired",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"eachRowUnique",{get:function(){return this.getPropertyValue("eachRowUnique")},set:function(e){this.setPropertyValue("eachRowUnique",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasRows",{get:function(){return this.rows.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowsOrder",{get:function(){return this.getPropertyValue("rowsOrder")},set:function(e){e=e.toLowerCase(),e!=this.rowsOrder&&(this.setPropertyValue("rowsOrder",e),this.onRowsChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hideIfRowsEmpty",{get:function(){return this.getPropertyValue("hideIfRowsEmpty")},set:function(e){this.setPropertyValue("hideIfRowsEmpty",e)},enumerable:!1,configurable:!0}),t.prototype.getRows=function(){return this.rows},t.prototype.getColumns=function(){return this.visibleColumns},t.prototype.addColumn=function(e,n){var i=new de(e,n);return this.columns.push(i),i},t.prototype.getItemClass=function(e,n){var i=e.value==n.value,o=this.isReadOnly,l=!i&&!o,u=this.hasCellText,d=this.cssClasses;return new F().append(d.cell,u).append(u?d.cellText:d.label).append(d.itemOnError,!u&&(this.isAllRowRequired||this.eachRowUnique?e.hasError:this.hasCssError())).append(u?d.cellTextSelected:d.itemChecked,i).append(u?d.cellTextDisabled:d.itemDisabled,this.isDisabledStyle).append(u?d.cellTextReadOnly:d.itemReadOnly,this.isReadOnlyStyle).append(u?d.cellTextPreview:d.itemPreview,this.isPreviewStyle).append(d.itemHover,l&&!u).toString()},Object.defineProperty(t.prototype,"itemSvgIcon",{get:function(){return this.isPreviewStyle&&this.cssClasses.itemPreviewSvgIconId?this.cssClasses.itemPreviewSvgIconId:this.cssClasses.itemSvgIconId},enumerable:!1,configurable:!0}),t.prototype.locStrsChanged=function(){r.prototype.locStrsChanged.call(this),this.cells.locStrsChanged()},t.prototype.getQuizQuestionCount=function(){for(var e=0,n=0;n<this.rows.length;n++)this.isValueEmpty(this.correctAnswer[this.rows[n].value])||e++;return e},t.prototype.getCorrectAnswerCount=function(){for(var e=0,n=this.value,i=0;i<this.rows.length;i++){var o=this.rows[i].value;!this.isValueEmpty(n[o])&&this.isTwoValueEquals(this.correctAnswer[o],n[o])&&e++}return e},t.prototype.runCondition=function(e,n){de.runEnabledConditionsForItems(this.rows,void 0,e,n),r.prototype.runCondition.call(this,e,n)},t.prototype.createRowsVisibleIfRunner=function(){return this.rowsVisibleIf?new rt(this.rowsVisibleIf):null},t.prototype.onRowsChanged=function(){this.clearGeneratedRows(),r.prototype.onRowsChanged.call(this)},t.prototype.getVisibleRows=function(){if(this.generatedVisibleRows)return this.generatedVisibleRows;var e=new Array,n=this.value;n||(n={});for(var i=this.filteredRows||this.rows,o=0;o<i.length;o++){var l=i[o];if(!this.isValueEmpty(l.value)){var u=this.id+"_"+l.value.toString().replace(/\s/g,"_");e.push(this.createMatrixRow(l,u,n[l.value]))}}return this.generatedVisibleRows=e,e},t.prototype.sortVisibleRows=function(e){if(this.survey&&this.survey.isDesignMode)return e;var n=this.rowsOrder.toLowerCase();return n==="random"?D.randomizeArray(e):e},t.prototype.endLoadingFromJson=function(){r.prototype.endLoadingFromJson.call(this),this.rows=this.sortVisibleRows(this.rows),this.onRowsChanged(),this.onColumnsChanged()},t.prototype.isNewValueCorrect=function(e){return D.isValueObject(e,!0)},t.prototype.processRowsOnSet=function(e){return this.sortVisibleRows(e)},Object.defineProperty(t.prototype,"visibleRows",{get:function(){return this.getVisibleRows()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cells",{get:function(){return this.cellsValue},set:function(e){this.cells.setJson(e&&e.getJson?e.getJson():null)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCellText",{get:function(){return this.getPropertyValue("hasCellText",!1)},enumerable:!1,configurable:!0}),t.prototype.updateHasCellText=function(){this.setPropertyValue("hasCellText",!this.cells.isEmpty)},t.prototype.setCellText=function(e,n,i){this.cells.setCellText(e,n,i)},t.prototype.getCellText=function(e,n){return this.cells.getCellText(e,n)},t.prototype.setDefaultCellText=function(e,n){this.cells.setDefaultCellText(e,n)},t.prototype.getDefaultCellText=function(e){return this.cells.getDefaultCellText(e)},t.prototype.getCellDisplayText=function(e,n){return this.cells.getCellDisplayText(e,n)},t.prototype.getCellDisplayLocText=function(e,n){var i=this.cells.getCellDisplayLocText(e,n);return i||this.emptyLocalizableString},t.prototype.supportGoNextPageAutomatic=function(){return this.isMouseDown===!0&&this.hasValuesInAllRows()},t.prototype.onCheckForErrors=function(e,n,i){if(r.prototype.onCheckForErrors.call(this,e,n,i),!n||this.hasCssError()){var o={noValue:!1,isNotUnique:!1};this.checkErrorsAllRows(i,o),o.noValue&&e.push(new Jd(null,this)),o.isNotUnique&&e.push(new Kd(null,this))}},t.prototype.hasValuesInAllRows=function(){var e={noValue:!1,isNotUnique:!1};return this.checkErrorsAllRows(!1,e,!0),!e.noValue},t.prototype.checkErrorsAllRows=function(e,n,i){var o=this,l=this.generatedVisibleRows;if(l||(l=this.visibleRows),!!l){var u=this.isAllRowRequired||i,d=this.eachRowUnique;if(n.noValue=!1,n.isNotUnique=!1,e&&(this.errorsInRow=void 0),!(!u&&!d)){for(var m={},w=0;w<l.length;w++){var E=l[w].value,A=this.isValueEmpty(E),U=d&&!A&&m[E]===!0;A=A&&u,e&&(A||U)&&this.addErrorIntoRow(l[w]),A||(m[E]=!0),n.noValue=n.noValue||A,n.isNotUnique=n.isNotUnique||U}e&&l.forEach(function(W){W.hasError=o.hasErrorInRow(W)})}}},t.prototype.addErrorIntoRow=function(e){this.errorsInRow||(this.errorsInRow={}),this.errorsInRow[e.name]=!0,e.hasError=!0},t.prototype.refreshRowsErrors=function(){this.errorsInRow&&this.checkErrorsAllRows(!0,{noValue:!1,isNotUnique:!1})},t.prototype.getIsAnswered=function(){return r.prototype.getIsAnswered.call(this)&&this.hasValuesInAllRows()},t.prototype.createMatrixRow=function(e,n,i){var o=new Pl(e,n,this,i);return this.onMatrixRowCreated(o),o},t.prototype.onMatrixRowCreated=function(e){},t.prototype.setQuestionValue=function(e,n){if(n===void 0&&(n=!0),r.prototype.setQuestionValue.call(this,e,this.isRowChanging||n),!(!this.generatedVisibleRows||this.generatedVisibleRows.length==0)){this.isRowChanging=!0;var i=this.value;if(i||(i={}),this.rows.length==0)this.generatedVisibleRows[0].setValueDirectly(i);else for(var o=0;o<this.generatedVisibleRows.length;o++){var l=this.generatedVisibleRows[o],u=i[l.name];this.isValueEmpty(u)&&(u=null),this.generatedVisibleRows[o].setValueDirectly(u)}this.refreshRowsErrors(),this.updateIsAnswered(),this.isRowChanging=!1}},t.prototype.getDisplayValueCore=function(e,n){var i={};for(var o in n){var l=e?de.getTextOrHtmlByValue(this.rows,o):o;l||(l=o);var u=de.getTextOrHtmlByValue(this.columns,n[o]);u||(u=n[o]),i[l]=u}return i},t.prototype.getPlainData=function(e){var n=this;e===void 0&&(e={includeEmpty:!0});var i=r.prototype.getPlainData.call(this,e);if(i){var o=this.createValueCopy();i.isNode=!0,i.data=Object.keys(o||{}).map(function(l){var u=n.rows.filter(function(w){return w.value===l})[0],d={name:l,title:u?u.text:"row",value:o[l],displayValue:de.getTextOrHtmlByValue(n.visibleColumns,o[l]),getString:function(w){return typeof w=="object"?JSON.stringify(w):w},isNode:!1},m=de.getItemByValue(n.visibleColumns,o[l]);return m&&(e.calculations||[]).forEach(function(w){d[w.propertyName]=m[w.propertyName]}),d})}return i},t.prototype.addConditionObjectsByContext=function(e,n){for(var i=0;i<this.rows.length;i++){var o=this.rows[i];o.value&&e.push({name:this.getValueName()+"."+o.value,text:this.processedTitle+"."+o.calculatedText,question:this})}},t.prototype.getConditionJson=function(e,n){if(e===void 0&&(e=null),n===void 0&&(n=null),!n)return r.prototype.getConditionJson.call(this,e);var i=new si(n);i.choices=this.columns;var o=new nt().toJsonObject(i);return o.type=i.getType(),o},t.prototype.clearIncorrectValues=function(){this.clearInvisibleValuesInRowsAndColumns(!0,!0,!0),r.prototype.clearIncorrectValues.call(this)},t.prototype.clearValueIfInvisibleCore=function(e){r.prototype.clearValueIfInvisibleCore.call(this,e),this.clearInvisibleValuesInRowsAndColumns(!0,!0,!1)},t.prototype.clearInvisibleColumnValues=function(){this.clearInvisibleValuesInRowsAndColumns(!1,!0,!1)},t.prototype.clearInvisibleValuesInRows=function(){this.clearInvisibleValuesInRowsAndColumns(!0,!1,!1)},t.prototype.clearInvisibleValuesInRowsAndColumns=function(e,n,i){if(!this.isEmpty()){for(var o=this.getUnbindValue(this.value),l={},u=this.rows,d=0;d<u.length;d++){var m=u[d].value;o[m]&&(e&&!u[d].isVisible||n&&!this.getVisibleColumnByValue(o[m])?delete o[m]:l[m]=o[m])}i&&(o=l),!this.isTwoValueEquals(o,this.value)&&(this.value=o)}},t.prototype.getVisibleColumnByValue=function(e){var n=de.getItemByValue(this.columns,e);return n&&n.isVisible?n:null},t.prototype.getFirstInputElementId=function(){var e=this.generatedVisibleRows;return e||(e=this.visibleRows),e.length>0&&this.visibleColumns.length>0?this.inputId+"_"+e[0].name+"_0":r.prototype.getFirstInputElementId.call(this)},t.prototype.onMatrixRowChanged=function(e){if(!this.isRowChanging){if(this.isRowChanging=!0,!this.hasRows)this.setNewValue(e.value);else{var n=this.value;n||(n={}),n[e.name]=e.value,this.setNewValue(n)}this.isRowChanging=!1}},t.prototype.getCorrectedRowValue=function(e){for(var n=0;n<this.columns.length;n++)if(e===this.columns[n].value)return e;for(var n=0;n<this.columns.length;n++)if(this.isTwoValueEquals(e,this.columns[n].value))return this.columns[n].value;return e},t.prototype.hasErrorInRow=function(e){return!!this.errorsInRow&&!!this.errorsInRow[e.name]},t.prototype.getSearchableItemValueKeys=function(e){e.push("columns"),e.push("rows")},Object.defineProperty(t.prototype,"SurveyModel",{get:function(){return this.survey},enumerable:!1,configurable:!0}),t.prototype.getColumnHeaderWrapperComponentName=function(e){return this.SurveyModel.getElementWrapperComponentName({column:e},"column-header")},t.prototype.getColumnHeaderWrapperComponentData=function(e){return this.SurveyModel.getElementWrapperComponentData({column:e},"column-header")},t.prototype.getRowHeaderWrapperComponentName=function(e){return this.SurveyModel.getElementWrapperComponentName({row:e},"row-header")},t.prototype.getRowHeaderWrapperComponentData=function(e){return this.SurveyModel.getElementWrapperComponentData({row:e},"row-header")},t}(oo);L.addClass("matrix",["rowTitleWidth",{name:"columns:itemvalue[]",uniqueProperty:"value",baseValue:function(){return Ge("matrix_column")}},{name:"rows:itemvalue[]",uniqueProperty:"value",baseValue:function(){return Ge("matrix_row")}},{name:"cells:cells",serializationProperty:"cells"},{name:"rowsOrder",default:"initial",choices:["initial","random"]},"isAllRowRequired:boolean",{name:"eachRowUnique:boolean",category:"validation"},"hideIfRowsEmpty:boolean",{name:"cellComponent",visible:!1,default:"survey-matrix-cell"}],function(){return new Mo("")},"matrixbase"),Se.Instance.registerQuestion("matrix",function(r){var t=new Mo(r);return t.rows=Se.DefaultRows,t.columns=Se.DefaultColums,t});var Il=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Tl=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Sl=function(r){Il(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.updateRemainingCharacterCounter=function(e,n){this.remainingCharacterCounter=D.getRemainingCharacterCounterText(e,n)},Tl([V()],t.prototype,"remainingCharacterCounter",void 0),t}(be),er=function(r){Il(t,r);function t(e){var n=r.call(this,e)||this;return n.characterCounter=new Sl,n}return t.prototype.isTextValue=function(){return!0},Object.defineProperty(t.prototype,"maxLength",{get:function(){return this.getPropertyValue("maxLength")},set:function(e){this.setPropertyValue("maxLength",e),this.updateRemainingCharacterCounter(this.value)},enumerable:!1,configurable:!0}),t.prototype.getMaxLength=function(){return D.getMaxLength(this.maxLength,this.survey?this.survey.maxTextLength:-1)},t.prototype.updateRemainingCharacterCounter=function(e){this.characterCounter.updateRemainingCharacterCounter(e,this.getMaxLength())},Object.defineProperty(t.prototype,"placeHolder",{get:function(){return this.placeholder},set:function(e){this.placeholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPlaceHolder",{get:function(){return this.locPlaceholder},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"textbase"},t.prototype.isEmpty=function(){return r.prototype.isEmpty.call(this)||this.value===""},Object.defineProperty(t.prototype,"textUpdateMode",{get:function(){return this.getPropertyValue("textUpdateMode")},set:function(e){this.setPropertyValue("textUpdateMode",e)},enumerable:!1,configurable:!0}),t.prototype.getIsInputTextUpdate=function(){return this.textUpdateMode=="default"?r.prototype.getIsInputTextUpdate.call(this):this.textUpdateMode=="onTyping"},Object.defineProperty(t.prototype,"renderedPlaceholder",{get:function(){var e=this,n=function(){return e.hasPlaceholder()?e.placeHolder:void 0};return this.getPropertyValue("renderedPlaceholder",void 0,n)},enumerable:!1,configurable:!0}),t.prototype.onReadOnlyChanged=function(){r.prototype.onReadOnlyChanged.call(this),this.resetRenderedPlaceholder()},t.prototype.localeChanged=function(){r.prototype.localeChanged.call(this),this.resetRenderedPlaceholder()},t.prototype.supportEmptyValidation=function(){return!0},t.prototype.resetRenderedPlaceholder=function(){this.resetPropertyValue("renderedPlaceholder")},t.prototype.hasPlaceholder=function(){return!this.isReadOnly},t.prototype.setNewValue=function(e){r.prototype.setNewValue.call(this,e),this.updateRemainingCharacterCounter(e)},t.prototype.setQuestionValue=function(e,n){n===void 0&&(n=!0),r.prototype.setQuestionValue.call(this,e,n),this.updateRemainingCharacterCounter(e)},t.prototype.convertToCorrectValue=function(e){return Array.isArray(e)?e.join(this.getValueSeparator()):e},t.prototype.getValueSeparator=function(){return", "},t.prototype.getControlCssClassBuilder=function(){return new F().append(this.cssClasses.root).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.controlDisabled,this.isDisabledStyle).append(this.cssClasses.controlReadOnly,this.isReadOnlyStyle).append(this.cssClasses.controlPreview,this.isPreviewStyle)},t.prototype.getControlClass=function(){return this.getControlCssClassBuilder().toString()},Object.defineProperty(t.prototype,"isNewA11yStructure",{get:function(){return!0},enumerable:!1,configurable:!0}),Tl([V({localizable:!0,onSet:function(e,n){return n.resetRenderedPlaceholder()}})],t.prototype,"placeholder",void 0),t}(tt);L.addClass("textbase",[],function(){return new er("")},"question");var Uf=function(){function r(t,e,n){var i=this;this.inputMaskInstance=t,this.inputElement=e,this.prevUnmaskedValue=void 0,this.inputMaskInstancePropertyChangedHandler=function(l,u){if(u.name!=="saveMaskedValue"){var d=i.inputMaskInstance.getMaskedValue(i.prevUnmaskedValue);i.inputElement.value=d}},this.clickHandler=function(l){i.inputElement.value==i.inputMaskInstance.getMaskedValue("")&&i.inputElement.setSelectionRange(0,0)},this.beforeInputHandler=function(l){var u=i.createArgs(l),d=i.inputMaskInstance.processInput(u);i.inputElement.value=d.value,i.inputElement.setSelectionRange(d.caretPosition,d.caretPosition),d.cancelPreventDefault||l.preventDefault()},this.changeHandler=function(l){var u=i.inputMaskInstance.processInput({prevValue:"",insertedChars:l.target.value,selectionStart:0,selectionEnd:0});i.inputElement.value=u.value};var o=n;o==null&&(o=""),this.inputElement.value=t.getMaskedValue(o),this.prevUnmaskedValue=o,t.onPropertyChanged.add(this.inputMaskInstancePropertyChangedHandler),this.addInputEventListener()}return r.prototype.createArgs=function(t){var e={insertedChars:t.data,selectionStart:t.target.selectionStart,selectionEnd:t.target.selectionEnd,prevValue:t.target.value,inputDirection:"forward"};return t.inputType==="deleteContentBackward"&&(e.inputDirection="backward",e.selectionStart===e.selectionEnd&&(e.selectionStart=Math.max(e.selectionStart-1,0))),t.inputType==="deleteContentForward"&&e.selectionStart===e.selectionEnd&&(e.selectionEnd+=1),e},r.prototype.addInputEventListener=function(){this.inputElement&&(this.inputElement.addEventListener("beforeinput",this.beforeInputHandler),this.inputElement.addEventListener("click",this.clickHandler),this.inputElement.addEventListener("focus",this.clickHandler),this.inputElement.addEventListener("change",this.changeHandler))},r.prototype.removeInputEventListener=function(){this.inputElement&&(this.inputElement.removeEventListener("beforeinput",this.beforeInputHandler),this.inputElement.removeEventListener("click",this.clickHandler),this.inputElement.removeEventListener("focus",this.clickHandler),this.inputElement.removeEventListener("change",this.changeHandler))},r.prototype.dispose=function(){this.removeInputEventListener(),this.inputElement=void 0,this.inputMaskInstance.onPropertyChanged.remove(this.inputMaskInstancePropertyChangedHandler)},r}(),Ao=/[0-9]/;function El(){var r=L.getChildrenClasses("masksettings")||[],t=r.map(function(e){var n=e.name;return e.name.indexOf("mask")!==-1&&(n=n.slice(0,n.indexOf("mask"))),n});return t.unshift("none"),t}var Wf=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ko=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},tr=function(r){Wf(t,r);function t(e){var n=r.call(this,e)||this;return n._isWaitingForEnter=!1,n.onCompositionUpdate=function(i){n.isInputTextUpdate&&setTimeout(function(){n.updateValueOnEvent(i)},1),n.updateRemainingCharacterCounter(i.target.value)},n.onKeyUp=function(i){n.updateDateValidationMessage(i),n.isInputTextUpdate?(!n._isWaitingForEnter||i.keyCode===13)&&(n.updateValueOnEvent(i),n._isWaitingForEnter=!1):i.keyCode===13&&n.updateValueOnEvent(i),n.updateRemainingCharacterCounter(i.target.value)},n.onKeyDown=function(i){n.onKeyDownPreprocess&&n.onKeyDownPreprocess(i),n.isInputTextUpdate&&(n._isWaitingForEnter=i.keyCode===229),n.onTextKeyDownHandler(i)},n.onChange=function(i){n.updateDateValidationMessage(i);var o=i.target===R.environment.root.activeElement;o?n.isInputTextUpdate&&n.updateValueOnEvent(i):n.updateValueOnEvent(i),n.updateRemainingCharacterCounter(i.target.value)},n.createLocalizableString("minErrorText",n,!0,"minError"),n.createLocalizableString("maxErrorText",n,!0,"maxError"),n.setNewMaskSettingsProperty(),n.locDataListValue=new _a(n),n.locDataListValue.onValueChanged=function(i,o){n.propertyValueChanged("dataList",i,o)},n.registerPropertyChangedHandlers(["min","max","inputType","minValueExpression","maxValueExpression"],function(){n.setRenderedMinMax()}),n.registerPropertyChangedHandlers(["inputType","size"],function(){n.updateInputSize(),n.resetRenderedPlaceholder()}),n}return t.prototype.createMaskAdapter=function(){this.input&&!this.maskTypeIsEmpty&&(this.maskInputAdapter=new Uf(this.maskInstance,this.input,this.value))},t.prototype.deleteMaskAdapter=function(){this.maskInputAdapter&&(this.maskInputAdapter.dispose(),this.maskInputAdapter=void 0)},t.prototype.updateMaskAdapter=function(){this.deleteMaskAdapter(),this.createMaskAdapter()},t.prototype.onSetMaskType=function(e){this.setNewMaskSettingsProperty(),this.updateMaskAdapter()},Object.defineProperty(t.prototype,"maskTypeIsEmpty",{get:function(){switch(this.inputType){case"tel":case"text":return this.maskType==="none";default:return!0}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maskSettings",{get:function(){return this.getPropertyValue("maskSettings")},set:function(e){e&&(this.setNewMaskSettingsProperty(),this.maskSettings.fromJSON(e.toJSON()),this.updateMaskAdapter())},enumerable:!1,configurable:!0}),t.prototype.setNewMaskSettingsProperty=function(){this.setPropertyValue("maskSettings",this.createMaskSettings())},t.prototype.createMaskSettings=function(){var e=!this.maskType||this.maskType==="none"?"masksettings":this.maskType+"mask";L.findClass(e)||(e="masksettings");var n=L.createClass(e);return n.owner=this.survey,n},t.prototype.isTextValue=function(){return this.isDateInputType||["text","number","password"].indexOf(this.inputType)>-1},t.prototype.getType=function(){return"text"},t.prototype.onSurveyLoad=function(){r.prototype.onSurveyLoad.call(this),this.setRenderedMinMax(),this.updateInputSize()},Object.defineProperty(t.prototype,"inputType",{get:function(){return this.getPropertyValue("inputType")},set:function(e){e=e.toLowerCase(),(e==="datetime_local"||e==="datetime")&&(e="datetime-local"),this.setPropertyValue("inputType",e.toLowerCase()),this.isLoadingFromJson||(this.min=void 0,this.max=void 0,this.step=void 0),this.updateMaskAdapter()},enumerable:!1,configurable:!0}),t.prototype.getMaxLength=function(){return this.isTextInput?r.prototype.getMaxLength.call(this):null},t.prototype.runCondition=function(e,n){r.prototype.runCondition.call(this,e,n),(this.minValueExpression||this.maxValueExpression)&&this.setRenderedMinMax(e,n)},t.prototype.getDisplayValueCore=function(e,n){return!this.maskTypeIsEmpty&&!D.isValueEmpty(n)?this.maskInstance.getMaskedValue(n):r.prototype.getDisplayValueCore.call(this,e,n)},t.prototype.isLayoutTypeSupported=function(e){return!0},Object.defineProperty(t.prototype,"size",{get:function(){return this.getPropertyValue("size")},set:function(e){this.setPropertyValue("size",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isTextInput",{get:function(){return["text","search","tel","url","email","password"].indexOf(this.inputType)>-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputSize",{get:function(){return this.getPropertyValue("inputSize",0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedInputSize",{get:function(){return this.getPropertyValue("inputSize")||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputWidth",{get:function(){return this.getPropertyValue("inputWidth")},enumerable:!1,configurable:!0}),t.prototype.updateInputSize=function(){var e=this.isTextInput&&this.size>0?this.size:0;this.isTextInput&&e<1&&this.parent&&this.parent.itemSize&&(e=this.parent.itemSize),this.setPropertyValue("inputSize",e),this.setPropertyValue("inputWidth",e>0?"auto":"")},Object.defineProperty(t.prototype,"autocomplete",{get:function(){return this.getPropertyValue("autocomplete",null)},set:function(e){this.setPropertyValue("autocomplete",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this.getPropertyValue("min")},set:function(e){if(this.isValueExpression(e)){this.minValueExpression=e.substring(1);return}this.setPropertyValue("min",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this.getPropertyValue("max")},set:function(e){if(this.isValueExpression(e)){this.maxValueExpression=e.substring(1);return}this.setPropertyValue("max",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minValueExpression",{get:function(){return this.getPropertyValue("minValueExpression","")},set:function(e){this.setPropertyValue("minValueExpression",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxValueExpression",{get:function(){return this.getPropertyValue("maxValueExpression","")},set:function(e){this.setPropertyValue("maxValueExpression",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedMin",{get:function(){return this.getPropertyValue("renderedMin")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedMax",{get:function(){return this.getPropertyValue("renderedMax")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minErrorText",{get:function(){return this.getLocalizableStringText("minErrorText")},set:function(e){this.setLocalizableStringText("minErrorText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locMinErrorText",{get:function(){return this.getLocalizableString("minErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxErrorText",{get:function(){return this.getLocalizableStringText("maxErrorText")},set:function(e){this.setLocalizableStringText("maxErrorText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locMaxErrorText",{get:function(){return this.getLocalizableString("maxErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMinMaxType",{get:function(){return Et(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maskInstance",{get:function(){return this.maskSettings},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputValue",{get:function(){return!this._inputValue&&!this.maskTypeIsEmpty?this.maskInstance.getMaskedValue(""):this._inputValue},set:function(e){var n=e;this._inputValue=e,this.maskTypeIsEmpty||(n=this.maskInstance.getUnmaskedValue(e),this._inputValue=this.maskInstance.getMaskedValue(n),n&&this.maskSettings.saveMaskedValue&&(n=this.maskInstance.getMaskedValue(n))),this.value=n},enumerable:!1,configurable:!0}),t.prototype.onChangeQuestionValue=function(e){r.prototype.onChangeQuestionValue.call(this,e),this.updateInputValue()},t.prototype.updateInputValue=function(){this.maskTypeIsEmpty?this._inputValue=this.value:this.maskSettings.saveMaskedValue?this._inputValue=this.value?this.value:this.maskInstance.getMaskedValue(""):this._inputValue=this.maskInstance.getMaskedValue(this.value)},t.prototype.hasToConvertToUTC=function(e){return R.storeUtcDates&&this.isDateTimeLocaleType()&&!!e},t.prototype.createDate=function(e){return S("question-text",e)},t.prototype.valueForSurveyCore=function(e){return this.hasToConvertToUTC(e)&&(e=this.createDate(e).toISOString()),r.prototype.valueForSurveyCore.call(this,e)},t.prototype.valueFromDataCore=function(e){if(this.hasToConvertToUTC(e)){var n=this.createDate(e),i=this.createDate(n.getTime()-n.getTimezoneOffset()*60*1e3),o=i.toISOString();e=o.substring(0,o.length-2)}return r.prototype.valueFromDataCore.call(this,e)},t.prototype.onCheckForErrors=function(e,n,i){var o=this;if(r.prototype.onCheckForErrors.call(this,e,n,i),!n){if(this.isValueLessMin){var l=new ht(this.getMinMaxErrorText(this.minErrorText,this.getCalculatedMinMax(this.renderedMin)),this);l.onUpdateErrorTextCallback=function(E){E.text=o.getMinMaxErrorText(o.minErrorText,o.getCalculatedMinMax(o.renderedMin))},e.push(l)}if(this.isValueGreaterMax){var u=new ht(this.getMinMaxErrorText(this.maxErrorText,this.getCalculatedMinMax(this.renderedMax)),this);u.onUpdateErrorTextCallback=function(E){E.text=o.getMinMaxErrorText(o.maxErrorText,o.getCalculatedMinMax(o.renderedMax))},e.push(u)}this.dateValidationMessage&&e.push(new ht(this.dateValidationMessage,this));var d=this.getValidatorTitle(),m=new Xr;if(m.errorOwner=this,this.inputType==="email"&&!this.validators.some(function(E){return E.getType()==="emailvalidator"})){var w=m.validate(this.value,d);w&&w.error&&e.push(w.error)}}},t.prototype.canSetValueToSurvey=function(){if(!this.isMinMaxType)return!0;var e=!this.isValueLessMin&&!this.isValueGreaterMax;return(!e||this.errors.length>0)&&this.survey&&(this.survey.isValidateOnValueChanging||this.survey.isValidateOnValueChanged)&&this.hasErrors(),e},t.prototype.convertFuncValuetoQuestionValue=function(e){var n=this.maskTypeIsEmpty?this.inputType:this.maskSettings.getTypeForExpressions();return D.convertValToQuestionVal(e,n)},t.prototype.getMinMaxErrorText=function(e,n){if(D.isValueEmpty(n))return e;var i=n.toString();return this.inputType==="date"&&n.toDateString&&(i=n.toDateString()),e.replace("{0}",i)},Object.defineProperty(t.prototype,"isValueLessMin",{get:function(){return!this.isValueEmpty(this.renderedMin)&&!this.isEmpty()&&this.getCalculatedMinMax(this.value)<this.getCalculatedMinMax(this.renderedMin)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isValueGreaterMax",{get:function(){return!this.isValueEmpty(this.renderedMax)&&!this.isEmpty()&&this.getCalculatedMinMax(this.value)>this.getCalculatedMinMax(this.renderedMax)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDateInputType",{get:function(){return this.inputType==="date"||this.isDateTimeLocaleType()},enumerable:!1,configurable:!0}),t.prototype.isDateTimeLocaleType=function(){return this.inputType==="datetime-local"},t.prototype.getCalculatedMinMax=function(e){return this.isValueEmpty(e)?e:this.isDateInputType?this.createDate(e):e},t.prototype.setRenderedMinMax=function(e,n){var i=this;e===void 0&&(e=null),n===void 0&&(n=null),this.minValueRunner=this.getDefaultRunner(this.minValueRunner,this.minValueExpression),this.setValueAndRunExpression(this.minValueRunner,this.min,function(o){!o&&i.isDateInputType&&R.minDate&&(o=R.minDate),i.setPropertyValue("renderedMin",o)},e,n),this.maxValueRunner=this.getDefaultRunner(this.maxValueRunner,this.maxValueExpression),this.setValueAndRunExpression(this.maxValueRunner,this.max,function(o){!o&&i.isDateInputType&&(o=R.maxDate?R.maxDate:"2999-12-31"),i.setPropertyValue("renderedMax",o)},e,n)},Object.defineProperty(t.prototype,"step",{get:function(){return this.getPropertyValue("step")},set:function(e){this.setPropertyValue("step",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedStep",{get:function(){return this.isValueEmpty(this.step)?this.inputType!=="number"?void 0:"any":this.step},enumerable:!1,configurable:!0}),t.prototype.getIsInputTextUpdate=function(){return this.maskTypeIsEmpty?r.prototype.getIsInputTextUpdate.call(this):!1},t.prototype.supportGoNextPageAutomatic=function(){return!this.getIsInputTextUpdate()&&!this.isDateInputType},t.prototype.supportGoNextPageError=function(){return!this.isDateInputType},Object.defineProperty(t.prototype,"dataList",{get:function(){return this.locDataList.value},set:function(e){this.locDataList.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locDataList",{get:function(){return this.locDataListValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataListId",{get:function(){return this.locDataList.hasValue()?this.id+"_datalist":void 0},enumerable:!1,configurable:!0}),t.prototype.setNewValue=function(e){e=this.correctValueType(e),e&&(this.dateValidationMessage=void 0),r.prototype.setNewValue.call(this,e)},t.prototype.correctValueType=function(e){if(!e)return e;if(this.inputType==="number"||this.inputType==="range")return D.isNumber(e)?D.getNumber(e):"";if(this.inputType==="month"){var n=this.createDate(e),i=n.toISOString().indexOf(e)==0&&e.indexOf("T")==-1,o=i?n.getUTCMonth():n.getMonth(),l=i?n.getUTCFullYear():n.getFullYear(),u=o+1;return l+"-"+(u<10?"0":"")+u}return e},t.prototype.hasPlaceholder=function(){return!this.isReadOnly&&this.inputType!=="range"},t.prototype.getControlCssClassBuilder=function(){var e=this.getMaxLength();return r.prototype.getControlCssClassBuilder.call(this).append(this.cssClasses.constrolWithCharacterCounter,!!e).append(this.cssClasses.characterCounterBig,e>99)},t.prototype.isReadOnlyRenderDiv=function(){return this.isReadOnly&&R.readOnly.textRenderMode==="div"},Object.defineProperty(t.prototype,"inputStyle",{get:function(){var e={};return e.width=this.inputWidth,this.updateTextAlign(e),e},enumerable:!1,configurable:!0}),t.prototype.updateTextAlign=function(e){this.inputTextAlignment!=="auto"?e.textAlign=this.inputTextAlignment:!this.maskTypeIsEmpty&&this.maskSettings.getTextAlignment()!=="auto"&&(e.textAlign=this.maskSettings.getTextAlignment())},t.prototype.updateValueOnEvent=function(e){var n=e.target.value;this.isTwoValueEquals(this.value,n)||(this.inputValue=n)},t.prototype.updateDateValidationMessage=function(e){this.dateValidationMessage=this.isDateInputType&&e.target?e.target.validationMessage:void 0},t.prototype.onBlurCore=function(e){this.updateDateValidationMessage(e),this.updateValueOnEvent(e),this.updateRemainingCharacterCounter(e.target.value),r.prototype.onBlurCore.call(this,e)},t.prototype.onFocusCore=function(e){this.updateRemainingCharacterCounter(e.target.value),r.prototype.onFocusCore.call(this,e)},t.prototype.afterRenderQuestionElement=function(e){e&&(this.input=e instanceof HTMLInputElement?e:e.querySelector("input"),this.createMaskAdapter()),r.prototype.afterRenderQuestionElement.call(this,e)},t.prototype.beforeDestroyQuestionElement=function(e){this.deleteMaskAdapter(),this.input=void 0},ko([V({onSet:function(e,n){n.onSetMaskType(e)}})],t.prototype,"maskType",void 0),ko([V()],t.prototype,"inputTextAlignment",void 0),ko([V()],t.prototype,"_inputValue",void 0),t}(er),$f=["number","range","date","datetime-local","month","time","week"];function Et(r){var t=r?r.inputType:"";return t?$f.indexOf(t)>-1:!1}function Ol(r,t){var e=r.split(t);return e.length!==2||!D.isNumber(e[0])||!D.isNumber(e[1])?-1:parseFloat(e[0])*60+parseFloat(e[1])}function Gf(r,t,e){var n=Ol(r,e),i=Ol(t,e);return n<0||i<0?!1:n>i}function Rl(r,t,e,n){var i=n?e:t;if(!Et(r)||D.isValueEmpty(t)||D.isValueEmpty(e))return i;if(r.inputType.indexOf("date")===0||r.inputType==="month"){var o=r.inputType==="month",l="question-text-minmax",u=S(l,o?t+"-01":t),d=S(l,o?e+"-01":e);if(!u||!d)return i;if(u>d)return n?t:e}if(r.inputType==="week"||r.inputType==="time"){var m=r.inputType==="week"?"-W":":";return Gf(t,e,m)?n?t:e:i}if(r.inputType==="number"){if(!D.isNumber(t)||!D.isNumber(e))return i;if(D.getNumber(t)>D.getNumber(e))return n?t:e}return typeof t=="string"||typeof e=="string"?i:t>e?n?t:e:i}function Dl(r,t){r&&r.inputType&&(t.inputType=r.inputType!=="range"?r.inputType:"number",t.textUpdateMode="onBlur")}L.addClass("text",[{name:"inputType",default:"text",choices:R.questions.inputTypes},{name:"size:number",minValue:0,dependsOn:"inputType",visibleIf:function(r){return r?r.isTextInput:!1}},{name:"textUpdateMode",default:"default",choices:["default","onBlur","onTyping"],dependsOn:"inputType",visibleIf:function(r){return r?r.isTextInput:!1}},{name:"autocomplete",alternativeName:"autoComplete",choices:R.questions.dataList},{name:"min",dependsOn:"inputType",visibleIf:function(r){return Et(r)},onPropertyEditorUpdate:function(r,t){Dl(r,t)},onSettingValue:function(r,t){return Rl(r,t,r.max,!1)}},{name:"max",dependsOn:"inputType",nextToProperty:"*min",visibleIf:function(r){return Et(r)},onSettingValue:function(r,t){return Rl(r,r.min,t,!0)},onPropertyEditorUpdate:function(r,t){Dl(r,t)}},{name:"minValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(r){return Et(r)}},{name:"maxValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(r){return Et(r)}},{name:"minErrorText",serializationProperty:"locMinErrorText",dependsOn:"inputType",visibleIf:function(r){return Et(r)}},{name:"maxErrorText",serializationProperty:"locMaxErrorText",dependsOn:"inputType",visibleIf:function(r){return Et(r)}},{name:"inputTextAlignment",default:"auto",choices:["left","right","auto"]},{name:"maskType",default:"none",visibleIndex:0,dependsOn:"inputType",visibleIf:function(r){return r.inputType==="text"||r.inputType==="tel"},choices:function(r){var t=El();return t}},{name:"maskSettings:masksettings",className:"masksettings",visibleIndex:1,dependsOn:["inputType","maskType"],visibleIf:function(r){return r.inputType==="text"||r.inputType==="tel"},onGetValue:function(r){return r.maskSettings.getData()},onSetValue:function(r,t){r.maskSettings.setData(t)}},{name:"step:number",dependsOn:"inputType",visibleIf:function(r){return r?r.inputType==="number"||r.inputType==="range":!1}},{name:"maxLength:number",default:-1,dependsOn:"inputType",visibleIf:function(r){return r?r.isTextInput:!1}},{name:"placeholder",alternativeName:"placeHolder",serializationProperty:"locPlaceholder",dependsOn:"inputType",visibleIf:function(r){return r?r.isTextInput:!1}},{name:"dataList:string[]",serializationProperty:"locDataList",dependsOn:"inputType",visibleIf:function(r){return r?r.inputType==="text":!1}}],function(){return new tr("")},"textbase"),Se.Instance.registerQuestion("text",function(r){return new tr(r)});var kn=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Lo=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ml=function(r){kn(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"a11y_input_ariaLabel",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a11y_input_ariaLabelledBy",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a11y_input_ariaDescribedBy",{get:function(){return null},enumerable:!1,configurable:!0}),t}(tr),Fo=function(r){kn(t,r);function t(e,n){e===void 0&&(e=null),n===void 0&&(n=null);var i=r.call(this)||this;return i.focusIn=function(){i.editor.focusIn()},i.editorValue=i.createEditor(e),i.maskSettings=i.editorValue.maskSettings,i.editor.questionTitleTemplateCallback=function(){return""},i.editor.titleLocation="left",n&&(i.title=n),i.editor.onPropertyChanged.add(function(o,l){i.onPropertyChanged.fire(i,l)}),i}return t.prototype.getType=function(){return"multipletextitem"},Object.defineProperty(t.prototype,"id",{get:function(){return this.editor.id},enumerable:!1,configurable:!0}),t.prototype.getOriginalObj=function(){return this.editor},Object.defineProperty(t.prototype,"name",{get:function(){return this.editor.name},set:function(e){this.editor.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"question",{get:function(){return this.data},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editor",{get:function(){return this.editorValue},enumerable:!1,configurable:!0}),t.prototype.createEditor=function(e){return new Ml(e)},t.prototype.addUsedLocales=function(e){r.prototype.addUsedLocales.call(this,e),this.editor.addUsedLocales(e)},t.prototype.localeChanged=function(){r.prototype.localeChanged.call(this),this.editor.localeChanged()},t.prototype.locStrsChanged=function(){r.prototype.locStrsChanged.call(this),this.editor.locStrsChanged()},t.prototype.setData=function(e){this.data=e,e&&(this.editor.defaultValue=e.getItemDefaultValue(this.name),this.editor.setSurveyImpl(this),this.editor.parent=e,this.editor.setParentQuestion(e))},Object.defineProperty(t.prototype,"isRequired",{get:function(){return this.editor.isRequired},set:function(e){this.editor.isRequired=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this.editor.inputType},set:function(e){this.editor.inputType=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.editor.title},set:function(e){this.editor.title=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTitle",{get:function(){return this.editor.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullTitle",{get:function(){return this.editor.fullTitle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLength",{get:function(){return this.editor.maxLength},set:function(e){this.editor.maxLength=e},enumerable:!1,configurable:!0}),t.prototype.getMaxLength=function(){var e=this.getSurvey();return D.getMaxLength(this.maxLength,e?e.maxTextLength:-1)},Object.defineProperty(t.prototype,"placeholder",{get:function(){return this.editor.placeholder},set:function(e){this.editor.placeholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPlaceholder",{get:function(){return this.editor.locPlaceholder},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"placeHolder",{get:function(){return this.placeholder},set:function(e){this.placeholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPlaceHolder",{get:function(){return this.locPlaceholder},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requiredErrorText",{get:function(){return this.editor.requiredErrorText},set:function(e){this.editor.requiredErrorText=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locRequiredErrorText",{get:function(){return this.editor.locRequiredErrorText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.editor.size},set:function(e){this.editor.size=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultValueExpression",{get:function(){return this.editor.defaultValueExpression},set:function(e){this.editor.defaultValueExpression=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minValueExpression",{get:function(){return this.editor.minValueExpression},set:function(e){this.editor.minValueExpression=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxValueExpression",{get:function(){return this.editor.maxValueExpression},set:function(e){this.editor.maxValueExpression=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"validators",{get:function(){return this.editor.validators},set:function(e){this.editor.validators=e},enumerable:!1,configurable:!0}),t.prototype.getValidators=function(){return this.validators},Object.defineProperty(t.prototype,"maskType",{get:function(){return this.editor.maskType},set:function(e){this.editor.maskType=e,this.maskSettings=this.editor.maskSettings},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maskSettings",{get:function(){return this.getPropertyValue("maskSettings")},set:function(e){this.setPropertyValue("maskSettings",e),this.editor.maskSettings!==e&&(this.editor.maskSettings=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputTextAlignment",{get:function(){return this.editor.inputTextAlignment},set:function(e){this.editor.inputTextAlignment=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.data?this.data.getMultipleTextValue(this.name):null},set:function(e){this.data!=null&&this.data.setMultipleTextValue(this.name,e)},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return this.editor.isEmpty()},t.prototype.onValueChanged=function(e){this.valueChangedCallback&&this.valueChangedCallback(e)},t.prototype.getSurveyData=function(){return this},t.prototype.getSurvey=function(){return this.data?this.data.getSurvey():null},t.prototype.getTextProcessor=function(){return this.data?this.data.getTextProcessor():null},t.prototype.getValue=function(e){return this.data?this.data.getMultipleTextValue(e):null},t.prototype.setValue=function(e,n){this.data&&this.data.setMultipleTextValue(e,n)},t.prototype.getVariable=function(e){},t.prototype.setVariable=function(e,n){},t.prototype.getComment=function(e){return null},t.prototype.setComment=function(e,n){},t.prototype.getAllValues=function(){return this.data?this.data.getAllValues():this.value},t.prototype.getFilteredValues=function(){return this.getAllValues()},t.prototype.getFilteredProperties=function(){return{survey:this.getSurvey()}},t.prototype.findQuestionByName=function(e){var n=this.getSurvey();return n?n.getQuestionByName(e):null},t.prototype.getEditingSurveyElement=function(){},t.prototype.getValidatorTitle=function(){return this.title},Object.defineProperty(t.prototype,"validatedValue",{get:function(){return this.value},set:function(e){this.value=e},enumerable:!1,configurable:!0}),t.prototype.getDataFilteredValues=function(){return this.getFilteredValues()},t.prototype.getDataFilteredProperties=function(){return this.getFilteredProperties()},t}(be),nr=function(r){kn(t,r);function t(e){var n=r.call(this,e)||this;return n.isMultipleItemValueChanging=!1,n.createNewArray("items",function(i){i.setData(n),n.survey&&n.survey.multipleTextItemAdded(n,i)}),n.registerPropertyChangedHandlers(["items","colCount","itemErrorLocation"],function(){n.calcVisibleRows()}),n.registerPropertyChangedHandlers(["itemSize"],function(){n.updateItemsSize()}),n}return t.addDefaultItems=function(e){for(var n=Se.DefaultMutlipleTextItems,i=0;i<n.length;i++)e.addItem(n[i])},t.prototype.getType=function(){return"multipletext"},t.prototype.setSurveyImpl=function(e,n){r.prototype.setSurveyImpl.call(this,e,n);for(var i=0;i<this.items.length;i++)this.items[i].setData(this)},Object.defineProperty(t.prototype,"isAllowTitleLeft",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.getPropertyValue("id")},set:function(e){var n;(n=this.items)===null||n===void 0||n.map(function(i,o){return i.editor.id=e+"_"+o}),this.setPropertyValue("id",e)},enumerable:!1,configurable:!0}),t.prototype.onSurveyLoad=function(){this.editorsOnSurveyLoad(),r.prototype.onSurveyLoad.call(this)},t.prototype.setQuestionValue=function(e,n){n===void 0&&(n=!0),r.prototype.setQuestionValue.call(this,e,n),this.performForEveryEditor(function(i){i.editor.updateValueFromSurvey(i.value)}),this.updateIsAnswered()},t.prototype.onSurveyValueChanged=function(e){r.prototype.onSurveyValueChanged.call(this,e),this.performForEveryEditor(function(n){n.editor.onSurveyValueChanged(n.value)})},t.prototype.updateItemsSize=function(){this.performForEveryEditor(function(e){e.editor.updateInputSize()})},t.prototype.editorsOnSurveyLoad=function(){this.performForEveryEditor(function(e){e.editor.onSurveyLoad()})},t.prototype.performForEveryEditor=function(e){for(var n=0;n<this.items.length;n++){var i=this.items[n];i.editor&&e(i)}},Object.defineProperty(t.prototype,"items",{get:function(){return this.getPropertyValue("items")},set:function(e){this.setPropertyValue("items",e)},enumerable:!1,configurable:!0}),t.prototype.addItem=function(e,n){n===void 0&&(n=null);var i=this.createTextItem(e,n);return this.items.push(i),i},t.prototype.getItemByName=function(e){for(var n=0;n<this.items.length;n++)if(this.items[n].name==e)return this.items[n];return null},t.prototype.getElementsInDesign=function(e){e===void 0&&(e=!1);var n;return n=r.prototype.getElementsInDesign.call(this,e),n.concat(this.items)},t.prototype.addConditionObjectsByContext=function(e,n){for(var i=0;i<this.items.length;i++){var o=this.items[i];e.push({name:this.getValueName()+"."+o.name,text:this.processedTitle+"."+o.fullTitle,question:this})}},t.prototype.collectNestedQuestionsCore=function(e,n){this.items.forEach(function(i){return i.editor.collectNestedQuestions(e,n)})},t.prototype.getConditionJson=function(e,n){if(e===void 0&&(e=null),n===void 0&&(n=null),!n)return r.prototype.getConditionJson.call(this,e);var i=this.getItemByName(n);if(!i)return null;var o=new nt().toJsonObject(i);return o.type="text",o},t.prototype.locStrsChanged=function(){r.prototype.locStrsChanged.call(this);for(var e=0;e<this.items.length;e++)this.items[e].locStrsChanged()},t.prototype.localeChanged=function(){r.prototype.localeChanged.call(this);for(var e=0;e<this.items.length;e++)this.items[e].localeChanged()},Object.defineProperty(t.prototype,"itemErrorLocation",{get:function(){return this.getPropertyValue("itemErrorLocation")},set:function(e){this.setPropertyValue("itemErrorLocation",e)},enumerable:!1,configurable:!0}),t.prototype.getQuestionErrorLocation=function(){return this.itemErrorLocation!=="default"?this.itemErrorLocation:this.getErrorLocation()},Object.defineProperty(t.prototype,"showItemErrorOnTop",{get:function(){return this.getQuestionErrorLocation()=="top"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showItemErrorOnBottom",{get:function(){return this.getQuestionErrorLocation()=="bottom"},enumerable:!1,configurable:!0}),t.prototype.getChildErrorLocation=function(e){return this.getQuestionErrorLocation()},t.prototype.isNewValueCorrect=function(e){return D.isValueObject(e,!0)},t.prototype.supportGoNextPageAutomatic=function(){for(var e=0;e<this.items.length;e++)if(this.items[e].isEmpty())return!1;return!0},Object.defineProperty(t.prototype,"colCount",{get:function(){return this.getPropertyValue("colCount")},set:function(e){e<1||e>5||this.setPropertyValue("colCount",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemSize",{get:function(){return this.getPropertyValue("itemSize")},set:function(e){this.setPropertyValue("itemSize",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemTitleWidth",{get:function(){return this.getPropertyValue("itemTitleWidth")||""},set:function(e){this.setPropertyValue("itemTitleWidth",e)},enumerable:!1,configurable:!0}),t.prototype.onRowCreated=function(e){return e},t.prototype.calcVisibleRows=function(){for(var e=this.colCount,n=this.items,i=0,o,l,u=[],d=0;d<n.length;d++)i==0&&(o=this.onRowCreated(new jo),l=this.onRowCreated(new Al),this.showItemErrorOnTop?(u.push(l),u.push(o)):(u.push(o),u.push(l))),o.cells.push(new Bo(n[d],this)),l.cells.push(new kl(n[d],this)),i++,(i>=e||d==n.length-1)&&(i=0,l.onAfterCreated());this.rows=u},t.prototype.getRows=function(){return D.isValueEmpty(this.rows)&&this.calcVisibleRows(),this.rows},t.prototype.onValueChanged=function(){r.prototype.onValueChanged.call(this),this.onItemValueChanged()},t.prototype.createTextItem=function(e,n){return new Fo(e,n)},t.prototype.onItemValueChanged=function(){if(!this.isMultipleItemValueChanging)for(var e=0;e<this.items.length;e++){var n=null;this.value&&this.items[e].name in this.value&&(n=this.value[this.items[e].name]),this.items[e].onValueChanged(n)}},t.prototype.runCondition=function(e,n){r.prototype.runCondition.call(this,e,n),this.items.forEach(function(i){return i.editor.runCondition(e,n)})},t.prototype.getIsRunningValidators=function(){if(r.prototype.getIsRunningValidators.call(this))return!0;for(var e=0;e<this.items.length;e++)if(this.items[e].editor.isRunningValidators)return!0;return!1},t.prototype.hasErrors=function(e,n){var i=this;e===void 0&&(e=!0),n===void 0&&(n=null);for(var o=!1,l=0;l<this.items.length;l++)this.items[l].editor.onCompletedAsyncValidators=function(u){i.raiseOnCompletedAsyncValidators()},!(n&&n.isOnValueChanged===!0&&this.items[l].editor.isEmpty())&&(o=this.items[l].editor.hasErrors(e,n)||o);return r.prototype.hasErrors.call(this,e)||o},t.prototype.getAllErrors=function(){for(var e=r.prototype.getAllErrors.call(this),n=0;n<this.items.length;n++){var i=this.items[n].editor.getAllErrors();i&&i.length>0&&(e=e.concat(i))}return e},t.prototype.clearErrors=function(){r.prototype.clearErrors.call(this);for(var e=0;e<this.items.length;e++)this.items[e].editor.clearErrors()},t.prototype.getContainsErrors=function(){var e=r.prototype.getContainsErrors.call(this);if(e)return e;for(var n=this.items,i=0;i<n.length;i++)if(n[i].editor.containsErrors)return!0;return!1},t.prototype.getIsAnswered=function(){if(!r.prototype.getIsAnswered.call(this))return!1;for(var e=0;e<this.items.length;e++){var n=this.items[e].editor;if(n.isVisible&&!n.isAnswered)return!1}return!0},t.prototype.getProgressInfo=function(){for(var e=[],n=0;n<this.items.length;n++)e.push(this.items[n].editor);return et.getProgressInfoByElements(e,this.isRequired)},t.prototype.getDisplayValueCore=function(e,n){if(!n)return n;for(var i={},o=0;o<this.items.length;o++){var l=this.items[o],u=n[l.name];if(!D.isValueEmpty(u)){var d=l.name;e&&l.title&&(d=l.title),i[d]=l.editor.getDisplayValue(e,u)}}return i},t.prototype.allowMobileInDesignMode=function(){return!0},t.prototype.getMultipleTextValue=function(e){return this.value?this.value[e]:null},t.prototype.setMultipleTextValue=function(e,n){this.isMultipleItemValueChanging=!0,this.isValueEmpty(n)&&(n=void 0);var i=this.value;i||(i={}),i[e]=n,this.setNewValue(i),this.isMultipleItemValueChanging=!1},t.prototype.getItemDefaultValue=function(e){return this.defaultValue?this.defaultValue[e]:null},t.prototype.getTextProcessor=function(){return this.textProcessor},t.prototype.getAllValues=function(){return this.data?this.data.getAllValues():null},t.prototype.getIsRequiredText=function(){return this.survey?this.survey.requiredText:""},t.prototype.addElement=function(e,n){},t.prototype.removeElement=function(e){return!1},t.prototype.getQuestionTitleLocation=function(){return"left"},t.prototype.getQuestionTitleWidth=function(){},t.prototype.getColumsForElement=function(e){return[]},t.prototype.updateColumns=function(){},t.prototype.getQuestionStartIndex=function(){return this.getStartIndex()},t.prototype.getChildrenLayoutType=function(){return"row"},t.prototype.elementWidthChanged=function(e){},Object.defineProperty(t.prototype,"elements",{get:function(){return[]},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return-1},t.prototype.ensureRowsVisibility=function(){},t.prototype.validateContainerOnly=function(){},t.prototype.onQuestionValueChanged=function(e){},t.prototype.getItemLabelCss=function(e){return new F().append(this.cssClasses.itemLabel).append(this.cssClasses.itemLabelDisabled,this.isDisabledStyle).append(this.cssClasses.itemLabelReadOnly,this.isReadOnlyStyle).append(this.cssClasses.itemLabelPreview,this.isPreviewStyle).append(this.cssClasses.itemLabelAnswered,e.editor.isAnswered).append(this.cssClasses.itemLabelAllowFocus,!this.isDesignMode).append(this.cssClasses.itemLabelOnError,e.editor.errors.length>0).append(this.cssClasses.itemWithCharacterCounter,!!e.getMaxLength()).toString()},t.prototype.getItemCss=function(){return new F().append(this.cssClasses.item).toString()},t.prototype.getItemTitleCss=function(){return new F().append(this.cssClasses.itemTitle).toString()},Lo([Xe()],t.prototype,"rows",void 0),t}(tt),jo=function(r){kn(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.isVisible=!0,e.cells=[],e}return Lo([V()],t.prototype,"isVisible",void 0),Lo([Xe()],t.prototype,"cells",void 0),t}(be),Al=function(r){kn(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.onAfterCreated=function(){var e=this,n=function(){e.isVisible=e.cells.some(function(i){var o,l;return((o=i.item)===null||o===void 0?void 0:o.editor)&&((l=i.item)===null||l===void 0?void 0:l.editor.hasVisibleErrors)})};this.cells.forEach(function(i){var o,l;!((o=i.item)===null||o===void 0)&&o.editor&&((l=i.item)===null||l===void 0||l.editor.registerFunctionOnPropertyValueChanged("hasVisibleErrors",n))}),n()},t}(jo),Bo=function(){function r(t,e){this.item=t,this.question=e,this.isErrorsCell=!1}return r.prototype.getClassName=function(){return new F().append(this.question.cssClasses.cell).toString()},Object.defineProperty(r.prototype,"className",{get:function(){return this.getClassName()},enumerable:!1,configurable:!0}),r}(),kl=function(r){kn(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.isErrorsCell=!0,e}return t.prototype.getClassName=function(){return new F().append(r.prototype.getClassName.call(this)).append(this.question.cssClasses.cellError).append(this.question.cssClasses.cellErrorTop,this.question.showItemErrorOnTop).append(this.question.cssClasses.cellErrorBottom,this.question.showItemErrorOnBottom).toString()},t}(Bo);L.addClass("multipletextitem",[{name:"!name",isUnique:!0},"isRequired:boolean",{name:"placeholder",alternativeName:"placeHolder",serializationProperty:"locPlaceholder"},{name:"inputType",default:"text",choices:R.questions.inputTypes},{name:"maskType",default:"none",visibleIndex:0,dependsOn:"inputType",visibleIf:function(r){return r.inputType==="text"},choices:function(r){var t=El();return t}},{name:"maskSettings:masksettings",className:"masksettings",visibleIndex:1,dependsOn:"inputType",visibleIf:function(r){return r.inputType==="text"},onGetValue:function(r){return r.maskSettings.getData()},onSetValue:function(r,t){r.maskSettings.setData(t)}},{name:"inputTextAlignment",default:"auto",choices:["left","right","auto"]},{name:"title",serializationProperty:"locTitle"},{name:"maxLength:number",default:-1},{name:"size:number",minValue:0},{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},{name:"defaultValueExpression:expression",visible:!1},{name:"minValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(r){return Et(r)}},{name:"maxValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(r){return Et(r)}},{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"}],function(){return new Fo("")}),L.addClass("multipletext",[{name:"!items:textitems",className:"multipletextitem",isArray:!0},{name:"itemSize:number",minValue:0,visible:!1},{name:"colCount:number",default:1,choices:[1,2,3,4,5]},{name:"itemErrorLocation",default:"default",choices:["default","top","bottom"],visible:!1},{name:"itemTitleWidth",category:"layout"}],function(){return new nr("")},"question"),Se.Instance.registerQuestion("multipletext",function(r){var t=new nr(r);return nr.addDefaultItems(t),t});var Zf=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ll=function(r){Zf(t,r);function t(e){e===void 0&&(e="");var n=r.call(this,e)||this;return n.createLocalizableString("content",n,!0),n.registerPropertyChangedHandlers(["content"],function(){n.onContentChanged()}),n}return t.prototype.getType=function(){return"flowpanel"},t.prototype.getChildrenLayoutType=function(){return"flow"},t.prototype.onSurveyLoad=function(){r.prototype.onSurveyLoad.call(this),this.onContentChanged()},Object.defineProperty(t.prototype,"content",{get:function(){return this.getLocalizableStringText("content")},set:function(e){this.setLocalizableStringText("content",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locContent",{get:function(){return this.getLocalizableString("content")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"html",{get:function(){return this.getPropertyValue("html","")},set:function(e){this.setPropertyValue("html",e)},enumerable:!1,configurable:!0}),t.prototype.onContentChanged=function(){var e="";this.onCustomHtmlProducing?e=this.onCustomHtmlProducing():e=this.produceHtml(),this.html=e,this.contentChangedCallback&&this.contentChangedCallback()},t.prototype.produceHtml=function(){for(var e=[],n=/{(.*?(element:)[^$].*?)}/g,i=this.content,o=0,l=null;(l=n.exec(i))!==null;){l.index>o&&(e.push(i.substring(o,l.index)),o=l.index);var u=this.getQuestionFromText(l[0]);u?e.push(this.getHtmlForQuestion(u)):e.push(i.substring(o,l.index+l[0].length)),o=l.index+l[0].length}return o<i.length&&e.push(i.substring(o,i.length)),e.join("").replace(new RegExp("<br>","g"),"<br/>")},t.prototype.getQuestionFromText=function(e){return e=e.substring(1,e.length-1),e=e.replace(t.contentElementNamePrefix,"").trim(),this.getQuestionByName(e)},t.prototype.getHtmlForQuestion=function(e){return this.onGetHtmlForQuestion?this.onGetHtmlForQuestion(e):""},t.prototype.getQuestionHtmlId=function(e){return this.name+"_"+e.id},t.prototype.onAddElement=function(e,n){r.prototype.onAddElement.call(this,e,n),this.addElementToContent(e),e.renderWidth=""},t.prototype.onRemoveElement=function(e){var n=this.getElementContentText(e);this.content=this.content.replace(n,""),r.prototype.onRemoveElement.call(this,e)},t.prototype.dragDropMoveElement=function(e,n,i){},t.prototype.addElementToContent=function(e){if(!this.isLoadingFromJson){var n=this.getElementContentText(e);this.insertTextAtCursor(n)||(this.content=this.content+n)}},t.prototype.insertTextAtCursor=function(e,n){if(n===void 0&&(n=null),!this.isDesignMode||!p.isAvailable())return!1;var i=p.getSelection();if(i.getRangeAt&&i.rangeCount){var o=i.getRangeAt(0);o.deleteContents();var l=new Text(e);o.insertNode(l);var u=this;if(u.getContent){var d=u.getContent(n);this.content=d}return!0}return!1},t.prototype.getElementContentText=function(e){return"{"+t.contentElementNamePrefix+e.name+"}"},t.contentElementNamePrefix="element:",t}(ri);L.addClass("flowpanel",[{name:"content:html",serializationProperty:"locContent"}],function(){return new Ll},"panel");var Jf=function(){function r(){}return r.getIconCss=function(t,e){return new F().append(t.icon).append(t.iconExpanded,!e).toString()},r}(),Kf=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ir=function(r){Kf(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getType=function(){return"nonvalue"},Object.defineProperty(t.prototype,"hasInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTitle",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.getTitleLocation=function(){return""},Object.defineProperty(t.prototype,"hasComment",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.hasErrors=function(e,n){return e===void 0&&(e=!0),n===void 0&&(n=null),!1},t.prototype.getAllErrors=function(){return[]},t.prototype.supportGoNextPageAutomatic=function(){return!1},t.prototype.addConditionObjectsByContext=function(e,n){},t.prototype.getConditionJson=function(e,n){return e===void 0&&(e=null),n===void 0&&(n=null),null},Object.defineProperty(t.prototype,"ariaRole",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaRequired",{get:function(){return null},enumerable:!1,configurable:!0}),t}(tt);L.addClass("nonvalue",[{name:"title",visible:!1},{name:"description",visible:!1},{name:"valueName",visible:!1},{name:"enableIf",visible:!1},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"clearIfInvisible",visible:!1},{name:"isRequired",visible:!1,isSerializable:!1},{name:"requiredErrorText",visible:!1},{name:"readOnly",visible:!1},{name:"requiredIf",visible:!1},{name:"validators",visible:!1},{name:"titleLocation",visible:!1},{name:"showCommentArea",visible:!1},{name:"useDisplayValuesInDynamicTexts",alternativeName:"useDisplayValuesInTitle",visible:!1}],function(){return new ir("")},"question");var Yf=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Fl=function(r){Yf(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getType=function(){return"empty"},t}(tt);L.addClass("empty",[],function(){return new Fl("")},"question");var Xf=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ai=function(r){Xf(t,r);function t(e){var n=r.call(this,e)||this;return n.invisibleOldValues={},n.isChangingValueOnClearIncorrect=!1,n.selectAllItemValue=new de(""),n.selectAllItemValue.id="selectall",n.selectAllItemText=n.createLocalizableString("selectAllText",n.selectAllItem,!0,"selectAllItemText"),n.selectAllItem.locOwner=n,n.selectAllItem.setLocText(n.selectAllItemText),n.registerPropertyChangedHandlers(["showSelectAllItem","selectAllText"],function(){n.onVisibleChoicesChanged()}),n}return t.prototype.getDefaultItemComponent=function(){return"survey-checkbox-item"},t.prototype.getType=function(){return"checkbox"},t.prototype.onCreating=function(){r.prototype.onCreating.call(this),this.createNewArray("renderedValue"),this.createNewArray("value")},t.prototype.getFirstInputElementId=function(){return this.inputId+"_0"},Object.defineProperty(t.prototype,"valuePropertyName",{get:function(){return this.getPropertyValue("valuePropertyName")},set:function(e){this.setPropertyValue("valuePropertyName",e)},enumerable:!1,configurable:!0}),t.prototype.getQuestionFromArray=function(e,n){if(e&&e===this.valuePropertyName){var i=this.value;if(Array.isArray(i)&&n<i.length)return this}return null},Object.defineProperty(t.prototype,"selectAllItem",{get:function(){return this.selectAllItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectAllText",{get:function(){return this.getLocalizableStringText("selectAllText")},set:function(e){this.setLocalizableStringText("selectAllText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locSelectAllText",{get:function(){return this.getLocalizableString("selectAllText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showSelectAllItem",{get:function(){return this.getPropertyValue("showSelectAllItem")},set:function(e){this.setPropertyValue("showSelectAllItem",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasSelectAll",{get:function(){return this.showSelectAllItem},set:function(e){this.showSelectAllItem=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAllSelected",{get:function(){return this.allElementsSelected()},set:function(e){e?this.selectAll():this.clearValue(!0)},enumerable:!1,configurable:!0}),t.prototype.toggleSelectAll=function(){this.isAllSelected=!this.isAllSelected},t.prototype.allElementsSelected=function(){for(var e=this.getNoneItems(),n=0;n<e.length;n++)if(this.isItemSelected(e[n]))return!1;var i=this.getVisibleEnableItems();if(i.length===0)return!1;var o=this.value;if(!o||!Array.isArray(o)||o.length===0||o.length<i.length)return!1;for(var l=[],n=0;n<o.length;n++)l.push(this.getRealValue(o[n]));for(var n=0;n<i.length;n++)if(l.indexOf(i[n].value)<0)return!1;return!0},t.prototype.selectAll=function(){for(var e=[],n=this.getVisibleEnableItems(),i=0;i<n.length;i++)e.push(n[i].value);this.renderedValue=e},t.prototype.clickItemHandler=function(e,n){if(!this.isReadOnlyAttr)if(e===this.selectAllItem)n===!0||n===!1?this.isAllSelected=n:this.toggleSelectAll();else if(this.isNoneItem(e))this.renderedValue=n?[e.value]:[];else{var i=[].concat(this.renderedValue||[]),o=i.indexOf(e.value);n?o<0&&i.push(e.value):o>-1&&i.splice(o,1),this.renderedValue=i}},t.prototype.isItemSelectedCore=function(e){if(e===this.selectAllItem)return this.isAllSelected;var n=this.renderedValue;if(!n||!Array.isArray(n))return!1;for(var i=0;i<n.length;i++)if(this.isTwoValueEquals(n[i],e.value))return!0;return!1},t.prototype.hasUnknownValueItem=function(e,n,i,o){n===void 0&&(n=!1),i===void 0&&(i=!0),o===void 0&&(o=!1);var l=this.valuePropertyName;return l&&typeof e=="object"&&e[l]!==void 0&&(e=e[l]),r.prototype.hasUnknownValueItem.call(this,e,n,i,o)},t.prototype.convertFuncValuetoQuestionValue=function(e){var n=this;if(this.valuePropertyName&&Array.isArray(e)&&e.length>0){var i=[];e.forEach(function(o){var l=typeof o=="object",u=l?o:{};l||(u[n.valuePropertyName]=o),i.push(u)}),e=i}return r.prototype.convertDefaultValue.call(this,e)},t.prototype.getRealValue=function(e){return e&&(this.valuePropertyName?e[this.valuePropertyName]:e)},Object.defineProperty(t.prototype,"isValueArray",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxSelectedChoices",{get:function(){return this.getPropertyValue("maxSelectedChoices")},set:function(e){e<0&&(e=0),this.setPropertyValue("maxSelectedChoices",e),this.filterItems()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minSelectedChoices",{get:function(){return this.getPropertyValue("minSelectedChoices")},set:function(e){e<0&&(e=0),this.setPropertyValue("minSelectedChoices",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedChoices",{get:function(){var e=this.renderedValue,n=this.visibleChoices,i=this.selectedItemValues;if(this.isEmpty())return[];var o=this.defaultSelectedItemValues?[].concat(this.defaultSelectedItemValues,n):n,l=e.map(function(d){return de.getItemByValue(o,d)}).filter(function(d){return!!d});!l.length&&!i&&this.updateSelectedItemValues();var u=this.validateItemValues(l);return u},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedItems",{get:function(){return this.selectedChoices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasFilteredValue",{get:function(){return!!this.valuePropertyName},enumerable:!1,configurable:!0}),t.prototype.getFilteredName=function(){var e=r.prototype.getFilteredName.call(this);return this.hasFilteredValue&&(e+="-unwrapped"),e},t.prototype.getFilteredValue=function(){return this.hasFilteredValue?this.renderedValue:r.prototype.getFilteredValue.call(this)},t.prototype.getMultipleSelectedItems=function(){return this.selectedChoices},t.prototype.validateItemValues=function(e){var n=this;if(e.length)return e;var i=this.selectedItemValues;if(i&&i.length)return this.defaultSelectedItemValues=[].concat(i),i;var o=this.renderedValue;return o.map(function(l){return n.createItemValue(l)})},t.prototype.getAnswerCorrectIgnoreOrder=function(){return!0},t.prototype.onCheckForErrors=function(e,n,i){if(r.prototype.onCheckForErrors.call(this,e,n,i),!n&&this.minSelectedChoices>0&&this.checkMinSelectedChoicesUnreached()){var o=new ht(this.getLocalizationFormatString("minSelectError",this.minSelectedChoices),this);e.push(o)}},t.prototype.onVisibleChoicesChanged=function(){r.prototype.onVisibleChoicesChanged.call(this),this.updateSelectAllItemProps()},t.prototype.onEnableItemCallBack=function(e){return this.shouldCheckMaxSelectedChoices()?this.isItemSelected(e):!0},t.prototype.onAfterRunItemsEnableCondition=function(){if(this.updateSelectAllItemProps(),this.maxSelectedChoices<1){this.otherItem.setIsEnabled(!0);return}this.hasOther&&this.otherItem.setIsEnabled(!this.shouldCheckMaxSelectedChoices()||this.isOtherSelected)},t.prototype.updateSelectAllItemProps=function(){this.hasSelectAll&&this.selectAllItem.setIsEnabled(this.getSelectAllEnabled())},t.prototype.getSelectAllEnabled=function(){if(!this.hasSelectAll)return!0;var e=this.activeChoices,n=this.getVisibleEnableItems().length,i=this.maxSelectedChoices;return i>0&&i<n?!1:n>0},t.prototype.getVisibleEnableItems=function(){for(var e=new Array,n=this.activeChoices,i=0;i<n.length;i++){var o=n[i];o.isEnabled&&o.isVisible&&e.push(o)}return e},t.prototype.shouldCheckMaxSelectedChoices=function(){if(this.maxSelectedChoices<1)return!1;var e=this.value,n=Array.isArray(e)?e.length:0;return n>=this.maxSelectedChoices},t.prototype.checkMinSelectedChoicesUnreached=function(){if(this.minSelectedChoices<1)return!1;var e=this.value,n=Array.isArray(e)?e.length:0;return n<this.minSelectedChoices},t.prototype.getItemClassCore=function(e,n){var i=this.value;return n.isSelectAllItem=e===this.selectAllItem,new F().append(r.prototype.getItemClassCore.call(this,e,n)).append(this.cssClasses.itemSelectAll,n.isSelectAllItem).toString()},t.prototype.updateValueFromSurvey=function(e,n){r.prototype.updateValueFromSurvey.call(this,e,n),this.invisibleOldValues={}},t.prototype.setDefaultValue=function(){r.prototype.setDefaultValue.call(this);var e=this.defaultValue;if(Array.isArray(e))for(var n=0;n<e.length;n++){var i=this.getRealValue(e[n]);this.canClearValueAnUnknown(i)&&this.addIntoInvisibleOldValues(i)}},t.prototype.addIntoInvisibleOldValues=function(e){this.invisibleOldValues[e]=e},t.prototype.hasValueToClearIncorrectValues=function(){return r.prototype.hasValueToClearIncorrectValues.call(this)||!D.isValueEmpty(this.invisibleOldValues)},t.prototype.setNewValue=function(e){this.isChangingValueOnClearIncorrect||(this.invisibleOldValues={}),e=this.valueFromData(e);var n=this.value;e||(e=[]),n||(n=[]),!this.isTwoValueEquals(n,e)&&(this.removeNoneItemsValues(n,e),r.prototype.setNewValue.call(this,e))},t.prototype.getIsMultipleValue=function(){return!0},t.prototype.getCommentFromValue=function(e){var n=this.getFirstUnknownIndex(e);return n<0?"":e[n]},t.prototype.getStoreOthersAsComment=function(){return this.valuePropertyName?!1:r.prototype.getStoreOthersAsComment.call(this)},t.prototype.setOtherValueIntoValue=function(e){var n=this.getFirstUnknownIndex(e);if(n<0)return e;var i=this.otherItem.value,o=this.valuePropertyName;if(o){var l={};l[o]=i,i=l}return e.splice(n,1,i),e},t.prototype.getFirstUnknownIndex=function(e){if(!Array.isArray(e))return-1;for(var n=0;n<e.length;n++)if(this.hasUnknownValueItem(e[n],!1,!1))return n;return-1},t.prototype.removeNoneItemsValues=function(e,n){var i=[];if(this.showNoneItem&&i.push(this.noneItem.value),this.showRefuseItem&&i.push(this.refuseItem.value),this.showDontKnowItem&&i.push(this.dontKnowItem.value),i.length>0){var o=this.noneIndexInArray(e,i),l=this.noneIndexInArray(n,i);if(o.index>-1)if(o.val===l.val)n.length>0&&n.splice(l.index,1);else{var u=this.noneIndexInArray(n,[o.val]);u.index>-1&&u.index<n.length-1&&n.splice(u.index,1)}else if(l.index>-1&&n.length>1){var d=this.convertValueToObject([l.val])[0];n.splice(0,n.length,d)}}},t.prototype.noneIndexInArray=function(e,n){if(!Array.isArray(e))return{index:-1,val:void 0};for(var i=e.length-1;i>=0;i--){var o=n.indexOf(this.getRealValue(e[i]));if(o>-1)return{index:i,val:n[o]}}return{index:-1,val:void 0}},t.prototype.canUseFilteredChoices=function(){return!this.hasSelectAll&&r.prototype.canUseFilteredChoices.call(this)},t.prototype.supportSelectAll=function(){return this.isSupportProperty("showSelectAllItem")},t.prototype.addNonChoicesItems=function(e,n){r.prototype.addNonChoicesItems.call(this,e,n),this.supportSelectAll()&&this.addNonChoiceItem(e,this.selectAllItem,n,this.hasSelectAll,R.specialChoicesOrder.selectAllItem)},t.prototype.isBuiltInChoice=function(e){return e===this.selectAllItem||r.prototype.isBuiltInChoice.call(this,e)},t.prototype.isItemInList=function(e){return e==this.selectAllItem?this.hasSelectAll:r.prototype.isItemInList.call(this,e)},t.prototype.getDisplayValueEmpty=function(){var e=this;return de.getTextOrHtmlByValue(this.visibleChoices.filter(function(n){return n!=e.selectAllItemValue}),void 0)},t.prototype.getDisplayValueCore=function(e,n){if(!Array.isArray(n))return r.prototype.getDisplayValueCore.call(this,e,n);var i=this.valuePropertyName,o=function(l){var u=n[l];return i&&u[i]&&(u=u[i]),u};return this.getDisplayArrayValue(e,n,o)},t.prototype.clearIncorrectValuesCore=function(){this.clearIncorrectAndDisabledValues(!1)},t.prototype.clearDisabledValuesCore=function(){this.clearIncorrectAndDisabledValues(!0)},t.prototype.clearIncorrectAndDisabledValues=function(e){var n=this.value,i=!1,o=this.restoreValuesFromInvisible();if(!(!n&&o.length==0)){if(!Array.isArray(n)||n.length==0){if(this.isChangingValueOnClearIncorrect=!0,e||(this.hasComment?this.value=null:this.clearValue(!0)),this.isChangingValueOnClearIncorrect=!1,o.length==0)return;n=[]}for(var l=[],u=0;u<n.length;u++){var d=this.getRealValue(n[u]),m=this.canClearValueAnUnknown(d);!e&&!m||e&&!this.isValueDisabled(d)?l.push(n[u]):(i=!0,m&&this.addIntoInvisibleOldValues(n[u]))}for(var u=0;u<o.length;u++)l.push(o[u]),i=!0;i&&(this.isChangingValueOnClearIncorrect=!0,l.length==0?this.clearValue(!0):this.value=l,this.isChangingValueOnClearIncorrect=!1)}},t.prototype.restoreValuesFromInvisible=function(){for(var e=[],n=this.visibleChoices,i=0;i<n.length;i++){var o=n[i];if(o!==this.selectAllItem){var l=n[i].value;D.isTwoValueEquals(l,this.invisibleOldValues[l])&&(this.isItemSelected(o)||e.push(l),delete this.invisibleOldValues[l])}}return e},t.prototype.getConditionJson=function(e,n){e===void 0&&(e=null),n===void 0&&(n=null);var i=r.prototype.getConditionJson.call(this,e,n);return(e=="contains"||e=="notcontains")&&(i.type="radiogroup"),i.maxSelectedChoices=0,i.minSelectedChoices=0,i},t.prototype.isAnswerCorrect=function(){return D.isArrayContainsEqual(this.value,this.correctAnswer)},t.prototype.setDefaultValueWithOthers=function(){this.value=this.renderedValueFromDataCore(this.defaultValue)},t.prototype.getIsItemValue=function(e,n){return!e||!Array.isArray(e)?!1:e.indexOf(n.value)>=0},t.prototype.valueFromData=function(e){if(!e)return e;if(!Array.isArray(e))return[r.prototype.valueFromData.call(this,e)];for(var n=[],i=0;i<e.length;i++){var o=de.getItemByValue(this.activeChoices,e[i]);o?n.push(o.value):n.push(e[i])}return n},t.prototype.rendredValueFromData=function(e){return e=this.convertValueFromObject(e),r.prototype.rendredValueFromData.call(this,e)},t.prototype.rendredValueToData=function(e){return e=r.prototype.rendredValueToData.call(this,e),this.convertValueToObject(e)},t.prototype.convertValueFromObject=function(e){return this.valuePropertyName?D.convertArrayObjectToValue(e,this.valuePropertyName):e},t.prototype.convertValueToObject=function(e){if(!this.valuePropertyName)return e;var n=void 0;return this.survey&&this.survey.questionsByValueName(this.getValueName()).length>1&&(n=this.data.getValue(this.getValueName())),D.convertArrayValueToObject(e,this.valuePropertyName,n)},t.prototype.renderedValueFromDataCore=function(e){if((!e||!Array.isArray(e))&&(e=[]),!this.hasActiveChoices)return e;for(var n=0;n<e.length;n++){if(e[n]==this.otherItem.value)return e;if(this.hasUnknownValueItem(e[n],!0,!1)){this.otherValue=e[n];var i=e.slice();return i[n]=this.otherItem.value,i}}return e},t.prototype.rendredValueToDataCore=function(e){if(!e||!e.length)return e;for(var n=0;n<e.length;n++)if(e[n]==this.otherItem.value&&this.needConvertRenderedOtherToDataValue()){var i=e.slice();return i[n]=this.otherValue,i}return e},t.prototype.selectOtherValueFromComment=function(e){var n=[],i=this.renderedValue;if(Array.isArray(i))for(var o=0;o<i.length;o++)i[o]!==this.otherItem.value&&n.push(i[o]);e&&n.push(this.otherItem.value),this.value=n},Object.defineProperty(t.prototype,"checkBoxSvgPath",{get:function(){return"M5,13l2-2l3,3l7-7l2,2l-9,9L5,13z"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNewA11yStructure",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a11y_input_ariaRole",{get:function(){return"group"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a11y_input_ariaRequired",{get:function(){return null},enumerable:!1,configurable:!0}),t}(oi);L.addClass("checkbox",[{name:"showSelectAllItem:boolean",alternativeName:"hasSelectAll"},{name:"separateSpecialChoices",visible:!0},{name:"maxSelectedChoices:number",default:0,onSettingValue:function(r,t){if(t<=0)return 0;var e=r.minSelectedChoices;return e>0&&t<e?e:t}},{name:"minSelectedChoices:number",default:0,onSettingValue:function(r,t){if(t<=0)return 0;var e=r.maxSelectedChoices;return e>0&&t>e?e:t}},{name:"selectAllText",serializationProperty:"locSelectAllText",dependsOn:"showSelectAllItem",visibleIf:function(r){return r.hasSelectAll}},{name:"valuePropertyName",category:"data"},{name:"itemComponent",visible:!1,default:"survey-checkbox-item"}],function(){return new ai("")},"checkboxbase"),Se.Instance.registerQuestion("checkbox",function(r){var t=new ai(r);return t.choices=Se.DefaultChoices,t});var eh=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),th=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},jl=function(r){eh(t,r);function t(e){var n=r.call(this,e)||this;return n.onItemClick=function(i){n.isItemDisabled(i)||(n.isExpanded=!1,n.isItemSelected(i)?(n.selectedItems.splice(n.selectedItems.indexOf(i),1)[0],n.onSelectionChanged&&n.onSelectionChanged(i,"removed")):(n.selectedItems.push(i),n.onSelectionChanged&&n.onSelectionChanged(i,"added")))},n.isItemDisabled=function(i){return i.enabled!==void 0&&!i.enabled},n.isItemSelected=function(i){return!!n.allowSelection&&n.selectedItems.filter(function(o){return n.areSameItems(o,i)}).length>0},n.setSelectedItems(e.selectedItems||[]),n}return t.prototype.updateItemState=function(){var e=this;this.actions.forEach(function(n){var i=e.isItemSelected(n);n.visible=e.hideSelectedItems?!i:!0})},t.prototype.updateState=function(){var e=this;this.updateItemState(),this.isEmpty=this.renderedActions.filter(function(n){return e.isItemVisible(n)}).length===0},t.prototype.setSelectedItems=function(e){this.selectedItems=e,this.updateState()},t.prototype.selectFocusedItem=function(){r.prototype.selectFocusedItem.call(this),this.hideSelectedItems&&this.focusNextVisibleItem()},th([V()],t.prototype,"hideSelectedItems",void 0),t}($n),nh=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),rr=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Bl=function(r){nh(t,r);function t(e,n){var i=r.call(this,e,n)||this;return i.setHideSelectedItems(e.hideSelectedItems),i.syncFilterStringPlaceholder(),i.closeOnSelect=e.closeOnSelect,i}return t.prototype.locStrsChanged=function(){r.prototype.locStrsChanged.call(this),this.syncFilterStringPlaceholder()},t.prototype.updateListState=function(){this.listModel.updateState(),this.syncFilterStringPlaceholder()},t.prototype.syncFilterStringPlaceholder=function(){var e=this.getSelectedActions();e.length||this.question.selectedItems.length||this.listModel.focusedItem?this.filterStringPlaceholder=void 0:this.filterStringPlaceholder=this.question.placeholder},t.prototype.getSelectedActions=function(){return this.listModel.actions.filter(function(e){return e.selected})},t.prototype.getFocusFirstInputSelector=function(){return this.listModel.hideSelectedItems&&Qe&&!this.isValueEmpty(this.question.value)?this.itemSelector:r.prototype.getFocusFirstInputSelector.call(this)},t.prototype.getPopupCssClasses=function(){return"sv-multi-select-list"},t.prototype.createListModel=function(){var e=this,n=this.getAvailableItems(),i=this.onSelectionChanged;i||(i=function(u,d){e.resetFilterString(),u.id==="selectall"?e.selectAllItems():d==="added"&&u.value===R.noneItemValue?e.selectNoneItem():d==="added"?e.selectItem(u.value):d==="removed"&&e.deselectItem(u.value),e.popupRecalculatePosition(!1),e.closeOnSelect&&(e.popupModel.isVisible=!1)});var o={items:n,onSelectionChanged:i,allowSelection:!1,locOwner:this.question,elementId:this.listElementId},l=new jl(o);return this.setOnTextSearchCallbackForListModel(l),l.forceShowFilter=!0,l},t.prototype.resetFilterString=function(){r.prototype.resetFilterString.call(this),this.inputString=null,this.hintString=""},Object.defineProperty(t.prototype,"shouldResetAfterCancel",{get:function(){return Qe&&!this.closeOnSelect},enumerable:!1,configurable:!0}),t.prototype.createPopup=function(){var e=this;r.prototype.createPopup.call(this),this.popupModel.onFooterActionsCreated.add(function(n,i){e.shouldResetAfterCancel&&i.actions.push({id:"sv-dropdown-done-button",title:e.doneButtonCaption,innerCss:"sv-popup__button--done",needSpace:!0,action:function(){e.popupModel.isVisible=!1},enabled:new qe(function(){return!e.isTwoValueEquals(e.question.renderedValue,e.previousValue)})})}),this.popupModel.onVisibilityChanged.add(function(n,i){e.shouldResetAfterCancel&&i.isVisible&&(e.previousValue=[].concat(e.question.renderedValue||[]))}),this.popupModel.onCancel=function(){e.shouldResetAfterCancel&&(e.question.renderedValue=e.previousValue,e.updateListState())}},t.prototype.selectAllItems=function(){this.question.toggleSelectAll(),this.question.isAllSelected&&this.question.hideSelectedItems&&this.popupModel.hide(),this.updateListState()},t.prototype.selectNoneItem=function(){this.question.renderedValue=[R.noneItemValue],this.updateListState()},t.prototype.selectItem=function(e){var n=[].concat(this.question.renderedValue||[]);n.push(e),this.question.renderedValue=n,this.updateListState()},t.prototype.deselectItem=function(e){var n=[].concat(this.question.renderedValue||[]);n.splice(n.indexOf(e),1),this.question.renderedValue=n,this.applyHintString(this.listModel.focusedItem),this.updateListState()},t.prototype.clear=function(){r.prototype.clear.call(this),this.syncFilterStringPlaceholder()},t.prototype.onClear=function(e){r.prototype.onClear.call(this,e),this.updateListState()},t.prototype.setHideSelectedItems=function(e){this.listModel.hideSelectedItems=e,this.updateListState()},t.prototype.removeLastSelectedItem=function(){this.deselectItem(this.question.renderedValue[this.question.renderedValue.length-1]),this.popupRecalculatePosition(!1)},t.prototype.inputKeyHandler=function(e){e.keyCode===8&&!this.filterString&&(this.removeLastSelectedItem(),e.preventDefault(),e.stopPropagation())},t.prototype.setInputStringFromSelectedItem=function(e){this.question.searchEnabled&&(this.inputString=null)},t.prototype.focusItemOnClickAndPopup=function(){},t.prototype.onEscape=function(){},t.prototype.beforeScrollToFocusedItem=function(e){},t.prototype.afterScrollToFocusedItem=function(){var e;!((e=this.listModel.focusedItem)===null||e===void 0)&&e.selected?this.hintString="":this.applyHintString(this.listModel.focusedItem||this.question.selectedItem),this.syncFilterStringPlaceholder()},t.prototype.onPropertyChangedHandler=function(e,n){r.prototype.onPropertyChangedHandler.call(this,e,n),(n.name==="value"||n.name==="renderedValue"||n.name==="placeholder")&&this.syncFilterStringPlaceholder()},rr([V({defaultValue:""})],t.prototype,"filterStringPlaceholder",void 0),rr([V({defaultValue:!0})],t.prototype,"closeOnSelect",void 0),rr([V()],t.prototype,"previousValue",void 0),rr([V({localizable:{defaultStr:"tagboxDoneButtonCaption"}})],t.prototype,"doneButtonCaption",void 0),t}(Xi),ih=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),tn=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},No=function(r){ih(t,r);function t(e){var n=r.call(this,e)||this;return n.itemDisplayNameMap={},n.onOpened=n.addEvent(),n.ariaExpanded="false",n.createLocalizableString("placeholder",n,!1,!0),n.createLocalizableString("clearCaption",n,!1,!0),n.createLocalizableString("readOnlyText",n,!0),n.deselectAllItemText=n.createLocalizableString("deselectAllText",n.selectAllItem,!0,"deselectAllItemText"),n.registerPropertyChangedHandlers(["value","renderAs","showOtherItem","otherText","placeholder","choices","visibleChoices"],function(){n.updateReadOnlyText()}),n.updateReadOnlyText(),n}return t.prototype.locStrsChanged=function(){var e;r.prototype.locStrsChanged.call(this),this.updateReadOnlyText(),(e=this.dropdownListModelValue)===null||e===void 0||e.locStrsChanged()},t.prototype.updateReadOnlyText=function(){this.readOnlyText=this.displayValue||this.placeholder},t.prototype.getDefaultItemComponent=function(){return""},Object.defineProperty(t.prototype,"dropdownListModel",{get:function(){return this.dropdownListModelValue||(this.dropdownListModelValue=new Bl(this)),this.dropdownListModelValue},set:function(e){this.dropdownListModelValue=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this.getLocalizableStringText("placeholder")},set:function(e){this.setLocalizableStringText("placeholder",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPlaceholder",{get:function(){return this.getLocalizableString("placeholder")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clearCaption",{get:function(){return this.getLocalizableStringText("clearCaption")},set:function(e){this.setLocalizableStringText("clearCaption",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locClearCaption",{get:function(){return this.getLocalizableString("clearCaption")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"readOnlyText",{get:function(){return this.getLocalizableStringText("readOnlyText")},set:function(e){this.setLocalizableStringText("readOnlyText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locReadOnlyText",{get:function(){return this.getLocalizableString("readOnlyText")},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"tagbox"},Object.defineProperty(t.prototype,"ariaRole",{get:function(){return"combobox"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"popupModel",{get:function(){return this.dropdownListModel.popupModel},enumerable:!1,configurable:!0}),t.prototype.getControlClass=function(){return new F().append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.controlEditable,!this.isDisabledStyle&&!this.isReadOnlyStyle&&!this.isPreviewStyle).append(this.cssClasses.controlDisabled,this.isDisabledStyle).append(this.cssClasses.controlReadOnly,this.isReadOnlyStyle).append(this.cssClasses.controlPreview,this.isPreviewStyle).toString()},t.prototype.updateCssClasses=function(e,n){r.prototype.updateCssClasses.call(this,e,n),Yr(e,n)},t.prototype.calcCssClasses=function(e){var n=r.prototype.calcCssClasses.call(this,e);return this.dropdownListModelValue&&this.dropdownListModel.updateCssClasses(n.popup,n.list),n},t.prototype.onOpenedCallBack=function(){this.onOpened.fire(this,{question:this,choices:this.choices})},t.prototype.hasUnknownValue=function(e,n,i,o){return n===void 0&&(n=!1),i===void 0&&(i=!0),o===void 0&&(o=!1),this.choicesLazyLoadEnabled?!1:r.prototype.hasUnknownValue.call(this,e,n,i,o)},t.prototype.needConvertRenderedOtherToDataValue=function(){var e,n=(e=this.otherValue)===null||e===void 0?void 0:e.trim();return n?r.prototype.hasUnknownValue.call(this,n,!0,!1):!1},t.prototype.onVisibleChoicesChanged=function(){r.prototype.onVisibleChoicesChanged.call(this),this.dropdownListModelValue&&this.dropdownListModel.updateItems()},t.prototype.getItemIfChoicesNotContainThisValue=function(e,n){return this.choicesLazyLoadEnabled?this.createItemValue(e,n):r.prototype.getItemIfChoicesNotContainThisValue.call(this,e,n)},t.prototype.validateItemValues=function(e){var n=this;this.updateItemDisplayNameMap();var i=this.renderedValue;if(e.length&&e.length===i.length)return e;var o=this.selectedItemValues;if(!e.length&&o&&o.length)return this.defaultSelectedItemValues=[].concat(o),o;var l=e.map(function(u){return u.value});return i.filter(function(u){return l.indexOf(u)===-1}).forEach(function(u){var d=n.getItemIfChoicesNotContainThisValue(u,n.itemDisplayNameMap[u]);d&&e.push(d)}),e.sort(function(u,d){return i.indexOf(u.value)-i.indexOf(d.value)}),e},t.prototype.updateItemDisplayNameMap=function(){var e=this,n=function(i){e.itemDisplayNameMap[i.value]=i.text};(this.defaultSelectedItemValues||[]).forEach(n),(this.selectedItemValues||[]).forEach(n),this.visibleChoices.forEach(n)},t.prototype.getFirstInputElementId=function(){return this.inputId+(this.searchEnabled?"_0":"")},t.prototype.getInputId=function(){return this.inputId+"_0"},t.prototype.supportEmptyValidation=function(){return!0},t.prototype.onBlurCore=function(e){this.dropdownListModel.onBlur(e),r.prototype.onBlurCore.call(this,e)},t.prototype.onFocusCore=function(e){this.dropdownListModel.onFocus(e),r.prototype.onFocusCore.call(this,e)},t.prototype.allElementsSelected=function(){var e=r.prototype.allElementsSelected.call(this);return this.updateSelectAllItemText(e),e},t.prototype.updateSelectAllItemText=function(e){this.selectAllItem.setLocText(e?this.deselectAllItemText:this.selectAllItemText)},t.prototype.dispose=function(){r.prototype.dispose.call(this),this.dropdownListModelValue&&(this.dropdownListModelValue.dispose(),this.dropdownListModelValue=void 0)},t.prototype.clearValue=function(e){var n;r.prototype.clearValue.call(this,e),(n=this.dropdownListModelValue)===null||n===void 0||n.clear()},Object.defineProperty(t.prototype,"showClearButton",{get:function(){return this.allowClear&&!this.isEmpty()&&(!this.isDesignMode||R.supportCreatorV2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNewA11yStructure",{get:function(){return!1},enumerable:!1,configurable:!0}),tn([V()],t.prototype,"searchMode",void 0),tn([V()],t.prototype,"allowClear",void 0),tn([V({onSet:function(e,n){n.dropdownListModelValue&&n.dropdownListModel.setSearchEnabled(e)}})],t.prototype,"searchEnabled",void 0),tn([V({onSet:function(e,n){n.dropdownListModelValue&&n.dropdownListModel.setHideSelectedItems(e)}})],t.prototype,"hideSelectedItems",void 0),tn([V({onSet:function(e,n){n.dropdownListModelValue&&n.dropdownListModel.setChoicesLazyLoadEnabled(e)}})],t.prototype,"choicesLazyLoadEnabled",void 0),tn([V()],t.prototype,"choicesLazyLoadPageSize",void 0),tn([V({getDefaultValue:function(){return R.tagboxCloseOnSelect}})],t.prototype,"closeOnSelect",void 0),tn([V()],t.prototype,"textWrapEnabled",void 0),t}(ai);L.addClass("tagbox",[{name:"placeholder",serializationProperty:"locPlaceholder"},{name:"allowClear:boolean",default:!0},{name:"searchEnabled:boolean",default:!0},{name:"textWrapEnabled:boolean",default:!0},{name:"choicesLazyLoadEnabled:boolean",default:!1,visible:!1},{name:"choicesLazyLoadPageSize:number",default:25,visible:!1},{name:"hideSelectedItems:boolean",default:!1},{name:"closeOnSelect:boolean"},{name:"itemComponent",visible:!1,default:""},{name:"searchMode",default:"contains",choices:["contains","startsWith"]}],function(){return new No("")},"checkbox"),Se.Instance.registerQuestion("tagbox",function(r){var t=new No(r);return t.choices=Se.DefaultChoices,t});var rh=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Nl=function(r){rh(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.doDragOver=function(){if(e.parentElement.getType()!=="imagepicker"){var n=e.domAdapter.draggedElementShortcut.querySelector(".svc-item-value-controls__button");n.style.cursor="grabbing"}},e.doBanDropHere=function(){if(e.parentElement.getType()!=="imagepicker"){var n=e.domAdapter.draggedElementShortcut.querySelector(".svc-item-value-controls__button");n.style.cursor="not-allowed"}},e}return Object.defineProperty(t.prototype,"draggedElementType",{get:function(){return"item-value"},enumerable:!1,configurable:!0}),t.prototype.createDraggedElementShortcut=function(e,n,i){if(this.parentElement.getType()==="imagepicker")return this.createImagePickerShortcut(this.draggedElement,e,n,i);var o=g.createElement("div");if(o){o.className="sv-drag-drop-choices-shortcut";var l=!0,u=n.closest("[data-sv-drop-target-item-value]").cloneNode(l);u.classList.add("sv-drag-drop-choices-shortcut__content");var d=u.querySelector(".svc-item-value-controls__drag-icon");d.style.visibility="visible";var m=u.querySelector(".svc-item-value-controls__remove");m.style.backgroundColor="transparent",u.classList.remove("svc-item-value--moveup"),u.classList.remove("svc-item-value--movedown"),this.draggedElement.isDragDropMoveDown=!1,this.draggedElement.isDragDropMoveUp=!1,o.appendChild(u);var w=n.getBoundingClientRect();return o.shortcutXOffset=i.clientX-w.x,o.shortcutYOffset=i.clientY-w.y,this.isBottom=null,typeof this.onShortcutCreated=="function"&&this.onShortcutCreated(o),o}},t.prototype.createImagePickerShortcut=function(e,n,i,o){var l=g.createElement("div");if(l){l.style.cssText=` 
      cursor: grabbing;
      position: absolute;
      z-index: 10000;
      box-shadow: var(--sjs-shadow-large, 0px 8px 16px 0px rgba(0, 0, 0, 0.1)), var(--sjs-shadow-medium, 0px 2px 6px 0px rgba(0, 0, 0, 0.1));
      background-color: var(--sjs-general-backcolor, var(--background, #fff));
      padding: calc(0.5 * var(--sjs-base-unit, var(--base-unit, 8px)));
      border-radius: calc(0.5 * var(--sjs-base-unit, var(--base-unit, 8px)));
    `;var u=i.closest("[data-sv-drop-target-item-value]");this.imagepickerControlsNode=u.querySelector(".svc-image-item-value-controls");var d=u.querySelector(".sd-imagepicker__image-container"),m=u.querySelector(e.imageLink?"img":".sd-imagepicker__no-image").cloneNode(!0);return this.imagepickerControlsNode&&(this.imagepickerControlsNode.style.display="none"),d.style.width=m.width+"px",d.style.height=m.height+"px",m.style.objectFit="cover",m.style.borderRadius="4px",l.appendChild(m),l}},t.prototype.getDropTargetByDataAttributeValue=function(e){var n;return n=this.parentElement.choices.filter(function(i){return""+i.value==e})[0],n},t.prototype.getVisibleChoices=function(){var e=this.parentElement;return e.getType()==="ranking"?e.selectToRankEnabled?e.visibleChoices:e.rankingChoices:e.visibleChoices},t.prototype.isDropTargetValid=function(e,n){var i=this.getVisibleChoices();if(this.parentElement.getType()!=="imagepicker"){var o=i.indexOf(this.dropTarget),l=i.indexOf(this.draggedElement);if(l>o&&this.dropTarget.isDragDropMoveUp)return this.dropTarget.isDragDropMoveUp=!1,!1;if(l<o&&this.dropTarget.isDragDropMoveDown)return this.dropTarget.isDragDropMoveDown=!1,!1}return i.indexOf(e)!==-1},t.prototype.isDropTargetDoesntChanged=function(e){return this.dropTarget===this.prevDropTarget&&e===this.isBottom},t.prototype.calculateIsBottom=function(e,n){var i=n.getBoundingClientRect();return e>=i.y+i.height/2},t.prototype.afterDragOver=function(e){var n=this.getVisibleChoices(),i=n.indexOf(this.dropTarget),o=n.indexOf(this.draggedElement);if(o<i&&this.isBottom===!0)n.splice(o,1),n.splice(i,0,this.draggedElement);else if(o>i&&this.isBottom===!1)n.splice(i,1),n.splice(o,0,this.dropTarget);else return;this.parentElement.getType()!=="imagepicker"&&(o!==i&&(e.classList.remove("svc-item-value--moveup"),e.classList.remove("svc-item-value--movedown"),this.dropTarget.isDragDropMoveDown=!1,this.dropTarget.isDragDropMoveUp=!1),o>i&&(this.dropTarget.isDragDropMoveDown=!0),o<i&&(this.dropTarget.isDragDropMoveUp=!0),r.prototype.ghostPositionChanged.call(this))},t.prototype.doDrop=function(){var e=this.parentElement.choices,n=this.getVisibleChoices().filter(function(l){return e.indexOf(l)!==-1}),i=e.indexOf(this.draggedElement),o=n.indexOf(this.draggedElement);return e.splice(i,1),e.splice(o,0,this.draggedElement),this.parentElement},t.prototype.clear=function(){this.parentElement&&this.updateVisibleChoices(this.parentElement),this.imagepickerControlsNode&&(this.imagepickerControlsNode.style.display="flex",this.imagepickerControlsNode=null),r.prototype.clear.call(this)},t.prototype.updateVisibleChoices=function(e){e.getType()==="ranking"?e.updateRankingChoices():e.updateVisibleChoices()},t}(vo),oh=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ql=function(r){oh(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.isDragOverRootNode=!1,e.doDragOver=function(){var n=e.domAdapter.draggedElementShortcut.querySelector(".sv-ranking-item");n.style.cursor="grabbing"},e.reorderRankedItem=function(n,i,o){if(i!=o){var l=n.rankingChoices,u=l[i];n.isValueSetByUser=!0,l.splice(i,1),l.splice(o,0,u),e.updateDraggedElementShortcut(o+1)}},e.doBanDropHere=function(){if(e.isDragOverRootNode){e.allowDropHere=!0;return}var n=e.domAdapter.draggedElementShortcut.querySelector(".sv-ranking-item");n.style.cursor="not-allowed"},e}return Object.defineProperty(t.prototype,"draggedElementType",{get:function(){return"ranking-item"},enumerable:!1,configurable:!0}),t.prototype.createDraggedElementShortcut=function(e,n,i){var o=g.createElement("div");if(o){o.className=this.shortcutClass+" sv-ranking-shortcut";var l=!0,u=n.cloneNode(l);o.appendChild(u);var d=n.getBoundingClientRect();o.style.left=d.x,o.style.top=d.y,this.domAdapter.rootElement.append(o);var m=o.offsetHeight,w=i.clientY;return w>d.y+m&&(w=d.y+m-10),o.shortcutXOffset=i.clientX-d.x,o.shortcutYOffset=w-d.y,this.parentElement&&this.parentElement.useFullItemSizeForShortcut&&(o.style.width=n.offsetWidth+"px",o.style.height=n.offsetHeight+"px"),o}},Object.defineProperty(t.prototype,"shortcutClass",{get:function(){return new F().append(this.parentElement.cssClasses.root).append(this.parentElement.cssClasses.rootMobileMod,Gi).toString()},enumerable:!1,configurable:!0}),t.prototype.getDropTargetByDataAttributeValue=function(e){return this.parentElement.rankingChoices[e]},t.prototype.findDropTargetNodeByDragOverNode=function(e){return this.isDragOverRootNode=this.getIsDragOverRootNode(e),r.prototype.findDropTargetNodeByDragOverNode.call(this,e)},t.prototype.getIsDragOverRootNode=function(e){return typeof e.className=="string"&&e.className.indexOf("sv-ranking")!==-1},t.prototype.isDropTargetValid=function(e,n){var i=this.parentElement.rankingChoices;return i.indexOf(e)!==-1},t.prototype.calculateIsBottom=function(e,n){return this.dropTarget instanceof de&&this.draggedElement!==this.dropTarget?r.prototype.calculateIsBottom.call(this,e,n):!1},t.prototype.getIndices=function(e,n,i){var o=n.indexOf(this.draggedElement),l=i.indexOf(this.dropTarget);if(o<0&&this.draggedElement&&(this.draggedElement=de.getItemByValue(n,this.draggedElement.value)||this.draggedElement,o=n.indexOf(this.draggedElement)),l===-1){var u=e.value.length;l=u}else n==i?(!this.isBottom&&o<l&&l--,this.isBottom&&o>l&&l++):n!=i&&this.isBottom&&l++;return{fromIndex:o,toIndex:l}},t.prototype.afterDragOver=function(e){var n=this.getIndices(this.parentElement,this.parentElement.rankingChoices,this.parentElement.rankingChoices),i=n.fromIndex,o=n.toIndex;this.reorderRankedItem(this.parentElement,i,o)},t.prototype.updateDraggedElementShortcut=function(e){var n;if(!((n=this.domAdapter)===null||n===void 0)&&n.draggedElementShortcut){var i=e!==null?e+"":"",o=this.domAdapter.draggedElementShortcut.querySelector(".sv-ranking-item__index");o.innerText=i}},t.prototype.ghostPositionChanged=function(){this.parentElement.currentDropTarget=this.draggedElement,r.prototype.ghostPositionChanged.call(this)},t.prototype.doDrop=function(){return this.parentElement.setValue(),this.parentElement},t.prototype.clear=function(){this.parentElement&&(this.parentElement.dropTargetNodeMove=null,this.parentElement.updateRankingChoices(!0)),r.prototype.clear.call(this)},t}(Nl),sh=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ql=function(r){sh(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.selectToRank=function(n,i,o){var l=[].concat(n.rankingChoices),u=n.unRankingChoices,d=u[i];l.splice(o,0,d),e.updateChoices(n,l)},e.unselectFromRank=function(n,i,o){var l=[].concat(n.rankingChoices);l.splice(i,1),e.updateChoices(n,l)},e}return t.prototype.findDropTargetNodeByDragOverNode=function(e){if(e.dataset.ranking==="from-container"||e.dataset.ranking==="to-container")return e;var n=e.closest("[data-ranking='to-container']"),i=e.closest("[data-ranking='from-container']");return this.parentElement.unRankingChoices.length===0&&i?i:this.parentElement.rankingChoices.length===0&&n?n:r.prototype.findDropTargetNodeByDragOverNode.call(this,e)},t.prototype.getDropTargetByDataAttributeValue=function(e){return this.parentElement.rankingChoices[e]||this.parentElement.unRankingChoices[e]},t.prototype.getDropTargetByNode=function(e,n){return e.dataset.ranking==="to-container"?"to-container":e.dataset.ranking==="from-container"||e.closest("[data-ranking='from-container']")?"from-container":r.prototype.getDropTargetByNode.call(this,e,n)},t.prototype.isDropTargetValid=function(e,n){return e==="to-container"||e==="from-container"?!0:r.prototype.isDropTargetValid.call(this,e,n)},t.prototype.afterDragOver=function(e){var n=this.parentElement,i=n.rankingChoices,o=n.unRankingChoices;if(this.isDraggedElementUnranked&&this.isDropTargetRanked){this.doRankBetween(e,o,i,this.selectToRank);return}if(this.isDraggedElementRanked&&this.isDropTargetRanked){this.doRankBetween(e,i,i,this.reorderRankedItem);return}if(this.isDraggedElementRanked&&!this.isDropTargetRanked){this.doRankBetween(e,i,o,this.unselectFromRank);return}},t.prototype.doRankBetween=function(e,n,i,o){var l=this.parentElement,u=this.getIndices(l,n,i),d=u.fromIndex,m=u.toIndex;o(l,d,m,e)},Object.defineProperty(t.prototype,"isDraggedElementRanked",{get:function(){return this.parentElement.rankingChoices.indexOf(this.draggedElement)!==-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDropTargetRanked",{get:function(){return this.dropTarget==="to-container"?!0:this.parentElement.rankingChoices.indexOf(this.dropTarget)!==-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDraggedElementUnranked",{get:function(){return!this.isDraggedElementRanked},enumerable:!1,configurable:!0}),t.prototype.updateChoices=function(e,n){e.isValueSetByUser=!0,e.rankingChoices=n,e.updateUnRankingChoices(n)},t}(ql),ah=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),nn=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},qo=function(r){ah(t,r);function t(e){var n=r.call(this,e)||this;return n.domNode=null,n.onVisibleChoicesChanged=function(){if(r.prototype.onVisibleChoicesChanged.call(n),n.carryForwardStartUnranked&&!n.isValueSetByUser&&!n.selectToRankEnabled&&!n.defaultValue&&(n.value=[]),n.visibleChoices.length===1&&!n.selectToRankEnabled){n.value=[],n.value.push(n.visibleChoices[0].value),n.updateRankingChoices();return}if(n.isEmpty()){n.updateRankingChoices();return}if(n.selectToRankEnabled){n.updateRankingChoices();return}n.visibleChoices.length>n.value.length&&n.addToValueByVisibleChoices(),n.visibleChoices.length<n.value.length&&n.removeFromValueByVisibleChoices(),n.updateRankingChoices()},n.localeChanged=function(){r.prototype.localeChanged.call(n),n.updateRankingChoicesSync()},n._rankingChoicesAnimation=new Zt(n.getChoicesAnimationOptions(!0),function(i){n._renderedRankingChoices=i},function(){return n.renderedRankingChoices}),n._unRankingChoicesAnimation=new Zt(n.getChoicesAnimationOptions(!1),function(i){n._renderedUnRankingChoices=i},function(){return n.renderedUnRankingChoices}),n.rankingChoices=[],n.unRankingChoices=[],n._renderedRankingChoices=[],n._renderedUnRankingChoices=[],n.handlePointerDown=function(i,o,l){var u=i.target;n.isDragStartNodeValid(u)&&n.isAllowStartDrag(u,o)&&(n.draggedChoiceValue=o.value,n.draggedTargetNode=l,n.dragOrClickHelper.onPointerDown(i))},n.startDrag=function(i){var o=de.getItemByValue(n.activeChoices,n.draggedChoiceValue);n.dragDropRankingChoices.startDrag(i,o,n,n.draggedTargetNode)},n.handlePointerUp=function(i,o,l){if(n.selectToRankEnabled){var u=i.target;n.isAllowStartDrag(u,o)&&n.handleKeydownSelectToRank(i,o," ",!1)}},n.handleKeydown=function(i,o){if(!n.isReadOnlyAttr&&!n.isDesignMode){var l=i.key,u=n.rankingChoices.indexOf(o);if(n.selectToRankEnabled){n.handleKeydownSelectToRank(i,o);return}if(l==="ArrowUp"&&u||l==="ArrowDown"&&u!==n.rankingChoices.length-1){var d=l=="ArrowUp"?u-1:u+1;n.dragDropRankingChoices.reorderRankedItem(n,u,d),n.setValueAfterKeydown(d,"",!0,i)}}},n.focusItem=function(i,o){if(n.domNode)if(n.selectToRankEnabled&&o){var l="[data-ranking='"+o+"']",u=n.domNode.querySelectorAll(l+" ."+n.cssClasses.item);u[i].focus()}else{var u=n.domNode.querySelectorAll("."+n.cssClasses.item);u[i].focus()}},n.isValueSetByUser=!1,n.setValue=function(){var i=[];n.rankingChoices.forEach(function(o){i.push(o.value)}),n.value=i,n.isValueSetByUser=!0},n.registerFunctionOnPropertyValueChanged("selectToRankEnabled",function(){n.clearValue(!0),n.setDragDropRankingChoices(),n.updateRankingChoicesSync()}),n.dragOrClickHelper=new yo(n.startDrag),n}return t.prototype.getType=function(){return"ranking"},t.prototype.getItemTabIndex=function(e){if(!(this.isDesignMode||e.disabled))return 0},t.prototype.supportContainerQueries=function(){return this.selectToRankEnabled},Object.defineProperty(t.prototype,"rootClass",{get:function(){return new F().append(this.cssClasses.root).append(this.cssClasses.rootMobileMod,this.isMobileMode()).append(this.cssClasses.rootDisabled,this.isDisabledStyle).append(this.cssClasses.rootReadOnly,this.isReadOnlyStyle).append(this.cssClasses.rootPreview,this.isPreviewStyle).append(this.cssClasses.rootDesignMode,!!this.isDesignMode).append(this.cssClasses.itemOnError,this.hasCssError()).append(this.cssClasses.rootDragHandleAreaIcon,R.rankingDragHandleArea==="icon").append(this.cssClasses.rootSelectToRankMod,this.selectToRankEnabled).append(this.cssClasses.rootSelectToRankEmptyValueMod,this.isEmpty()).append(this.cssClasses.rootSelectToRankAlignHorizontal,this.selectToRankEnabled&&this.renderedSelectToRankAreasLayout==="horizontal").append(this.cssClasses.rootSelectToRankAlignVertical,this.selectToRankEnabled&&this.renderedSelectToRankAreasLayout==="vertical").append(this.cssClasses.rootSelectToRankSwapAreas,this.selectToRankEnabled&&this.renderedSelectToRankAreasLayout==="horizontal"&&this.selectToRankSwapAreas).toString()},enumerable:!1,configurable:!0}),t.prototype.isItemSelectedCore=function(e){return this.selectToRankEnabled?r.prototype.isItemSelectedCore.call(this,e):!0},t.prototype.getItemClassCore=function(e,n){return new F().append(r.prototype.getItemClassCore.call(this,e,n)).append(this.cssClasses.itemGhostMod,this.currentDropTarget===e).toString()},t.prototype.getContainerClasses=function(e){var n=!1,i=e==="to",o=e==="from";return i?n=this.renderedRankingChoices.length===0:o&&(n=this.renderedUnRankingChoices.length===0),new F().append(this.cssClasses.container).append(this.cssClasses.containerToMode,i).append(this.cssClasses.containerFromMode,o).append(this.cssClasses.containerEmptyMode,n).toString()},t.prototype.isItemCurrentDropTarget=function(e){return this.dragDropRankingChoices.dropTarget===e},Object.defineProperty(t.prototype,"ghostPositionCssClass",{get:function(){return this.ghostPosition==="top"?this.cssClasses.dragDropGhostPositionTop:this.ghostPosition==="bottom"?this.cssClasses.dragDropGhostPositionBottom:""},enumerable:!1,configurable:!0}),t.prototype.getItemIndexClasses=function(e){var n;return this.selectToRankEnabled?n=this.unRankingChoices.indexOf(e)!==-1:n=this.isEmpty(),new F().append(this.cssClasses.itemIndex).append(this.cssClasses.itemIndexEmptyMode,n).toString()},t.prototype.getNumberByIndex=function(e){return this.isEmpty()?"":e+1+""},t.prototype.updateRankingChoicesSync=function(){this.blockAnimations(),this.updateRankingChoices(),this.releaseAnimations()},t.prototype.setSurveyImpl=function(e,n){r.prototype.setSurveyImpl.call(this,e,n),this.setDragDropRankingChoices(),this.updateRankingChoicesSync()},t.prototype.isAnswerCorrect=function(){return D.isArraysEqual(this.value,this.correctAnswer,!1)},Object.defineProperty(t.prototype,"requireStrictCompare",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.onSurveyValueChanged=function(e){r.prototype.onSurveyValueChanged.call(this,e),!this.isLoadingFromJson&&this.updateRankingChoices()},t.prototype.onSurveyLoad=function(){this.blockAnimations(),r.prototype.onSurveyLoad.call(this),this.updateRankingChoices(),this.releaseAnimations()},t.prototype.updateValueFromSurvey=function(e,n){r.prototype.updateValueFromSurvey.call(this,e,n),e&&(this.isValueSetByUser=!0)},t.prototype.addToValueByVisibleChoices=function(){var e=this.value.slice();this.visibleChoices.forEach(function(n){e.indexOf(n.value)===-1&&e.push(n.value)}),this.value=e},t.prototype.removeFromValueByVisibleChoices=function(){for(var e=this.value.slice(),n=this.visibleChoices,i=this.value.length-1;i>=0;i--)de.getItemByValue(n,this.value[i])||e.splice(i,1);this.value=e},t.prototype.getChoicesAnimationOptions=function(e){var n=this;return{getKey:function(i){return i.value},getRerenderEvent:function(){return n.onElementRerendered},isAnimationEnabled:function(){return n.animationAllowed&&!n.isDesignMode&&n.isVisible&&!!n.domNode},getReorderOptions:function(i,o){var l="";return i!==n.currentDropTarget&&(l=o?"sv-dragdrop-movedown":"sv-dragdrop-moveup"),{cssClass:l}},getLeaveOptions:function(i){var o=e?n.renderedRankingChoices:n.renderedUnRankingChoices;return n.renderedSelectToRankAreasLayout=="vertical"&&o.length==1&&o.indexOf(i)>=0?{cssClass:"sv-ranking-item--animate-item-removing-empty"}:{cssClass:"sv-ranking-item--animate-item-removing",onBeforeRunAnimation:function(l){l.style.setProperty("--animation-height",l.offsetHeight+"px")}}},getEnterOptions:function(i){var o=e?n.renderedRankingChoices:n.renderedUnRankingChoices;return n.renderedSelectToRankAreasLayout=="vertical"&&o.length==1&&o.indexOf(i)>=0?{cssClass:"sv-ranking-item--animate-item-adding-empty"}:{cssClass:"sv-ranking-item--animate-item-adding",onBeforeRunAnimation:function(l){l.style.setProperty("--animation-height",l.offsetHeight+"px")}}},getAnimatedElement:function(i){var o,l=n.cssClasses,u="";n.selectToRankEnabled&&(!e&&l.containerFromMode?u=ct(l.containerFromMode):e&&l.containerToMode&&(u=ct(l.containerToMode)));var d=e?n.renderedRankingChoices.indexOf(i):n.renderedUnRankingChoices.indexOf(i);return(o=n.domNode)===null||o===void 0?void 0:o.querySelector(u+" [data-sv-drop-target-ranking-item='"+d+"']")},allowSyncRemovalAddition:!0}},Object.defineProperty(t.prototype,"rankingChoicesAnimation",{get:function(){return this._rankingChoicesAnimation},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"unRankingChoicesAnimation",{get:function(){return this._unRankingChoicesAnimation},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedRankingChoices",{get:function(){return this._renderedRankingChoices},set:function(e){this.rankingChoicesAnimation.sync(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedUnRankingChoices",{get:function(){return this._renderedUnRankingChoices},set:function(e){this.unRankingChoicesAnimation.sync(e)},enumerable:!1,configurable:!0}),t.prototype.updateRenderedRankingChoices=function(){this.renderedRankingChoices=this.rankingChoices},t.prototype.updateRenderedUnRankingChoices=function(){this.renderedUnRankingChoices=this.unRankingChoices},t.prototype.updateRankingChoices=function(e){var n=this;if(e===void 0&&(e=!1),this.selectToRankEnabled){this.updateRankingChoicesSelectToRankMode(e);return}var i=[];if(e&&(this.rankingChoices=[]),this.isEmpty()){this.rankingChoices=this.visibleChoices;return}this.value.forEach(function(o){n.visibleChoices.forEach(function(l){l.value===o&&i.push(l)})}),this.rankingChoices=i},t.prototype.updateUnRankingChoices=function(e){var n=[];this.visibleChoices.forEach(function(i){n.push(i)}),e.forEach(function(i){n.forEach(function(o,l){o.value===i.value&&n.splice(l,1)})}),this.unRankingChoices=n},t.prototype.updateRankingChoicesSelectToRankMode=function(e){var n=this,i=[];this.isEmpty()||this.value.forEach(function(o){n.visibleChoices.forEach(function(l){l.value===o&&i.push(l)})}),this.updateUnRankingChoices(i),this.rankingChoices=i},t.prototype.endLoadingFromJson=function(){r.prototype.endLoadingFromJson.call(this),this.setDragDropRankingChoices()},t.prototype.setDragDropRankingChoices=function(){this.dragDropRankingChoices=this.createDragDropRankingChoices()},t.prototype.createDragDropRankingChoices=function(){return this.selectToRankEnabled?new Ql(this.survey,null,this.longTap):new ql(this.survey,null,this.longTap)},t.prototype.isDragStartNodeValid=function(e){return R.rankingDragHandleArea==="icon"?e.classList.contains(this.cssClasses.itemIconHoverMod):!0},t.prototype.isAllowStartDrag=function(e,n){return!this.isReadOnly&&!this.isDesignMode&&this.canStartDragDueMaxSelectedChoices(e)&&this.canStartDragDueItemEnabled(n)},t.prototype.canStartDragDueMaxSelectedChoices=function(e){if(!this.selectToRankEnabled)return!0;var n=e.closest("[data-ranking='from-container']");return n?this.checkMaxSelectedChoicesUnreached():!0},t.prototype.canStartDragDueItemEnabled=function(e){return e.enabled},t.prototype.checkMaxSelectedChoicesUnreached=function(){if(this.maxSelectedChoices<1)return!0;var e=this.value,n=Array.isArray(e)?e.length:0;return n<this.maxSelectedChoices},t.prototype.afterRenderQuestionElement=function(e){this.domNode=e,r.prototype.afterRenderQuestionElement.call(this,e)},t.prototype.beforeDestroyQuestionElement=function(e){this.domNode=void 0,r.prototype.beforeDestroyQuestionElement.call(this,e)},t.prototype.supportSelectAll=function(){return!1},t.prototype.supportOther=function(){return!1},t.prototype.supportNone=function(){return!1},t.prototype.supportRefuse=function(){return!1},t.prototype.supportDontKnow=function(){return!1},t.prototype.handleKeydownSelectToRank=function(e,n,i,o){if(o===void 0&&(o=!0),!this.isDesignMode){var l=e.key;if(i&&(l=i),!(l!==" "&&l!=="ArrowUp"&&l!=="ArrowDown")){var u=this.dragDropRankingChoices,d=this.rankingChoices,m=d.indexOf(n)!==-1,w=m?d:this.unRankingChoices,E=w.indexOf(n);if(!(E<0)){var A;if(l===" "&&!m){if(!this.checkMaxSelectedChoicesUnreached()||!this.canStartDragDueItemEnabled(n))return;A=this.value.length,u.selectToRank(this,E,A),this.setValueAfterKeydown(A,"to-container",o,e);return}if(m){if(l===" "){u.unselectFromRank(this,E),A=this.unRankingChoices.indexOf(n),this.setValueAfterKeydown(A,"from-container",o,e);return}var U=l==="ArrowUp"?-1:l==="ArrowDown"?1:0;U!==0&&(A=E+U,!(A<0||A>=d.length)&&(u.reorderRankedItem(this,E,A),this.setValueAfterKeydown(A,"to-container",o,e)))}}}}},t.prototype.setValueAfterKeydown=function(e,n,i,o){var l=this;i===void 0&&(i=!0),this.setValue(),i&&setTimeout(function(){l.focusItem(e,n)},1),o&&o.preventDefault()},t.prototype.getIconHoverCss=function(){return new F().append(this.cssClasses.itemIcon).append(this.cssClasses.itemIconHoverMod).toString()},t.prototype.getIconFocusCss=function(){return new F().append(this.cssClasses.itemIcon).append(this.cssClasses.itemIconFocusMod).toString()},Object.defineProperty(t.prototype,"longTap",{get:function(){return this.getPropertyValue("longTap")},set:function(e){this.setPropertyValue("longTap",e)},enumerable:!1,configurable:!0}),t.prototype.getDefaultItemComponent=function(){return"sv-ranking-item"},Object.defineProperty(t.prototype,"selectToRankEnabled",{get:function(){return this.getPropertyValue("selectToRankEnabled",!1)},set:function(e){this.setPropertyValue("selectToRankEnabled",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectToRankSwapAreas",{get:function(){return this.getPropertyValue("selectToRankSwapAreas",!1)},set:function(e){this.setPropertyValue("selectToRankSwapAreas",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectToRankAreasLayout",{get:function(){return this.getPropertyValue("selectToRankAreasLayout")},set:function(e){this.setPropertyValue("selectToRankAreasLayout",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedSelectToRankAreasLayout",{get:function(){return this.isMobileMode()?"vertical":this.selectToRankAreasLayout},enumerable:!1,configurable:!0}),t.prototype.isMobileMode=function(){return Gi},Object.defineProperty(t.prototype,"useFullItemSizeForShortcut",{get:function(){return this.getPropertyValue("useFullItemSizeForShortcut")},set:function(e){this.setPropertyValue("useFullItemSizeForShortcut",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dragDropSvgIcon",{get:function(){return this.cssClasses.dragDropSvgIconId||"#icon-drag-24x24"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"arrowsSvgIcon",{get:function(){return this.cssClasses.arrowsSvgIconId||"#icon-reorder-24x24"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dashSvgIcon",{get:function(){return this.cssClasses.dashSvgIconId||"#icon-rankingundefined-16x16"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNewA11yStructure",{get:function(){return!1},enumerable:!1,configurable:!0}),nn([Xe({onSet:function(e,n){return n.updateRenderedRankingChoices()},onRemove:function(e,n,i){return i.updateRenderedRankingChoices()},onPush:function(e,n,i){return i.updateRenderedRankingChoices()}})],t.prototype,"rankingChoices",void 0),nn([Xe({onSet:function(e,n){return n.updateRenderedUnRankingChoices()},onRemove:function(e,n,i){return i.updateRenderedUnRankingChoices()},onPush:function(e,n,i){return i.updateRenderedUnRankingChoices()}})],t.prototype,"unRankingChoices",void 0),nn([Xe()],t.prototype,"_renderedRankingChoices",void 0),nn([Xe()],t.prototype,"_renderedUnRankingChoices",void 0),nn([V({defaultValue:null})],t.prototype,"currentDropTarget",void 0),nn([V({defaultValue:!0})],t.prototype,"carryForwardStartUnranked",void 0),nn([V({localizable:{defaultStr:"selectToRankEmptyRankedAreaText"}})],t.prototype,"selectToRankEmptyRankedAreaText",void 0),nn([V({localizable:{defaultStr:"selectToRankEmptyUnrankedAreaText"}})],t.prototype,"selectToRankEmptyUnrankedAreaText",void 0),t}(ai);L.addClass("ranking",[{name:"showOtherItem",visible:!1,isSerializable:!1},{name:"otherText",visible:!1,isSerializable:!1},{name:"otherErrorText",visible:!1,isSerializable:!1},{name:"storeOthersAsComment",visible:!1,isSerializable:!1},{name:"showNoneItem",visible:!1,isSerializable:!1},{name:"showRefuseItem",visible:!1,isSerializable:!1},{name:"showDontKnowItem",visible:!1,isSerializable:!1},{name:"noneText",visible:!1,isSerializable:!1},{name:"showSelectAllItem",visible:!1,isSerializable:!1},{name:"selectAllText",visible:!1,isSerializable:!1},{name:"colCount:number",visible:!1,isSerializable:!1},{name:"separateSpecialChoices",visible:!1,isSerializable:!1},{name:"longTap",default:!0,visible:!1,isSerializable:!1},{name:"selectToRankEnabled:switch",default:!1,visible:!0,isSerializable:!0},{name:"selectToRankSwapAreas:switch",default:!1,visible:!1,isSerializable:!0,dependsOn:"selectToRankEnabled"},{name:"selectToRankAreasLayout",default:"horizontal",choices:["horizontal","vertical"],dependsOn:"selectToRankEnabled",visibleIf:function(r){return!!r.selectToRankEnabled},visible:!0,isSerializable:!0},{name:"selectToRankEmptyRankedAreaText:text",serializationProperty:"locSelectToRankEmptyRankedAreaText",category:"general",dependsOn:"selectToRankEnabled",visibleIf:function(r){return!!r.selectToRankEnabled}},{name:"selectToRankEmptyUnrankedAreaText:text",serializationProperty:"locSelectToRankEmptyUnrankedAreaText",category:"general",dependsOn:"selectToRankEnabled",visibleIf:function(r){return!!r.selectToRankEnabled}},{name:"maxSelectedChoices:number",visible:!0,default:0,dependsOn:"selectToRankEnabled",visibleIf:function(r){return!!r.selectToRankEnabled},isSerializable:!0},{name:"minSelectedChoices:number",visible:!0,default:0,dependsOn:"selectToRankEnabled",visibleIf:function(r){return!!r.selectToRankEnabled},isSerializable:!0},{name:"itemComponent",visible:!1,default:"sv-ranking-item"}],function(){return new qo("")},"checkbox"),Se.Instance.registerQuestion("ranking",function(r){var t=new qo(r);return t.choices=Se.DefaultChoices,t});var lh=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Qo=function(r){lh(t,r);function t(e){return r.call(this,e)||this}return Object.defineProperty(t.prototype,"textAreaModel",{get:function(){return this.textAreaModelValue||(this.textAreaModelValue=new qi(this.getTextAreaOptions())),this.textAreaModelValue},enumerable:!1,configurable:!0}),t.prototype.getTextAreaOptions=function(){var e=this,n=this,i=function(l){D.isTwoValueEquals(n.value,l,!1,!0,!1)||(n.value=l)},o={question:this,id:function(){return e.inputId},propertyName:"value",className:function(){return e.className},placeholder:function(){return e.renderedPlaceholder},isDisabledAttr:function(){return e.isDisabledAttr},isReadOnlyAttr:function(){return e.isReadOnlyAttr},autoGrow:function(){return e.renderedAutoGrow},maxLength:function(){return e.getMaxLength()},rows:function(){return e.rows},cols:function(){return e.cols},ariaRequired:function(){return e.a11y_input_ariaRequired},ariaLabel:function(){return e.a11y_input_ariaLabel},ariaLabelledBy:function(){return e.a11y_input_ariaLabelledBy},ariaDescribedBy:function(){return e.a11y_input_ariaDescribedBy},ariaInvalid:function(){return e.a11y_input_ariaInvalid},ariaErrormessage:function(){return e.a11y_input_ariaErrormessage},getTextValue:function(){return e.value},onTextAreaChange:function(l){i(l.target.value)},onTextAreaInput:function(l){e.onInput(l)},onTextAreaKeyDown:function(l){e.onKeyDown(l)},onTextAreaFocus:function(l){e.onFocus(l)},onTextAreaBlur:function(l){e.onBlur(l)}};return o},Object.defineProperty(t.prototype,"rows",{get:function(){return this.getPropertyValue("rows")},set:function(e){this.setPropertyValue("rows",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cols",{get:function(){return this.getPropertyValue("cols")},set:function(e){this.setPropertyValue("cols",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"acceptCarriageReturn",{get:function(){return this.getPropertyValue("acceptCarriageReturn")},set:function(e){this.setPropertyValue("acceptCarriageReturn",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoGrow",{get:function(){return this.getPropertyValue("autoGrow")},set:function(e){this.setPropertyValue("autoGrow",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedAutoGrow",{get:function(){var e=this.autoGrow;return e===void 0&&this.survey?this.survey.autoGrowComment:!!e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowResize",{get:function(){return this.getPropertyValue("allowResize")},set:function(e){this.setPropertyValue("allowResize",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedAllowResize",{get:function(){var e=this.allowResize;return e===void 0&&this.survey?this.survey.allowResizeComment:!!e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resizeStyle",{get:function(){return this.renderedAllowResize?"both":"none"},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"comment"},t.prototype.afterRenderQuestionElement=function(e){var n=R.environment.root;this.element=n.getElementById(this.inputId)||e,r.prototype.afterRenderQuestionElement.call(this,e)},t.prototype.beforeDestroyQuestionElement=function(e){r.prototype.beforeDestroyQuestionElement.call(this,e),this.element=void 0},t.prototype.onInput=function(e){this.isInputTextUpdate&&(this.value=e.target.value),this.updateRemainingCharacterCounter(e.target.value)},t.prototype.onBlurCore=function(e){r.prototype.onBlurCore.call(this,e)},t.prototype.onKeyDown=function(e){this.onKeyDownPreprocess&&this.onKeyDownPreprocess(e),!this.acceptCarriageReturn&&(e.key==="Enter"||e.keyCode===13)&&(e.preventDefault(),e.stopPropagation())},t.prototype.setNewValue=function(e){!this.acceptCarriageReturn&&e&&(e=e.replace(new RegExp(`(\r
|
|\r)`,"gm"),"")),r.prototype.setNewValue.call(this,e)},t.prototype.getValueSeparator=function(){return`
`},t.prototype.notifyStateChanged=function(e){r.prototype.notifyStateChanged.call(this,e),this.isCollapsed||this.textAreaModel.updateElement()},Object.defineProperty(t.prototype,"className",{get:function(){return(this.cssClasses?this.getControlClass():"panel-comment-root")||void 0},enumerable:!1,configurable:!0}),t}(er);L.addClass("comment",[{name:"maxLength:number",default:-1},{name:"cols:number",default:50,visible:!1,isSerializable:!1},{name:"rows:number",default:4},{name:"placeholder",alternativeName:"placeHolder",serializationProperty:"locPlaceholder"},{name:"textUpdateMode",default:"default",choices:["default","onBlur","onTyping"]},{name:"autoGrow:boolean",defaultFunc:function(){}},{name:"allowResize:boolean",defaultFunc:function(){}},{name:"acceptCarriageReturn:boolean",default:!0,visible:!1}],function(){return new Qo("")},"textbase"),Se.Instance.registerQuestion("comment",function(r){return new Qo(r)});var li="environment",rn="user",uh=function(){function r(){this.canFlipValue=void 0}return r.clear=function(){r.cameraList=void 0,r.cameraIndex=-1},r.setCameraList=function(t){var e=function(n){var i=n.label.toLocaleLowerCase();return i.indexOf(rn)>-1?rn:i.indexOf(li)>-1?li:i.indexOf("front")>-1?rn:i.indexOf("back")>-1?li:""};r.clear(),Array.isArray(t)&&t.length>0&&(r.cameraIndex=-1,t.sort(function(n,i){if(n===i)return 0;if(n.label!==i.label){var o=e(n),l=e(i);if(o!==l){if(o===rn)return-1;if(l===rn)return 1;if(o===li)return-1;if(l===li)return 1}}var u=t.indexOf(n),d=t.indexOf(i);return u<d?-1:1})),r.cameraList=t},r.prototype.hasCamera=function(t){var e=this;if(r.cameraList!==void 0){this.hasCameraCallback(t);return}if(r.mediaDevicesCallback){var n=function(i){e.setVideoInputs(i),e.hasCameraCallback(t)};r.mediaDevicesCallback(n);return}typeof navigator<"u"&&navigator.mediaDevices?navigator.mediaDevices.enumerateDevices().then(function(i){e.setVideoInputs(i),e.hasCameraCallback(t),e.updateCanFlipValue()}).catch(function(i){r.cameraList=null,e.hasCameraCallback(t)}):(r.cameraList=null,this.hasCameraCallback(t))},r.prototype.getMediaConstraints=function(t){var e=r.cameraList;if(!(!Array.isArray(e)||e.length<1)){r.cameraIndex<0&&(r.cameraIndex=0);var n=e[r.cameraIndex],i={};return n&&n.deviceId?i.deviceId={exact:n.deviceId}:i.facingMode=r.cameraFacingMode,t&&(t?.height&&(i.height={ideal:t.height}),t?.width&&(i.width={ideal:t.width})),{video:i,audio:!1}}},r.prototype.startVideo=function(t,e,n,i){var o=this;if(!t){e(void 0);return}t.style.width="100%",t.style.height="auto",t.style.height="100%",t.style.objectFit="contain";var l=this.getMediaConstraints({width:n,height:i});navigator.mediaDevices.getUserMedia(l).then(function(u){var d;t.srcObject=u,!(!((d=r.cameraList[r.cameraIndex])===null||d===void 0)&&d.deviceId)&&u.getTracks()[0].getCapabilities().facingMode&&(r.canSwitchFacingMode=!0,o.updateCanFlipValue()),t.play(),e(u)}).catch(function(u){e(void 0)})},r.prototype.getImageSize=function(t){return{width:t.videoWidth,height:t.videoHeight}},r.prototype.snap=function(t,e){if(!t||!g.isAvailable())return!1;var n=g.getDocument(),i=n.createElement("canvas"),o=this.getImageSize(t);i.height=o.height,i.width=o.width;var l=i.getContext("2d");return l.clearRect(0,0,i.width,i.height),l.drawImage(t,0,0,i.width,i.height),i.toBlob(e,"image/png"),!0},r.prototype.updateCanFlipValue=function(){var t=r.cameraList;this.canFlipValue=Array.isArray(t)&&t.length>1||r.canSwitchFacingMode,this.onCanFlipChangedCallback&&this.onCanFlipChangedCallback(this.canFlipValue)},r.prototype.canFlip=function(t){return this.canFlipValue===void 0&&this.updateCanFlipValue(),t&&(this.onCanFlipChangedCallback=t),this.canFlipValue},r.prototype.flip=function(){this.canFlip()&&(r.canSwitchFacingMode?r.cameraFacingMode=r.cameraFacingMode===rn?"environment":rn:r.cameraIndex>=r.cameraList.length-1?r.cameraIndex=0:r.cameraIndex++)},r.prototype.hasCameraCallback=function(t){t(Array.isArray(r.cameraList))},r.prototype.setVideoInputs=function(t){var e=[];t.forEach(function(n){n.kind==="videoinput"&&e.push(n)}),r.setCameraList(e.length>0?e:null)},r.cameraIndex=-1,r.cameraFacingMode=rn,r.canSwitchFacingMode=!1,r}(),Ho=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ke=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};function ch(r,t,e){var n=atob(r.split(",")[1]),i=new Uint8Array(n.split("").map(function(o){return o.charCodeAt(0)})).buffer;return new File([i],t,{type:e})}var Hl=function(r){Ho(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.isUploading=!1,e.onUploadStateChanged=e.addEvent(),e.onStateChanged=e.addEvent(),e}return t.prototype.stateChanged=function(e){this.currentState!=e&&(e==="loading"&&(this.isUploading=!0),e==="loaded"&&(this.isUploading=!1),e==="error"&&(this.isUploading=!1),this.currentState=e,this.onStateChanged.fire(this,{state:e}),this.onUploadStateChanged.fire(this,{state:e}))},Object.defineProperty(t.prototype,"showLoadingIndicator",{get:function(){return this.isUploading&&this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storeDataAsText",{get:function(){return this.getPropertyValue("storeDataAsText")},set:function(e){this.setPropertyValue("storeDataAsText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"waitForUpload",{get:function(){return this.getPropertyValue("waitForUpload")},set:function(e){this.setPropertyValue("waitForUpload",e)},enumerable:!1,configurable:!0}),t.prototype.clearValue=function(e){this.clearOnDeletingContainer(),r.prototype.clearValue.call(this,e)},t.prototype.clearOnDeletingContainer=function(){this.survey&&this.survey.clearFiles(this,this.name,this.value,null,function(){})},t.prototype.onCheckForErrors=function(e,n,i){r.prototype.onCheckForErrors.call(this,e,n,i),this.isUploading&&this.waitForUpload&&e.push(new Ni(this.getLocalizationString("uploadingFile"),this))},t.prototype.uploadFiles=function(e){var n=this;this.survey&&(this.stateChanged("loading"),this.survey.uploadFiles(this,this.name,e,function(i,o){Array.isArray(i)&&(n.setValueFromResult(i),Array.isArray(o)&&(o.forEach(function(l){return n.errors.push(new Ni(l,n))}),n.stateChanged("error"))),i==="success"&&Array.isArray(o)&&n.setValueFromResult(o),i==="error"&&(typeof o=="string"&&n.errors.push(new Ni(o,n)),Array.isArray(o)&&o.length>0&&o.forEach(function(l){return n.errors.push(new Ni(l,n))}),n.stateChanged("error")),n.stateChanged("loaded")}))},t.prototype.loadPreview=function(e){},t.prototype.onChangeQuestionValue=function(e){r.prototype.onChangeQuestionValue.call(this,e),this.stateChanged(this.isEmpty()?"empty":"loaded")},t.prototype.getIsQuestionReady=function(){return r.prototype.getIsQuestionReady.call(this)&&!this.isFileLoading},Object.defineProperty(t.prototype,"isFileLoading",{get:function(){return this.isFileLoadingValue},set:function(e){this.isFileLoadingValue=e,this.updateIsReady()},enumerable:!1,configurable:!0}),ke([V()],t.prototype,"isUploading",void 0),ke([V({defaultValue:"empty"})],t.prototype,"currentState",void 0),t}(tt),zl=function(r){Ho(t,r);function t(e,n){var i=r.call(this)||this;return i.question=e,i.index=n,i.id=t.getId(),i}return t.getId=function(){return"sv_sfp_"+t.pageCounter++},Object.defineProperty(t.prototype,"css",{get:function(){return this.question.cssClasses.page},enumerable:!1,configurable:!0}),t.pageCounter=0,ke([Xe({})],t.prototype,"items",void 0),t}(be),zo=function(r){Ho(t,r);function t(e){var n=r.call(this,e)||this;return n.isDragging=!1,n.fileNavigator=new Vt,n.canFlipCameraValue=void 0,n.prevPreviewLength=0,n._renderedPages=[],n.pagesAnimation=new Qr(n.getPagesAnimationOptions(),function(i){n._renderedPages=i},function(){return n.renderedPages}),n.calcAvailableItemsCount=function(i,o,l){var u=Math.floor(i/(o+l));return(u+1)*(o+l)-l<=i&&u++,u},n.dragCounter=0,n.onDragEnter=function(i){n.canDragDrop()&&(i.preventDefault(),n.isDragging=!0,n.dragCounter++)},n.onDragOver=function(i){if(!n.canDragDrop())return i.returnValue=!1,!1;i.dataTransfer.dropEffect="copy",i.preventDefault()},n.onDrop=function(i){if(n.canDragDrop()){n.isDragging=!1,n.dragCounter=0,i.preventDefault();var o=i.dataTransfer;n.onChange(o)}},n.onDragLeave=function(i){n.canDragDrop()&&(n.dragCounter--,n.dragCounter===0&&(n.isDragging=!1))},n.doChange=function(i){var o=i.target||i.srcElement;n.onChange(o)},n.doClean=function(){if(n.needConfirmRemoveFile){Jn({message:n.confirmRemoveAllMessage,funcOnYes:function(){n.clearFilesCore()},locale:n.getLocale(),rootElement:n.survey.rootElement,cssClass:n.cssClasses.confirmDialog});return}n.clearFilesCore()},n.doDownloadFileFromContainer=function(i){i.stopPropagation();var o=i.currentTarget;if(o&&o.getElementsByTagName){var l=o.getElementsByTagName("a")[0];l?.click()}},n.doDownloadFile=function(i,o){i.stopPropagation(),Kn()&&(i.preventDefault(),Pa(o.content,o.name))},n.createLocalizableString("takePhotoCaption",n,!1,!0),n.createLocalizableString("clearCaption",n,!1,!0),n.actionsContainer=new Vt,n.actionsContainer.locOwner=n,n.fileIndexAction=new Te({id:"fileIndex",title:n.getFileIndexCaption(),enabled:!1}),n.prevFileAction=new Te({id:"prevPage",iconSize:16,action:function(){n.navigationDirection="left",n.indexToShow=n.previewValue.length&&(n.indexToShow-1+n.pagesCount)%n.pagesCount||0,n.fileIndexAction.title=n.getFileIndexCaption()}}),n.nextFileAction=new Te({id:"nextPage",iconSize:16,action:function(){n.navigationDirection="right",n.indexToShow=n.previewValue.length&&(n.indexToShow+1)%n.pagesCount||0,n.fileIndexAction.title=n.getFileIndexCaption()}}),n.takePictureAction=new Te({iconName:"icon-takepicture",id:"sv-file-take-picture",iconSize:"auto",innerCss:new qe(function(){return new F().append(n.cssClasses.contextButton).append(n.cssClasses.takePictureButton).toString()}),locTitle:n.locTakePhotoCaption,showTitle:!1,action:function(){n.snapPicture()}}),n.closeCameraAction=new Te({iconName:"icon-closecamera",id:"sv-file-close-camera",iconSize:"auto",innerCss:new qe(function(){return new F().append(n.cssClasses.contextButton).append(n.cssClasses.closeCameraButton).toString()}),action:function(){n.stopVideo()}}),n.changeCameraAction=new Te({iconName:"icon-changecamera",id:"sv-file-change-camera",iconSize:"auto",innerCss:new qe(function(){return new F().append(n.cssClasses.contextButton).append(n.cssClasses.changeCameraButton).toString()}),visible:new qe(function(){return n.canFlipCamera()}),action:function(){n.flipCamera()}}),n.chooseFileAction=new Te({iconName:"icon-choosefile",id:"sv-file-choose-file",iconSize:"auto",data:{question:n},enabledIf:function(){return!n.isInputReadOnly},component:"sv-file-choose-btn"}),n.startCameraAction=new Te({iconName:"icon-takepicture_24x24",id:"sv-file-start-camera",iconSize:"auto",locTitle:n.locTakePhotoCaption,showTitle:new qe(function(){return!n.isAnswered}),enabledIf:function(){return!n.isInputReadOnly},action:function(){n.startVideo()}}),n.cleanAction=new Te({iconName:"icon-clear",id:"sv-file-clean",iconSize:"auto",locTitle:n.locClearButtonCaption,showTitle:!1,enabledIf:function(){return!n.isInputReadOnly},innerCss:new qe(function(){return n.cssClasses.removeButton}),action:function(){n.doClean()}}),[n.closeCameraAction,n.changeCameraAction,n.takePictureAction].forEach(function(i){i.cssClasses={}}),n.registerFunctionOnPropertiesValueChanged(["sourceType","currentMode","isAnswered"],function(){n.updateActionsVisibility()}),n.actionsContainer.actions=[n.chooseFileAction,n.startCameraAction,n.cleanAction],n.fileNavigator.actions=[n.prevFileAction,n.fileIndexAction,n.nextFileAction],n}return Object.defineProperty(t.prototype,"supportFileNavigator",{get:function(){return this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fileNavigatorVisible",{get:function(){var e=this.isUploading,n=this.isPlayingVideo,i=this.containsMultiplyFiles,o=this.pageSize<this.previewValue.length;return!e&&!n&&i&&o&&this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pagesCount",{get:function(){return Math.ceil(this.previewValue.length/this.pageSize)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"actionsContainerVisible",{get:function(){var e=this.isUploading,n=this.isPlayingVideo,i=this.isDefaultV2Theme;return!e&&!n&&i},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoId",{get:function(){return this.id+"_video"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasVideoUI",{get:function(){return this.currentMode!=="file"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasFileUI",{get:function(){return this.currentMode!=="camera"},enumerable:!1,configurable:!0}),t.prototype.startVideo=function(){var e=this;this.currentMode==="file"||this.isDesignMode||this.isPlayingVideo||(this.setIsPlayingVideo(!0),setTimeout(function(){e.startVideoInCamera()},0))},Object.defineProperty(t.prototype,"videoHtmlElement",{get:function(){var e;return(e=this.rootElement)===null||e===void 0?void 0:e.querySelector("#"+this.videoId)},enumerable:!1,configurable:!0}),t.prototype.startVideoInCamera=function(){var e=this;this.camera.startVideo(this.videoHtmlElement,function(n){e.videoStream=n,n||e.stopVideo()},gn(this.imageWidth),gn(this.imageHeight))},t.prototype.stopVideo=function(){this.setIsPlayingVideo(!1),this.closeVideoStream()},t.prototype.snapPicture=function(){var e=this;if(this.isPlayingVideo){var n=function(i){if(i){var o=new File([i],"snap_picture.png",{type:"image/png"});e.loadFiles([o])}};this.camera.snap(this.videoHtmlElement,n),this.stopVideo()}},t.prototype.canFlipCamera=function(){var e=this;return this.canFlipCameraValue===void 0&&(this.canFlipCameraValue=this.camera.canFlip(function(n){e.canFlipCameraValue=n})),this.canFlipCameraValue},t.prototype.flipCamera=function(){this.canFlipCamera()&&(this.closeVideoStream(),this.camera.flip(),this.startVideoInCamera())},t.prototype.closeVideoStream=function(){this.videoStream&&(this.videoStream.getTracks().forEach(function(e){e.stop()}),this.videoStream=void 0)},t.prototype.onHidingContent=function(){r.prototype.onHidingContent.call(this),this.stopVideo()},t.prototype.updateElementCssCore=function(e){r.prototype.updateElementCssCore.call(this,e),this.prevFileAction.iconName=this.cssClasses.leftIconId,this.nextFileAction.iconName=this.cssClasses.rightIconId,this.updateCurrentMode()},t.prototype.getFileIndexCaption=function(){return this.getLocalizationFormatString("indexText",this.indexToShow+1,this.pagesCount)},t.prototype.updateFileNavigator=function(){this.updatePages(),this.navigationDirection=void 0,this.indexToShow=this.previewValue.length&&(this.indexToShow+this.pagesCount)%this.pagesCount||0,this.fileIndexAction.title=this.getFileIndexCaption()},t.prototype.updateRenderedPages=function(){this.pages&&this.pages[this.indexToShow]&&(this.renderedPages=[this.pages[this.indexToShow]])},t.prototype.updatePages=function(){var e=this;this.blockAnimations();var n;this.pages=[],this.renderedPages=[],this.previewValue.forEach(function(i,o){o%e.pageSize==0&&(n=new zl(e,e.pages.length),e.pages.push(n)),n.items.push(i)}),this.releaseAnimations(),this.updateRenderedPages()},t.prototype.previewValueChanged=function(){var e=this;this.navigationDirection=void 0,this.previewValue.length!==this.prevPreviewLength&&(this.previewValue.length>0?this.prevPreviewLength>this.previewValue.length?this.indexToShow>=this.pagesCount&&this.indexToShow>0&&(this.indexToShow=this.pagesCount-1,this.navigationDirection="left-delete"):this.indexToShow=Math.floor(this.prevPreviewLength/this.pageSize):this.indexToShow=0),this.updatePages(),this.fileIndexAction.title=this.getFileIndexCaption(),this.containsMultiplyFiles=this.previewValue.length>1,this.previewValue.length>0&&!this.calculatedGapBetweenItems&&!this.calculatedItemWidth&&setTimeout(function(){e.processResponsiveness(0,e._width)},1),this.prevPreviewLength=this.previewValue.length},t.prototype.getType=function(){return"file"},t.prototype.onChangeQuestionValue=function(e){r.prototype.onChangeQuestionValue.call(this,e),this.isLoadingFromJson||this.loadPreview(e)},Object.defineProperty(t.prototype,"showPreview",{get:function(){return this.getPropertyValue("showPreview")},set:function(e){this.setPropertyValue("showPreview",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowMultiple",{get:function(){return this.getPropertyValue("allowMultiple")},set:function(e){this.setPropertyValue("allowMultiple",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageHeight",{get:function(){return this.getPropertyValue("imageHeight")},set:function(e){this.setPropertyValue("imageHeight",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageWidth",{get:function(){return this.getPropertyValue("imageWidth")},set:function(e){this.setPropertyValue("imageWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"acceptedTypes",{get:function(){return this.getPropertyValue("acceptedTypes")},set:function(e){this.setPropertyValue("acceptedTypes",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowImagesPreview",{get:function(){return this.getPropertyValue("allowImagesPreview")},set:function(e){this.setPropertyValue("allowImagesPreview",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxSize",{get:function(){return this.getPropertyValue("maxSize")},set:function(e){this.setPropertyValue("maxSize",e)},enumerable:!1,configurable:!0}),t.prototype.chooseFile=function(e){var n=this;if(this.rootElement){var i=this.rootElement.querySelector("#"+this.inputId);i&&(e.preventDefault(),e.stopImmediatePropagation(),i&&(this.survey?this.survey.chooseFiles(i,function(o){return n.loadFiles(o)},{element:this,elementType:this.getType(),propertyName:this.name}):i.click()))}},Object.defineProperty(t.prototype,"needConfirmRemoveFile",{get:function(){return this.getPropertyValue("needConfirmRemoveFile")},set:function(e){this.setPropertyValue("needConfirmRemoveFile",e)},enumerable:!1,configurable:!0}),t.prototype.getConfirmRemoveMessage=function(e){return this.confirmRemoveMessage.format(e)},Object.defineProperty(t.prototype,"takePhotoCaption",{get:function(){return this.getLocalizableStringText("takePhotoCaption")},set:function(e){this.setLocalizableStringText("takePhotoCaption",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTakePhotoCaption",{get:function(){return this.getLocalizableString("takePhotoCaption")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clearButtonCaption",{get:function(){return this.getLocalizableStringText("clearCaption")},set:function(e){this.setLocalizableStringText("clearCaption",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locClearButtonCaption",{get:function(){return this.getLocalizableString("clearCaption")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locRenderedPlaceholder",{get:function(){var e=this;return this.locRenderedPlaceholderValue===void 0&&(this.locRenderedPlaceholderValue=new qe(function(){var n=e.isReadOnly,i=!e.isDesignMode&&e.hasFileUI||e.isDesignMode&&e.sourceType!="camera",o=!e.isDesignMode&&e.hasVideoUI||e.isDesignMode&&e.sourceType!="file",l;return n?l=e.locNoFileChosenCaption:i&&o?l=e.locFileOrPhotoPlaceholder:i?l=e.locFilePlaceholder:l=e.locPhotoPlaceholder,l})),this.locRenderedPlaceholderValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentMode",{get:function(){return this.getPropertyValue("currentMode",this.sourceType)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPlayingVideo",{get:function(){return this.getPropertyValue("isPlayingVideo",!1)},enumerable:!1,configurable:!0}),t.prototype.setIsPlayingVideo=function(e){this.setPropertyValue("isPlayingVideo",e)},t.prototype.updateCurrentMode=function(){var e=this;!this.isDesignMode&&this.survey&&(this.sourceType!=="file"?this.camera.hasCamera(function(n){e.setPropertyValue("currentMode",n&&e.isDefaultV2Theme?e.sourceType:"file")}):this.setPropertyValue("currentMode",this.sourceType))},t.prototype.updateActionsVisibility=function(){var e=this.isDesignMode;this.chooseFileAction.visible=!e&&this.hasFileUI||e&&this.sourceType!=="camera",this.startCameraAction.visible=!e&&this.hasVideoUI||e&&this.sourceType!=="file",this.cleanAction.visible=!!this.isAnswered},Object.defineProperty(t.prototype,"inputTitle",{get:function(){return this.isUploading?this.loadingFileTitle:this.isEmpty()?this.chooseFileTitle:" "},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"chooseButtonText",{get:function(){return this.isEmpty()||this.allowMultiple?this.chooseButtonCaption:this.replaceButtonCaption},enumerable:!1,configurable:!0}),t.prototype.clear=function(e){var n=this;this.survey&&(this.containsMultiplyFiles=!1,this.survey.clearFiles(this,this.name,this.value,null,function(i,o){i==="success"&&(n.value=void 0,n.errors=[],e&&e(),n.indexToShow=0,n.fileIndexAction.title=n.getFileIndexCaption())}))},Object.defineProperty(t.prototype,"renderCapture",{get:function(){return this.allowCameraAccess?"user":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multipleRendered",{get:function(){return this.allowMultiple?"multiple":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showChooseButton",{get:function(){return!this.isReadOnly&&!this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showFileDecorator",{get:function(){var e=this.isPlayingVideo,n=this.showLoadingIndicator;return!e&&!n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowShowPreview",{get:function(){var e=this.showLoadingIndicator,n=this.isPlayingVideo;return!e&&!n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showPreviewContainer",{get:function(){return this.previewValue&&this.previewValue.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showRemoveButtonCore",{get:function(){var e=this.showLoadingIndicator,n=this.isReadOnly,i=this.isEmpty();return!n&&!i&&!e&&!this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showRemoveButton",{get:function(){return this.showRemoveButtonCore&&this.cssClasses.removeButton},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showRemoveButtonBottom",{get:function(){var e=new F().append(this.cssClasses.removeButtonBottom).append(this.cssClasses.contextButton).toString();return this.showRemoveButtonCore&&e},enumerable:!1,configurable:!0}),t.prototype.defaultImage=function(e){return!this.canPreviewImage(e)&&!!this.cssClasses.defaultImage},t.prototype.removeFile=function(e){this.removeFileByContent(this.value.filter(function(n){return n.name===e})[0])},t.prototype.removeFileByContent=function(e){var n=this;this.survey&&this.survey.clearFiles(this,this.name,this.value,e.name,function(i,o){if(i==="success"){var l=n.value;Array.isArray(l)?n.value=l.filter(function(u){return!D.isTwoValueEquals(u,e,!0,!1,!1)}):n.value=void 0}})},t.prototype.setValueFromResult=function(e){this.value=(this.value||[]).concat(e.map(function(n){return{name:n.file.name,type:n.file.type,content:n.content}}))},t.prototype.loadFiles=function(e){var n=this;if(this.survey&&(this.errors=[],!!this.allFilesOk(e))){var i=function(){n.stateChanged("loading");var o=[];n.storeDataAsText?e.forEach(function(l){var u=new FileReader;u.onload=function(d){o=o.concat([{name:l.name,type:l.type,content:u.result}]),o.length===e.length&&(n.value=(n.value||[]).concat(o))},u.readAsDataURL(l)}):n.uploadFiles(e)};this.allowMultiple?i():this.clear(i)}},Object.defineProperty(t.prototype,"camera",{get:function(){return this.cameraValue||(this.cameraValue=new uh),this.cameraValue},enumerable:!1,configurable:!0}),t.prototype.canPreviewImage=function(e){return this.allowImagesPreview&&!!e&&this.isFileImage(e)},t.prototype.loadPreview=function(e){var n=this;if(!(this.showPreview&&this.prevLoadedPreviewValue===e)&&(this.previewValue.splice(0,this.previewValue.length),!(!this.showPreview||!e))){this.prevLoadedPreviewValue=e;var i=Array.isArray(e)?e:e?[e]:[];this.storeDataAsText?(i.forEach(function(o){var l=o.content||o;n.previewValue.push({name:o.name,type:o.type,content:l})}),this.previewValueChanged()):(this._previewLoader&&this._previewLoader.dispose(),this.isFileLoading=!0,this._previewLoader=new Ul(this,function(o,l){o!=="error"&&(l.forEach(function(u){n.previewValue.push(u)}),n.previewValueChanged()),n.isFileLoading=!1,n._previewLoader.dispose(),n._previewLoader=void 0}),this._previewLoader.load(i))}},t.prototype.allFilesOk=function(e){var n=this,i=this.errors?this.errors.length:0;return(e||[]).forEach(function(o){n.maxSize>0&&o.size>n.maxSize&&n.errors.push(new Ma(n.maxSize,n))}),i===this.errors.length},t.prototype.isFileImage=function(e){if(!e||!e.content||!e.content.substring)return!1;var n="data:image",i=e.content&&e.content.substring(0,n.length);i=i&&i.toLowerCase();var o=i===n||!!e.type&&e.type.toLowerCase().indexOf("image/")===0;return o},t.prototype.getPlainData=function(e){e===void 0&&(e={includeEmpty:!0});var n=r.prototype.getPlainData.call(this,e);if(n&&!this.isEmpty()){n.isNode=!1;var i=Array.isArray(this.value)?this.value:[this.value];n.data=i.map(function(o,l){return{name:l,title:"File",value:o.content&&o.content||o,displayValue:o.name&&o.name||o,getString:function(u){return typeof u=="object"?JSON.stringify(u):u},isNode:!1}})}return n},t.prototype.getImageWrapperCss=function(e){return new F().append(this.cssClasses.imageWrapper).append(this.cssClasses.imageWrapperDefaultImage,this.defaultImage(e)).toString()},t.prototype.getActionsContainerCss=function(e){return new F().append(e.actionsContainer).append(e.actionsContainerAnswered,this.isAnswered).toString()},t.prototype.getRemoveButtonCss=function(){return new F().append(this.cssClasses.removeFileButton).append(this.cssClasses.contextButton).toString()},t.prototype.getChooseFileCss=function(){var e=this.isAnswered;return new F().append(this.cssClasses.chooseFile).append(this.cssClasses.controlDisabled,this.isReadOnly).append(this.cssClasses.chooseFileAsText,!e).append(this.cssClasses.chooseFileAsTextDisabled,!e&&this.isInputReadOnly).append(this.cssClasses.contextButton,e).append(this.cssClasses.chooseFileAsIcon,e).toString()},t.prototype.getReadOnlyFileCss=function(){return new F().append("form-control").append(this.cssClasses.placeholderInput).toString()},Object.defineProperty(t.prototype,"fileRootCss",{get:function(){return new F().append(this.cssClasses.root).append(this.cssClasses.rootDisabled,this.isDisabledStyle).append(this.cssClasses.rootReadOnly,this.isReadOnlyStyle).append(this.cssClasses.rootPreview,this.isPreviewStyle).append(this.cssClasses.rootDragging,this.isDragging).append(this.cssClasses.rootAnswered,this.isAnswered).append(this.cssClasses.single,!this.allowMultiple).append(this.cssClasses.singleImage,!this.allowMultiple&&this.isAnswered&&this.canPreviewImage(this.value[0])).append(this.cssClasses.mobile,this.isMobile).toString()},enumerable:!1,configurable:!0}),t.prototype.getFileDecoratorCss=function(){return new F().append(this.cssClasses.fileDecorator).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.fileDecoratorDrag,this.isDragging).toString()},t.prototype.onChange=function(e){if(p.isFileReaderAvailable()&&!(!e||!e.files||e.files.length<1)){for(var n=[],i=this.allowMultiple?e.files.length:1,o=0;o<i;o++)n.push(e.files[o]);e.value="",this.loadFiles(n)}},t.prototype.calcCssClasses=function(e){var n=r.prototype.calcCssClasses.call(this,e);return this.actionsContainer.cssClasses=e.actionBar,this.actionsContainer.cssClasses.itemWithTitle=this.actionsContainer.cssClasses.item,this.actionsContainer.cssClasses.item="",this.actionsContainer.cssClasses.itemAsIcon=n.contextButton,this.actionsContainer.containerCss=n.actionsContainer,n},t.prototype.onSurveyLoad=function(){r.prototype.onSurveyLoad.call(this),this.updateCurrentMode(),this.updateActionsVisibility(),this.loadPreview(this.value)},t.prototype.needResponsiveness=function(){return this.supportResponsiveness()&&this.isDefaultV2Theme},t.prototype.supportResponsiveness=function(){return!0},t.prototype.getObservedElementSelector=function(){return ct(this.cssClasses.dragArea)},t.prototype.getFileListSelector=function(){return ct(this.cssClasses.fileList)},Object.defineProperty(t.prototype,"renderedPages",{get:function(){return this._renderedPages},set:function(e){this.pagesAnimation.sync(e)},enumerable:!1,configurable:!0}),t.prototype.getPagesAnimationOptions=function(){var e=this;return{getEnterOptions:function(n){var i=e.cssClasses.page;return{cssClass:i?new F().append(i+"--enter-from-left",e.navigationDirection=="left"||e.navigationDirection=="left-delete").append(i+"--enter-from-right",e.navigationDirection=="right").toString():""}},getLeaveOptions:function(n){var i=e.cssClasses.page;return{cssClass:i?new F().append(i+"--leave-to-left",e.navigationDirection=="right").append(i+"--leave-to-right",e.navigationDirection=="left").toString():""}},getAnimatedElement:function(n){var i;return(i=e.rootElement)===null||i===void 0?void 0:i.querySelector("#"+n.id)},isAnimationEnabled:function(){return e.animationAllowed&&!!e.rootElement},getRerenderEvent:function(){return e.onElementRerendered}}},t.prototype.triggerResponsiveness=function(e){e&&(this.calculatedGapBetweenItems=void 0,this.calculatedItemWidth=void 0),r.prototype.triggerResponsiveness.call(this)},t.prototype.processResponsiveness=function(e,n){if(this._width=n,this.rootElement&&(!this.calculatedGapBetweenItems||!this.calculatedItemWidth)&&this.allowMultiple){var i=this.getFileListSelector(),o=i?this.rootElement.querySelector(this.getFileListSelector()):void 0;if(o){var l=o.querySelector(ct(this.cssClasses.page));if(l){var u=l.querySelector(ct(this.cssClasses.previewItem));this.calculatedGapBetweenItems=Math.ceil(Number.parseFloat(g.getComputedStyle(l).gap)),u&&(this.calculatedItemWidth=Math.ceil(Number.parseFloat(g.getComputedStyle(u).width)))}}}return this.calculatedGapBetweenItems&&this.calculatedItemWidth?(this.pageSize=this.calcAvailableItemsCount(n,this.calculatedItemWidth,this.calculatedGapBetweenItems),!0):!1},t.prototype.canDragDrop=function(){return!this.isInputReadOnly&&this.currentMode!=="camera"&&!this.isPlayingVideo},t.prototype.afterRenderQuestionElement=function(e){this.rootElement=e},t.prototype.beforeDestroyQuestionElement=function(e){this.rootElement=void 0},t.prototype.clearFilesCore=function(){if(this.rootElement){var e=this.rootElement.querySelectorAll("input")[0];e&&(e.value="")}this.clear()},t.prototype.doRemoveFile=function(e,n){var i=this;if(n.stopPropagation(),this.needConfirmRemoveFile){Jn({message:this.getConfirmRemoveMessage(e.name),funcOnYes:function(){i.clearFilesCore()},locale:this.getLocale(),rootElement:this.survey.rootElement,cssClass:this.cssClasses.confirmDialog});return}this.removeFileCore(e)},t.prototype.removeFileCore=function(e){var n=this.previewValue.indexOf(e);this.removeFileByContent(n===-1?e:this.value[n])},t.prototype.dispose=function(){this.cameraValue=void 0,this.closeVideoStream(),r.prototype.dispose.call(this)},ke([V()],t.prototype,"isDragging",void 0),ke([Xe({})],t.prototype,"previewValue",void 0),ke([Xe({})],t.prototype,"pages",void 0),ke([V({defaultValue:0,onSet:function(e,n){n.updateRenderedPages()}})],t.prototype,"indexToShow",void 0),ke([V({defaultValue:1,onSet:function(e,n){n.updateFileNavigator()}})],t.prototype,"pageSize",void 0),ke([V({defaultValue:!1})],t.prototype,"containsMultiplyFiles",void 0),ke([V()],t.prototype,"allowCameraAccess",void 0),ke([V({onSet:function(e,n){n.isLoadingFromJson||n.updateCurrentMode()}})],t.prototype,"sourceType",void 0),ke([V()],t.prototype,"canFlipCameraValue",void 0),ke([V({localizable:{defaultStr:"confirmRemoveFile"}})],t.prototype,"confirmRemoveMessage",void 0),ke([V({localizable:{defaultStr:"confirmRemoveAllFiles"}})],t.prototype,"confirmRemoveAllMessage",void 0),ke([V({localizable:{defaultStr:"noFileChosen"}})],t.prototype,"noFileChosenCaption",void 0),ke([V({localizable:{defaultStr:"chooseFileCaption"}})],t.prototype,"chooseButtonCaption",void 0),ke([V({localizable:{defaultStr:"replaceFileCaption"}})],t.prototype,"replaceButtonCaption",void 0),ke([V({localizable:{defaultStr:"removeFileCaption"}})],t.prototype,"removeFileCaption",void 0),ke([V({localizable:{defaultStr:"loadingFile"}})],t.prototype,"loadingFileTitle",void 0),ke([V({localizable:{defaultStr:"chooseFile"}})],t.prototype,"chooseFileTitle",void 0),ke([V({localizable:{defaultStr:"fileOrPhotoPlaceholder"}})],t.prototype,"fileOrPhotoPlaceholder",void 0),ke([V({localizable:{defaultStr:"photoPlaceholder"}})],t.prototype,"photoPlaceholder",void 0),ke([V({localizable:{defaultStr:"filePlaceholder"}})],t.prototype,"filePlaceholder",void 0),ke([V()],t.prototype,"locRenderedPlaceholderValue",void 0),ke([Xe()],t.prototype,"_renderedPages",void 0),t}(Hl);L.addClass("file",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"showPreview:boolean",default:!0,visible:!1},"allowMultiple:boolean",{name:"allowImagesPreview:boolean",default:!0,dependsOn:"showPreview",visibleIf:function(r){return!!r.showPreview}},"imageHeight","imageWidth","acceptedTypes",{name:"storeDataAsText:boolean",default:!0},{name:"waitForUpload:boolean",default:!1},{name:"maxSize:number",default:0},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"validators",visible:!1},{name:"needConfirmRemoveFile:boolean"},{name:"sourceType",choices:["file","camera","file-camera"],default:"file",category:"general",visible:!0,visibleIf:function(){return R.supportCreatorV2}},{name:"fileOrPhotoPlaceholder:text",serializationProperty:"locFileOrPhotoPlaceholder",category:"general",visibleIf:function(){return R.supportCreatorV2}},{name:"photoPlaceholder:text",serializationProperty:"locPhotoPlaceholder",category:"general",visibleIf:function(){return R.supportCreatorV2}},{name:"filePlaceholder:text",serializationProperty:"locFilePlaceholder",category:"general",visibleIf:function(){return R.supportCreatorV2}},{name:"allowCameraAccess:switch",category:"general",visible:!1}],function(){return new zo("")},"question"),Se.Instance.registerQuestion("file",function(r){return new zo(r)});var Ul=function(){function r(t,e){this.fileQuestion=t,this.callback=e,this.loaded=[]}return r.prototype.load=function(t){var e=this,n=0;this.loaded=new Array(t.length),t.forEach(function(i,o){e.fileQuestion.survey&&e.fileQuestion.survey.downloadFile(e.fileQuestion,e.fileQuestion.name,i,function(l,u){!e.fileQuestion||!e.callback||(l!=="error"?(e.loaded[o]={content:u,name:i.name,type:i.type},n++,n===t.length&&e.callback(l,e.loaded)):e.callback("error",e.loaded))})})},r.prototype.dispose=function(){this.fileQuestion=void 0,this.callback=void 0},r}(),ph=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Uo=function(r){ph(t,r);function t(e){var n=r.call(this,e)||this,i=n.createLocalizableString("html",n);return i.onGetTextCallback=function(o){return n.survey&&!n.ignoreHtmlProgressing?n.processHtml(o):o},n}return t.prototype.getType=function(){return"html"},Object.defineProperty(t.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.getProcessedText=function(e){return this.ignoreHtmlProgressing?e:r.prototype.getProcessedText.call(this,e)},Object.defineProperty(t.prototype,"html",{get:function(){return this.getLocalizableStringText("html","")},set:function(e){this.setLocalizableStringText("html",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locHtml",{get:function(){return this.getLocalizableString("html")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"processedHtml",{get:function(){return this.processHtml(this.html)},enumerable:!1,configurable:!0}),t.prototype.processHtml=function(e){return this.survey?this.survey.processHtml(e,"html-question"):this.html},Object.defineProperty(t.prototype,"isNewA11yStructure",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderCssRoot",{get:function(){return new F().append(this.cssClasses.root).append(this.cssClasses.nested,this.getIsNested()).toString()||void 0},enumerable:!1,configurable:!0}),t}(ir);L.addClass("html",[{name:"html:html",serializationProperty:"locHtml"},{name:"hideNumber",visible:!1},{name:"state",visible:!1},{name:"titleLocation",visible:!1},{name:"descriptionLocation",visible:!1},{name:"errorLocation",visible:!1},{name:"indent",visible:!1},{name:"width",visible:!1}],function(){return new Uo("")},"nonvalue"),Se.Instance.registerQuestion("html",function(r){return new Uo(r)});var dh=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Wo=function(r){dh(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultItemComponent=function(){return"survey-radiogroup-item"},t.prototype.getType=function(){return"radiogroup"},t.prototype.getFirstInputElementId=function(){return this.inputId+"_0"},Object.defineProperty(t.prototype,"selectedItem",{get:function(){return this.getSingleSelectedItem()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showClearButton",{get:function(){return this.getPropertyValue("showClearButton")},set:function(e){this.setPropertyValue("showClearButton",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canShowClearButton",{get:function(){return this.showClearButton&&!this.isReadOnly},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clearButtonCaption",{get:function(){return this.getLocalizationString("clearCaption")},enumerable:!1,configurable:!0}),t.prototype.supportGoNextPageAutomatic=function(){return this.isMouseDown===!0&&!this.isOtherSelected},t.prototype.getConditionJson=function(e,n){e===void 0&&(e=null),n===void 0&&(n=null);var i=r.prototype.getConditionJson.call(this,e,n);return delete i.showClearButton,i},t.prototype.setNewComment=function(e){this.isMouseDown=!0,r.prototype.setNewComment.call(this,e),this.isMouseDown=!1},Object.defineProperty(t.prototype,"showClearButtonInContent",{get:function(){return!this.isDefaultV2Theme&&this.canShowClearButton},enumerable:!1,configurable:!0}),t.prototype.clickItemHandler=function(e){this.isReadOnlyAttr||(this.renderedValue=e.value)},t.prototype.getDefaultTitleActions=function(){var e=this,n=[];if(this.isDefaultV2Theme&&!this.isDesignMode){var i=new Te({locTitleName:"clearCaption",id:"sv-clr-btn-"+this.id,action:function(){e.clearValue(!0)},innerCss:this.cssClasses.clearButton,visible:new qe(function(){return e.canShowClearButton})});n.push(i)}return n},Object.defineProperty(t.prototype,"isNewA11yStructure",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a11y_input_ariaRole",{get:function(){return"radiogroup"},enumerable:!1,configurable:!0}),t}(oi);L.addClass("radiogroup",[{name:"showClearButton:boolean",default:!1},{name:"separateSpecialChoices",visible:!0},{name:"itemComponent",visible:!1,default:"survey-radiogroup-item"}],function(){return new Wo("")},"checkboxbase"),Se.Instance.registerQuestion("radiogroup",function(r){var t=new Wo(r);return t.choices=Se.DefaultChoices,t});var $o=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),at=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},or=function(r){$o(t,r);function t(e,n){n===void 0&&(n=null);var i=r.call(this)||this;return i.itemValue=e,i.locString=n,i.locText.onStringChanged.add(i.onStringChangedCallback.bind(i)),i.onStringChangedCallback(),i}return t.prototype.onStringChangedCallback=function(){this.text=this.itemValue.text},Object.defineProperty(t.prototype,"value",{get:function(){return this.itemValue.getPropertyValue("value")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locText",{get:function(){return this.locString||this.itemValue.locText},enumerable:!1,configurable:!0}),at([V({defaultValue:""})],t.prototype,"highlight",void 0),at([V({defaultValue:""})],t.prototype,"text",void 0),at([V()],t.prototype,"style",void 0),t}(be),fh=function(r){$o(t,r);function t(e,n,i){var o=r.call(this,e,n)||this;return o.description=i,o}return t}(de),Go=function(r){$o(t,r);function t(e){var n=r.call(this,e)||this;return n._syncPropertiesChanging=!1,n.iCounter=0,n.createItemValues("rateValues"),n.createLocalizableString("ratingOptionsCaption",n,!1,!0),n.registerFunctionOnPropertiesValueChanged(["rateMin","rateMax","minRateDescription","maxRateDescription","rateStep","displayRateDescriptionsAsExtremeItems"],function(){return n.resetRenderedItems()}),n.registerFunctionOnPropertiesValueChanged(["rateType"],function(){n.setIconsToRateValues(),n.resetRenderedItems(),n.updateRateCount()}),n.registerFunctionOnPropertiesValueChanged(["rateValues"],function(){n.setIconsToRateValues(),n.resetRenderedItems()}),n.registerSychProperties(["rateValues"],function(){n.autoGenerate=n.rateValues.length==0,n.setIconsToRateValues(),n.resetRenderedItems()}),n.registerFunctionOnPropertiesValueChanged(["rateColorMode","scaleColorMode"],function(){n.updateColors(n.survey.themeVariables)}),n.registerFunctionOnPropertiesValueChanged(["displayMode"],function(){n.updateRenderAsBasedOnDisplayMode(!0)}),n.registerSychProperties(["autoGenerate"],function(){!n.autoGenerate&&n.rateValues.length===0&&n.setPropertyValue("rateValues",n.visibleRateValues),n.autoGenerate&&(n.rateValues.splice(0,n.rateValues.length),n.updateRateMax()),n.resetRenderedItems()}),n.createLocalizableString("minRateDescription",n,!0).onStringChanged.add(function(i,o){n.hasMinRateDescription=!i.isEmpty}),n.createLocalizableString("maxRateDescription",n,!0).onStringChanged.add(function(i,o){n.hasMaxRateDescription=!i.isEmpty}),n.initPropertyDependencies(),n}return t.prototype.setIconsToRateValues=function(){var e=this;this.rateType=="smileys"&&this.rateValues.map(function(n){return n.icon=e.getItemSmiley(n)})},t.prototype.endLoadingFromJson=function(){r.prototype.endLoadingFromJson.call(this),this.jsonObj.rateMin!==void 0&&this.jsonObj.rateCount!==void 0&&this.jsonObj.rateMax===void 0&&this.updateRateMax(),this.jsonObj.rateMax!==void 0&&this.jsonObj.rateCount!==void 0&&this.jsonObj.rateMin===void 0&&this.updateRateMin(),this.jsonObj.autoGenerate===void 0&&this.jsonObj.rateValues!==void 0&&(this.autoGenerate=!this.jsonObj.rateValues.length),this.updateRateCount(),this.setIconsToRateValues()},t.prototype.registerSychProperties=function(e,n){var i=this;this.registerFunctionOnPropertiesValueChanged(e,function(){i._syncPropertiesChanging||(i._syncPropertiesChanging=!0,n(),i._syncPropertiesChanging=!1)})},t.prototype.useRateValues=function(){return!!this.rateValues.length&&!this.autoGenerate},t.prototype.updateRateMax=function(){this.rateMax=this.rateMin+this.rateStep*(this.rateCount-1)},t.prototype.updateRateMin=function(){this.rateMin=this.rateMax-this.rateStep*(this.rateCount-1)},t.prototype.updateRateCount=function(){var e=0;this.useRateValues()?e=this.rateValues.length:e=Math.trunc((this.rateMax-this.rateMin)/(this.rateStep||1))+1,e>10&&this.rateDisplayMode=="smileys"&&(e=10),this.rateCount=e,this.rateValues.length>e&&this.rateValues.splice(e,this.rateValues.length-e)},t.prototype.initPropertyDependencies=function(){var e=this;this.registerSychProperties(["rateCount"],function(){if(!e.useRateValues())e.rateMax=e.rateMin+e.rateStep*(e.rateCount-1);else if(e.rateCount<e.rateValues.length){if(e.rateCount>=10&&e.rateDisplayMode=="smileys")return;e.rateValues.splice(e.rateCount,e.rateValues.length-e.rateCount)}else for(var n=e.rateValues.length;n<e.rateCount;n++)e.rateValues.push(new de(Ge("choices_Item")+(n+1)))}),this.registerSychProperties(["rateMin","rateMax","rateStep","rateValues"],function(){e.updateRateCount()})},Object.defineProperty(t.prototype,"showSelectedItemLocText",{get:function(){return!this.readOnly&&!this.inputHasValue&&!!this.selectedItemLocText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedItemLocText",{get:function(){var e=this,n;return!this.readOnly&&((n=this.visibleRateValues.filter(function(i){return i.value==e.value})[0])===null||n===void 0?void 0:n.locText)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rateValues",{get:function(){return this.getPropertyValue("rateValues")},set:function(e){this.setPropertyValue("rateValues",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rateMin",{get:function(){return this.getPropertyValue("rateMin")},set:function(e){this.setPropertyValue("rateMin",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rateMax",{get:function(){return this.getPropertyValue("rateMax")},set:function(e){this.setPropertyValue("rateMax",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rateStep",{get:function(){return this.getPropertyValue("rateStep")},set:function(e){this.setPropertyValue("rateStep",e)},enumerable:!1,configurable:!0}),t.prototype.updateColors=function(e){if(this.colorMode==="monochrome"||!g.isAvailable()||t.colorsCalculated)return;function n(o){var l=getComputedStyle(g.getDocumentElement());return l.getPropertyValue&&l.getPropertyValue(o)}function i(o,l){var u=!!e&&e[o];if(u||(u=n(l)),!u)return null;var d=g.createElement("canvas");if(!d)return null;var m=d.getContext("2d");m.fillStyle=u,m.fillStyle=="#000000"&&(m.fillStyle=n(l));var w=m.fillStyle;if(w.startsWith("rgba"))return w.substring(5,w.length-1).split(",").map(function(A){return+A.trim()});var E=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(w);return E?[parseInt(E[1],16),parseInt(E[2],16),parseInt(E[3],16),1]:null}t.badColor=i("--sjs-special-red","--sd-rating-bad-color"),t.normalColor=i("--sjs-special-yellow","--sd-rating-normal-color"),t.goodColor=i("--sjs-special-green","--sd-rating-good-color"),t.badColorLight=i("--sjs-special-red-light","--sd-rating-bad-color-light"),t.normalColorLight=i("--sjs-special-yellow-light","--sd-rating-normal-color-light"),t.goodColorLight=i("--sjs-special-green-light","--sd-rating-good-color-light"),this.colorsCalculated=!0,this.resetRenderedItems()},t.prototype.getDisplayValueCore=function(e,n){if(!this.useRateValues)return r.prototype.getDisplayValueCore.call(this,e,n);var i=de.getTextOrHtmlByValue(this.visibleRateValues,n);return i||n},Object.defineProperty(t.prototype,"visibleRateValues",{get:function(){return this.renderedRateItems.map(function(e){return e.itemValue})},enumerable:!1,configurable:!0}),t.prototype.supportEmptyValidation=function(){return this.renderAs==="dropdown"},t.prototype.itemValuePropertyChanged=function(e,n,i,o){!this.useRateValues()&&o!==void 0&&(this.autoGenerate=!1),r.prototype.itemValuePropertyChanged.call(this,e,n,i,o)},t.prototype.runConditionCore=function(e,n){r.prototype.runConditionCore.call(this,e,n),this.runRateItesmCondition(e,n)},t.prototype.runRateItesmCondition=function(e,n){var i;if(this.useRateValues()){var o=!1;if(!((i=this.survey)===null||i===void 0)&&i.areInvisibleElementsShowing?this.rateValues.forEach(function(u){o=o||!u.isVisible,u.setIsVisible(u,!0)}):o=de.runConditionsForItems(this.rateValues,void 0,void 0,e,n,!0),o&&(this.resetRenderedItems(),!this.isEmpty()&&!this.isReadOnly)){var l=de.getItemByValue(this.rateValues,this.value);l&&!l.isVisible&&this.clearValue()}}},t.prototype.getRateValuesCore=function(){if(!this.useRateValues())return this.createRateValues();var e=new Array;return this.rateValues.forEach(function(n){n.isVisible&&e.push(n)}),e},t.prototype.calculateRateValues=function(){var e=this.getRateValuesCore();return this.rateType=="smileys"&&e.length>10&&(e=e.slice(0,10)),e},t.prototype.calculateRenderedRateItems=function(){var e=this,n=this.calculateRateValues();return n.map(function(i,o){var l=null;return e.displayRateDescriptionsAsExtremeItems&&(o==0&&(l=new or(i,e.minRateDescription&&e.locMinRateDescription||i.locText)),o==n.length-1&&(l=new or(i,e.maxRateDescription&&e.locMaxRateDescription||i.locText))),l||(l=new or(i)),l})},t.prototype.calculateVisibleChoices=function(){var e=this,n=this.calculateRateValues();return n.map(function(i,o){return e.getRatingItemValue(i,o)})},t.prototype.resetRenderedItems=function(){if(this.autoGenerate){var e=this.getRateValuesCore();this.rateMax=e[e.length-1].value}Array.isArray(this.getPropertyValueWithoutDefault("renderedRateItems"))&&this.setArrayPropertyDirectly("renderedRateItems",this.calculateRenderedRateItems()),Array.isArray(this.getPropertyValueWithoutDefault("visibleChoices"))&&this.setArrayPropertyDirectly("visibleChoices",this.calculateVisibleChoices)},Object.defineProperty(t.prototype,"renderedRateItems",{get:function(){var e=this;return this.getPropertyValue("renderedRateItems",void 0,function(){return e.calculateRenderedRateItems()})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleChoices",{get:function(){var e=this;return this.getPropertyValue("visibleChoices",void 0,function(){return e.calculateVisibleChoices()})},enumerable:!1,configurable:!0}),t.prototype.createRateValues=function(){for(var e=[],n=this.rateMin,i=this.rateStep;n<=this.rateMax&&e.length<R.ratingMaximumRateValueCount;){var o=new de(n);o.locOwner=this,o.ownerPropertyName="rateValues",e.push(o),n=this.correctValue(n+i,i)}return e},t.prototype.getRatingItemValue=function(e,n){if(!e)return null;var i=e.value,o;i===this.rateMin&&(o=this.minRateDescription&&this.locMinRateDescription),(i===this.rateMax||n===R.ratingMaximumRateValueCount)&&(o=this.maxRateDescription&&this.locMaxRateDescription);var l=new fh(i,e.text,o);return l.locOwner=e.locOwner,l.ownerPropertyName=e.ownerPropertyName,l},t.prototype.correctValue=function(e,n){if(!e||Math.round(e)==e)return e;for(var i=0;Math.round(n)!=n;)n*=10,i++;return parseFloat(e.toFixed(i))},t.prototype.getType=function(){return"rating"},t.prototype.getFirstInputElementId=function(){return this.inputId+"_0"},t.prototype.getInputId=function(e){return this.inputId+"_"+e},Object.defineProperty(t.prototype,"questionName",{get:function(){return this.name+"_"+this.id},enumerable:!1,configurable:!0}),t.prototype.supportGoNextPageAutomatic=function(){return this.isMouseDown===!0||this.renderAs==="dropdown"},t.prototype.supportOther=function(){return!1},t.prototype.getPlainDataCalculatedValue=function(e){var n=r.prototype.getPlainDataCalculatedValue.call(this,e);if(n!==void 0||!this.useRateValues||this.isEmpty())return n;var i=de.getItemByValue(this.visibleRateValues,this.value);return i?i[e]:void 0},Object.defineProperty(t.prototype,"minRateDescription",{get:function(){return this.getLocalizableStringText("minRateDescription")},set:function(e){this.setLocalizableStringText("minRateDescription",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locMinRateDescription",{get:function(){return this.getLocalizableString("minRateDescription")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxRateDescription",{get:function(){return this.getLocalizableStringText("maxRateDescription")},set:function(e){this.setLocalizableStringText("maxRateDescription",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locMaxRateDescription",{get:function(){return this.getLocalizableString("maxRateDescription")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasMinLabel",{get:function(){return!this.displayRateDescriptionsAsExtremeItems&&!!this.hasMinRateDescription},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasMaxLabel",{get:function(){return!this.displayRateDescriptionsAsExtremeItems&&!!this.hasMaxRateDescription},enumerable:!1,configurable:!0}),t.prototype.updateRenderAsBasedOnDisplayMode=function(e){this.isDesignMode?(e||this.renderAs==="dropdown")&&(this.renderAs="default"):(e||this.displayMode!=="auto")&&(this.renderAs=this.displayMode==="dropdown"?"dropdown":"default")},t.prototype.onSurveyLoad=function(){r.prototype.onSurveyLoad.call(this),this.renderAs==="dropdown"&&this.displayMode==="auto"?this.displayMode=this.renderAs:this.updateRenderAsBasedOnDisplayMode()},Object.defineProperty(t.prototype,"rateDisplayMode",{get:function(){return this.rateType},set:function(e){this.rateType=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isStar",{get:function(){return this.rateType=="stars"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSmiley",{get:function(){return this.rateType=="smileys"},enumerable:!1,configurable:!0}),t.prototype.getDefaultItemComponent=function(){return this.renderAs=="dropdown"?"sv-rating-dropdown-item":this.isStar?"sv-rating-item-star":this.isSmiley?"sv-rating-item-smiley":"sv-rating-item"},Object.defineProperty(t.prototype,"itemComponent",{get:function(){return this.getPropertyValue("itemComponent",this.getDefaultItemComponent())},set:function(e){this.setPropertyValue("itemComponent",e)},enumerable:!1,configurable:!0}),t.prototype.valueToData=function(e){if(this.useRateValues()){var n=de.getItemByValue(this.rateValues,e);return n?n.value:e}return isNaN(e)?e:parseFloat(e)},t.prototype.setValueFromClick=function(e){if(!this.isReadOnlyAttr){this.value===(typeof this.value=="string"?e:parseFloat(e))?this.clearValue(!0):this.value=e;for(var n=0;n<this.renderedRateItems.length;n++)this.renderedRateItems[n].highlight="none"}},t.prototype.onItemMouseIn=function(e){if(!Qe&&!(this.isReadOnly||!e.itemValue.isEnabled||this.isDesignMode)){var n=!0,i=this.value!=null;if(this.rateType!=="stars"){e.highlight="highlighted";return}for(var o=0;o<this.renderedRateItems.length;o++)this.renderedRateItems[o].highlight=n&&!i&&"highlighted"||!n&&i&&"unhighlighted"||"none",this.renderedRateItems[o]==e&&(n=!1),this.renderedRateItems[o].itemValue.value==this.value&&(i=!1)}},t.prototype.onItemMouseOut=function(e){Qe||this.renderedRateItems.forEach(function(n){return n.highlight="none"})},Object.defineProperty(t.prototype,"itemSmallMode",{get:function(){return this.inMatrixMode&&R.matrix.rateSize=="small"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ratingRootCss",{get:function(){var e=(this.displayMode=="buttons"||this.survey&&this.survey.isDesignMode)&&this.cssClasses.rootWrappable?this.cssClasses.rootWrappable:"",n="";return(this.hasMaxLabel||this.hasMinLabel)&&(this.rateDescriptionLocation=="top"&&(n=this.cssClasses.rootLabelsTop),this.rateDescriptionLocation=="bottom"&&(n=this.cssClasses.rootLabelsBottom),this.rateDescriptionLocation=="topBottom"&&(n=this.cssClasses.rootLabelsDiagonal)),new F().append(this.cssClasses.root).append(e).append(n).append(this.cssClasses.itemSmall,this.itemSmallMode&&this.rateType!="labels").toString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemStarIcon",{get:function(){return this.itemSmallMode?"icon-rating-star-small":"icon-rating-star"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemStarIconAlt",{get:function(){return this.itemStarIcon+"-2"},enumerable:!1,configurable:!0}),t.prototype.getItemSmiley=function(e){var n=["terrible","very-poor","poor","not-good","average","normal","good","very-good","excellent","perfect"],i=["very-good","not-good","normal","good","average","excellent","poor","perfect","very-poor","terrible"],o=this.useRateValues()?this.rateValues.length:this.rateMax-this.rateMin+1,l=i.slice(0,o),u=n.filter(function(d){return l.indexOf(d)!=-1});return this.useRateValues()?u[this.rateValues.indexOf(e)]:u[e.value-this.rateMin]},t.prototype.getItemSmileyIconName=function(e){return"icon-"+this.getItemSmiley(e)},t.prototype.getItemClassByText=function(e,n){return this.getItemClass(e)},t.prototype.getRenderedItemColor=function(e,n){var i=n?t.badColorLight:t.badColor,o=n?t.goodColorLight:t.goodColor,l=(this.rateCount-1)/2,u=n?t.normalColorLight:t.normalColor;if(e<l?o=u:(i=u,e-=l),!i||!o)return null;for(var d=[0,0,0,0],m=0;m<4;m++)d[m]=i[m]+(o[m]-i[m])*e/l,m<3&&(d[m]=Math.trunc(d[m]));return"rgba("+d[0]+", "+d[1]+", "+d[2]+", "+d[3]+")"},t.prototype.getItemStyle=function(e,n){if(n===void 0&&(n="none"),this.scaleColorMode==="monochrome"&&this.rateColorMode=="default"||this.isPreviewStyle||this.isReadOnlyStyle)return{};var i=this.visibleRateValues.indexOf(e),o=this.getRenderedItemColor(i,!1),l=n=="highlighted"&&this.scaleColorMode==="colored"&&this.getRenderedItemColor(i,!0);return l?{"--sd-rating-item-color":o,"--sd-rating-item-color-light":l}:{"--sd-rating-item-color":o}},t.prototype.getItemClass=function(e,n){var i=this;n===void 0&&(n="none");var o=this.value==e.value;this.isStar&&(this.useRateValues()?o=this.rateValues.indexOf(this.rateValues.filter(function(Pn){return Pn.value==i.value})[0])>=this.rateValues.indexOf(e):o=this.value>=e.value);var l=this.isReadOnly||!e.isEnabled,u=!l&&this.value!=e.value&&!(this.survey&&this.survey.isDesignMode),d=this.renderedRateItems.filter(function(Pn){return Pn.itemValue==e})[0],m=this.isStar&&d?.highlight=="highlighted",w=this.isStar&&d?.highlight=="unhighlighted",E=this.cssClasses.item,A=this.cssClasses.selected,U=this.cssClasses.itemDisabled,W=this.cssClasses.itemReadOnly,se=this.cssClasses.itemPreview,ie=this.cssClasses.itemHover,K=this.cssClasses.itemOnError,ye=null,He=null,$e=null,mt=null,xt=null;this.isStar&&(E=this.cssClasses.itemStar,A=this.cssClasses.itemStarSelected,U=this.cssClasses.itemStarDisabled,W=this.cssClasses.itemStarReadOnly,se=this.cssClasses.itemStarPreview,ie=this.cssClasses.itemStarHover,K=this.cssClasses.itemStarOnError,ye=this.cssClasses.itemStarHighlighted,He=this.cssClasses.itemStarUnhighlighted,xt=this.cssClasses.itemStarSmall),this.isSmiley&&(E=this.cssClasses.itemSmiley,A=this.cssClasses.itemSmileySelected,U=this.cssClasses.itemSmileyDisabled,W=this.cssClasses.itemSmileyReadOnly,se=this.cssClasses.itemSmileyPreview,ie=this.cssClasses.itemSmileyHover,K=this.cssClasses.itemSmileyOnError,ye=this.cssClasses.itemSmileyHighlighted,$e=this.cssClasses.itemSmileyScaleColored,mt=this.cssClasses.itemSmileyRateColored,xt=this.cssClasses.itemSmileySmall);var jn=!this.isStar&&!this.isSmiley&&(!this.displayRateDescriptionsAsExtremeItems||this.useRateValues()&&e!=this.rateValues[0]&&e!=this.rateValues[this.rateValues.length-1]||!this.useRateValues()&&e.value!=this.rateMin&&e.value!=this.rateMax)&&e.locText.calculatedText.length<=2&&Number.isInteger(Number(e.locText.calculatedText));return new F().append(E).append(A,o).append(U,this.isDisabledStyle).append(W,this.isReadOnlyStyle).append(se,this.isPreviewStyle).append(ie,u).append(ye,m).append($e,this.scaleColorMode=="colored").append(mt,this.rateColorMode=="scale"&&o).append(He,w).append(K,this.hasCssError()).append(xt,this.itemSmallMode).append(this.cssClasses.itemFixedSize,jn).toString()},t.prototype.getControlClass=function(){return this.isEmpty(),new F().append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.controlDisabled,this.isDisabledStyle).append(this.cssClasses.controlReadOnly,this.isReadOnlyStyle).append(this.cssClasses.controlPreview,this.isPreviewStyle).toString()},Object.defineProperty(t.prototype,"placeholder",{get:function(){return this.getLocalizableStringText("ratingOptionsCaption")},set:function(e){this.setLocalizableStringText("ratingOptionsCaption",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPlaceholder",{get:function(){return this.getLocalizableString("ratingOptionsCaption")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowClear",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"searchEnabled",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedValue",{get:function(){return this.value},set:function(e){this.value=e},enumerable:!1,configurable:!0}),t.prototype.isItemSelected=function(e){return e.value==this.value},Object.defineProperty(t.prototype,"readOnlyText",{get:function(){return this.readOnly?this.displayValue||this.placeholder:this.isEmpty()?this.placeholder:""},enumerable:!1,configurable:!0}),t.prototype.needResponsiveWidth=function(){var e=this.getPropertyValue("rateValues"),n=this.getPropertyValue("rateStep"),i=this.getPropertyValue("rateMax"),o=this.getPropertyValue("rateMin");return this.displayMode!="dropdown"&&!!(this.hasMinRateDescription||this.hasMaxRateDescription||n&&(i-o)/n>9)},t.prototype.supportResponsiveness=function(){return!0},t.prototype.onBeforeSetCompactRenderer=function(){this.dropdownListModelValue||(this.dropdownListModelValue=new Xi(this),this.ariaExpanded="false")},t.prototype.getCompactRenderAs=function(){return this.displayMode=="buttons"?"default":"dropdown"},t.prototype.getDesktopRenderAs=function(){return this.displayMode=="dropdown"?"dropdown":"default"},Object.defineProperty(t.prototype,"dropdownListModel",{get:function(){return this.renderAs==="dropdown"&&this.onBeforeSetCompactRenderer(),this.dropdownListModelValue},set:function(e){this.dropdownListModelValue=e,this.ariaExpanded=e?"false":void 0,this.updateElementCss()},enumerable:!1,configurable:!0}),t.prototype.onBlurCore=function(e){var n;(n=this.dropdownListModel)===null||n===void 0||n.onBlur(e),r.prototype.onBlurCore.call(this,e)},t.prototype.updateCssClasses=function(e,n){r.prototype.updateCssClasses.call(this,e,n),Yr(e,n)},t.prototype.calcCssClasses=function(e){var n=r.prototype.calcCssClasses.call(this,e);return this.dropdownListModelValue&&this.dropdownListModelValue.updateCssClasses(n.popup,n.list),n},t.prototype.themeChanged=function(e){this.colorsCalculated=!1,this.updateColors(e.cssVariables)},t.prototype.setSurveyImpl=function(e,n){r.prototype.setSurveyImpl.call(this,e,n),this.survey&&(this.updateColors(this.survey.themeVariables),this.updateRenderAsBasedOnDisplayMode())},t.prototype.dispose=function(){r.prototype.dispose.call(this),this.dropdownListModelValue&&(this.dropdownListModelValue.dispose(),this.dropdownListModelValue=void 0)},t.colorsCalculated=!1,at([V({defaultValue:!1})],t.prototype,"inputHasValue",void 0),at([V()],t.prototype,"autoGenerate",void 0),at([V()],t.prototype,"rateCount",void 0),at([V({defaultValue:!1})],t.prototype,"hasMinRateDescription",void 0),at([V({defaultValue:!1})],t.prototype,"hasMaxRateDescription",void 0),at([V()],t.prototype,"displayRateDescriptionsAsExtremeItems",void 0),at([V()],t.prototype,"displayMode",void 0),at([V()],t.prototype,"rateDescriptionLocation",void 0),at([V()],t.prototype,"rateType",void 0),at([V()],t.prototype,"scaleColorMode",void 0),at([V()],t.prototype,"rateColorMode",void 0),t}(tt);L.addClass("rating",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"rateType",alternativeName:"rateDisplayMode",default:"labels",category:"rateValues",choices:["labels","stars","smileys"],visibleIndex:1},{name:"scaleColorMode",category:"rateValues",default:"monochrome",choices:["monochrome","colored"],visibleIf:function(r){return r.rateDisplayMode=="smileys"},visibleIndex:2},{name:"rateColorMode",category:"rateValues",default:"scale",choices:["default","scale"],visibleIf:function(r){return r.rateDisplayMode=="smileys"&&r.scaleColorMode=="monochrome"},visibleIndex:3},{name:"autoGenerate",category:"rateValues",default:!0,choices:[!0,!1],visibleIndex:5},{name:"rateCount:number",default:5,category:"rateValues",visibleIndex:4,onSettingValue:function(r,t){return t<2?2:t>R.ratingMaximumRateValueCount&&t>r.rateValues.length?R.ratingMaximumRateValueCount:t>10&&r.rateDisplayMode=="smileys"?10:t}},{name:"rateValues:itemvalue[]",baseValue:function(){return Ge("choices_Item")},category:"rateValues",visibleIf:function(r){return!r.autoGenerate},visibleIndex:6},{name:"rateMin:number",default:1,onSettingValue:function(r,t){return t>r.rateMax-r.rateStep?r.rateMax-r.rateStep:t},visibleIf:function(r){return!!r.autoGenerate},visibleIndex:7},{name:"rateMax:number",default:5,onSettingValue:function(r,t){return t<r.rateMin+r.rateStep?r.rateMin+r.rateStep:t},visibleIf:function(r){return!!r.autoGenerate},visibleIndex:8},{name:"rateStep:number",default:1,minValue:.1,onSettingValue:function(r,t){return t<=0&&(t=1),t>r.rateMax-r.rateMin&&(t=r.rateMax-r.rateMin),t},visibleIf:function(r){return!!r.autoGenerate},visibleIndex:9},{name:"minRateDescription",alternativeName:"mininumRateDescription",serializationProperty:"locMinRateDescription",visibleIndex:18},{name:"maxRateDescription",alternativeName:"maximumRateDescription",serializationProperty:"locMaxRateDescription",visibleIndex:19},{name:"displayRateDescriptionsAsExtremeItems:boolean",default:!1,visibleIndex:21,visibleIf:function(r){return r.rateType=="labels"}},{name:"rateDescriptionLocation",default:"leftRight",choices:["leftRight","top","bottom","topBottom"],visibleIndex:20},{name:"displayMode",default:"auto",choices:["auto","buttons","dropdown"],visibleIndex:0},{name:"itemComponent",visible:!1,defaultFunc:function(r){return r?(r.getOriginalObj&&(r=r.getOriginalObj()),r.getDefaultItemComponent()):"sv-rating-item"}}],function(){return new Go("")},"question"),Se.Instance.registerQuestion("rating",function(r){return new Go(r)});var hh=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ln=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Zo=function(r){hh(t,r);function t(e){var n=r.call(this,e)||this;return n.createLocalizableString("labelFalse",n,!0,"booleanUncheckedLabel"),n.createLocalizableString("labelTrue",n,!0,"booleanCheckedLabel"),n}return t.prototype.getType=function(){return"boolean"},t.prototype.isLayoutTypeSupported=function(e){return!0},t.prototype.supportGoNextPageAutomatic=function(){return this.renderAs!=="checkbox"},Object.defineProperty(t.prototype,"isIndeterminate",{get:function(){return this.isEmpty()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTitle",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"booleanValue",{get:function(){return this.isEmpty()?null:this.value==this.getValueTrue()},set:function(e){this.isReadOnly||this.isDesignMode||this.setBooleanValue(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checkedValue",{get:function(){return this.booleanValue},set:function(e){this.booleanValue=e},enumerable:!1,configurable:!0}),t.prototype.setBooleanValue=function(e){this.isValueEmpty(e)?(this.value=void 0,this.booleanValueRendered=void 0):(this.value=e==!0?this.getValueTrue():this.getValueFalse(),this.booleanValueRendered=e)},Object.defineProperty(t.prototype,"defaultValue",{get:function(){return this.getPropertyValue("defaultValue")},set:function(e){e===!0&&(e="true"),e===!1&&(e="false"),this.setPropertyValue("defaultValue",e),this.updateValueWithDefaults()},enumerable:!1,configurable:!0}),t.prototype.getDefaultValue=function(){var e=this.defaultValue;if(!(e==="indeterminate"||e===void 0||e===null))return e=="true"?this.getValueTrue():this.getValueFalse()},Object.defineProperty(t.prototype,"locTitle",{get:function(){var e=this.getLocalizableString("title");return!this.isValueEmpty(this.locLabel.text)&&(this.isValueEmpty(e.text)||this.isLabelRendered&&!this.showTitle)?this.locLabel:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelRenderedAriaID",{get:function(){return this.isLabelRendered?this.ariaTitleId:null},enumerable:!1,configurable:!0}),t.prototype.beforeDestroyQuestionElement=function(e){r.prototype.beforeDestroyQuestionElement.call(this,e),this.leftAnswerElement=void 0},Object.defineProperty(t.prototype,"isLabelRendered",{get:function(){return this.titleLocation==="hidden"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canRenderLabelDescription",{get:function(){return this.isLabelRendered&&this.hasDescription&&(this.hasDescriptionUnderTitle||this.hasDescriptionUnderInput)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelTrue",{get:function(){return this.getLocalizableStringText("labelTrue")},set:function(e){this.setLocalizableStringText("labelTrue",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locLabelTrue",{get:function(){return this.getLocalizableString("labelTrue")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDeterminated",{get:function(){return this.booleanValue!==null&&this.booleanValue!==void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locLabelLeft",{get:function(){return this.swapOrder?this.getLocalizableString("labelTrue"):this.getLocalizableString("labelFalse")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locLabelRight",{get:function(){return this.swapOrder?this.getLocalizableString("labelFalse"):this.getLocalizableString("labelTrue")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelFalse",{get:function(){return this.getLocalizableStringText("labelFalse")},set:function(e){this.setLocalizableStringText("labelFalse",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locLabelFalse",{get:function(){return this.getLocalizableString("labelFalse")},enumerable:!1,configurable:!0}),t.prototype.getValueTrue=function(){return this.valueTrue!==void 0?this.valueTrue:!0},t.prototype.getValueFalse=function(){return this.valueFalse!==void 0?this.valueFalse:!1},t.prototype.setDefaultValue=function(){this.isDefaultValueSet("true",this.valueTrue)&&this.setBooleanValue(!0),this.isDefaultValueSet("false",this.valueFalse)&&this.setBooleanValue(!1);var e=this.defaultValue;(e==="indeterminate"||e===null||e===void 0)&&this.setBooleanValue(void 0)},t.prototype.isDefaultValueSet=function(e,n){return this.defaultValue==e||n!==void 0&&this.defaultValue===n},t.prototype.getDisplayValueCore=function(e,n){return n==this.getValueTrue()?this.locLabelTrue.textOrHtml:this.locLabelFalse.textOrHtml},t.prototype.getItemCssValue=function(e){return new F().append(e.item).append(e.itemOnError,this.hasCssError()).append(e.itemDisabled,this.isDisabledStyle).append(e.itemReadOnly,this.isReadOnlyStyle).append(e.itemPreview,this.isPreviewStyle).append(e.itemHover,!this.isDesignMode).append(e.itemChecked,!!this.booleanValue).append(e.itemExchanged,!!this.swapOrder).append(e.itemIndeterminate,!this.isDeterminated).toString()},t.prototype.getItemCss=function(){return this.getItemCssValue(this.cssClasses)},t.prototype.getCheckboxItemCss=function(){return this.getItemCssValue({item:this.cssClasses.checkboxItem,itemOnError:this.cssClasses.checkboxItemOnError,itemDisabled:this.cssClasses.checkboxItemDisabled,itemDisable:this.cssClasses.checkboxItemDisabled,itemReadOnly:this.cssClasses.checkboxItemReadOnly,itemPreview:this.cssClasses.checkboxItemPreview,itemChecked:this.cssClasses.checkboxItemChecked,itemIndeterminate:this.cssClasses.checkboxItemIndeterminate})},t.prototype.getLabelCss=function(e){return new F().append(this.cssClasses.label).append(this.cssClasses.disabledLabel,this.booleanValue===!e||this.isDisabledStyle).append(this.cssClasses.labelReadOnly,this.isReadOnlyStyle).append(this.cssClasses.labelPreview,this.isPreviewStyle).append(this.cssClasses.labelTrue,!this.isIndeterminate&&e===!this.swapOrder).append(this.cssClasses.labelFalse,!this.isIndeterminate&&e===this.swapOrder).toString()},t.prototype.updateValueFromSurvey=function(e,n){n===void 0&&(n=!1),r.prototype.updateValueFromSurvey.call(this,e,n)},t.prototype.onValueChanged=function(){r.prototype.onValueChanged.call(this)},Object.defineProperty(t.prototype,"svgIcon",{get:function(){return this.booleanValue&&this.cssClasses.svgIconCheckedId?this.cssClasses.svgIconCheckedId:!this.isDeterminated&&this.cssClasses.svgIconIndId?this.cssClasses.svgIconIndId:!this.booleanValue&&this.cssClasses.svgIconUncheckedId?this.cssClasses.svgIconUncheckedId:this.cssClasses.svgIconId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemSvgIcon",{get:function(){return this.isPreviewStyle&&this.cssClasses.itemPreviewSvgIconId?this.cssClasses.itemPreviewSvgIconId:this.cssClasses.itemSvgIconId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowClick",{get:function(){return this.isIndeterminate&&!this.isInputReadOnly},enumerable:!1,configurable:!0}),t.prototype.getCheckedLabel=function(){if(this.booleanValue===!0)return this.locLabelTrue;if(this.booleanValue===!1)return this.locLabelFalse},t.prototype.setQuestionValue=function(e,n){n===void 0&&(n=!0),e==="true"&&this.valueTrue!=="true"&&(e=!0),e==="false"&&this.valueFalse!=="false"&&(e=!1),(e==="indeterminate"||e===null)&&(e=void 0),r.prototype.setQuestionValue.call(this,e,n)},t.prototype.onLabelClick=function(e,n){return this.allowClick&&(Sa(e),this.booleanValue=n),!0},t.prototype.calculateBooleanValueByEvent=function(e,n){var i=!1;g.isAvailable()&&(i=g.getComputedStyle(e.target).direction=="rtl"),this.booleanValue=i?!n:n},t.prototype.onSwitchClickModel=function(e){if(this.allowClick){Sa(e);var n=e.offsetX/e.target.offsetWidth>.5;this.calculateBooleanValueByEvent(e,n);return}return!0},t.prototype.onKeyDownCore=function(e){return(e.key==="ArrowLeft"||e.key==="ArrowRight")&&(e.stopPropagation(),this.calculateBooleanValueByEvent(e,e.key==="ArrowRight")),!0},t.prototype.getRadioItemClass=function(e,n){var i=void 0;return e.radioItem&&(i=e.radioItem),e.radioItemChecked&&n===this.booleanValue&&(i=(i?i+" ":"")+e.radioItemChecked),this.isDisabledStyle&&(i+=" "+e.radioItemDisabled),this.isReadOnlyStyle&&(i+=" "+e.radioItemReadOnly),this.isPreviewStyle&&(i+=" "+e.radioItemPreview),i},t.prototype.supportResponsiveness=function(){return!0},t.prototype.getCompactRenderAs=function(){return"radio"},t.prototype.createActionContainer=function(e){return r.prototype.createActionContainer.call(this,this.renderAs!=="checkbox")},Object.defineProperty(t.prototype,"isNewA11yStructure",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a11y_input_ariaRole",{get:function(){return"switch"},enumerable:!1,configurable:!0}),Ln([V()],t.prototype,"booleanValueRendered",void 0),Ln([V()],t.prototype,"showTitle",void 0),Ln([V({localizable:!0})],t.prototype,"label",void 0),Ln([V({defaultValue:!1})],t.prototype,"swapOrder",void 0),Ln([V()],t.prototype,"valueTrue",void 0),Ln([V()],t.prototype,"valueFalse",void 0),t}(tt);L.addClass("boolean",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"label:text",serializationProperty:"locLabel",isSerializable:!1,visible:!1},{name:"labelTrue:text",serializationProperty:"locLabelTrue"},{name:"labelFalse:text",serializationProperty:"locLabelFalse"},"valueTrue","valueFalse",{name:"swapOrder:boolean",category:"general"},{name:"renderAs",default:"default",visible:!1}],function(){return new Zo("")},"question"),Se.Instance.registerQuestion("boolean",function(r){return new Zo(r)});var Wl=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ot=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},$l=function(r){Wl(t,r);function t(e,n,i){n===void 0&&(n=null),i===void 0&&(i="imageitemvalue");var o=r.call(this,e,n,i)||this;return o.typeName=i,o.createLocalizableString("imageLink",o,!1),o}return t.prototype.getType=function(){return this.typeName?this.typeName:"itemvalue"},Object.defineProperty(t.prototype,"imageLink",{get:function(){return this.getLocalizableStringText("imageLink")},set:function(e){this.setLocalizableStringText("imageLink",e),this.imageNotLoaded=!1,this.videoNotLoaded=!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locImageLink",{get:function(){return this.getLocalizableString("imageLink")},enumerable:!1,configurable:!0}),t.prototype.getLocale=function(){return this.locOwner?this.locOwner.getLocale():""},t.prototype.getMarkdownHtml=function(e,n){return this.locOwner?this.locOwner.getMarkdownHtml(e,n):void 0},t.prototype.getRenderer=function(e){return this.locOwner?this.locOwner.getRenderer(e):null},t.prototype.getRendererContext=function(e){return this.locOwner?this.locOwner.getRendererContext(e):e},t.prototype.getProcessedText=function(e){return this.locOwner?this.locOwner.getProcessedText(e):e},t.prototype.onErrorHandler=function(){this.contentNotLoaded=!0},Object.defineProperty(t.prototype,"contentNotLoaded",{get:function(){return this.locOwner instanceof ui&&this.locOwner.contentMode=="video"?this.videoNotLoaded:this.imageNotLoaded},set:function(e){this.locOwner instanceof ui&&this.locOwner.contentMode=="video"?this.videoNotLoaded=e:this.imageNotLoaded=e},enumerable:!1,configurable:!0}),Ot([V({defaultValue:!1})],t.prototype,"videoNotLoaded",void 0),Ot([V({defaultValue:!1})],t.prototype,"imageNotLoaded",void 0),t}(de),ui=function(r){Wl(t,r);function t(e){var n=r.call(this,e)||this;return n.isResponsiveValue=!1,n.onContentLoaded=function(i,o){i.contentNotLoaded=!1;var l=o.target;n.contentMode=="video"?i.aspectRatio=l.videoWidth/l.videoHeight:i.aspectRatio=l.naturalWidth/l.naturalHeight,n._width&&n.processResponsiveness(0,n._width)},n.colCount=0,n.registerPropertyChangedHandlers(["minImageWidth","maxImageWidth","minImageHeight","maxImageHeight","visibleChoices","colCount","isResponsiveValue"],function(){n._width&&n.processResponsiveness(0,n._width)}),n.registerPropertyChangedHandlers(["imageWidth","imageHeight"],function(){n.calcIsResponsive()}),n.calcIsResponsive(),n}return t.prototype.getType=function(){return"imagepicker"},t.prototype.supportGoNextPageAutomatic=function(){return!this.multiSelect},Object.defineProperty(t.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.getItemValueType=function(){return"imageitemvalue"},Object.defineProperty(t.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.supportOther=function(){return!1},t.prototype.supportNone=function(){return!1},t.prototype.supportRefuse=function(){return!1},t.prototype.supportDontKnow=function(){return!1},t.prototype.isAnswerCorrect=function(){return this.multiSelect?D.isArrayContainsEqual(this.value,this.correctAnswer):r.prototype.isAnswerCorrect.call(this)},Object.defineProperty(t.prototype,"multiSelect",{get:function(){return this.getPropertyValue("multiSelect")},set:function(e){this.setPropertyValue("multiSelect",e)},enumerable:!1,configurable:!0}),t.prototype.isItemSelected=function(e){var n=this.value,i=e;if(this.isValueEmpty(n)||!i.imageLink||i.contentNotLoaded)return!1;if(!this.multiSelect)return this.isTwoValueEquals(n,e.value);if(!Array.isArray(n))return!1;for(var o=0;o<n.length;o++)if(this.isTwoValueEquals(n[o],e.value))return!0;return!1},t.prototype.getItemEnabled=function(e){var n=e;return!n.imageLink||n.contentNotLoaded?!1:r.prototype.getItemEnabled.call(this,e)},t.prototype.clearIncorrectValues=function(){if(this.multiSelect){var e=this.value;if(!e)return;if(!Array.isArray(e)||e.length==0){this.clearValue(!0);return}for(var n=[],i=0;i<e.length;i++)this.hasUnknownValue(e[i],!0)||n.push(e[i]);if(n.length==e.length)return;n.length==0?this.clearValue(!0):this.value=n}else r.prototype.clearIncorrectValues.call(this)},t.prototype.getDisplayValueCore=function(e,n){return!this.multiSelect&&!Array.isArray(n)?r.prototype.getDisplayValueCore.call(this,e,n):this.getDisplayArrayValue(e,n)},Object.defineProperty(t.prototype,"showLabel",{get:function(){return this.getPropertyValue("showLabel")},set:function(e){this.setPropertyValue("showLabel",e)},enumerable:!1,configurable:!0}),t.prototype.endLoadingFromJson=function(){r.prototype.endLoadingFromJson.call(this),!this.isDesignMode&&this.multiSelect&&(this.createNewArray("renderedValue"),this.createNewArray("value")),this.calcIsResponsive()},t.prototype.getValueCore=function(){var e=r.prototype.getValueCore.call(this);return e!==void 0?e:this.multiSelect?[]:e},t.prototype.convertValToArrayForMultSelect=function(e){return!this.multiSelect||this.isValueEmpty(e)||Array.isArray(e)?e:[e]},t.prototype.renderedValueFromDataCore=function(e){return this.convertValToArrayForMultSelect(e)},t.prototype.rendredValueToDataCore=function(e){return this.convertValToArrayForMultSelect(e)},Object.defineProperty(t.prototype,"imageHeight",{get:function(){return this.getPropertyValue("imageHeight")},set:function(e){this.setPropertyValue("imageHeight",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageScale",{get:function(){return this.survey?this.survey.widthScale/100:1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedImageHeight",{get:function(){var e=this.isResponsive?Math.floor(this.responsiveImageHeight):this.imageHeight*this.imageScale;return e||150*this.imageScale},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageWidth",{get:function(){return this.getPropertyValue("imageWidth")},set:function(e){this.setPropertyValue("imageWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedImageWidth",{get:function(){var e=this.isResponsive?Math.floor(this.responsiveImageWidth):this.imageWidth*this.imageScale;return e||200*this.imageScale},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageFit",{get:function(){return this.getPropertyValue("imageFit")},set:function(e){this.setPropertyValue("imageFit",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contentMode",{get:function(){return this.getPropertyValue("contentMode")},set:function(e){this.setPropertyValue("contentMode",e),e==="video"&&(this.showLabel=!0)},enumerable:!1,configurable:!0}),t.prototype.convertDefaultValue=function(e){return e},Object.defineProperty(t.prototype,"inputType",{get:function(){return this.multiSelect?"checkbox":"radio"},enumerable:!1,configurable:!0}),t.prototype.isBuiltInChoice=function(e){return!1},t.prototype.addToVisibleChoices=function(e,n){this.addNewItemToVisibleChoices(e,n)},t.prototype.getSelectBaseRootCss=function(){return new F().append(r.prototype.getSelectBaseRootCss.call(this)).append(this.cssClasses.rootColumn,this.getCurrentColCount()==1).toString()},Object.defineProperty(t.prototype,"isResponsive",{get:function(){return this.isResponsiveValue&&this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exactSizesAreEmpty",{get:function(){var e=this;return!["imageHeight","imageWidth"].some(function(n){return e[n]!==void 0&&e[n]!==null})},enumerable:!1,configurable:!0}),t.prototype.calcIsResponsive=function(){this.isResponsiveValue=this.exactSizesAreEmpty},t.prototype.getObservedElementSelector=function(){return ct(this.cssClasses.root)},t.prototype.supportResponsiveness=function(){return!0},t.prototype.needResponsiveness=function(){return this.supportResponsiveness()&&this.isDefaultV2Theme},t.prototype.needResponsiveWidth=function(){return this.colCount>2},t.prototype.getCurrentColCount=function(){return this.responsiveColCount===void 0||this.colCount===0?this.colCount:this.responsiveColCount},t.prototype.processResponsiveness=function(e,n){this._width=n=Math.floor(n);var i=function(ye,He,$e){var mt=Math.floor(ye/(He+$e));return(mt+1)*(He+$e)-$e<=ye&&mt++,mt};if(this.isResponsive){var o=this.choices.length+(this.isDesignMode?1:0),l=(this.gapBetweenItems||0)*this.imageScale,u=this.minImageWidth*this.imageScale,d=this.maxImageWidth*this.imageScale,m=this.maxImageHeight*this.imageScale,w=this.minImageHeight*this.imageScale,E=this.colCount,A;if(E===0)if((l+u)*o-l>n){var U=i(n,u,l);A=Math.floor((n-l*(U-1))/U)}else A=Math.floor((n-l*(o-1))/o);else{var W=i(n,u,l);W<E?(this.responsiveColCount=W>=1?W:1,E=this.responsiveColCount):this.responsiveColCount=E,A=Math.floor((n-l*(E-1))/E)}A=Math.max(u,Math.min(A,d));var se=Number.MIN_VALUE;this.choices.forEach(function(ye){var He=A/ye.aspectRatio;se=He>se?He:se}),se>m?se=m:se<w&&(se=w);var ie=this.responsiveImageWidth,K=this.responsiveImageHeight;return this.responsiveImageWidth=A,this.responsiveImageHeight=se,ie!==this.responsiveImageWidth||K!==this.responsiveImageHeight}return!1},t.prototype.triggerResponsiveness=function(e){e===void 0&&(e=!0),e&&this.reCalcGapBetweenItemsCallback&&this.reCalcGapBetweenItemsCallback(),r.prototype.triggerResponsiveness.call(this,e)},t.prototype.afterRender=function(e){var n=this;r.prototype.afterRender.call(this,e);var i=this.getObservedElementSelector(),o=e&&i?e.querySelector(i):void 0;o&&(this.reCalcGapBetweenItemsCallback=function(){n.gapBetweenItems=Math.ceil(Number.parseFloat(g.getComputedStyle(o).gap))||16},this.reCalcGapBetweenItemsCallback())},Ot([V({})],t.prototype,"responsiveImageHeight",void 0),Ot([V({})],t.prototype,"responsiveImageWidth",void 0),Ot([V({})],t.prototype,"isResponsiveValue",void 0),Ot([V({})],t.prototype,"maxImageWidth",void 0),Ot([V({})],t.prototype,"minImageWidth",void 0),Ot([V({})],t.prototype,"maxImageHeight",void 0),Ot([V({})],t.prototype,"minImageHeight",void 0),Ot([V({})],t.prototype,"responsiveColCount",void 0),t}(oi);L.addClass("imageitemvalue",[{name:"imageLink:file",serializationProperty:"locImageLink"}],function(r){return new $l(r)},"itemvalue"),L.addClass("responsiveImageSize",[],void 0,"number"),L.addClass("imagepicker",[{name:"showOtherItem",visible:!1},{name:"otherText",visible:!1},{name:"showNoneItem",visible:!1},{name:"showRefuseItem",visible:!1},{name:"showDontKnowItem",visible:!1},{name:"noneText",visible:!1},{name:"optionsCaption",visible:!1},{name:"otherErrorText",visible:!1},{name:"storeOthersAsComment",visible:!1},{name:"contentMode",default:"image",choices:["image","video"]},{name:"imageFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"imageHeight:number",minValue:0},{name:"imageWidth:number",minValue:0},{name:"minImageWidth:responsiveImageSize",default:200,minValue:0,visibleIf:function(){return R.supportCreatorV2}},{name:"minImageHeight:responsiveImageSize",default:133,minValue:0,visibleIf:function(){return R.supportCreatorV2}},{name:"maxImageWidth:responsiveImageSize",default:400,minValue:0,visibleIf:function(){return R.supportCreatorV2}},{name:"maxImageHeight:responsiveImageSize",default:266,minValue:0,visibleIf:function(){return R.supportCreatorV2}}],function(){return new ui("")},"checkboxbase"),L.addProperty("imagepicker",{name:"showLabel:boolean",default:!1}),L.addProperty("imagepicker",{name:"colCount:number",default:0,choices:[0,1,2,3,4,5]}),L.addProperty("imagepicker",{name:"multiSelect:boolean",default:!1}),L.addProperty("imagepicker",{name:"choices:imageitemvalue[]"}),Se.Instance.registerQuestion("imagepicker",function(r){var t=new ui(r);return t});var mh=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),gh=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Gl=[".mp4",".mov",".wmv",".flv",".avi",".mkv"],vh="https://www.youtube.com/",Zl="embed",Jo=function(r){mh(t,r);function t(e){var n=r.call(this,e)||this,i=n.createLocalizableString("imageLink",n,!1);return i.onGetTextCallback=function(o){return yh(o,n.contentMode=="youtube")},n.createLocalizableString("altText",n,!1),n.registerPropertyChangedHandlers(["contentMode","imageLink"],function(){return n.calculateRenderedMode()}),n}return t.prototype.getType=function(){return"image"},Object.defineProperty(t.prototype,"isCompositeQuestion",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.onSurveyLoad=function(){r.prototype.onSurveyLoad.call(this),this.calculateRenderedMode()},Object.defineProperty(t.prototype,"imageLink",{get:function(){return this.getLocalizableStringText("imageLink")},set:function(e){this.setLocalizableStringText("imageLink",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locImageLink",{get:function(){return this.getLocalizableString("imageLink")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"altText",{get:function(){return this.getLocalizableStringText("altText")},set:function(e){this.setLocalizableStringText("altText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locAltText",{get:function(){return this.getLocalizableString("altText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageHeight",{get:function(){return this.getPropertyValue("imageHeight")},set:function(e){this.setPropertyValue("imageHeight",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedStyleHeight",{get:function(){return this.imageHeight?ji(this.imageHeight):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedHeight",{get:function(){return this.imageHeight?gn(this.imageHeight):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageWidth",{get:function(){return this.getPropertyValue("imageWidth")},set:function(e){this.setPropertyValue("imageWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedStyleWidth",{get:function(){return this.imageWidth?ji(this.imageWidth):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedWidth",{get:function(){return this.imageWidth?gn(this.imageWidth):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageFit",{get:function(){return this.getPropertyValue("imageFit")},set:function(e){this.setPropertyValue("imageFit",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contentMode",{get:function(){return this.getPropertyValue("contentMode")},set:function(e){this.setPropertyValue("contentMode",e),e==="video"&&(this.showLabel=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedMode",{get:function(){return this.getPropertyValue("renderedMode","image")},enumerable:!1,configurable:!0}),t.prototype.getImageCss=function(){var e=this.getPropertyByName("imageHeight"),n=this.getPropertyByName("imageWidth"),i=e.isDefaultValue(this.imageHeight)&&n.isDefaultValue(this.imageWidth);return new F().append(this.cssClasses.image).append(this.cssClasses.adaptive,i).toString()},t.prototype.onLoadHandler=function(){this.contentNotLoaded=!1},t.prototype.onErrorHandler=function(){this.contentNotLoaded=!0},t.prototype.setRenderedMode=function(e){this.setPropertyValue("renderedMode",e)},t.prototype.calculateRenderedMode=function(){this.contentMode!=="auto"?this.setRenderedMode(this.contentMode):this.isYoutubeVideo()?this.setRenderedMode("youtube"):this.isVideo()?this.setRenderedMode("video"):this.setRenderedMode("image")},t.prototype.isYoutubeVideo=function(){return D.isUrlYoutubeVideo(this.imageLink)},t.prototype.isVideo=function(){var e=this.imageLink;if(!e)return!1;e=e.toLowerCase();for(var n=0;n<Gl.length;n++)if(e.endsWith(Gl[n]))return!0;return!1},gh([V({defaultValue:!1})],t.prototype,"contentNotLoaded",void 0),t}(ir);function yh(r,t){if(!r||!D.isUrlYoutubeVideo(r))return t?"":r;var e=r.toLocaleLowerCase();if(e.indexOf(Zl)>-1)return r;for(var n="",i=r.length-1;i>=0&&!(r[i]==="="||r[i]==="/");i--)n=r[i]+n;return vh+Zl+"/"+n}L.addClass("image",[{name:"imageLink:file",serializationProperty:"locImageLink"},{name:"altText",serializationProperty:"locAltText",alternativeName:"text",category:"general"},{name:"contentMode",default:"auto",choices:["auto","image","video","youtube"]},{name:"imageFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"imageHeight",default:"150"},{name:"imageWidth",default:"200"}],function(){return new Jo("")},"nonvalue"),Se.Instance.registerQuestion("image",function(r){return new Jo(r)});class sr{constructor(t,e,n,i){if(isNaN(t)||isNaN(e))throw new Error(`Point is invalid: (${t}, ${e})`);this.x=+t,this.y=+e,this.pressure=n||0,this.time=i||Date.now()}distanceTo(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))}equals(t){return this.x===t.x&&this.y===t.y&&this.pressure===t.pressure&&this.time===t.time}velocityFrom(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):0}}class Ko{static fromPoints(t,e){let n=this.calculateControlPoints(t[0],t[1],t[2]).c2,i=this.calculateControlPoints(t[1],t[2],t[3]).c1;return new Ko(t[1],n,i,t[2],e.start,e.end)}static calculateControlPoints(t,e,n){let i=t.x-e.x,o=t.y-e.y,l=e.x-n.x,u=e.y-n.y,d={x:(t.x+e.x)/2,y:(t.y+e.y)/2},m={x:(e.x+n.x)/2,y:(e.y+n.y)/2},w=Math.sqrt(i*i+o*o),E=Math.sqrt(l*l+u*u),A=d.x-m.x,U=d.y-m.y,W=E/(w+E),se={x:m.x+A*W,y:m.y+U*W},ie=e.x-se.x,K=e.y-se.y;return{c1:new sr(d.x+ie,d.y+K),c2:new sr(m.x+ie,m.y+K)}}constructor(t,e,n,i,o,l){this.startPoint=t,this.control2=e,this.control1=n,this.endPoint=i,this.startWidth=o,this.endWidth=l}length(){let e=0,n,i;for(let o=0;o<=10;o+=1){let l=o/10,u=this.point(l,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),d=this.point(l,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(o>0){let m=u-n,w=d-i;e+=Math.sqrt(m*m+w*w)}n=u,i=d}return e}point(t,e,n,i,o){return e*(1-t)*(1-t)*(1-t)+3*n*(1-t)*(1-t)*t+3*i*(1-t)*t*t+o*t*t*t}}class bh{constructor(){try{this._et=new EventTarget}catch{this._et=document}}addEventListener(t,e,n){this._et.addEventListener(t,e,n)}dispatchEvent(t){return this._et.dispatchEvent(t)}removeEventListener(t,e,n){this._et.removeEventListener(t,e,n)}}function Ch(r,t=250){let e=0,n=null,i,o,l,u=()=>{e=Date.now(),n=null,i=r.apply(o,l),n||(o=null,l=[])};return function(...m){let w=Date.now(),E=t-(w-e);return o=this,l=m,E<=0||E>t?(n&&(clearTimeout(n),n=null),e=w,i=r.apply(o,l),n||(o=null,l=[])):n||(n=window.setTimeout(u,E)),i}}class ar extends bh{constructor(t,e={}){super(),this.canvas=t,this._drawingStroke=!1,this._isEmpty=!0,this._lastPoints=[],this._data=[],this._lastVelocity=0,this._lastWidth=0,this._handleMouseDown=n=>{n.buttons===1&&this._strokeBegin(n)},this._handleMouseMove=n=>{this._strokeMoveUpdate(n)},this._handleMouseUp=n=>{n.buttons===1&&this._strokeEnd(n)},this._handleTouchStart=n=>{if(n.cancelable&&n.preventDefault(),n.targetTouches.length===1){let i=n.changedTouches[0];this._strokeBegin(i)}},this._handleTouchMove=n=>{n.cancelable&&n.preventDefault();let i=n.targetTouches[0];this._strokeMoveUpdate(i)},this._handleTouchEnd=n=>{if(n.target===this.canvas){n.cancelable&&n.preventDefault();let o=n.changedTouches[0];this._strokeEnd(o)}},this._handlePointerStart=n=>{n.preventDefault(),this._strokeBegin(n)},this._handlePointerMove=n=>{this._strokeMoveUpdate(n)},this._handlePointerEnd=n=>{this._drawingStroke&&(n.preventDefault(),this._strokeEnd(n))},this.velocityFilterWeight=e.velocityFilterWeight||.7,this.minWidth=e.minWidth||.5,this.maxWidth=e.maxWidth||2.5,this.throttle="throttle"in e?e.throttle:16,this.minDistance="minDistance"in e?e.minDistance:5,this.dotSize=e.dotSize||0,this.penColor=e.penColor||"black",this.backgroundColor=e.backgroundColor||"rgba(0,0,0,0)",this.compositeOperation=e.compositeOperation||"source-over",this.canvasContextOptions="canvasContextOptions"in e?e.canvasContextOptions:{},this._strokeMoveUpdate=this.throttle?Ch(ar.prototype._strokeUpdate,this.throttle):ar.prototype._strokeUpdate,this._ctx=t.getContext("2d",this.canvasContextOptions),this.clear(),this.on()}clear(){let{_ctx:t,canvas:e}=this;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._data=[],this._reset(this._getPointGroupOptions()),this._isEmpty=!0}fromDataURL(t,e={}){return new Promise((n,i)=>{let o=new Image,l=e.ratio||window.devicePixelRatio||1,u=e.width||this.canvas.width/l,d=e.height||this.canvas.height/l,m=e.xOffset||0,w=e.yOffset||0;this._reset(this._getPointGroupOptions()),o.onload=()=>{this._ctx.drawImage(o,m,w,u,d),n()},o.onerror=E=>{i(E)},o.crossOrigin="anonymous",o.src=t,this._isEmpty=!1})}toDataURL(t="image/png",e){switch(t){case"image/svg+xml":return typeof e!="object"&&(e=void 0),`data:image/svg+xml;base64,${btoa(this.toSVG(e))}`;default:return typeof e!="number"&&(e=void 0),this.canvas.toDataURL(t,e)}}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",this.canvas.style.userSelect="none";let t=/Macintosh/.test(navigator.userAgent)&&"ontouchstart"in document;window.PointerEvent&&!t?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.style.userSelect="auto",this.canvas.removeEventListener("pointerdown",this._handlePointerStart),this.canvas.removeEventListener("pointermove",this._handlePointerMove),this.canvas.ownerDocument.removeEventListener("pointerup",this._handlePointerEnd),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),this.canvas.ownerDocument.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(t,{clear:e=!0}={}){e&&this.clear(),this._fromData(t,this._drawCurve.bind(this),this._drawDot.bind(this)),this._data=this._data.concat(t)}toData(){return this._data}_getPointGroupOptions(t){return{penColor:t&&"penColor"in t?t.penColor:this.penColor,dotSize:t&&"dotSize"in t?t.dotSize:this.dotSize,minWidth:t&&"minWidth"in t?t.minWidth:this.minWidth,maxWidth:t&&"maxWidth"in t?t.maxWidth:this.maxWidth,velocityFilterWeight:t&&"velocityFilterWeight"in t?t.velocityFilterWeight:this.velocityFilterWeight,compositeOperation:t&&"compositeOperation"in t?t.compositeOperation:this.compositeOperation}}_strokeBegin(t){if(!this.dispatchEvent(new CustomEvent("beginStroke",{detail:t,cancelable:!0})))return;this._drawingStroke=!0;let n=this._getPointGroupOptions(),i=Object.assign(Object.assign({},n),{points:[]});this._data.push(i),this._reset(n),this._strokeUpdate(t)}_strokeUpdate(t){if(!this._drawingStroke)return;if(this._data.length===0){this._strokeBegin(t);return}this.dispatchEvent(new CustomEvent("beforeUpdateStroke",{detail:t}));let e=t.clientX,n=t.clientY,i=t.pressure!==void 0?t.pressure:t.force!==void 0?t.force:0,o=this._createPoint(e,n,i),l=this._data[this._data.length-1],u=l.points,d=u.length>0&&u[u.length-1],m=d?o.distanceTo(d)<=this.minDistance:!1,w=this._getPointGroupOptions(l);if(!d||!(d&&m)){let E=this._addPoint(o,w);d?E&&this._drawCurve(E,w):this._drawDot(o,w),u.push({time:o.time,x:o.x,y:o.y,pressure:o.pressure})}this.dispatchEvent(new CustomEvent("afterUpdateStroke",{detail:t}))}_strokeEnd(t){this._drawingStroke&&(this._strokeUpdate(t),this._drawingStroke=!1,this.dispatchEvent(new CustomEvent("endStroke",{detail:t})))}_handlePointerEvents(){this._drawingStroke=!1,this.canvas.addEventListener("pointerdown",this._handlePointerStart),this.canvas.addEventListener("pointermove",this._handlePointerMove),this.canvas.ownerDocument.addEventListener("pointerup",this._handlePointerEnd)}_handleMouseEvents(){this._drawingStroke=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),this.canvas.ownerDocument.addEventListener("mouseup",this._handleMouseUp)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)}_reset(t){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(t.minWidth+t.maxWidth)/2,this._ctx.fillStyle=t.penColor,this._ctx.globalCompositeOperation=t.compositeOperation}_createPoint(t,e,n){let i=this.canvas.getBoundingClientRect();return new sr(t-i.left,e-i.top,n,new Date().getTime())}_addPoint(t,e){let{_lastPoints:n}=this;if(n.push(t),n.length>2){n.length===3&&n.unshift(n[0]);let i=this._calculateCurveWidths(n[1],n[2],e),o=Ko.fromPoints(n,i);return n.shift(),o}return null}_calculateCurveWidths(t,e,n){let i=n.velocityFilterWeight*e.velocityFrom(t)+(1-n.velocityFilterWeight)*this._lastVelocity,o=this._strokeWidth(i,n),l={end:o,start:this._lastWidth};return this._lastVelocity=i,this._lastWidth=o,l}_strokeWidth(t,e){return Math.max(e.maxWidth/(t+1),e.minWidth)}_drawCurveSegment(t,e,n){let i=this._ctx;i.moveTo(t,e),i.arc(t,e,n,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve(t,e){let n=this._ctx,i=t.endWidth-t.startWidth,o=Math.ceil(t.length())*2;n.beginPath(),n.fillStyle=e.penColor;for(let l=0;l<o;l+=1){let u=l/o,d=u*u,m=d*u,w=1-u,E=w*w,A=E*w,U=A*t.startPoint.x;U+=3*E*u*t.control1.x,U+=3*w*d*t.control2.x,U+=m*t.endPoint.x;let W=A*t.startPoint.y;W+=3*E*u*t.control1.y,W+=3*w*d*t.control2.y,W+=m*t.endPoint.y;let se=Math.min(t.startWidth+m*i,e.maxWidth);this._drawCurveSegment(U,W,se)}n.closePath(),n.fill()}_drawDot(t,e){let n=this._ctx,i=e.dotSize>0?e.dotSize:(e.minWidth+e.maxWidth)/2;n.beginPath(),this._drawCurveSegment(t.x,t.y,i),n.closePath(),n.fillStyle=e.penColor,n.fill()}_fromData(t,e,n){for(let i of t){let{points:o}=i,l=this._getPointGroupOptions(i);if(o.length>1)for(let u=0;u<o.length;u+=1){let d=o[u],m=new sr(d.x,d.y,d.pressure,d.time);u===0&&this._reset(l);let w=this._addPoint(m,l);w&&e(w,l)}else this._reset(l),n(o[0],l)}}toSVG({includeBackgroundColor:t=!1}={}){let e=this._data,n=Math.max(window.devicePixelRatio||1,1),i=0,o=0,l=this.canvas.width/n,u=this.canvas.height/n,d=document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.setAttribute("xmlns","http://www.w3.org/2000/svg"),d.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),d.setAttribute("viewBox",`${i} ${o} ${l} ${u}`),d.setAttribute("width",l.toString()),d.setAttribute("height",u.toString()),t&&this.backgroundColor){let m=document.createElement("rect");m.setAttribute("width","100%"),m.setAttribute("height","100%"),m.setAttribute("fill",this.backgroundColor),d.appendChild(m)}return this._fromData(e,(m,{penColor:w})=>{let E=document.createElement("path");if(!isNaN(m.control1.x)&&!isNaN(m.control1.y)&&!isNaN(m.control2.x)&&!isNaN(m.control2.y)){let A=`M ${m.startPoint.x.toFixed(3)},${m.startPoint.y.toFixed(3)} C ${m.control1.x.toFixed(3)},${m.control1.y.toFixed(3)} ${m.control2.x.toFixed(3)},${m.control2.y.toFixed(3)} ${m.endPoint.x.toFixed(3)},${m.endPoint.y.toFixed(3)}`;E.setAttribute("d",A),E.setAttribute("stroke-width",(m.endWidth*2.25).toFixed(3)),E.setAttribute("stroke",w),E.setAttribute("fill","none"),E.setAttribute("stroke-linecap","round"),d.appendChild(E)}},(m,{penColor:w,dotSize:E,minWidth:A,maxWidth:U})=>{let W=document.createElement("circle"),se=E>0?E:(A+U)/2;W.setAttribute("r",se.toString()),W.setAttribute("cx",m.x.toString()),W.setAttribute("cy",m.y.toString()),W.setAttribute("fill",w),d.appendChild(W)}),d.outerHTML}}var xh=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Bt=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},_h=300,wh=200,Yo=function(r){xh(t,r);function t(e){var n=r.call(this,e)||this;return n.valueIsUpdatingInternally=!1,n._loadedData=void 0,n.updateValueHandler=function(){n._loadedData=void 0,n.scaleCanvas(!1,!0),n.loadPreview(n.value)},n}return t.prototype.getPenColorFromTheme=function(){var e=this.survey;return!!e&&!!e.themeVariables&&e.themeVariables["--sjs-primary-backcolor"]},t.prototype.updateColors=function(e){var n=this.getPenColorFromTheme(),i=this.getPropertyByName("penColor");e.penColor=this.penColor||n||i.defaultValue||"#1ab394";var o=this.getPropertyByName("backgroundColor"),l=n?"transparent":void 0,u=this.backgroundImage?"transparent":this.backgroundColor;e.backgroundColor=u||l||o.defaultValue||"#ffffff"},t.prototype.getCssRoot=function(e){return new F().append(r.prototype.getCssRoot.call(this,e)).append(e.small,this.signatureWidth.toString()==="300").toString()},t.prototype.getFormat=function(){return this.dataFormat==="jpeg"?"image/jpeg":this.dataFormat==="svg"?"image/svg+xml":""},t.prototype.updateValue=function(){if(this.signaturePad){var e=this.signaturePad.toDataURL(this.getFormat());this.valueIsUpdatingInternally=!0,this.value=e,this.valueIsUpdatingInternally=!1}},t.prototype.getType=function(){return"signaturepad"},t.prototype.afterRenderQuestionElement=function(e){e&&(this.isDesignMode||this.initSignaturePad(e),this.element=e),r.prototype.afterRenderQuestionElement.call(this,e)},t.prototype.beforeDestroyQuestionElement=function(e){e&&this.destroySignaturePad(e)},t.prototype.themeChanged=function(e){this.signaturePad&&this.updateColors(this.signaturePad)},t.prototype.resizeCanvas=function(){this.canvas.width=this.containerWidth,this.canvas.height=this.containerHeight},t.prototype.scaleCanvas=function(e,n){e===void 0&&(e=!0),n===void 0&&(n=!1);var i=this.canvas,o=i.offsetWidth/this.containerWidth;(this.scale!=o||n)&&(this.scale=o,i.style.width=this.renderedCanvasWidth,this.resizeCanvas(),this.signaturePad.minWidth=this.penMinWidth*o,this.signaturePad.maxWidth=this.penMaxWidth*o,i.getContext("2d").scale(1/o,1/o),e&&this.loadPreview(this.value))},t.prototype.fromUrl=function(e){var n=this;if(this.isFileLoading=!0,Od(e))this.fromDataUrl(e),this.isFileLoading=!1;else{var i=new Image;i.crossOrigin="anonymous",i.src=e,i.onload=function(){if(n.canvas){var o=g.createElement("canvas");o.width=n.containerWidth,o.height=n.containerHeight;var l=o.getContext("2d");l.drawImage(i,0,0);var u=o.toDataURL(n.getFormat());n.fromDataUrl(u)}n.isFileLoading=!1},i.onerror=function(){n.isFileLoading=!1}}},t.prototype.fromDataUrl=function(e){this._loadedData=e,this.signaturePad&&this.signaturePad.fromDataURL(e,{width:this.canvas.width*this.scale,height:this.canvas.height*this.scale})},Object.defineProperty(t.prototype,"loadedData",{get:function(){return this._loadedData},enumerable:!1,configurable:!0}),t.prototype.loadPreview=function(e){var n=this;if(!e){this.signaturePad&&this.canvas&&(this.canvas.getContext("2d").clearRect(0,0,this.canvas.width*this.scale,this.canvas.height*this.scale),this.signaturePad.clear()),this.valueWasChangedFromLastUpload=!1;return}if(this.storeDataAsText)this.fromDataUrl(e);else if(this.loadedData)this.fromDataUrl(this.loadedData);else{var i=e?[e]:[];this._previewLoader&&this._previewLoader.dispose(),this.isFileLoading=!0,this._previewLoader=new Ul(this,function(o,l){o==="success"&&l&&l.length>0&&l[0].content?(n.fromDataUrl(l[0].content),n.isFileLoading=!1):o==="skipped"&&n.fromUrl(e),n._previewLoader.dispose(),n._previewLoader=void 0}),this._previewLoader.load(i)}},t.prototype.onChangeQuestionValue=function(e){r.prototype.onChangeQuestionValue.call(this,e),this.isLoadingFromJson||(this._loadedData=void 0,this.loadPreview(e))},t.prototype.onSurveyLoad=function(){r.prototype.onSurveyLoad.call(this),this.loadPreview(this.value)},t.prototype.initSignaturePad=function(e){var n=this,i=e.getElementsByTagName("canvas")[0];this.canvas=i,this.resizeCanvas();var o=new ar(i,{backgroundColor:"#ffffff"});this.signaturePad=o,this.isInputReadOnly&&o.off(),this.readOnlyChangedCallback=function(){n.isInputReadOnly?o.off():o.on()},this.updateColors(o),o.addEventListener("beginStroke",function(){n.scaleCanvas(),n.isDrawingValue=!0,i.focus()},{once:!1}),o.addEventListener("endStroke",function(){n.isDrawingValue=!1,n.storeDataAsText?n.updateValue():n.valueWasChangedFromLastUpload=!0},{once:!1}),this.updateValueHandler(),this.readOnlyChangedCallback();var l=function(u,d){(d.name==="signatureWidth"||d.name==="signatureHeight")&&(n.valueIsUpdatingInternally||n.updateValueHandler())};this.onPropertyChanged.add(l),this.signaturePad.propertyChangedHandler=l},t.prototype.destroySignaturePad=function(e){this.signaturePad&&(this.onPropertyChanged.remove(this.signaturePad.propertyChangedHandler),this.signaturePad.off()),this.readOnlyChangedCallback=null,this.signaturePad=null},Object.defineProperty(t.prototype,"dataFormat",{get:function(){return this.getPropertyValue("dataFormat")},set:function(e){this.setPropertyValue("dataFormat",Xo(e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"signatureWidth",{get:function(){return this.getPropertyValue("signatureWidth")},set:function(e){this.setPropertyValue("signatureWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"signatureHeight",{get:function(){return this.getPropertyValue("signatureHeight")},set:function(e){this.setPropertyValue("signatureHeight",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"containerHeight",{get:function(){return this.signatureHeight||wh},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"containerWidth",{get:function(){return this.signatureWidth||_h},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedCanvasWidth",{get:function(){return this.signatureAutoScaleEnabled?"100%":this.containerWidth+"px"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.getPropertyValue("height")},set:function(e){this.setPropertyValue("height",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowClear",{get:function(){return this.getPropertyValue("allowClear")},set:function(e){this.setPropertyValue("allowClear",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canShowClearButton",{get:function(){var e=!this.nothingIsDrawn(),n=this.isUploading;return!this.isInputReadOnly&&this.allowClear&&e&&!n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"penColor",{get:function(){return this.getPropertyValue("penColor")},set:function(e){this.setPropertyValue("penColor",e),this.signaturePad&&this.updateColors(this.signaturePad)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this.getPropertyValue("backgroundColor")},set:function(e){this.setPropertyValue("backgroundColor",e),this.signaturePad&&this.updateColors(this.signaturePad)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundImage",{get:function(){return this.getPropertyValue("backgroundImage")},set:function(e){this.setPropertyValue("backgroundImage",e),this.signaturePad&&this.updateColors(this.signaturePad)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clearButtonCaption",{get:function(){return this.getLocalizationString("clearCaption")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locRenderedPlaceholder",{get:function(){return this.isReadOnly?this.locPlaceholderReadOnly:this.locPlaceholder},enumerable:!1,configurable:!0}),t.prototype.nothingIsDrawn=function(){var e=this.isDrawingValue,n=this.isEmpty(),i=this.isUploading,o=this.valueWasChangedFromLastUpload;return!e&&n&&!i&&!o},t.prototype.needShowPlaceholder=function(){return this.showPlaceholder&&this.nothingIsDrawn()},t.prototype.onBlurCore=function(e){if(r.prototype.onBlurCore.call(this,e),!this.storeDataAsText&&!this.element.contains(e.relatedTarget)){if(!this.valueWasChangedFromLastUpload)return;this.uploadFiles([ch(this.signaturePad.toDataURL(this.getFormat()),this.name+"."+Xo(this.dataFormat),this.getFormat())]),this.valueWasChangedFromLastUpload=!1}},t.prototype.uploadResultItemToValue=function(e){return e.content},t.prototype.setValueFromResult=function(e){this.valueIsUpdatingInternally=!0,this.value=e?.length?e.map(function(n){return n.content})[0]:void 0,this.valueIsUpdatingInternally=!1},t.prototype.clearValue=function(e){this.valueWasChangedFromLastUpload=!1,r.prototype.clearValue.call(this,e),this._loadedData=void 0,this.loadPreview(this.value)},t.prototype.endLoadingFromJson=function(){r.prototype.endLoadingFromJson.call(this),this.signatureWidth===300&&this.width&&typeof this.width=="number"&&this.width&&(Lt.warn("Use signatureWidth property to set width for the signature pad"),this.signatureWidth=this.width,this.width=void 0),this.signatureHeight===200&&this.height&&(Lt.warn("Use signatureHeight property to set width for the signature pad"),this.signatureHeight=this.height,this.height=void 0)},Bt([V({defaultValue:!1})],t.prototype,"isDrawingValue",void 0),Bt([V({defaultValue:!1})],t.prototype,"isReadyForUpload",void 0),Bt([V({defaultValue:!1})],t.prototype,"valueWasChangedFromLastUpload",void 0),Bt([V()],t.prototype,"signatureAutoScaleEnabled",void 0),Bt([V()],t.prototype,"penMinWidth",void 0),Bt([V()],t.prototype,"penMaxWidth",void 0),Bt([V({})],t.prototype,"showPlaceholder",void 0),Bt([V({localizable:{defaultStr:"signaturePlaceHolder"}})],t.prototype,"placeholder",void 0),Bt([V({localizable:{defaultStr:"signaturePlaceHolderReadOnly"}})],t.prototype,"placeholderReadOnly",void 0),t}(Hl);function Xo(r){return r||(r="png"),r=r.replace("image/","").replace("+xml",""),r!=="jpeg"&&r!=="svg"&&(r="png"),r}L.addClass("signaturepad",[{name:"signatureWidth:number",category:"general",default:300},{name:"signatureHeight:number",category:"general",default:200},{name:"signatureAutoScaleEnabled:boolean",category:"general",default:!1},{name:"penMinWidth:number",category:"general",default:.5},{name:"penMaxWidth:number",category:"general",default:2.5},{name:"height:number",category:"general",visible:!1},{name:"allowClear:boolean",category:"general",default:!0},{name:"showPlaceholder:boolean",category:"general",default:!0},{name:"placeholder:text",serializationProperty:"locPlaceholder",category:"general",dependsOn:"showPlaceholder",visibleIf:function(r){return r.showPlaceholder}},{name:"placeholderReadOnly:text",serializationProperty:"locPlaceholderReadOnly",category:"general",dependsOn:"showPlaceholder",visibleIf:function(r){return r.showPlaceholder}},{name:"backgroundImage:file",category:"general"},{name:"penColor:color",category:"general"},{name:"backgroundColor:color",category:"general"},{name:"dataFormat",category:"general",default:"png",choices:[{value:"png",text:"PNG"},{value:"jpeg",text:"JPEG"},{value:"svg",text:"SVG"}],onSettingValue:function(r,t){return Xo(t)}},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"storeDataAsText:boolean",default:!0},{name:"waitForUpload:boolean",default:!1}],function(){return new Yo("")},"question"),Se.Instance.registerQuestion("signaturepad",function(r){return new Yo(r)});var Jl=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ci=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ph=function(r,t){for(var e=0,n=t.length,i=r.length;e<n;e++,i++)r[i]=t[e];return r},Vh=function(r){Jl(t,r);function t(e,n,i){var o=r.call(this,i)||this;return o.data=e,o.panelItem=n,o.variableName=i,o.sharedQuestions={},o}return Object.defineProperty(t.prototype,"survey",{get:function(){return this.panelItem.getSurvey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panel",{get:function(){return this.panelItem.panel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panelIndex",{get:function(){return this.data?this.data.getItemIndex(this.panelItem):-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visiblePanelIndex",{get:function(){return this.data?this.data.getVisibleItemIndex(this.panelItem):-1},enumerable:!1,configurable:!0}),t.prototype.getValues=function(){return this.panelItem.getAllValues()},t.prototype.getQuestionByName=function(e){var n=r.prototype.getQuestionByName.call(this,e);if(n)return n;var i=this.panelIndex;n=i>-1?this.data.getSharedQuestionFromArray(e,i):void 0;var o=n?n.name:e;return this.sharedQuestions[o]=e,n},t.prototype.getQuestionDisplayText=function(e){var n=this.sharedQuestions[e.name];if(!n)return r.prototype.getQuestionDisplayText.call(this,e);var i=this.panelItem.getValue(n);return e.getDisplayValue(!0,i)},t.prototype.onCustomProcessText=function(e){if(e.name==it.IndexVariableName){var n=this.panelIndex;if(n>-1)return e.isExists=!0,e.value=n+1,!0}if(e.name==it.VisibleIndexVariableName){var n=this.visiblePanelIndex;if(n>-1)return e.isExists=!0,e.value=n+1,!0}if(e.name.toLowerCase().indexOf(it.ParentItemVariableName+".")==0){var i=this.data;if(i&&i.parentQuestion&&i.parent&&i.parent.data){var o=new t(i.parentQuestion,i.parent.data,it.ItemVariableName),l=it.ItemVariableName+e.name.substring(it.ParentItemVariableName.length),u=o.processValue(l,e.returnDisplayValue);e.isExists=u.isExists,e.value=u.value}return!0}return!1},t}(ao),it=function(){function r(t,e){this.data=t,this.panelValue=e,this.textPreProcessor=new Vh(t,this,r.ItemVariableName),this.setSurveyImpl()}return Object.defineProperty(r.prototype,"panel",{get:function(){return this.panelValue},enumerable:!1,configurable:!0}),r.prototype.setSurveyImpl=function(){this.panel.setSurveyImpl(this)},r.prototype.getValue=function(t){var e=this.getAllValues();return e[t]},r.prototype.setValue=function(t,e){var n=this.data.getPanelItemData(this),i=n?n[t]:void 0;if(!D.isTwoValueEquals(e,i,!1,!0,!1)){this.data.setPanelItemData(this,t,D.getUnbindValue(e));for(var o=this.panel.questions,l=r.ItemVariableName+"."+t,u=0;u<o.length;u++){var d=o[u];d.getValueName()!==t&&d.checkBindings(t,e),d.runTriggers(l,e)}}},r.prototype.getVariable=function(t){},r.prototype.setVariable=function(t,e){},r.prototype.getComment=function(t){var e=this.getValue(t+R.commentSuffix);return e||""},r.prototype.setComment=function(t,e,n){this.setValue(t+R.commentSuffix,e)},r.prototype.findQuestionByName=function(t){if(t){var e=r.ItemVariableName+".";if(t.indexOf(e)===0)return this.panel.getQuestionByName(t.substring(e.length));var n=this.getSurvey();return n?n.getQuestionByName(t):null}},r.prototype.getEditingSurveyElement=function(){},r.prototype.getAllValues=function(){return this.data.getPanelItemData(this)},r.prototype.getFilteredValues=function(){var t={},e=this.data&&this.data.getRootData()?this.data.getRootData().getFilteredValues():{};for(var n in e)t[n]=e[n];if(t[r.ItemVariableName]=this.getAllValues(),this.data){var i=r.IndexVariableName,o=r.VisibleIndexVariableName;delete t[i],delete t[o],t[i.toLowerCase()]=this.data.getItemIndex(this),t[o.toLowerCase()]=this.data.getVisibleItemIndex(this);var l=this.data;l&&l.parentQuestion&&l.parent&&(t[r.ParentItemVariableName]=l.parent.getValue())}return t},r.prototype.getFilteredProperties=function(){return this.data&&this.data.getRootData()?this.data.getRootData().getFilteredProperties():{survey:this.getSurvey()}},r.prototype.getSurveyData=function(){return this},r.prototype.getSurvey=function(){return this.data?this.data.getSurvey():null},r.prototype.getTextProcessor=function(){return this.textPreProcessor},r.ItemVariableName="panel",r.ParentItemVariableName="parentpanel",r.IndexVariableName="panelIndex",r.VisibleIndexVariableName="visiblePanelIndex",r}(),Ih=function(){function r(t){this.data=t}return r.prototype.getSurveyData=function(){return null},r.prototype.getSurvey=function(){return this.data.getSurvey()},r.prototype.getTextProcessor=function(){return null},r}(),es=function(r){Jl(t,r);function t(e){var n=r.call(this,e)||this;return n._renderedPanels=[],n.isPanelsAnimationRunning=!1,n.isAddingNewPanels=!1,n.isSetPanelItemData={},n.createNewArray("panels",function(i){n.onPanelAdded(i)},function(i){n.onPanelRemoved(i)}),n.createNewArray("visiblePanels"),n.templateValue=n.createAndSetupNewPanelObject(),n.template.renderWidth="100%",n.template.selectedElementInDesign=n,n.template.addElementCallback=function(i){n.addOnPropertyChangedCallback(i),n.rebuildPanels()},n.template.removeElementCallback=function(){n.rebuildPanels()},n.createLocalizableString("confirmDeleteText",n,!1,"confirmDelete"),n.createLocalizableString("keyDuplicationError",n,!1,!0),n.createLocalizableString("panelAddText",n,!1,"addPanel"),n.createLocalizableString("panelRemoveText",n,!1,"removePanel"),n.createLocalizableString("panelPrevText",n,!1,"pagePrevText"),n.createLocalizableString("panelNextText",n,!1,"pageNextText"),n.createLocalizableString("noEntriesText",n,!1,"noEntriesText"),n.createLocalizableString("templateTabTitle",n,!0,"panelDynamicTabTextFormat"),n.createLocalizableString("tabTitlePlaceholder",n,!0,"tabTitlePlaceholder"),n.registerPropertyChangedHandlers(["panelsState"],function(){n.setPanelsState()}),n.registerPropertyChangedHandlers(["newPanelPosition","displayMode","showProgressBar"],function(){n.updateFooterActions()}),n.registerPropertyChangedHandlers(["allowAddPanel"],function(){n.updateNoEntriesTextDefaultLoc()}),n.registerPropertyChangedHandlers(["minPanelCount"],function(){n.onMinPanelCountChanged()}),n.registerPropertyChangedHandlers(["maxPanelCount"],function(){n.onMaxPanelCountChanged()}),n}return Object.defineProperty(t.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.getFirstQuestionToFocus=function(e){for(var n=0;n<this.visiblePanelsCore.length;n++){var i=this.visiblePanelsCore[n].getFirstQuestionToFocus(e);if(i)return i}return this.showAddPanelButton&&(!e||this.currentErrorCount>0)?this:null},t.prototype.getFirstInputElementId=function(){return this.showAddPanelButton?this.addButtonId:r.prototype.getFirstInputElementId.call(this)},t.prototype.setSurveyImpl=function(e,n){r.prototype.setSurveyImpl.call(this,e,n),this.setTemplatePanelSurveyImpl(),this.setPanelsSurveyImpl()},t.prototype.assignOnPropertyChangedToTemplate=function(){for(var e=this.template.elements,n=0;n<e.length;n++)this.addOnPropertyChangedCallback(e[n])},t.prototype.addOnPropertyChangedCallback=function(e){var n=this;e.isQuestion&&e.setParentQuestion(this),e.onPropertyChanged.add(function(i,o){n.onTemplateElementPropertyChanged(i,o)}),e.isPanel&&(e.addElementCallback=function(i){n.addOnPropertyChangedCallback(i)})},t.prototype.onTemplateElementPropertyChanged=function(e,n){if(!(this.isLoadingFromJson||this.useTemplatePanel||this.panelsCore.length==0)){var i=L.findProperty(e.getType(),n.name);if(i)for(var o=this.panelsCore,l=0;l<o.length;l++){var u=o[l].getQuestionByName(e.name);u&&u[n.name]!==n.newValue&&(u[n.name]=n.newValue)}}},Object.defineProperty(t.prototype,"useTemplatePanel",{get:function(){return this.isDesignMode&&!this.isContentElement},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"paneldynamic"},t.prototype.clearOnDeletingContainer=function(){this.panelsCore.forEach(function(e){e.clearOnDeletingContainer()})},Object.defineProperty(t.prototype,"isAllowTitleLeft",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.removeElement=function(e){return this.template.removeElement(e)},Object.defineProperty(t.prototype,"template",{get:function(){return this.templateValue},enumerable:!1,configurable:!0}),t.prototype.getPanel=function(){return this.template},Object.defineProperty(t.prototype,"templateElements",{get:function(){return this.template.elements},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templateTitle",{get:function(){return this.template.title},set:function(e){this.template.title=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTemplateTitle",{get:function(){return this.template.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templateTabTitle",{get:function(){return this.locTemplateTabTitle.text},set:function(e){this.locTemplateTabTitle.text=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTemplateTabTitle",{get:function(){return this.getLocalizableString("templateTabTitle")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tabTitlePlaceholder",{get:function(){return this.locTabTitlePlaceholder.text},set:function(e){this.locTabTitlePlaceholder.text=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTabTitlePlaceholder",{get:function(){return this.getLocalizableString("tabTitlePlaceholder")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templateDescription",{get:function(){return this.template.description},set:function(e){this.template.description=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTemplateDescription",{get:function(){return this.template.locDescription},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templateVisibleIf",{get:function(){return this.getPropertyValue("templateVisibleIf")},set:function(e){this.setPropertyValue("templateVisibleIf",e),this.template.visibleIf=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){for(var e=[],n=0;n<this.panelsCore.length;n++)e.push(this.panelsCore[n].data);return e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panels",{get:function(){return this.buildPanelsFirstTime(this.canBuildPanels),this.panelsCore},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visiblePanels",{get:function(){return this.buildPanelsFirstTime(this.canBuildPanels),this.visiblePanelsCore},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panelsCore",{get:function(){return this.getPropertyValue("panels")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visiblePanelsCore",{get:function(){return this.getPropertyValue("visiblePanels")},enumerable:!1,configurable:!0}),t.prototype.onPanelAdded=function(e){if(this.onPanelRemovedCore(e),!!e.visible){for(var n=0,i=this.panelsCore,o=0;o<i.length&&i[o]!==e;o++)i[o].visible&&n++;this.visiblePanelsCore.splice(n,0,e),this.addTabFromToolbar(e,n),this.currentPanel||(this.currentPanel=e),this.updateRenderedPanels()}},t.prototype.onPanelRemoved=function(e){var n=this.onPanelRemovedCore(e);if(this.currentPanel===e){var i=this.visiblePanelsCore;n>=i.length&&(n=i.length-1),this.currentPanel=n>=0?i[n]:null}this.updateRenderedPanels()},t.prototype.onPanelRemovedCore=function(e){var n=this.visiblePanelsCore,i=n.indexOf(e);return i>-1&&(n.splice(i,1),this.removeTabFromToolbar(e)),i},Object.defineProperty(t.prototype,"currentIndex",{get:function(){return this.isRenderModeList?-1:this.useTemplatePanel?0:this.visiblePanelsCore.indexOf(this.currentPanel)},set:function(e){e<0||this.visiblePanelCount<1||(e>=this.visiblePanelCount&&(e=this.visiblePanelCount-1),this.currentPanel=this.visiblePanelsCore[e])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentPanel",{get:function(){if(this.isDesignMode)return this.template;if(this.isRenderModeList||this.useTemplatePanel)return null;var e=this.getPropertyValue("currentPanel",null);return!e&&this.visiblePanelCount>0&&(e=this.visiblePanelsCore[0],this.currentPanel=e),e},set:function(e){if(!(this.isRenderModeList||this.useTemplatePanel)){var n=this.getPropertyValue("currentPanel"),i=e?this.visiblePanelsCore.indexOf(e):-1;if(!(e&&i<0||e===n)&&(n&&n.onHidingContent(),this.setPropertyValue("currentPanel",e),this.updateRenderedPanels(),this.updateFooterActions(),this.updateTabToolbarItemsPressedState(),this.fireCallback(this.currentIndexChangedCallback),i>-1&&this.survey)){var o={panel:e,visiblePanelIndex:i};this.survey.dynamicPanelCurrentIndexChanged(this,o)}}},enumerable:!1,configurable:!0}),t.prototype.updateRenderedPanels=function(){this.isRenderModeList?this.renderedPanels=[].concat(this.visiblePanels):this.currentPanel?this.renderedPanels=[this.currentPanel]:this.renderedPanels=[]},Object.defineProperty(t.prototype,"renderedPanels",{get:function(){return this._renderedPanels},set:function(e){this.renderedPanels.length==0||e.length==0?(this.blockAnimations(),this.panelsAnimation.sync(e),this.releaseAnimations()):(this.isPanelsAnimationRunning=!0,this.panelsAnimation.sync(e))},enumerable:!1,configurable:!0}),t.prototype.getPanelsAnimationOptions=function(){var e=this,n=function(){if(e.isRenderModeList)return"";var i=new F,o=!1,l=e.renderedPanels.filter(function(d){return d!==e.currentPanel})[0],u=e.visiblePanels.indexOf(l);return u<0&&(o=!0,u=e.removedPanelIndex),i.append("sv-pd-animation-adding",!!e.focusNewPanelCallback).append("sv-pd-animation-removing",o).append("sv-pd-animation-left",u<=e.currentIndex).append("sv-pd-animation-right",u>e.currentIndex).toString()};return{getRerenderEvent:function(){return e.onElementRerendered},getAnimatedElement:function(i){var o,l;if(i&&e.cssContent){var u=ct(e.cssContent);return(l=(o=e.getWrapperElement())===null||o===void 0?void 0:o.querySelector(":scope "+u+" #"+i.id))===null||l===void 0?void 0:l.parentElement}},getEnterOptions:function(){var i=new F().append(e.cssClasses.panelWrapperEnter).append(n()).toString();return{onBeforeRunAnimation:function(o){if(e.focusNewPanelCallback){var l=e.isRenderModeList?o:o.parentElement;et.ScrollElementToViewCore(l,!1,!1,{behavior:"smooth"})}!e.isRenderModeList&&o.parentElement?Xn(o.parentElement,{heightTo:o.offsetHeight+"px"}):Tt(o)},onAfterRunAnimation:function(o){pt(o),o.parentElement&&pt(o.parentElement)},cssClass:i}},getLeaveOptions:function(){var i=new F().append(e.cssClasses.panelWrapperLeave).append(n()).toString();return{onBeforeRunAnimation:function(o){!e.isRenderModeList&&o.parentElement?Xn(o.parentElement,{heightFrom:o.offsetHeight+"px"}):Tt(o)},onAfterRunAnimation:function(o){pt(o),o.parentElement&&pt(o.parentElement)},cssClass:i}},isAnimationEnabled:function(){return e.animationAllowed&&!!e.getWrapperElement()}}},t.prototype.disablePanelsAnimations=function(){this.panelsCore.forEach(function(e){e.blockAnimations()})},t.prototype.enablePanelsAnimations=function(){this.panelsCore.forEach(function(e){e.releaseAnimations()})},t.prototype.updatePanelsAnimation=function(){var e=this;this._panelsAnimations=new(this.isRenderModeList?Zt:Qr)(this.getPanelsAnimationOptions(),function(n,i){e._renderedPanels=n,i||(e.isPanelsAnimationRunning=!1,e.focusNewPanel())},function(){return e._renderedPanels})},Object.defineProperty(t.prototype,"panelsAnimation",{get:function(){return this._panelsAnimations||this.updatePanelsAnimation(),this._panelsAnimations},enumerable:!1,configurable:!0}),t.prototype.onHidingContent=function(){r.prototype.onHidingContent.call(this),this.currentPanel?this.currentPanel.onHidingContent():this.visiblePanelsCore.forEach(function(e){return e.onHidingContent()})},Object.defineProperty(t.prototype,"confirmDelete",{get:function(){return this.getPropertyValue("confirmDelete")},set:function(e){this.setPropertyValue("confirmDelete",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keyName",{get:function(){return this.getPropertyValue("keyName","")},set:function(e){this.setPropertyValue("keyName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"confirmDeleteText",{get:function(){return this.getLocalizableStringText("confirmDeleteText")},set:function(e){this.setLocalizableStringText("confirmDeleteText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locConfirmDeleteText",{get:function(){return this.getLocalizableString("confirmDeleteText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keyDuplicationError",{get:function(){return this.getLocalizableStringText("keyDuplicationError")},set:function(e){this.setLocalizableStringText("keyDuplicationError",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locKeyDuplicationError",{get:function(){return this.getLocalizableString("keyDuplicationError")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panelPrevText",{get:function(){return this.getLocalizableStringText("panelPrevText")},set:function(e){this.setLocalizableStringText("panelPrevText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPanelPrevText",{get:function(){return this.getLocalizableString("panelPrevText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panelNextText",{get:function(){return this.getLocalizableStringText("panelNextText")},set:function(e){this.setLocalizableStringText("panelNextText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPanelNextText",{get:function(){return this.getLocalizableString("panelNextText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panelAddText",{get:function(){return this.getLocalizableStringText("panelAddText")},set:function(e){this.setLocalizableStringText("panelAddText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPanelAddText",{get:function(){return this.getLocalizableString("panelAddText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panelRemoveText",{get:function(){return this.getLocalizableStringText("panelRemoveText")},set:function(e){this.setLocalizableStringText("panelRemoveText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPanelRemoveText",{get:function(){return this.getLocalizableString("panelRemoveText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isProgressTopShowing",{get:function(){return this.displayMode=="carousel"&&(this.progressBarLocation==="top"||this.progressBarLocation==="topBottom")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isProgressBottomShowing",{get:function(){return this.displayMode=="carousel"&&(this.progressBarLocation==="bottom"||this.progressBarLocation==="topBottom")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPrevButtonVisible",{get:function(){return this.currentIndex>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPrevButtonShowing",{get:function(){return this.isPrevButtonVisible},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNextButtonVisible",{get:function(){return this.currentIndex>=0&&this.currentIndex<this.visiblePanelCount-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNextButtonShowing",{get:function(){return this.isNextButtonVisible},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRangeShowing",{get:function(){return this.showRangeInProgress&&this.currentIndex>=0&&this.visiblePanelCount>1},enumerable:!1,configurable:!0}),t.prototype.getElementsInDesign=function(e){return e===void 0&&(e=!1),e?[this.template]:this.templateElements},t.prototype.prepareValueForPanelCreating=function(){this.addingNewPanelsValue=this.value,this.isAddingNewPanels=!0,this.isNewPanelsValueChanged=!1},t.prototype.setValueAfterPanelsCreating=function(){this.isAddingNewPanels=!1,this.isNewPanelsValueChanged&&(this.isValueChangingInternally=!0,this.value=this.addingNewPanelsValue,this.isValueChangingInternally=!1)},t.prototype.getValueCore=function(){return this.isAddingNewPanels?this.addingNewPanelsValue:r.prototype.getValueCore.call(this)},t.prototype.setValueCore=function(e){this.isAddingNewPanels?(this.isNewPanelsValueChanged=!0,this.addingNewPanelsValue=e):r.prototype.setValueCore.call(this,e)},t.prototype.setIsMobile=function(e){r.prototype.setIsMobile.call(this,e),(this.panelsCore||[]).forEach(function(n){return n.getQuestions(!0).forEach(function(i){i.setIsMobile(e)})})},t.prototype.themeChanged=function(e){r.prototype.themeChanged.call(this,e),(this.panelsCore||[]).forEach(function(n){return n.getQuestions(!0).forEach(function(i){i.themeChanged(e)})})},Object.defineProperty(t.prototype,"panelCount",{get:function(){return!this.canBuildPanels||this.wasNotRenderedInSurvey?this.getPropertyValue("panelCount"):this.panelsCore.length},set:function(e){if(!(e<0)){if(!this.canBuildPanels||this.wasNotRenderedInSurvey){this.setPropertyValue("panelCount",e);return}if(!(e==this.panelsCore.length||this.useTemplatePanel)){this.updateBindings("panelCount",e),this.prepareValueForPanelCreating();for(var n=this.panelCount;n<e;n++){var i=this.createNewPanel();this.panelsCore.push(i),this.displayMode=="list"&&this.panelsState!="default"&&(this.panelsState==="expanded"?i.expand():i.title&&i.collapse())}e<this.panelCount&&this.panelsCore.splice(e,this.panelCount-e),this.disablePanelsAnimations(),this.setValueAfterPanelsCreating(),this.setValueBasedOnPanelCount(),this.reRunCondition(),this.updateFooterActions(),this.fireCallback(this.panelCountChangedCallback),this.enablePanelsAnimations()}}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visiblePanelCount",{get:function(){return this.visiblePanels.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panelsState",{get:function(){return this.getPropertyValue("panelsState")},set:function(e){this.setPropertyValue("panelsState",e)},enumerable:!1,configurable:!0}),t.prototype.setTemplatePanelSurveyImpl=function(){this.template.setSurveyImpl(this.useTemplatePanel?this.surveyImpl:new Ih(this))},t.prototype.setPanelsSurveyImpl=function(){for(var e=0;e<this.panelsCore.length;e++){var n=this.panelsCore[e];n!=this.template&&n.setSurveyImpl(n.data)}},t.prototype.setPanelsState=function(){if(!(this.useTemplatePanel||this.displayMode!="list"||!this.templateTitle))for(var e=0;e<this.panelsCore.length;e++){var n=this.panelsState;n==="firstExpanded"&&(n=e===0?"expanded":"collapsed"),this.panelsCore[e].state=n}},t.prototype.setValueBasedOnPanelCount=function(){var e=this.value;if((!e||!Array.isArray(e))&&(e=[]),e.length!=this.panelCount){for(var n=e.length;n<this.panelCount;n++){var i=this.panels[n].getValue(),o=D.isValueEmpty(i)?{}:i;e.push(o)}e.length>this.panelCount&&e.splice(this.panelCount,e.length-this.panelCount),this.isValueChangingInternally=!0,this.value=e,this.isValueChangingInternally=!1}},Object.defineProperty(t.prototype,"minPanelCount",{get:function(){return this.getPropertyValue("minPanelCount")},set:function(e){e<0&&(e=0),this.setPropertyValue("minPanelCount",e)},enumerable:!1,configurable:!0}),t.prototype.onMinPanelCountChanged=function(){var e=this.minPanelCount;e>this.maxPanelCount&&(this.maxPanelCount=e),this.panelCount<e&&(this.panelCount=e)},Object.defineProperty(t.prototype,"maxPanelCount",{get:function(){return this.getPropertyValue("maxPanelCount")},set:function(e){e<=0||(e>R.panel.maxPanelCount&&(e=R.panel.maxPanelCount),this.setPropertyValue("maxPanelCount",e),this.updateFooterActions())},enumerable:!1,configurable:!0}),t.prototype.onMaxPanelCountChanged=function(){var e=this.maxPanelCount;e<this.minPanelCount&&(this.minPanelCount=e),this.panelCount>e&&(this.panelCount=e),this.updateFooterActions()},Object.defineProperty(t.prototype,"allowAddPanel",{get:function(){return this.getPropertyValue("allowAddPanel")},set:function(e){this.setPropertyValue("allowAddPanel",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"addButtonId",{get:function(){return this.id+"addPanel"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newPanelPosition",{get:function(){return this.getPropertyValue("newPanelPosition")},set:function(e){this.setPropertyValue("newPanelPosition",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowRemovePanel",{get:function(){return this.getPropertyValue("allowRemovePanel")},set:function(e){this.setPropertyValue("allowRemovePanel",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templateTitleLocation",{get:function(){return this.getPropertyValue("templateTitleLocation")},set:function(e){this.setPropertyValue("templateTitleLocation",e.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templateErrorLocation",{get:function(){return this.getPropertyValue("templateErrorLocation")},set:function(e){this.setPropertyValue("templateErrorLocation",e.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showQuestionNumbers",{get:function(){return this.getPropertyValue("showQuestionNumbers")},set:function(e){this.setPropertyValue("showQuestionNumbers",e),!this.isLoadingFromJson&&this.survey&&this.survey.questionVisibilityChanged(this,this.visible,!0)},enumerable:!1,configurable:!0}),t.prototype.notifySurveyOnChildrenVisibilityChanged=function(){return this.showQuestionNumbers==="onSurvey"},Object.defineProperty(t.prototype,"panelRemoveButtonLocation",{get:function(){return this.getPropertyValue("panelRemoveButtonLocation")},set:function(e){this.setPropertyValue("panelRemoveButtonLocation",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showRangeInProgress",{get:function(){return this.showProgressBar},set:function(e){this.showProgressBar=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderMode",{get:function(){var e=this.displayMode;if(e=="carousel"){var n=this.progressBarLocation;if(n=="top")return"progressTop";if(n=="bottom")return"progressBottom";if(n=="topBottom")return"progressTopBottom"}return e},set:function(e){(e||"").startsWith("progress")?(e=="progressTop"?this.progressBarLocation="top":e=="progressBottom"?this.progressBarLocation="bottom":e=="progressTopBottom"&&(this.progressBarLocation="topBottom"),this.displayMode="carousel"):this.displayMode=e},enumerable:!1,configurable:!0}),t.prototype.updatePanelView=function(){this.blockAnimations(),this.updateRenderedPanels(),this.releaseAnimations(),this.updatePanelsAnimation()},Object.defineProperty(t.prototype,"tabAlign",{get:function(){return this.getPropertyValue("tabAlign")},set:function(e){this.setPropertyValue("tabAlign",e),this.isRenderModeTab&&(this.additionalTitleToolbar.containerCss=this.getAdditionalTitleToolbarCss())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRenderModeList",{get:function(){return this.displayMode==="list"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRenderModeTab",{get:function(){return this.displayMode==="tab"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTitleOnLeftTop",{get:function(){if(this.isRenderModeTab&&this.visiblePanelCount>0)return!0;if(!this.hasTitle)return!1;var e=this.getTitleLocation();return e==="left"||e==="top"},enumerable:!1,configurable:!0}),t.prototype.setVisibleIndex=function(e){if(!this.isVisible)return 0;for(var n=this.showQuestionNumbers==="onSurvey",i=n?e:0,o=this.isDesignMode?[this.template]:this.visiblePanelsCore,l=0;l<o.length;l++){var u=this.setPanelVisibleIndex(o[l],i,this.showQuestionNumbers!="off");n&&(i+=u)}return r.prototype.setVisibleIndex.call(this,n?-1:e),n?i-e:1},t.prototype.setPanelVisibleIndex=function(e,n,i){return i?e.setVisibleIndex(n):(e.setVisibleIndex(-1),0)},Object.defineProperty(t.prototype,"canAddPanel",{get:function(){return this.isDesignMode||this.isDefaultV2Theme&&!this.legacyNavigation&&!this.isRenderModeList&&this.currentIndex<this.visiblePanelCount-1&&this.newPanelPosition!=="next"?!1:this.allowAddPanel&&!this.isReadOnly&&this.panelCount<this.maxPanelCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canRemovePanel",{get:function(){return this.isDesignMode?!1:this.allowRemovePanel&&!this.isReadOnly&&this.panelCount>this.minPanelCount},enumerable:!1,configurable:!0}),t.prototype.rebuildPanels=function(){var e;if(!this.isLoadingFromJson){this.prepareValueForPanelCreating();var n=[],i;if(this.useTemplatePanel)i=new it(this,this.template),n.push(this.template);else for(var o=0;o<this.panelCount;o++)i=this.createNewPanel(),n.push(this.createNewPanel());(e=this.panelsCore).splice.apply(e,Ph([0,this.panelsCore.length],n)),this.setValueAfterPanelsCreating(),this.setPanelsState(),this.reRunCondition(),this.updateFooterActions(),this.fireCallback(this.panelCountChangedCallback),this.updateTabToolbar()}},Object.defineProperty(t.prototype,"defaultPanelValue",{get:function(){return this.getPropertyValue("defaultPanelValue")},set:function(e){this.setPropertyValue("defaultPanelValue",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultValueFromLastPanel",{get:function(){return this.getPropertyValue("defaultValueFromLastPanel")},set:function(e){this.setPropertyValue("defaultValueFromLastPanel",e)},enumerable:!1,configurable:!0}),t.prototype.isDefaultValueEmpty=function(){return r.prototype.isDefaultValueEmpty.call(this)&&this.isValueEmpty(this.defaultPanelValue)},t.prototype.setDefaultValue=function(){if(this.isValueEmpty(this.defaultPanelValue)||!this.isValueEmpty(this.defaultValue)){r.prototype.setDefaultValue.call(this);return}if(!(!this.isEmpty()||this.panelCount==0)){for(var e=[],n=0;n<this.panelCount;n++)e.push(this.defaultPanelValue);this.value=e}},Object.defineProperty(t.prototype,"isValueArray",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){var e=this.value;if(!e||!Array.isArray(e))return!0;for(var n=0;n<e.length;n++)if(!this.isRowEmpty(e[n]))return!1;return!0},t.prototype.getProgressInfo=function(){return et.getProgressInfoByElements(this.visiblePanelsCore,this.isRequired)},t.prototype.isRowEmpty=function(e){for(var n in e)if(e.hasOwnProperty(n))return!1;return!0},t.prototype.addPanelUI=function(){if(!this.canAddPanel||!this.canLeaveCurrentPanel())return null;var e=this.addPanel();return this.displayMode==="list"&&this.panelsState!=="default"&&e.expand(),this.focusNewPanelCallback=function(){e.focusFirstQuestion()},this.isPanelsAnimationRunning||this.focusNewPanel(),e},t.prototype.focusNewPanel=function(){this.focusNewPanelCallback&&(this.focusNewPanelCallback(),this.focusNewPanelCallback=void 0)},t.prototype.addPanel=function(e){var n=this.currentIndex;return e===void 0&&(e=n<0?this.panelCount:n+1),(e<0||e>this.panelCount)&&(e=this.panelCount),this.updateValueOnAddingPanel(n<0?this.panelCount-1:n,e),this.isRenderModeList||(this.currentIndex=e),this.survey&&this.survey.dynamicPanelAdded(this),this.panelsCore[e]},t.prototype.updateValueOnAddingPanel=function(e,n){this.panelCount++;var i=this.value;if(!(!Array.isArray(i)||i.length!==this.panelCount)){var o=!1,l=this.panelCount-1;if(n<l){o=!0;var u=i[l];i.splice(l,1),i.splice(n,0,u)}if(this.isValueEmpty(this.defaultPanelValue)||(o=!0,this.copyValue(i[n],this.defaultPanelValue)),this.defaultValueFromLastPanel&&i.length>1){var d=e>-1&&e<=l?e:l;o=!0,this.copyValue(i[n],i[d])}o&&(this.value=i)}},t.prototype.canLeaveCurrentPanel=function(){return!(this.displayMode!=="list"&&this.currentPanel&&this.currentPanel.hasErrors(!0,!0))},t.prototype.copyValue=function(e,n){for(var i in n)e[i]=n[i]},t.prototype.removePanelUI=function(e){var n=this,i=this.getVisualPanelIndex(e);if(!(i<0||i>=this.visiblePanelCount)&&this.canRemovePanel){var o=function(){var l;n.removePanel(i);var u=n.visiblePanelCount,d=i>=u?u-1:i,m=u===0?n.addButtonId:d>-1?n.getPanelRemoveButtonId(n.visiblePanels[d]):"";m&&et.FocusElement(m,!0,(l=n.survey)===null||l===void 0?void 0:l.rootElement)};this.isRequireConfirmOnDelete(e)?Jn({message:this.confirmDeleteText,funcOnYes:function(){o()},locale:this.getLocale(),rootElement:this.survey.rootElement,cssClass:this.cssClasses.confirmDialog}):o()}},t.prototype.getPanelRemoveButtonId=function(e){return e.id+"_remove_button"},t.prototype.isRequireConfirmOnDelete=function(e){if(!this.confirmDelete)return!1;var n=this.getVisualPanelIndex(e);if(n<0||n>=this.visiblePanelCount)return!1;var i=this.visiblePanelsCore[n].getValue();return!this.isValueEmpty(i)&&(this.isValueEmpty(this.defaultPanelValue)||!this.isTwoValueEquals(i,this.defaultPanelValue))},t.prototype.goToNextPanel=function(){return this.currentIndex<0||!this.canLeaveCurrentPanel()?!1:(this.currentIndex++,!0)},t.prototype.goToPrevPanel=function(){this.currentIndex<0||this.currentIndex--},t.prototype.removePanel=function(l){var n=this.getVisualPanelIndex(l);if(!(n<0||n>=this.visiblePanelCount)){this.removedPanelIndex=n;var i=this.visiblePanelsCore[n],o=this.panelsCore.indexOf(i);if(!(o<0)&&!(this.survey&&!this.survey.dynamicPanelRemoving(this,o,i))){this.panelsCore.splice(o,1),this.updateBindings("panelCount",this.panelCount);var l=this.value;!l||!Array.isArray(l)||o>=l.length||(this.isValueChangingInternally=!0,l.splice(o,1),this.value=l,this.updateFooterActions(),this.fireCallback(this.panelCountChangedCallback),this.survey&&this.survey.dynamicPanelRemoved(this,o,i),this.isValueChangingInternally=!1)}}},t.prototype.getVisualPanelIndex=function(e){if(D.isNumber(e))return e;for(var n=this.visiblePanelsCore,i=0;i<n.length;i++)if(n[i]===e||n[i].data===e)return i;return-1},t.prototype.getPanelVisibleIndexById=function(e){for(var n=this.visiblePanelsCore,i=0;i<n.length;i++)if(n[i].id===e)return i;return-1},t.prototype.locStrsChanged=function(){r.prototype.locStrsChanged.call(this);for(var e=this.panelsCore,n=0;n<e.length;n++)e[n].locStrsChanged();this.additionalTitleToolbar&&this.additionalTitleToolbar.locStrsChanged()},t.prototype.clearIncorrectValues=function(){for(var e=0;e<this.panelsCore.length;e++)this.clearIncorrectValuesInPanel(e)},t.prototype.clearErrors=function(){r.prototype.clearErrors.call(this);for(var e=0;e<this.panelsCore.length;e++)this.panelsCore[e].clearErrors()},t.prototype.getQuestionFromArray=function(e,n){return n<0||n>=this.panelsCore.length?null:this.panelsCore[n].getQuestionByName(e)},t.prototype.clearIncorrectValuesInPanel=function(e){var n=this.panelsCore[e];n.clearIncorrectValues();var i=this.value,o=i&&e<i.length?i[e]:null;if(o){var l=!1;for(var u in o)if(!this.getSharedQuestionFromArray(u,e)){var d=n.getQuestionByName(u);d||this.iscorrectValueWithPostPrefix(n,u,R.commentSuffix)||this.iscorrectValueWithPostPrefix(n,u,R.matrix.totalsSuffix)||(delete o[u],l=!0)}l&&(i[e]=o,this.value=i)}},t.prototype.iscorrectValueWithPostPrefix=function(e,n,i){return n.indexOf(i)!==n.length-i.length?!1:!!e.getQuestionByName(n.substring(0,n.indexOf(i)))},t.prototype.getSharedQuestionFromArray=function(e,n){return this.survey&&this.valueName?this.survey.getQuestionByValueNameFromArray(this.valueName,e,n):null},t.prototype.addConditionObjectsByContext=function(e,n){for(var i=n?.isValidator?n.errorOwner:n,o=!!n&&(n===!0||this.template.questions.indexOf(i)>-1),l=new Array,u=this.template.questions,d=0;d<u.length;d++)u[d].addConditionObjectsByContext(l,n);for(var m=0;m<R.panel.maxPanelCountInCondition;m++)for(var w="["+m+"].",E=this.getValueName()+w,A=this.processedTitle+w,d=0;d<l.length;d++)l[d].context?e.push(l[d]):e.push({name:E+l[d].name,text:A+l[d].text,question:l[d].question});if(o){for(var E=n===!0?this.getValueName()+".":"",A=n===!0?this.processedTitle+".":"",d=0;d<l.length;d++)if(l[d].question!=n){var U={name:E+it.ItemVariableName+"."+l[d].name,text:A+it.ItemVariableName+"."+l[d].text,question:l[d].question};U.context=this,e.push(U)}}},t.prototype.collectNestedQuestionsCore=function(e,n){var i=n?this.visiblePanelsCore:this.panelsCore;Array.isArray(i)&&i.forEach(function(o){o.questions.forEach(function(l){return l.collectNestedQuestions(e,n)})})},t.prototype.getConditionJson=function(e,n){if(e===void 0&&(e=null),n===void 0&&(n=null),!n)return r.prototype.getConditionJson.call(this,e);var i=n,o=n.indexOf(".");o>-1&&(i=n.substring(0,o),n=n.substring(o+1));var l=this.template.getQuestionByName(i);return l?l.getConditionJson(e,n):null},t.prototype.onReadOnlyChanged=function(){var e=this.isReadOnly;this.template.readOnly=e;for(var n=0;n<this.panelsCore.length;n++)this.panelsCore[n].readOnly=e;this.updateNoEntriesTextDefaultLoc(),this.updateFooterActions(),r.prototype.onReadOnlyChanged.call(this)},t.prototype.updateNoEntriesTextDefaultLoc=function(){var e=this.getLocalizableString("noEntriesText");e&&(e.localizationName=this.isReadOnly||!this.allowAddPanel?"noEntriesReadonlyText":"noEntriesText")},t.prototype.onSurveyLoad=function(){this.template.readOnly=this.isReadOnly,this.template.onSurveyLoad(),this.panelCount<this.minPanelCount&&(this.panelCount=this.minPanelCount),this.panelCount>this.maxPanelCount&&(this.panelCount=this.maxPanelCount),this.buildPanelsFirstTime(),r.prototype.onSurveyLoad.call(this)},t.prototype.buildPanelsFirstTime=function(e){if(e===void 0&&(e=!1),!this.hasPanelBuildFirstTime&&!(!e&&this.wasNotRenderedInSurvey)){if(this.blockAnimations(),this.hasPanelBuildFirstTime=!0,this.isBuildingPanelsFirstTime=!0,this.getPropertyValue("panelCount")>0&&(this.panelCount=this.getPropertyValue("panelCount")),this.useTemplatePanel&&this.rebuildPanels(),this.setPanelsSurveyImpl(),this.setPanelsState(),this.assignOnPropertyChangedToTemplate(),this.survey)for(var n=0;n<this.panelCount;n++)this.survey.dynamicPanelAdded(this);this.updateIsReady(),this.showAddPanelButton||this.updateNoEntriesTextDefaultLoc(),this.updateFooterActions(),this.isBuildingPanelsFirstTime=!1,this.releaseAnimations()}},Object.defineProperty(t.prototype,"showAddPanelButton",{get:function(){return this.allowAddPanel&&!this.isReadOnly},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wasNotRenderedInSurvey",{get:function(){return!this.hasPanelBuildFirstTime&&!this.wasRendered&&!!this.survey},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canBuildPanels",{get:function(){return!this.isLoadingFromJson&&!this.useTemplatePanel},enumerable:!1,configurable:!0}),t.prototype.onFirstRenderingCore=function(){r.prototype.onFirstRenderingCore.call(this),this.buildPanelsFirstTime(),this.template.onFirstRendering();for(var e=0;e<this.panelsCore.length;e++)this.panelsCore[e].onFirstRendering()},t.prototype.localeChanged=function(){r.prototype.localeChanged.call(this);for(var e=0;e<this.panelsCore.length;e++)this.panelsCore[e].localeChanged()},t.prototype.runCondition=function(e,n){r.prototype.runCondition.call(this,e,n),this.runPanelsCondition(this.panelsCore,e,n)},t.prototype.runTriggers=function(e,n,i){r.prototype.runTriggers.call(this,e,n,i),this.visiblePanelsCore.forEach(function(o){o.questions.forEach(function(l){return l.runTriggers(e,n,i)})})},t.prototype.reRunCondition=function(){this.data&&this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties())},t.prototype.runPanelsCondition=function(e,n,i){var o={};n&&n instanceof Object&&(o=JSON.parse(JSON.stringify(n))),this.parentQuestion&&this.parent&&(o[it.ParentItemVariableName]=this.parent.getValue()),this.isValueChangingInternally=!0;for(var l=0;l<e.length;l++){var u=e[l],d=this.getPanelItemData(u.data),m=D.createCopy(o),w=it.ItemVariableName;m[w]=d,m[it.IndexVariableName.toLowerCase()]=l;var E=D.createCopy(i);E[w]=u,u.runCondition(m,E)}this.isValueChangingInternally=!1},t.prototype.onAnyValueChanged=function(e,n){r.prototype.onAnyValueChanged.call(this,e,n);for(var i=0;i<this.panelsCore.length;i++)this.panelsCore[i].onAnyValueChanged(e,n),this.panelsCore[i].onAnyValueChanged(it.ItemVariableName,"")},t.prototype.hasKeysDuplicated=function(e,n){n===void 0&&(n=null);for(var i=[],o,l=0;l<this.panelsCore.length;l++)o=this.isValueDuplicated(this.panelsCore[l],i,n,e)||o;return o},t.prototype.updatePanelsContainsErrors=function(){for(var e=this.changingValueQuestion,n=e.parent;n;)n.updateContainsErrors(),n=n.parent;this.updateContainsErrors()},t.prototype.hasErrors=function(e,n){if(e===void 0&&(e=!0),n===void 0&&(n=null),this.isValueChangingInternally||this.isBuildingPanelsFirstTime)return!1;var i=!1;if(this.changingValueQuestion){var i=this.changingValueQuestion.hasErrors(e,n);i=this.hasKeysDuplicated(e,n)||i,this.updatePanelsContainsErrors()}else i=this.hasErrorInPanels(e,n);return r.prototype.hasErrors.call(this,e,n)||i},t.prototype.getContainsErrors=function(){var e=r.prototype.getContainsErrors.call(this);if(e)return e;for(var n=this.panelsCore,i=0;i<n.length;i++)if(n[i].containsErrors)return!0;return!1},t.prototype.getIsAnswered=function(){if(!r.prototype.getIsAnswered.call(this))return!1;for(var e=this.visiblePanelsCore,n=0;n<e.length;n++){var i=[];e[n].addQuestionsToList(i,!0);for(var o=0;o<i.length;o++)if(!i[o].isAnswered)return!1}return!0},t.prototype.clearValueOnHidding=function(e){if(!e){if(this.survey&&this.survey.getQuestionClearIfInvisible("onHidden")==="none")return;this.clearValueInPanelsIfInvisible("onHiddenContainer")}r.prototype.clearValueOnHidding.call(this,e)},t.prototype.clearValueIfInvisible=function(e){e===void 0&&(e="onHidden");var n=e==="onHidden"?"onHiddenContainer":e;this.clearValueInPanelsIfInvisible(n),r.prototype.clearValueIfInvisible.call(this,e)},t.prototype.clearValueInPanelsIfInvisible=function(e){for(var n=0;n<this.panelsCore.length;n++){var i=this.panelsCore[n],o=i.questions;this.isSetPanelItemData={};for(var l=0;l<o.length;l++){var u=o[l];u.visible&&!i.isVisible||(u.clearValueIfInvisible(e),this.isSetPanelItemData[u.getValueName()]=this.maxCheckCount+1)}}this.isSetPanelItemData={}},t.prototype.getIsRunningValidators=function(){if(r.prototype.getIsRunningValidators.call(this))return!0;for(var e=0;e<this.panelsCore.length;e++)for(var n=this.panelsCore[e].questions,i=0;i<n.length;i++)if(n[i].isRunningValidators)return!0;return!1},t.prototype.getAllErrors=function(){for(var e=r.prototype.getAllErrors.call(this),n=this.visiblePanelsCore,i=0;i<n.length;i++)for(var o=n[i].questions,l=0;l<o.length;l++){var u=o[l].getAllErrors();u&&u.length>0&&(e=e.concat(u))}return e},t.prototype.getDisplayValueCore=function(e,n){var i=this.getUnbindValue(n);if(!i||!Array.isArray(i))return i;for(var o=0;o<this.panelsCore.length&&o<i.length;o++){var l=i[o];l&&(i[o]=this.getPanelDisplayValue(o,l,e))}return i},t.prototype.getPanelDisplayValue=function(e,n,i){if(!n)return n;for(var o=this.panelsCore[e],l=Object.keys(n),u=0;u<l.length;u++){var d=l[u],m=o.getQuestionByValueName(d);if(m||(m=this.getSharedQuestionFromArray(d,e)),m){var w=m.getDisplayValue(i,n[d]);n[d]=w,i&&m.title&&m.title!==d&&(n[m.title]=w,delete n[d])}}return n},t.prototype.hasErrorInPanels=function(e,n){for(var i=!1,o=this.visiblePanels,l=[],u=0;u<o.length;u++)this.setOnCompleteAsyncInPanel(o[u]);for(var d=!!n&&n.focusOnFirstError,m=0;m<o.length;m++){var w=o[m].hasErrors(e,d,n);w=this.isValueDuplicated(o[m],l,n,e)||w,!this.isRenderModeList&&w&&!i&&d&&(this.currentIndex=m),i=w||i}return i},t.prototype.setOnCompleteAsyncInPanel=function(e){for(var n=this,i=e.questions,o=0;o<i.length;o++)i[o].onCompletedAsyncValidators=function(l){n.raiseOnCompletedAsyncValidators()}},t.prototype.isValueDuplicated=function(e,n,i,o){if(!this.keyName)return!1;var l=e.getQuestionByValueName(this.keyName);if(!l||l.isEmpty())return!1;var u=l.value;this.changingValueQuestion&&l!=this.changingValueQuestion&&l.hasErrors(o,i);for(var d=0;d<n.length;d++)if(u==n[d])return o&&l.addError(new Aa(this.keyDuplicationError,this)),i&&!i.firstErrorQuestion&&(i.firstErrorQuestion=l),!0;return n.push(u),!1},t.prototype.getPanelActions=function(e){var n=this,i=e.footerActions;return this.panelRemoveButtonLocation!=="right"&&i.push(new Te({id:"remove-panel-"+e.id,component:"sv-paneldynamic-remove-btn",visible:new qe(function(){return[n.canRemovePanel,e.state!=="collapsed",n.panelRemoveButtonLocation!=="right"].every(function(o){return o===!0})}),data:{question:this,panel:e}})),this.survey&&(i=this.survey.getUpdatedPanelFooterActions(e,i,this)),i},t.prototype.createNewPanel=function(){var e=this,n=this.createAndSetupNewPanelObject(),i=this.template.toJSON();new nt().toObject(i,n),n.renderWidth="100%",n.updateCustomWidgets(),new it(this,n),!this.isDesignMode&&!this.isReadOnly&&!this.isValueEmpty(n.getValue())&&this.runPanelsCondition([n],this.getDataFilteredValues(),this.getDataFilteredProperties());for(var o=n.questions,l=0;l<o.length;l++)o[l].setParentQuestion(this);return this.wasRendered&&(n.onFirstRendering(),n.locStrsChanged()),n.onGetFooterActionsCallback=function(){return e.getPanelActions(n)},n.onGetFooterToolbarCssCallback=function(){return e.cssClasses.panelFooter},n.registerPropertyChangedHandlers(["visible"],function(){n.visible?e.onPanelAdded(n):e.onPanelRemoved(n),e.updateFooterActions()}),n},t.prototype.createAndSetupNewPanelObject=function(){var e=this,n=this.createNewPanelObject();return n.isInteractiveDesignElement=!1,n.setParentQuestion(this),n.onGetQuestionTitleLocation=function(){return e.getTemplateQuestionTitleLocation()},n},t.prototype.getTemplateQuestionTitleLocation=function(){return this.templateTitleLocation!="default"?this.templateTitleLocation:this.getTitleLocationCore()},t.prototype.getChildErrorLocation=function(e){return this.templateErrorLocation!=="default"?this.templateErrorLocation:r.prototype.getChildErrorLocation.call(this,e)},t.prototype.createNewPanelObject=function(){return L.createClass("panel")},t.prototype.setPanelCountBasedOnValue=function(){if(!(this.isValueChangingInternally||this.useTemplatePanel)){var e=this.value,n=e&&Array.isArray(e)?e.length:0;n==0&&this.getPropertyValue("panelCount")>0&&(n=this.getPropertyValue("panelCount")),this.settingPanelCountBasedOnValue=!0,this.panelCount=n,this.settingPanelCountBasedOnValue=!1}},t.prototype.setQuestionValue=function(e){if(!this.settingPanelCountBasedOnValue){r.prototype.setQuestionValue.call(this,e,!1),this.setPanelCountBasedOnValue();for(var n=0;n<this.panelsCore.length;n++)this.panelUpdateValueFromSurvey(this.panelsCore[n]);this.updateIsAnswered()}},t.prototype.onSurveyValueChanged=function(e){if(!(e===void 0&&this.isAllPanelsEmpty())){r.prototype.onSurveyValueChanged.call(this,e);for(var n=0;n<this.panelsCore.length;n++)this.panelSurveyValueChanged(this.panelsCore[n]);e===void 0&&this.setValueBasedOnPanelCount(),this.updateIsReady()}},t.prototype.isAllPanelsEmpty=function(){for(var e=0;e<this.panelsCore.length;e++)if(!D.isValueEmpty(this.panelsCore[e].getValue()))return!1;return!0},t.prototype.panelUpdateValueFromSurvey=function(e){for(var n=e.questions,i=this.getPanelItemData(e.data),o=0;o<n.length;o++){var l=n[o];l.updateValueFromSurvey(i[l.getValueName()]),l.updateCommentFromSurvey(i[l.getValueName()+R.commentSuffix]),l.initDataUI()}},t.prototype.panelSurveyValueChanged=function(e){for(var n=e.questions,i=this.getPanelItemData(e.data),o=0;o<n.length;o++){var l=n[o];l.onSurveyValueChanged(i[l.getValueName()])}},t.prototype.onSetData=function(){r.prototype.onSetData.call(this),!this.isLoadingFromJson&&this.useTemplatePanel&&(this.setTemplatePanelSurveyImpl(),this.rebuildPanels())},t.prototype.isNewValueCorrect=function(e){return Array.isArray(e)},t.prototype.getItemIndex=function(e){var n=this.items.indexOf(e);return n>-1?n:this.items.length},t.prototype.getVisibleItemIndex=function(e){for(var n=this.visiblePanelsCore,i=0;i<n.length;i++)if(n[i].data===e)return i;return n.length},t.prototype.getPanelItemData=function(e){var n=this.items,i=n.indexOf(e),o=this.value;return i<0&&Array.isArray(o)&&o.length>n.length&&(i=n.length),i<0?{}:!o||!Array.isArray(o)||o.length<=i?{}:o[i]},t.prototype.setPanelItemData=function(e,n,i){if(!(this.isSetPanelItemData[n]>this.maxCheckCount)){this.isSetPanelItemData[n]||(this.isSetPanelItemData[n]=0),this.isSetPanelItemData[n]++;var o=this.items,l=o.indexOf(e);l<0&&(l=o.length);var u=this.getUnbindValue(this.value);if((!u||!Array.isArray(u))&&(u=[]),u.length<=l)for(var d=u.length;d<=l;d++)u.push({});if(u[l]||(u[l]={}),this.isValueEmpty(i)?delete u[l][n]:u[l][n]=i,l>=0&&l<this.panelsCore.length&&(this.changingValueQuestion=this.panelsCore[l].getQuestionByValueName(n)),this.value=u,this.changingValueQuestion=null,this.survey){var m={question:this,panel:e.panel,name:n,itemIndex:l,itemValue:u[l],value:i};this.survey.dynamicPanelItemValueChanged(this,m)}this.isSetPanelItemData[n]--,this.isSetPanelItemData[n]-1&&delete this.isSetPanelItemData[n]}},t.prototype.getRootData=function(){return this.data},t.prototype.getPlainData=function(e){e===void 0&&(e={includeEmpty:!0});var n=r.prototype.getPlainData.call(this,e);if(n){n.isNode=!0;var i=Array.isArray(n.data)?[].concat(n.data):[];n.data=this.panels.map(function(o,l){var u={name:o.name||l,title:o.title||"Panel",value:o.getValue(),displayValue:o.getValue(),getString:function(d){return typeof d=="object"?JSON.stringify(d):d},isNode:!0,data:o.questions.map(function(d){return d.getPlainData(e)}).filter(function(d){return!!d})};return(e.calculations||[]).forEach(function(d){u[d.propertyName]=o[d.propertyName]}),u}),n.data=n.data.concat(i)}return n},t.prototype.updateElementCss=function(e){r.prototype.updateElementCss.call(this,e);for(var n=0;n<this.panelsCore.length;n++){var i=this.panelsCore[n];i.updateElementCss(e)}},Object.defineProperty(t.prototype,"progressText",{get:function(){var e=this.visiblePanelCount;return this.getLocalizationFormatString("panelDynamicProgressText",this.currentIndex+1,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"progress",{get:function(){return(this.currentIndex+1)/this.visiblePanelCount*100+"%"},enumerable:!1,configurable:!0}),t.prototype.getRootCss=function(){return new F().append(r.prototype.getRootCss.call(this)).append(this.cssClasses.empty,this.getShowNoEntriesPlaceholder()).toString()},Object.defineProperty(t.prototype,"cssHeader",{get:function(){var e=this.isRenderModeTab&&!!this.visiblePanelCount;return new F().append(this.cssClasses.header).append(this.cssClasses.headerTop,this.hasTitleOnTop||e).append(this.cssClasses.headerTab,e).toString()},enumerable:!1,configurable:!0}),t.prototype.getPanelWrapperCss=function(e){return new F().append(this.cssClasses.panelWrapper,!e||e.visible).append(this.cssClasses.panelWrapperList,this.isRenderModeList).append(this.cssClasses.panelWrapperInRow,this.panelRemoveButtonLocation==="right").toString()},t.prototype.getPanelRemoveButtonCss=function(){return new F().append(this.cssClasses.button).append(this.cssClasses.buttonRemove).append(this.cssClasses.buttonRemoveRight,this.panelRemoveButtonLocation==="right").toString()},t.prototype.getAddButtonCss=function(){return new F().append(this.cssClasses.button).append(this.cssClasses.buttonAdd).append(this.cssClasses.buttonAdd+"--list-mode",this.displayMode==="list").toString()},t.prototype.getPrevButtonCss=function(){return new F().append(this.cssClasses.buttonPrev).append(this.cssClasses.buttonPrevDisabled,!this.isPrevButtonVisible).toString()},t.prototype.getNextButtonCss=function(){return new F().append(this.cssClasses.buttonNext).append(this.cssClasses.buttonNextDisabled,!this.isNextButtonVisible).toString()},Object.defineProperty(t.prototype,"noEntriesText",{get:function(){return this.getLocalizableStringText("noEntriesText")},set:function(e){this.setLocalizableStringText("noEntriesText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locNoEntriesText",{get:function(){return this.getLocalizableString("noEntriesText")},enumerable:!1,configurable:!0}),t.prototype.getShowNoEntriesPlaceholder=function(){return!!this.cssClasses.noEntriesPlaceholder&&!this.isDesignMode&&this.visiblePanelCount===0},t.prototype.needResponsiveWidth=function(){var e=this.getPanel();return!!(e&&e.needResponsiveWidth())},Object.defineProperty(t.prototype,"hasAdditionalTitleToolbar",{get:function(){return this.isRenderModeTab&&this.visiblePanels.length>0},enumerable:!1,configurable:!0}),t.prototype.getAdditionalTitleToolbar=function(){return this.isRenderModeTab?(this.additionalTitleToolbarValue||(this.additionalTitleToolbarValue=new Ai,this.additionalTitleToolbarValue.dotsItem.popupModel.showPointer=!1,this.additionalTitleToolbarValue.dotsItem.popupModel.verticalPosition="bottom",this.additionalTitleToolbarValue.dotsItem.popupModel.horizontalPosition="center",this.updateElementCss(!1)),this.additionalTitleToolbarValue):null},Object.defineProperty(t.prototype,"footerToolbar",{get:function(){return this.footerToolbarValue||this.initFooterToolbar(),this.footerToolbarValue},enumerable:!1,configurable:!0}),t.prototype.updateFooterActions=function(){this.updateFooterActionsCallback&&this.updateFooterActionsCallback()},t.prototype.initFooterToolbar=function(){var e=this;this.footerToolbarValue=this.createActionContainer();var n=[],i=new Te({id:"sv-pd-prev-btn",title:this.panelPrevText,action:function(){e.goToPrevPanel()}}),o=new Te({id:"sv-pd-next-btn",title:this.panelNextText,action:function(){e.goToNextPanel()}}),l=new Te({id:"sv-pd-add-btn",component:"sv-paneldynamic-add-btn",data:{question:this}}),u=new Te({id:"sv-prev-btn-icon",component:"sv-paneldynamic-prev-btn",data:{question:this}}),d=new Te({id:"sv-pd-progress-text",component:"sv-paneldynamic-progress-text",data:{question:this}}),m=new Te({id:"sv-pd-next-btn-icon",component:"sv-paneldynamic-next-btn",data:{question:this}});n.push(i,o,l,u,d,m),this.updateFooterActionsCallback=function(){var w=e.legacyNavigation,E=e.isRenderModeList,A=e.isMobile,U=!w&&!E;i.visible=U&&e.currentIndex>0,o.visible=U&&e.currentIndex<e.visiblePanelCount-1,o.needSpace=A&&o.visible&&i.visible,l.visible=e.canAddPanel,l.needSpace=e.isMobile&&!o.visible&&i.visible,d.visible=!e.isRenderModeList&&!A,d.needSpace=!w&&!e.isMobile;var W=w&&!E;u.visible=W,m.visible=W,u.needSpace=W},this.updateFooterActionsCallback(),this.footerToolbarValue.setItems(n)},t.prototype.createTabByPanel=function(e,n){var i=this;if(this.isRenderModeTab){var o=new bt(e,!0);o.onGetTextCallback=function(d){if(d||(d=i.locTabTitlePlaceholder.renderedHtml),!i.survey)return d;var m={title:d,panel:e,visiblePanelIndex:n};return i.survey.dynamicPanelGetTabTitle(i,m),m.title},o.sharedData=this.locTemplateTabTitle;var l=this.getPanelVisibleIndexById(e.id)===this.currentIndex,u=new Te({id:e.id,pressed:l,locTitle:o,disableHide:l,action:function(){i.currentIndex=i.getPanelVisibleIndexById(u.id)}});return u}},t.prototype.getAdditionalTitleToolbarCss=function(e){var n=e??this.cssClasses;return new F().append(n.tabsRoot).append(n.tabsLeft,this.tabAlign==="left").append(n.tabsRight,this.tabAlign==="right").append(n.tabsCenter,this.tabAlign==="center").toString()},t.prototype.updateTabToolbarItemsPressedState=function(){if(this.isRenderModeTab&&!(this.currentIndex<0||this.currentIndex>=this.visiblePanelCount)){var e=this.visiblePanelsCore[this.currentIndex];this.additionalTitleToolbar.renderedActions.forEach(function(n){var i=n.id===e.id;n.pressed=i,n.disableHide=i,n.mode==="popup"&&n.disableHide&&n.raiseUpdate()})}},t.prototype.updateTabToolbar=function(){var e=this;if(this.isRenderModeTab){for(var n=[],i=this.visiblePanelsCore,o=function(d){l.visiblePanelsCore.forEach(function(m){return n.push(e.createTabByPanel(i[d],d))})},l=this,u=0;u<i.length;u++)o(u);this.additionalTitleToolbar.setItems(n)}},t.prototype.addTabFromToolbar=function(e,n){if(this.isRenderModeTab){var i=this.createTabByPanel(e,n);this.additionalTitleToolbar.actions.splice(n,0,i),this.updateTabToolbarItemsPressedState()}},t.prototype.removeTabFromToolbar=function(e){if(this.isRenderModeTab){var n=this.additionalTitleToolbar.getActionById(e.id);n&&(this.additionalTitleToolbar.actions.splice(this.additionalTitleToolbar.actions.indexOf(n),1),this.updateTabToolbarItemsPressedState())}},Object.defineProperty(t.prototype,"showLegacyNavigation",{get:function(){return!this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showNavigation",{get:function(){return this.isReadOnly&&this.visiblePanelCount==1?!1:this.visiblePanelCount>0&&!this.showLegacyNavigation&&!!this.cssClasses.footer},enumerable:!1,configurable:!0}),t.prototype.showSeparator=function(e){return this.isRenderModeList&&e<this.renderedPanels.length-1},t.prototype.calcCssClasses=function(e){var n=r.prototype.calcCssClasses.call(this,e),i=this.additionalTitleToolbar;return i&&(i.containerCss=this.getAdditionalTitleToolbarCss(n),i.cssClasses=n.tabs,i.dotsItem.cssClasses=n.tabs,i.dotsItem.popupModel.contentComponentData.model.cssClasses=e.list),n},t.prototype.onMobileChanged=function(){r.prototype.onMobileChanged.call(this),this.updateFooterActions()},t.maxCheckCount=3,ci([Xe({})],t.prototype,"_renderedPanels",void 0),ci([V({onSet:function(e,n){n.fireCallback(n.renderModeChangedCallback),n.updatePanelView()}})],t.prototype,"displayMode",void 0),ci([V({onSet:function(e,n){n.fireCallback(n.currentIndexChangedCallback)}})],t.prototype,"showProgressBar",void 0),ci([V({onSet:function(e,n){}})],t.prototype,"progressBarLocation",void 0),ci([V({defaultValue:!1,onSet:function(e,n){n.updateFooterActions()}})],t.prototype,"legacyNavigation",void 0),t}(tt);L.addClass("paneldynamic",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"templateElements",alternativeName:"questions",baseClassName:"question",visible:!1,isLightSerializable:!1},{name:"templateTitle:text",serializationProperty:"locTemplateTitle"},{name:"templateTabTitle",serializationProperty:"locTemplateTabTitle",visibleIf:function(r){return r.displayMode==="tab"}},{name:"tabTitlePlaceholder",serializationProperty:"locTabTitlePlaceholder",visibleIf:function(r){return r.displayMode==="tab"}},{name:"templateDescription:text",serializationProperty:"locTemplateDescription"},{name:"minWidth",defaultFunc:function(){return"auto"}},{name:"noEntriesText:text",serializationProperty:"locNoEntriesText"},{name:"allowAddPanel:boolean",default:!0},{name:"allowRemovePanel:boolean",default:!0},{name:"newPanelPosition",choices:["next","last"],default:"last",category:"layout"},{name:"panelCount:number",isBindable:!0,default:0,choices:[0,1,2,3,4,5,6,7,8,9,10]},{name:"minPanelCount:number",default:0,minValue:0},{name:"maxPanelCount:number",defaultFunc:function(){return R.panel.maxPanelCount}},"defaultPanelValue:panelvalue","defaultValueFromLastPanel:boolean",{name:"panelsState",default:"default",choices:["default","collapsed","expanded","firstExpanded"],visibleIf:function(r){return r.displayMode==="list"}},{name:"keyName"},{name:"keyDuplicationError",serializationProperty:"locKeyDuplicationError"},{name:"confirmDelete:boolean"},{name:"confirmDeleteText",serializationProperty:"locConfirmDeleteText",visibleIf:function(r){return r.confirmDelete}},{name:"panelAddText",serializationProperty:"locPanelAddText",visibleIf:function(r){return r.allowAddPanel}},{name:"panelRemoveText",serializationProperty:"locPanelRemoveText",visibleIf:function(r){return r.allowRemovePanel}},{name:"panelPrevText",serializationProperty:"locPanelPrevText",visibleIf:function(r){return r.displayMode!=="list"}},{name:"panelNextText",serializationProperty:"locPanelNextText",visibleIf:function(r){return r.displayMode!=="list"}},{name:"showQuestionNumbers",default:"off",choices:["off","onPanel","onSurvey"]},{name:"showRangeInProgress:boolean",default:!0,visible:!1},{name:"renderMode",default:"list",choices:["list","progressTop","progressBottom","progressTopBottom","tab"],visible:!1},{name:"displayMode",default:"list",choices:["list","carousel","tab"]},{name:"showProgressBar:boolean",default:!0,visibleIf:function(r){return r.displayMode==="carousel"}},{name:"progressBarLocation",default:"top",choices:["top","bottom","topBottom"],visibleIf:function(r){return r.showProgressBar}},{name:"tabAlign",default:"center",choices:["left","center","right"],visibleIf:function(r){return r.displayMode==="tab"}},{name:"templateTitleLocation",default:"default",choices:["default","top","bottom","left"]},{name:"templateErrorLocation",default:"default",choices:["default","top","bottom"]},{name:"templateVisibleIf:expression",category:"logic"},{name:"panelRemoveButtonLocation",default:"bottom",choices:["bottom","right"],visibleIf:function(r){return r.allowRemovePanel}}],function(){return new es("")},"question"),Se.Instance.registerQuestion("paneldynamic",function(r){return new es(r)});var Th=function(){function r(){}return r.getProgressTextInBarCss=function(t){return new F().append(t.progressText).append(t.progressTextInBar).toString()},r.getProgressTextUnderBarCss=function(t){return new F().append(t.progressText).append(t.progressTextUnderBar).toString()},r}(),on=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Kl=function(r){on(t,r);function t(){var e=r.call(this)||this;return e.idValue=t.idCounter++,e.registerPropertyChangedHandlers(["operator","value","name"],function(){e.oldPropertiesChanged()}),e.registerPropertyChangedHandlers(["expression"],function(){e.onExpressionChanged()}),e}return Object.defineProperty(t,"operators",{get:function(){return t.operatorsValue!=null||(t.operatorsValue={empty:function(e,n){return!e},notempty:function(e,n){return!!e},equal:function(e,n){return e==n},notequal:function(e,n){return e!=n},contains:function(e,n){return e&&e.indexOf&&e.indexOf(n)>-1},notcontains:function(e,n){return!e||!e.indexOf||e.indexOf(n)==-1},greater:function(e,n){return e>n},less:function(e,n){return e<n},greaterorequal:function(e,n){return e>=n},lessorequal:function(e,n){return e<=n}}),t.operatorsValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"triggerbase"},t.prototype.toString=function(){var e=this.getType().replace("trigger",""),n=this.expression?this.expression:this.buildExpression();return n&&(e+=", "+n),e},Object.defineProperty(t.prototype,"isInternal",{get:function(){return this.isGhost===!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"operator",{get:function(){return this.getPropertyValue("operator","equal")},set:function(e){e&&(e=e.toLowerCase(),t.operators[e]&&this.setPropertyValue("operator",e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.getPropertyValue("value",null)},set:function(e){this.setPropertyValue("value",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.getPropertyValue("name","")},set:function(e){this.setPropertyValue("name",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expression",{get:function(){return this.getPropertyValue("expression","")},set:function(e){this.setPropertyValue("expression",e)},enumerable:!1,configurable:!0}),t.prototype.canBeExecuted=function(e){return!0},t.prototype.canBeExecutedOnComplete=function(){return!1},t.prototype.checkExpression=function(e,n,i,o,l){l===void 0&&(l=null),this.isExecutingOnNextPage=e,this.canBeExecuted(e)&&(n&&!this.canBeExecutedOnComplete()||this.isCheckRequired(i)&&(this.conditionRunner?this.perform(o,l):this.canSuccessOnEmptyExpression()&&this.triggerResult(!0,o,l)))},t.prototype.canSuccessOnEmptyExpression=function(){return!1},t.prototype.check=function(e){var n=t.operators[this.operator](e,this.value);n?this.onSuccess({},null):this.onFailure()},Object.defineProperty(t.prototype,"requireValidQuestion",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.perform=function(e,n){var i=this;this.conditionRunner.onRunComplete=function(o){i.triggerResult(o,e,n)},this.conditionRunner.run(e,n)},t.prototype.triggerResult=function(e,n,i){e?(this.onSuccess(n,i),this.onSuccessExecuted()):this.onFailure()},t.prototype.onSuccess=function(e,n){},t.prototype.onFailure=function(){},t.prototype.onSuccessExecuted=function(){},t.prototype.endLoadingFromJson=function(){r.prototype.endLoadingFromJson.call(this),this.oldPropertiesChanged()},t.prototype.oldPropertiesChanged=function(){this.onExpressionChanged()},t.prototype.onExpressionChanged=function(){this.conditionRunner=null},t.prototype.buildExpression=function(){return!this.name||this.isValueEmpty(this.value)&&this.isRequireValue?"":"{"+this.name+"} "+this.operator+" "+yt.toOperandString(this.value)},t.prototype.isCheckRequired=function(e){return e?(this.createConditionRunner(),this.conditionRunner&&this.conditionRunner.hasFunction()===!0?!0:new lt().isAnyKeyChanged(e,this.getUsedVariables())):!1},t.prototype.getUsedVariables=function(){if(!this.conditionRunner)return[];var e=this.conditionRunner.getVariables();if(Array.isArray(e))for(var n="-unwrapped",i=e.length-1;i>=0;i--){var o=e[i];o.endsWith(n)&&e.push(o.substring(0,o.length-n.length))}return e},t.prototype.createConditionRunner=function(){if(!this.conditionRunner){var e=this.expression;e||(e=this.buildExpression()),e&&(this.conditionRunner=new rt(e))}},Object.defineProperty(t.prototype,"isRequireValue",{get:function(){return this.operator!=="empty"&&this.operator!="notempty"},enumerable:!1,configurable:!0}),t.idCounter=1,t.operatorsValue=null,t}(be),wn=function(r){on(t,r);function t(){var e=r.call(this)||this;return e.ownerValue=null,e}return Object.defineProperty(t.prototype,"owner",{get:function(){return this.ownerValue},enumerable:!1,configurable:!0}),t.prototype.setOwner=function(e){this.ownerValue=e},t.prototype.getSurvey=function(e){return e===void 0&&(e=!1),this.owner&&this.owner.getSurvey?this.owner.getSurvey():null},t.prototype.isRealExecution=function(){return!0},t.prototype.onSuccessExecuted=function(){this.owner&&this.isRealExecution()&&this.owner.triggerExecuted(this)},t}(Kl),Yl=function(r){on(t,r);function t(){var e=r.call(this)||this;return e.pages=[],e.questions=[],e}return t.prototype.getType=function(){return"visibletrigger"},t.prototype.onSuccess=function(e,n){this.onTrigger(this.onItemSuccess)},t.prototype.onFailure=function(){this.onTrigger(this.onItemFailure)},t.prototype.onTrigger=function(e){if(this.owner)for(var n=this.owner.getObjects(this.pages,this.questions),i=0;i<n.length;i++)e(n[i])},t.prototype.onItemSuccess=function(e){e.visible=!0},t.prototype.onItemFailure=function(e){e.visible=!1},t}(wn),Xl=function(r){on(t,r);function t(){return r.call(this)||this}return t.prototype.getType=function(){return"completetrigger"},Object.defineProperty(t.prototype,"requireValidQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.isRealExecution=function(){return!R.triggers.executeCompleteOnValueChanged===this.isExecutingOnNextPage},t.prototype.onSuccess=function(e,n){this.owner&&(this.isRealExecution()?this.owner.setCompleted(this):this.owner.canBeCompleted(this,!0))},t.prototype.onFailure=function(){this.owner.canBeCompleted(this,!1)},t}(wn),eu=function(r){on(t,r);function t(){return r.call(this)||this}return t.prototype.getType=function(){return"setvaluetrigger"},t.prototype.canBeExecuted=function(e){return!e&&!!this.setToName},t.prototype.onPropertyValueChanged=function(e,n,i){if(r.prototype.onPropertyValueChanged.call(this,e,n,i),e==="setToName"){var o=this.getSurvey();o&&!o.isLoadingFromJson&&o.isDesignMode&&(this.setValue=void 0)}},Object.defineProperty(t.prototype,"setToName",{get:function(){return this.getPropertyValue("setToName","")},set:function(e){this.setPropertyValue("setToName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"setValue",{get:function(){return this.getPropertyValue("setValue")},set:function(e){this.setPropertyValue("setValue",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVariable",{get:function(){return this.getPropertyValue("isVariable")},set:function(e){this.setPropertyValue("isVariable",e)},enumerable:!1,configurable:!0}),t.prototype.onSuccess=function(e,n){!this.setToName||!this.owner||this.owner.setTriggerValue(this.setToName,this.setValue,this.isVariable)},t}(wn),tu=function(r){on(t,r);function t(){return r.call(this)||this}return t.prototype.getType=function(){return"skiptrigger"},Object.defineProperty(t.prototype,"requireValidQuestion",{get:function(){return this.canBeExecuted(!1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gotoName",{get:function(){return this.getPropertyValue("gotoName","")},set:function(e){this.setPropertyValue("gotoName",e)},enumerable:!1,configurable:!0}),t.prototype.canBeExecuted=function(e){return e===!R.triggers.executeSkipOnValueChanged},t.prototype.onSuccess=function(e,n){!this.gotoName||!this.owner||this.owner.focusQuestion(this.gotoName)},t}(wn),nu=function(r){on(t,r);function t(){return r.call(this)||this}return t.prototype.getType=function(){return"runexpressiontrigger"},Object.defineProperty(t.prototype,"setToName",{get:function(){return this.getPropertyValue("setToName","")},set:function(e){this.setPropertyValue("setToName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"runExpression",{get:function(){return this.getPropertyValue("runExpression","")},set:function(e){this.setPropertyValue("runExpression",e)},enumerable:!1,configurable:!0}),t.prototype.canBeExecuted=function(e){return!e},t.prototype.onSuccess=function(e,n){var i=this;if(!(!this.owner||!this.runExpression)){var o=new hn(this.runExpression);o.canRun&&(o.onRunComplete=function(l){i.onCompleteRunExpression(l)},o.run(e,n))}},t.prototype.onCompleteRunExpression=function(e){this.setToName&&e!==void 0&&this.owner.setTriggerValue(this.setToName,D.convertValToQuestionVal(e),!1)},t}(wn),iu=function(r){on(t,r);function t(){return r.call(this)||this}return t.prototype.canBeExecuted=function(e){return!e&&!!this.setToName&&!!this.fromName},Object.defineProperty(t.prototype,"setToName",{get:function(){return this.getPropertyValue("setToName","")},set:function(e){this.setPropertyValue("setToName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fromName",{get:function(){return this.getPropertyValue("fromName","")},set:function(e){this.setPropertyValue("fromName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"copyDisplayValue",{get:function(){return this.getPropertyValue("copyDisplayValue")},set:function(e){this.setPropertyValue("copyDisplayValue",e)},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"copyvaluetrigger"},t.prototype.onSuccess=function(e,n){!this.setToName||!this.owner||this.owner.copyTriggerValue(this.setToName,this.fromName,this.copyDisplayValue)},t.prototype.canSuccessOnEmptyExpression=function(){return!0},t.prototype.getUsedVariables=function(){var e=r.prototype.getUsedVariables.call(this);return e.length===0&&this.fromName&&e.push(this.fromName),e},t}(wn);L.addClass("trigger",[{name:"operator",default:"equal",visible:!1},{name:"value",visible:!1},"expression:condition"]),L.addClass("surveytrigger",[{name:"name",visible:!1}],null,"trigger"),L.addClass("visibletrigger",["pages:pages","questions:questions"],function(){return new Yl},"surveytrigger"),L.addClass("completetrigger",[],function(){return new Xl},"surveytrigger"),L.addClass("setvaluetrigger",[{name:"!setToName:questionvalue"},{name:"setValue:triggervalue",dependsOn:"setToName",visibleIf:function(r){return!!r&&!!r.setToName}},{name:"isVariable:boolean",visible:!1}],function(){return new eu},"surveytrigger"),L.addClass("copyvaluetrigger",[{name:"!fromName:questionvalue"},{name:"!setToName:questionvalue"},{name:"copyDisplayValue:boolean",visible:!1}],function(){return new iu},"surveytrigger"),L.addClass("skiptrigger",[{name:"!gotoName:question"}],function(){return new tu},"surveytrigger"),L.addClass("runexpressiontrigger",[{name:"setToName:questionvalue"},"runExpression:expression"],function(){return new nu},"surveytrigger");var ru=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Sh=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ou=function(r){ru(t,r);function t(e,n){n===void 0&&(n=null);var i=r.call(this)||this;return i.closeOnCompleteTimeout=0,n?i.surveyValue=n:i.surveyValue=i.createSurvey(e),i.surveyValue.fitToContainer=!0,i.windowElement=g.createElement("div"),i.survey.onComplete.add(function(o,l){i.onSurveyComplete()}),i.registerPropertyChangedHandlers(["isShowing"],function(){i.showingChangedCallback&&i.showingChangedCallback()}),i.registerPropertyChangedHandlers(["isExpanded"],function(){i.onExpandedChanged()}),i.width=new qe(function(){return i.survey.width}),i.width=i.survey.width,i.updateCss(),i.onCreating(),i}return t.prototype.onCreating=function(){},t.prototype.getType=function(){return"popupsurvey"},Object.defineProperty(t.prototype,"survey",{get:function(){return this.surveyValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isShowing",{get:function(){return this.getPropertyValue("isShowing",!1)},set:function(e){this.setPropertyValue("isShowing",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFullScreen",{get:function(){return this.getPropertyValue("isFullScreen",!1)},set:function(e){!this.isExpanded&&e&&(this.isExpanded=!0),this.setPropertyValue("isFullScreen",e),this.setCssRoot()},enumerable:!1,configurable:!0}),t.prototype.show=function(){this.isShowing=!0},t.prototype.hide=function(){this.isShowing=!1},t.prototype.toggleFullScreen=function(){this.isFullScreen=!this.isFullScreen},Object.defineProperty(t.prototype,"isExpanded",{get:function(){return this.getPropertyValue("isExpanded",!1)},set:function(e){this.isFullScreen&&!e&&(this.isFullScreen=!1),this.setPropertyValue("isExpanded",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCollapsed",{get:function(){return!this.isExpanded},enumerable:!1,configurable:!0}),t.prototype.onExpandedChanged=function(){this.expandedChangedCallback&&this.expandedChangedCallback(),this.updateCssButton()},Object.defineProperty(t.prototype,"title",{get:function(){return this.survey.title},set:function(e){this.survey.title=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTitle",{get:function(){return this.survey.locTitle.isEmpty?null:this.survey.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locDescription",{get:function(){return this.survey.locTitle.isEmpty?null:this.survey.locDescription},enumerable:!1,configurable:!0}),t.prototype.expand=function(){this.isExpanded=!0},t.prototype.collapse=function(){this.isExpanded=!1},t.prototype.changeExpandCollapse=function(){this.isExpanded=!this.isExpanded},Object.defineProperty(t.prototype,"allowClose",{get:function(){return this.getPropertyValue("allowClose",!1)},set:function(e){this.setPropertyValue("allowClose",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowFullScreen",{get:function(){return this.getPropertyValue("allowFullScreen",!1)},set:function(e){this.setPropertyValue("allowFullScreen",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"css",{get:function(){return this.survey.css},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssButton",{get:function(){return this.getPropertyValue("cssButton","")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssRoot",{get:function(){var e=this.getPropertyValue("cssRoot","");return this.isCollapsed&&(e+=" "+this.getPropertyValue("cssRootCollapsedMod","")),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssRootCollapsedMod",{get:function(){return this.getPropertyValue("cssRootCollapsedMod")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssRootContent",{get:function(){return this.getPropertyValue("cssRootContent")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssBody",{get:function(){return this.getPropertyValue("cssBody","")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssHeaderRoot",{get:function(){return this.getPropertyValue("cssHeaderRoot","")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssHeaderTitleCollapsed",{get:function(){return this.getPropertyValue("cssHeaderTitleCollapsed","")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssHeaderButtonsContainer",{get:function(){return this.getPropertyValue("cssHeaderButtonsContainer","")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssHeaderCollapseButton",{get:function(){return this.getPropertyValue("cssHeaderCollapseButton","")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssHeaderCloseButton",{get:function(){return this.getPropertyValue("cssHeaderCloseButton","")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssHeaderFullScreenButton",{get:function(){return this.getPropertyValue("cssHeaderFullScreenButton","")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedWidth",{get:function(){var e=this.getPropertyValue("width","60%");return e&&!isNaN(e)&&(e=e+"px"),e},enumerable:!1,configurable:!0}),t.prototype.updateCss=function(){if(!(!this.css||!this.css.window)){var e=this.css.window;this.setCssRoot(),this.setPropertyValue("cssRootCollapsedMod",e.rootCollapsedMod),this.setPropertyValue("cssRootContent",e.rootContent),this.setPropertyValue("cssBody",e.body);var n=e.header;n&&(this.setPropertyValue("cssHeaderRoot",n.root),this.setPropertyValue("cssHeaderTitleCollapsed",n.titleCollapsed),this.setPropertyValue("cssHeaderButtonsContainer",n.buttonsContainer),this.setPropertyValue("cssHeaderCollapseButton",n.collapseButton),this.setPropertyValue("cssHeaderCloseButton",n.closeButton),this.setPropertyValue("cssHeaderFullScreenButton",n.fullScreenButton),this.updateCssButton())}},t.prototype.setCssRoot=function(){var e=this.css.window;this.isFullScreen?this.setPropertyValue("cssRoot",e.root+" "+e.rootFullScreenMode):this.setPropertyValue("cssRoot",e.root)},t.prototype.updateCssButton=function(){var e=this.css.window?this.css.window.header:null;e&&this.setCssButton(this.isExpanded?e.buttonExpanded:e.buttonCollapsed)},t.prototype.setCssButton=function(e){e&&this.setPropertyValue("cssButton",e)},t.prototype.createSurvey=function(e){return new Yt(e)},t.prototype.onSurveyComplete=function(){if(!(this.closeOnCompleteTimeout<0))if(this.closeOnCompleteTimeout==0)this.hide();else{var e=this,n=null,i=function(){e.hide(),clearInterval(n)};n=setInterval(i,this.closeOnCompleteTimeout*1e3)}},t.prototype.onScroll=function(){this.survey.onScroll()},Sh([V()],t.prototype,"width",void 0),t}(be),Eh=function(r){ru(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t}(ou),Oh=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ts=function(r){Oh(t,r);function t(e){var n=r.call(this,e)||this;return n.onScrollOutsideCallback=function(i){n.preventScrollOuside(i,i.deltaY)},n}return t.prototype.getStyleClass=function(){return r.prototype.getStyleClass.call(this).append("sv-popup--modal",!this.isOverlay)},t.prototype.getShowFooter=function(){return!0},t.prototype.createFooterActionBar=function(){var e=this;r.prototype.createFooterActionBar.call(this),this.footerToolbar.containerCss="sv-footer-action-bar",this.footerToolbarValue.addAction({id:"apply",visibleIndex:20,title:this.applyButtonText,innerCss:"sv-popup__body-footer-item sv-popup__button sv-popup__button--apply sd-btn sd-btn--action",action:function(){e.apply()}})},Object.defineProperty(t.prototype,"applyButtonText",{get:function(){return this.getLocalizationString("modalApplyButtonText")},enumerable:!1,configurable:!0}),t.prototype.apply=function(){this.model.onApply&&!this.model.onApply()||this.hidePopup()},t.prototype.clickOutside=function(){},t.prototype.onKeyDown=function(e){(e.key==="Escape"||e.keyCode===27)&&this.model.onCancel(),r.prototype.onKeyDown.call(this,e)},t.prototype.updateOnShowing=function(){this.container&&this.container.addEventListener("wheel",this.onScrollOutsideCallback,{passive:!1}),r.prototype.updateOnShowing.call(this)},t.prototype.updateOnHiding=function(){this.container&&this.container.removeEventListener("wheel",this.onScrollOutsideCallback),r.prototype.updateOnHiding.call(this)},t}(Eo),ns=function(){return ns=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},ns.apply(this,arguments)};function Rh(r,t){var e,n=ns({},r);n.verticalPosition="top",n.horizontalPosition="left",n.showPointer=!1,n.isModal=!0,n.displayMode=r.displayMode||"popup";var i=new Gn(r.componentName,r.data,n);i.isFocusedContent=(e=r.isFocusedContent)!==null&&e!==void 0?e:!0;var o=new ts(i);if(t&&t.appendChild){var l=g.createElement("div");t.appendChild(l),o.setComponentElement(l)}o.container||o.initializePopupContainer();var u=function(d,m){m.isVisible||l&&o.resetComponentElement(),o.onVisibilityChanged.remove(u)};return o.onVisibilityChanged.add(u),o}function Dh(r){return r.isModal?new ts(r):new Ro(r)}var su=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),is=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},au=function(r){su(t,r);function t(e,n,i){n===void 0&&(n=null),i===void 0&&(i="buttongroupitemvalue");var o=r.call(this,e,n,i)||this;return o.typeName=i,o}return t.prototype.getType=function(){return this.typeName?this.typeName:"buttongroupitemvalue"},is([V()],t.prototype,"iconName",void 0),is([V()],t.prototype,"iconSize",void 0),is([V()],t.prototype,"showCaption",void 0),t}(de),lu=function(r){su(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getType=function(){return"buttongroup"},t.prototype.getItemValueType=function(){return"buttongroupitemvalue"},t.prototype.supportOther=function(){return!1},t}(oi);L.addClass("buttongroup",[{name:"choices:buttongroupitemvalue[]"}],function(){return new lu("")},"checkboxbase"),L.addClass("buttongroupitemvalue",[{name:"showCaption:boolean",default:!0},{name:"iconName:text"},{name:"iconSize:number"}],function(r){return new au(r)},"itemvalue");var Mh=function(){function r(t,e,n){this.question=t,this.item=e,this.index=n}return Object.defineProperty(r.prototype,"value",{get:function(){return this.item.value},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"iconName",{get:function(){return this.item.iconName},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"iconSize",{get:function(){return this.item.iconSize||24},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"caption",{get:function(){return this.item.locText},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"showCaption",{get:function(){return this.item.showCaption||this.item.showCaption===void 0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isRequired",{get:function(){return this.question.isRequired},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"selected",{get:function(){return this.question.isItemSelected(this.item)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"readOnly",{get:function(){return this.question.isInputReadOnly||!this.item.isEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"name",{get:function(){return this.question.name+"_"+this.question.id},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"id",{get:function(){return this.question.inputId+"_"+this.index},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hasErrors",{get:function(){return this.question.errors.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"describedBy",{get:function(){return this.question.errors.length>0?this.question.id+"_errors":null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"labelClass",{get:function(){return new F().append(this.question.cssClasses.item).append(this.question.cssClasses.itemSelected,this.selected).append(this.question.cssClasses.itemHover,!this.readOnly&&!this.selected).append(this.question.cssClasses.itemDisabled,this.question.isReadOnly||!this.item.isEnabled).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"css",{get:function(){return{label:this.labelClass,icon:this.question.cssClasses.itemIcon,control:this.question.cssClasses.itemControl,caption:this.question.cssClasses.itemCaption,decorator:this.question.cssClasses.itemDecorator}},enumerable:!1,configurable:!0}),r.prototype.onChange=function(){this.question.renderedValue=this.item.value},r}(),Ah=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),kh=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},lr=function(r){Ah(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getSurvey=function(e){return e===void 0&&(e=!1),this.owner},t.prototype.getType=function(){return"masksettings"},t.prototype.setData=function(e){var n=this,i=L.getProperties(this.getType());i.forEach(function(o){var l=e[o.name];n[o.name]=l!==void 0?l:o.getDefaultValue(n)})},t.prototype.getData=function(){var e=this,n={},i=L.getProperties(this.getType());return i.forEach(function(o){var l=e[o.name];o.isDefaultValue(l)||(n[o.name]=l)}),n},t.prototype.processInput=function(e){return{value:e.prevValue,caretPosition:e.selectionEnd,cancelPreventDefault:!1}},t.prototype.getUnmaskedValue=function(e){return e},t.prototype.getMaskedValue=function(e){return e},t.prototype.getTextAlignment=function(){return"auto"},t.prototype.getTypeForExpressions=function(){return"text"},kh([V()],t.prototype,"saveMaskedValue",void 0),t}(be);L.addClass("masksettings",[{name:"saveMaskedValue:boolean",visibleIf:function(r){return r?r.getType()!=="masksettings":!1}}],function(){return new lr});var Lh=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Fh=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};function rs(r){for(var t=[],e=!1,n=Object.keys(R.maskSettings.patternDefinitions),i=0;i<r.length;i++){var o=r[i];o===R.maskSettings.patternEscapeChar?e=!0:e?(e=!1,t.push({type:"fixed",value:o})):t.push({type:n.indexOf(o)!==-1?"regex":"const",value:o})}return t}function jh(r,t,e){for(var n=R.maskSettings.patternDefinitions[e.value];t<r.length;){if(r[t].match(n))return t;t++}return t}function Bh(r,t,e){for(var n=r??"",i="",o=0,l=typeof t=="string"?rs(t):t,u=0;u<l.length;u++)switch(l[u].type){case"regex":if(o<n.length&&(o=jh(n,o,l[u])),o<n.length)i+=n[o];else if(e)i+=R.maskSettings.patternPlaceholderChar;else return i;o++;break;case"const":case"fixed":i+=l[u].value,l[u].value===n[o]&&o++;break}return i}function os(r,t,e,n){n===void 0&&(n=!1);var i="";if(!r)return i;for(var o=typeof t=="string"?rs(t):t,l=0;l<o.length;l++)if(o[l].type==="fixed"&&!n&&(i+=o[l].value),o[l].type==="regex"){var u=R.maskSettings.patternDefinitions[o[l].value];if(r[l]&&r[l].match(u))i+=r[l];else if(e){i="";break}else break}return i}var ss=function(r){Lh(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.literals=[],e}return t.prototype.updateLiterals=function(){this.literals=rs(this.pattern||"")},t.prototype.onPropertyValueChanged=function(e,n,i){e==="pattern"&&this.updateLiterals()},t.prototype.getType=function(){return"patternmask"},t.prototype.fromJSON=function(e,n){r.prototype.fromJSON.call(this,e,n),this.updateLiterals()},t.prototype._getMaskedValue=function(e,n){n===void 0&&(n=!1);var i=e??"";return Bh(i,this.literals,n)},t.prototype._getUnmaskedValue=function(e,n){n===void 0&&(n=!1);var i=e??"";return os(i,this.literals,n)},t.prototype.processInput=function(e){var n={value:e.prevValue,caretPosition:e.selectionEnd,cancelPreventDefault:!1};if(!e.insertedChars&&e.selectionStart===e.selectionEnd)return n;var i=e.prevValue.slice(0,e.selectionStart)+(e.insertedChars||""),o=os(e.prevValue.slice(0,e.selectionStart),this.literals.slice(0,e.selectionStart),!1),l=os(e.prevValue.slice(e.selectionEnd),this.literals.slice(e.selectionEnd),!1,!0);return n.value=this._getMaskedValue(o+(e.insertedChars||"")+l,!0),!e.insertedChars&&e.inputDirection==="backward"?n.caretPosition=e.selectionStart:n.caretPosition=this._getMaskedValue(i).length,n},t.prototype.getMaskedValue=function(e){return this._getMaskedValue(e,!0)},t.prototype.getUnmaskedValue=function(e){return this._getUnmaskedValue(e,!0)},Fh([V()],t.prototype,"pattern",void 0),t}(lr);L.addClass("patternmask",[{name:"pattern"}],function(){return new ss},"masksettings");var Nh=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Fn=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};function qh(r,t,e){t===void 0&&(t=!0),e===void 0&&(e=3);var n=[];if(t){for(var i=r.length-e;i>-e;i-=e)n.push(r.substring(i,i+e));n=n.reverse()}else for(var i=0;i<r.length;i+=e)n.push(r.substring(i,i+e));return n}var as=function(r){Nh(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.calccaretPosition=function(e,n,i){for(var o=e?this.displayNumber(this.parseNumber(e),!1).length:0,l=0,u=n.selectionStart,d=!n.insertedChars&&n.inputDirection==="forward",m=0;m<i.length;m++){var w=i[m];if(w!==this.thousandsSeparator&&l++,l===o+(d?1:0)){d?u=m:u=m+1;break}}return u},t.prototype.numericalCompositionIsEmpty=function(e){return!e.integralPart&&!e.fractionalPart},t.prototype.displayNumber=function(e,n,i){n===void 0&&(n=!0),i===void 0&&(i=!1);var o=e.integralPart;n&&o&&(o=qh(o).join(this.thousandsSeparator));var l=e.fractionalPart,u=e.isNegative?"-":"";if(l===""){if(i)return!o||o==="0"?o:u+o;var d=e.hasDecimalSeparator&&!i?this.decimalSeparator:"",m=o+d;return m==="0"?m:u+m}else return o=o||"0",l=l.substring(0,this.precision),[u+o,l].join(this.decimalSeparator)},t.prototype.convertNumber=function(e){var n,i=e.isNegative?"-":"";return e.fractionalPart?n=parseFloat(i+(e.integralPart||"0")+"."+e.fractionalPart.substring(0,this.precision)):n=parseInt(i+e.integralPart||"0"),n},t.prototype.validateNumber=function(e,n){var i=this.min||Number.MIN_SAFE_INTEGER,o=this.max||Number.MAX_SAFE_INTEGER;if(this.numericalCompositionIsEmpty(e))return!0;if(this.min!==void 0||this.max!==void 0){var l=this.convertNumber(e);if(Number.isNaN(l)||l>=i&&l<=o)return!0;if(!n){if(!e.hasDecimalSeparator&&l!=0){var u=l,d=l;if(l>0){if(l+1>i&&l<=o)return!0;for(;u=u*10+9,d=d*10,!(d>o);)if(u>i)return!0;return!1}if(l<0){if(l>=i&&l-1<o)return!0;for(;u=u*10,d=d*10-9,!(u<i);)if(d<o)return!0;return!1}}else{var m=Math.pow(.1,(e.fractionalPart||"").length);if(l>=0)return l+m>i&&l<=o;if(l<0)return l>=i&&l-m<o}return l>=0&&l<=o||l<0&&l>=i}return!1}return!0},t.prototype.parseNumber=function(e){for(var n={integralPart:"",fractionalPart:"",hasDecimalSeparator:!1,isNegative:!1},i=e==null?"":e.toString(),o=0,l=0;l<i.length;l++){var u=i[l];switch(u){case"-":{this.allowNegativeValues&&(this.min===void 0||this.min<0)&&o++;break}case this.decimalSeparator:{this.precision>0&&(n.hasDecimalSeparator=!0);break}case this.thousandsSeparator:break;default:u.match(Ao)&&(n.hasDecimalSeparator?n.fractionalPart+=u:n.integralPart+=u)}}return n.isNegative=o%2!==0,n.integralPart.length>1&&n.integralPart[0]==="0"&&(n.integralPart=n.integralPart.slice(1)),n},t.prototype.getNumberMaskedValue=function(e,n){n===void 0&&(n=!1);var i=this.parseNumber(e);if(!this.validateNumber(i,n))return null;var o=this.displayNumber(i,!0,n);return o},t.prototype.getNumberUnmaskedValue=function(e){var n=this.parseNumber(e);if(!this.numericalCompositionIsEmpty(n))return this.convertNumber(n)},t.prototype.getTextAlignment=function(){return"right"},t.prototype.getMaskedValue=function(e){var n=e==null?"":e.toString();return n=n.replace(".",this.decimalSeparator),this.getNumberMaskedValue(n,!0)},t.prototype.getUnmaskedValue=function(e){return this.getNumberUnmaskedValue(e)},t.prototype.processInput=function(e){var n={value:e.prevValue,caretPosition:e.selectionEnd,cancelPreventDefault:!1},i=e.prevValue.slice(0,e.selectionStart)+(e.insertedChars||""),o=e.prevValue.slice(e.selectionEnd),l=i+o,u=this.parseNumber(l);if(!this.validateNumber(u,!1))return n;var d=this.getNumberMaskedValue(l),m=this.calccaretPosition(i,e,d);return n.value=d,n.caretPosition=m,n},t.prototype.getType=function(){return"numericmask"},t.prototype.isPropertyEmpty=function(e){return e===""||e===void 0||e===null},Fn([V()],t.prototype,"allowNegativeValues",void 0),Fn([V()],t.prototype,"decimalSeparator",void 0),Fn([V()],t.prototype,"precision",void 0),Fn([V()],t.prototype,"thousandsSeparator",void 0),Fn([V()],t.prototype,"min",void 0),Fn([V()],t.prototype,"max",void 0),t}(lr);L.addClass("numericmask",[{name:"allowNegativeValues:boolean",default:!0},{name:"decimalSeparator",default:".",maxLength:1},{name:"thousandsSeparator",default:",",maxLength:1},{name:"precision:number",default:2,minValue:0},{name:"min:number"},{name:"max:number"}],function(){return new as},"masksettings");var Qh=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ur=function(){return ur=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},ur.apply(this,arguments)},uu=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};function cu(r,t){switch(r){case"hour":case"minute":case"second":case"day":case"month":return 2;case"timeMarker":case"year":return t;default:return 1}}function Hh(r,t){var e=t;return r.count<r.maxCount&&(r.type==="day"&&parseInt(t[0])===0||r.type==="month"&&parseInt(t[0])===0)&&(e=t.slice(1,t.length)),e}function zh(r){for(var t=[],e,n=function(l,u,d){if(d===void 0&&(d=!1),e&&e===l){t[t.length-1].count++;var m=cu(l,t[t.length-1].count);t[t.length-1].maxCount=m}else{var m=cu(l,1);t.push({type:l,value:u,count:1,maxCount:m,upperCase:d})}},i=0;i<r.length;i++){var o=r[i];switch(o){case"m":n("month",o);break;case"d":n("day",o);break;case"y":n("year",o);break;case"h":n("hour",o,!1);break;case"H":n("hour",o,!0);break;case"M":n("minute",o);break;case"s":n("second",o);break;case"t":n("timeMarker",o);break;case"T":n("timeMarker",o,!0);break;default:t.push({type:"separator",value:o,count:1,maxCount:1,upperCase:!1});break}e=t[t.length-1].type}return t}var pu=function(r){Qh(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.defaultDate="1970-01-01T",e.turnOfTheCentury=68,e.twelve=12,e.lexems=[],e.inputDateTimeData=[],e.validBeginningOfNumbers={hour:1,hourU:2,minute:5,second:5,day:3,month:1},e}return Object.defineProperty(t.prototype,"hasDatePart",{get:function(){return this.lexems.some(function(e){return e.type==="day"||e.type==="month"||e.type==="year"})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTimePart",{get:function(){return this.lexems.some(function(e){return e.type==="hour"||e.type==="minute"||e.type==="second"})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"is12Hours",{get:function(){return this.lexems.filter(function(e){return e.type==="hour"&&!e.upperCase}).length>0},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"datetimemask"},t.prototype.getTypeForExpressions=function(){return this.hasTimePart?"datetime-local":"datetime"},t.prototype.updateLiterals=function(){this.lexems=zh(this.pattern||"")},t.prototype.leaveOnlyNumbers=function(e){for(var n="",i=0;i<e.length;i++)e[i].match(Ao)&&(n+=e[i]);return n},t.prototype.getMaskedStrFromISO=function(e){var n=this,i=new Date(e);return this.initInputDateTimeData(),this.hasTimePart||(i=new Date(e+"T00:00:00")),this.hasDatePart||(i=new Date(this.defaultDate+e)),isNaN(i)||this.lexems.forEach(function(o,l){var u=n.inputDateTimeData[l];switch(u.isCompleted=!0,o.type){case"hour":{n.is12Hours?u.value=((i.getHours()-1)%n.twelve+1).toString():u.value=i.getHours().toString();break}case"minute":{u.value=i.getMinutes().toString();break}case"second":{u.value=i.getSeconds().toString();break}case"timeMarker":{var d=i.getHours()>=n.twelve?"pm":"am";u.value=o.upperCase?d.toUpperCase():d;break}case"day":{u.value=i.getDate().toString();break}case"month":{u.value=(i.getMonth()+1).toString();break}case"year":{var m=i.getFullYear();o.count==2&&(m=m%100),u.value=m.toString();break}default:break}}),this.getFormatedString(!0)},t.prototype.initInputDateTimeData=function(){var e=this;this.inputDateTimeData=[],this.lexems.forEach(function(n){e.inputDateTimeData.push({lexem:n,isCompleted:!1,value:void 0})})},t.prototype.getISO_8601Format=function(e){var n=[],i=[];if(e.year!==void 0){var o=this.getPlaceholder(4,e.year.toString(),"0")+e.year;n.push(o)}if(e.month!==void 0&&e.year!==void 0){var l=this.getPlaceholder(2,e.month.toString(),"0")+e.month;n.push(l)}if(e.day!==void 0&&e.month!==void 0&&e.year!==void 0){var u=this.getPlaceholder(2,e.day.toString(),"0")+e.day;n.push(u)}if(e.hour!==void 0){var d=this.getPlaceholder(2,e.hour.toString(),"0")+e.hour;i.push(d)}if(e.minute!==void 0&&e.hour!==void 0){var m=this.getPlaceholder(2,e.minute.toString(),"0")+e.minute;i.push(m)}if(e.second!==void 0&&e.minute!==void 0&&e.hour!==void 0){var w=this.getPlaceholder(2,e.second.toString(),"0")+e.second;i.push(w)}var E=[];return n.length>0&&E.push(n.join("-")),i.length>1&&E.push(i.join(":")),E.join("T")},t.prototype.isYearValid=function(e){if(e.min===void 0&&e.max===void 0)return!1;var n=e.year.toString(),i=e.min.toISOString().slice(0,n.length),o=e.max.toISOString().slice(0,n.length);return e.year>=parseInt(i)&&e.year<=parseInt(o)},t.prototype.createIDateTimeCompositionWithDefaults=function(e,n){var i=e.day==29&&e.month==2,o=e.min.getFullYear(),l=e.max.getFullYear();i&&(o=Math.ceil(o/4)*4,l=Math.floor(o/4)*4,o>l&&(o=void 0,l=void 0));var u=e.year!==void 0?e.year:n?l:o,d=e.month!==void 0?e.month:n&&this.hasDatePart?12:1,m=e.day!==void 0?e.day:n&&this.hasDatePart?this.getMaxDateForMonth(u,d):1,w=e.hour!==void 0?e.hour:n?23:0,E=e.minute!==void 0?e.minute:n?59:0,A=e.second!==void 0?e.second:n?59:0;return{year:u,month:d,day:m,hour:w,minute:E,second:A}},t.prototype.getMaxDateForMonth=function(e,n){return n==2?e%4==0&&e%100!=0||e%400?29:28:[31,28,31,30,31,30,31,31,30,31,30,31][n-1]},t.prototype.isDateValid=function(e){var n=new Date(this.getISO_8601Format(this.createIDateTimeCompositionWithDefaults(e,!1))),i=new Date(this.getISO_8601Format(this.createIDateTimeCompositionWithDefaults(e,!0)));return!isNaN(n)&&(n.getDate()===e.day||e.day===void 0)&&(n.getMonth()===e.month-1||e.month===void 0)&&(n.getFullYear()===e.year||e.year===void 0)&&i>=e.min&&n<=e.max},t.prototype.getPlaceholder=function(e,n,i){var o=e-(n||"").length,l=o>0?i.repeat(o):"";return l},t.prototype.isDateValid12=function(e){return this.is12Hours?this.is12Hours&&e.hour>this.twelve?!1:e.timeMarker?e.timeMarker[0].toLowerCase()==="p"?(e.hour!==this.twelve&&(e.hour+=this.twelve),this.isDateValid(e)):(e.hour===this.twelve&&(e.hour=0),this.isDateValid(e)):this.isDateValid(e)?!0:(e.hour+=this.twelve,this.isDateValid(e)):this.isDateValid(e)},t.prototype.updateTimeMarkerInputDateTimeData=function(e,n){var i=e.value;if(i){var o="timeMarker",l=ur({},n);l[o]=i,this.isDateValid12(l)?e.isCompleted=!0:i=i.slice(0,i.length-1),e.value=i||void 0,n[o]=i||void 0}},t.prototype.updateInputDateTimeData=function(e,n){var i=e.value;if(i){var o=e.lexem.type,l=ur({},n);if(l[o]=parseInt(this.parseTwoDigitYear(e)),i.length===e.lexem.maxCount)if(this.isDateValid12(l)){e.isCompleted=!0,e.value=i||void 0,n[o]=parseInt(i)>0?parseInt(i):void 0;return}else i=i.slice(0,i.length-1);l[o]=parseInt(i);var u=parseInt(i[0]),d=this.validBeginningOfNumbers[o+(e.lexem.upperCase?"U":"")];o==="year"&&!this.isYearValid(l)?(i=i.slice(0,i.length-1),e.isCompleted=!1):d!==void 0&&u>d?this.isDateValid12(l)?e.isCompleted=!0:i=i.slice(0,i.length-1):d!==void 0&&u!==0&&u<=d&&(this.checkValidationDateTimePart(l,o,e),e.isCompleted&&!this.isDateValid12(l)&&(i=i.slice(0,i.length-1))),e.value=i||void 0,n[o]=parseInt(i)>0?parseInt(i):void 0}},t.prototype.checkValidationDateTimePart=function(e,n,i){var o=e[n],l=o*10,u=10;n==="month"&&(u=3),n==="hour"&&(u=this.is12Hours?3:5),i.isCompleted=!0;for(var d=0;d<u;d++)if(e[n]=l+d,this.isDateValid12(e)){i.isCompleted=!1;break}e[n]=o},t.prototype.getCorrectDatePartFormat=function(e,n){var i=e.lexem,o=e.value||"";if(o&&i.type==="timeMarker")return n&&(o=o+this.getPlaceholder(i.count,o,i.value)),o;if(o&&e.isCompleted&&(o=parseInt(o).toString()),o&&e.isCompleted){var l=this.getPlaceholder(i.count,o,"0");o=l+o}else o=Hh(i,o),n&&(o+=this.getPlaceholder(i.count,o,i.value));return o},t.prototype.createIDateTimeComposition=function(){var e,n;this.hasDatePart?(e=this.min||"0001-01-01",n=this.max||"9999-12-31"):(e=this.defaultDate+(this.min||"00:00:00"),n=this.defaultDate+(this.max||"23:59:59"));var i={hour:void 0,minute:void 0,second:void 0,day:void 0,month:void 0,year:void 0,min:new Date(e),max:new Date(n)};return i},t.prototype.parseTwoDigitYear=function(e){var n=e.value;if(e.lexem.type!=="year"||e.lexem.count>2)return n;this.max&&this.max.length>=4&&(this.turnOfTheCentury=parseInt(this.max.slice(2,4)));var i=parseInt(n),o=(i>this.turnOfTheCentury?"19":"20")+n;return o},t.prototype.getFormatedString=function(e){var n="",i="",o=!1,l=this.inputDateTimeData.length-1;if(!e){var u=this.inputDateTimeData.filter(function(A){return!!A.value});l=this.inputDateTimeData.indexOf(u[u.length-1])}for(var d=0;d<this.inputDateTimeData.length;d++){var m=this.inputDateTimeData[d];switch(m.lexem.type){case"timeMarker":case"hour":case"minute":case"second":case"day":case"month":case"year":if(m.value===void 0&&!e)return n+=o?i:"",n;var w=e||l>d,E=this.getCorrectDatePartFormat(m,w);n+=i+E,o=m.isCompleted;break;case"separator":i=m.lexem.value;break}}return n},t.prototype.cleanTimeMarker=function(e,n){var i="";e=e.toUpperCase();for(var o=0;o<e.length;o++)(!i&&(e[o]=="P"||e[o]=="A")||i&&e[o]=="M")&&(i+=e[o]);return n?i=i.toUpperCase():i=i.toLowerCase(),i},t.prototype.setInputDateTimeData=function(e){var n=this,i=0;this.initInputDateTimeData(),this.lexems.forEach(function(o,l){if(e.length>0&&i<e.length){if(o.type==="separator")return;var u=n.inputDateTimeData[l],d=e[i],m=void 0;o.type==="timeMarker"?m=n.cleanTimeMarker(d,o.upperCase):m=n.leaveOnlyNumbers(d),u.value=m.slice(0,o.maxCount),i++}})},t.prototype._getMaskedValue=function(e,n){var i=this;n===void 0&&(n=!0);var o=e==null?"":e.toString(),l=this.getParts(o);this.setInputDateTimeData(l);var u=this.createIDateTimeComposition();this.inputDateTimeData.forEach(function(m){m.lexem.type==="timeMarker"?i.updateTimeMarkerInputDateTimeData(m,u):i.updateInputDateTimeData(m,u)});var d=this.getFormatedString(n);return d},t.prototype.getParts=function(e){for(var n=[],i=this.lexems.filter(function(E){return E.type!=="separator"}),o=this.lexems.filter(function(E){return E.type==="separator"}).map(function(E){return E.value}),l="",u=!1,d=!1,m=0;m<e.length;m++){var w=e[m];if(w.match(Ao)||w===i[n.length].value||i[n.length].type==="timeMarker"?(u=!1,d=!1,l+=w):o.indexOf(w)!==-1?d||(u=!0,n.push(l),l=""):u||(d=!0,n.push(l),l=""),n.length>=i.length){u=!1;break}}return(l!=""||u)&&n.push(l),n},t.prototype.getUnmaskedValue=function(e){var n=this,i,o=e==null?"":e.toString(),l=this.getParts(o);this.setInputDateTimeData(l);var u=(i=this.inputDateTimeData.filter(function(w){return w.lexem.type==="timeMarker"})[0])===null||i===void 0?void 0:i.value.toLowerCase()[0],d=this.createIDateTimeComposition(),m=!1;return this.inputDateTimeData.forEach(function(w){var E=w.value;if(!(w.lexem.type=="timeMarker"||w.lexem.type=="separator")){if(!E||E.length<w.lexem.count){m=!0;return}var A=parseInt(n.parseTwoDigitYear(w));w.lexem.type=="hour"&&u==="p"&&A!=n.twelve&&(A+=n.twelve),d[w.lexem.type]=A}}),m?"":this.getISO_8601Format(d)},t.prototype.getMaskedValue=function(e){return this.getMaskedStrFromISO(e)},t.prototype.processInput=function(e){var n={value:e.prevValue,caretPosition:e.selectionEnd,cancelPreventDefault:!1},i=e.prevValue.slice(0,e.selectionStart),o=e.prevValue.slice(e.selectionEnd);return n.value=this._getMaskedValue(i+(e.insertedChars||"")+o),!e.insertedChars&&e.inputDirection==="backward"?n.caretPosition=e.selectionStart:n.caretPosition=this._getMaskedValue(i+(e.insertedChars||""),!1).length,n},uu([V()],t.prototype,"min",void 0),uu([V()],t.prototype,"max",void 0),t}(ss);L.addClass("datetimemask",[{name:"min",type:"datetime",enableIf:function(r){return!!r.pattern}},{name:"max",type:"datetime",enableIf:function(r){return!!r.pattern}}],function(){return new pu},"patternmask");var Uh=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),du=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(o=(i<3?l(o):i>3?l(t,e,o):l(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},fu=function(r){Uh(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getType=function(){return"currencymask"},t.prototype.wrapText=function(e){var n=this.prefix||"",i=this.suffix||"",o=e;return o&&(o.indexOf(n)===-1&&(o=n+o),o.indexOf(i)===-1&&(o+=i),o)},t.prototype.unwrapInputArgs=function(e){var n=e.prevValue;if(n){if(this.prefix&&n.indexOf(this.prefix)!==-1){n=n.slice(n.indexOf(this.prefix)+this.prefix.length);var i=(this.prefix||"").length;e.selectionStart=Math.max(e.selectionStart-i,0),e.selectionEnd-=i}this.suffix&&n.indexOf(this.suffix)!==-1&&(n=n.slice(0,n.indexOf(this.suffix))),e.prevValue=n}},t.prototype.processInput=function(e){this.unwrapInputArgs(e);var n=r.prototype.processInput.call(this,e),i=(this.prefix||"").length;return n.value&&(n.caretPosition+=i),n.value=this.wrapText(n.value),n},t.prototype.getMaskedValue=function(e){var n=r.prototype.getMaskedValue.call(this,e);return this.wrapText(n)},du([V()],t.prototype,"prefix",void 0),du([V()],t.prototype,"suffix",void 0),t}(as);L.addClass("currencymask",[{name:"prefix"},{name:"suffix"}],function(){return new fu},"numericmask");var pi,ls;pi="1.12.20",R.version=pi,ls="2025-01-21";function Wh(r,t){if(pi!=r){var e="survey-core has version '"+pi+"' and "+t+" has version '"+r+"'. SurveyJS libraries should have the same versions to work correctly.";console.error(e)}}function $h(r){hu(r)}function hu(r){Zh(r,mu,ls)}function Gh(r){return mu[r.toString()]===!0}var mu={};function Zh(r,t,e){if(r){var n=function(l){var u={},d,m=0,w,E,A=0,U,W="",se=String.fromCharCode,ie=l.length,K="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(d=0;d<64;d++)u[K.charAt(d)]=d;for(E=0;E<ie;E++){var ye=u[l.charAt(E)];for(m=(m<<6)+ye,A+=6;A>=8;)((U=m>>>(A-=8)&255)||E<ie-2)&&(W+=se(U))}return W},i=n(r);if(i){var o=i.indexOf(";");o<0||Jh(i.substring(0,o))&&(i=i.substring(o+1),i.split(",").forEach(function(l){var u=l.indexOf("=");u>0&&(t[l.substring(0,u)]=new Date(e)<=new Date(l.substring(u+1)))}))}}}function Jh(r){if(!r)return!0;var t="domains:",e=r.indexOf(t);if(e<0)return!0;var n=r.substring(e+t.length).toLowerCase().split(",");if(!Array.isArray(n)||n.length===0)return!0;var i=p.getLocation();if(i&&i.hostname){var o=i.hostname.toLowerCase();n.push("localhost");for(var l=0;l<n.length;l++)if(o.indexOf(n[l])>-1)return!0;return!1}return!0}var Kh={"$main-color":"#1ab394","$add-button-color":"#1948b3","$remove-button-color":"#ff1800","$disable-color":"#dbdbdb","$progress-text-color":"#9d9d9d","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-slider-color":"#cfcfcf","$error-color":"#d52901","$text-color":"#404040","$light-text-color":"#fff","$checkmark-color":"#fff","$progress-buttons-color":"#8dd9ca","$inputs-background-color":"transparent","$main-hover-color":"#9f9f9f","$body-container-background-color":"#f4f4f4","$text-border-color":"#d4d4d4","$disabled-text-color":"rgba(64, 64, 64, 0.5)","$border-color":"rgb(64, 64, 64, 0.5)","$header-background-color":"#e7e7e7","$answer-background-color":"rgba(26, 179, 148, 0.2)","$error-background-color":"rgba(213, 41, 1, 0.2)","$radio-checked-color":"#404040","$clean-button-color":"#1948b3","$body-background-color":"#ffffff","$foreground-light":"#909090","$font-family":"Raleway"},Yh={"$header-background-color":"#e7e7e7","$body-container-background-color":"#f4f4f4","$main-color":"#1ab394","$main-hover-color":"#0aa384","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#6d7072","$text-input-color":"#6d7072","$header-color":"#6d7072","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#8dd9ca","$progress-buttons-line-color":"#d4d4d4"},Xh={"$header-background-color":"#4a4a4a","$body-container-background-color":"#f8f8f8","$main-color":"#f78119","$main-hover-color":"#e77109","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#4a4a4a","$text-input-color":"#4a4a4a","$header-color":"#f78119","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#f7b781","$progress-buttons-line-color":"#d4d4d4"},em={"$header-background-color":"#d9d8dd","$body-container-background-color":"#f6f7f2","$main-color":"#3c4f6d","$main-hover-color":"#2c3f5d","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#4a4a4a","$text-input-color":"#4a4a4a","$header-color":"#6d7072","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#839ec9","$progress-buttons-line-color":"#d4d4d4"},tm={"$header-background-color":"#ddd2ce","$body-container-background-color":"#f7efed","$main-color":"#68656e","$main-hover-color":"#58555e","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#4a4a4a","$text-input-color":"#4a4a4a","$header-color":"#6d7072","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#c6bed4","$progress-buttons-line-color":"#d4d4d4"},nm={"$header-background-color":"#cdccd2","$body-container-background-color":"#efedf4","$main-color":"#0f0f33","$main-hover-color":"#191955","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#0f0f33","$text-input-color":"#0f0f33","$header-color":"#0f0f33","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#747491","$progress-buttons-line-color":"#d4d4d4"},im={"$header-background-color":"#82b8da","$body-container-background-color":"#dae1e7","$main-color":"#3c3b40","$main-hover-color":"#1e1d20","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#000","$text-input-color":"#000","$header-color":"#000","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$disable-color":"#dbdbdb","$progress-text-color":"#9d9d9d","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#d1c9f5","$progress-buttons-line-color":"#d4d4d4"},rm={"$header-background-color":"#323232","$body-container-background-color":"#f8f8f8","$main-color":"#5ac8fa","$main-hover-color":"#06a1e7","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#000","$text-input-color":"#000","$header-color":"#000","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$disable-color":"#dbdbdb","$progress-text-color":"#9d9d9d","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#acdcf2","$progress-buttons-line-color":"#d4d4d4"};function om(r,t){Object.keys(r||{}).forEach(function(e){var n=e.substring(1);t.style.setProperty("--"+n,r[e])})}var gu=function(){function r(){r.autoApplyTheme()}return r.autoApplyTheme=function(){if(!(Ze.currentType==="bootstrap"||Ze.currentType==="bootstrapmaterial")){var t=r.getIncludedThemeCss();t.length===1&&r.applyTheme(t[0].name)}},r.getAvailableThemes=function(){var t=Ze.getAvailableThemes().filter(function(e){return["defaultV2","default","modern"].indexOf(e)!==-1}).map(function(e){return{name:e,theme:Ze[e]}});return t},r.getIncludedThemeCss=function(){if(typeof R.environment>"u")return[];var t=R.environment.rootElement,e=r.getAvailableThemes(),n=Yn(t)?t.host:t;if(n){var i=getComputedStyle(n);if(i.length)return e.filter(function(o){return o.theme.variables&&i.getPropertyValue(o.theme.variables.themeMark)})}return[]},r.findSheet=function(t){if(typeof R.environment>"u")return null;for(var e=R.environment.root.styleSheets,n=0;n<e.length;n++)if(e[n].ownerNode&&e[n].ownerNode.id===t)return e[n];return null},r.createSheet=function(t){var e=R.environment.stylesSheetsMountContainer,n=g.createElement("style");return n.id=t,n.appendChild(new Text("")),Hr(e).appendChild(n),r.Logger&&r.Logger.log("style sheet "+t+" created"),n.sheet},r.applyTheme=function(t,e){if(t===void 0&&(t="default"),!(typeof R.environment>"u")){var n=R.environment.rootElement,i=Yn(n)?n.host:n;if(Ze.currentType=t,r.Enabled){if(t!=="bootstrap"&&t!=="bootstrapmaterial"){om(r.ThemeColors[t],i),r.Logger&&r.Logger.log("apply theme "+t+" completed");return}var o=r.ThemeCss[t];if(!o){Ze.currentType="defaultV2";return}r.insertStylesRulesIntoDocument();var l=e||r.ThemeSelector[t]||r.ThemeSelector.default,u=(t+l).trim(),d=r.findSheet(u);if(!d){d=r.createSheet(u);var m=r.ThemeColors[t]||r.ThemeColors.default;Object.keys(o).forEach(function(w){var E=o[w];Object.keys(m||{}).forEach(function(A){return E=E.replace(new RegExp("\\"+A,"g"),m[A])});try{w.indexOf("body")===0?d.insertRule(w+" { "+E+" }",0):d.insertRule(l+w+" { "+E+" }",0)}catch{}})}}r.Logger&&r.Logger.log("apply theme "+t+" completed")}},r.insertStylesRulesIntoDocument=function(){if(r.Enabled){var t=r.findSheet(r.SurveyJSStylesSheetId);t||(t=r.createSheet(r.SurveyJSStylesSheetId)),Object.keys(r.Styles).length&&Object.keys(r.Styles).forEach(function(e){try{t.insertRule(e+" { "+r.Styles[e]+" }",0)}catch{}}),Object.keys(r.Media).length&&Object.keys(r.Media).forEach(function(e){try{t.insertRule(r.Media[e].media+" { "+e+" { "+r.Media[e].style+" } }",0)}catch{}})}},r.SurveyJSStylesSheetId="surveyjs-styles",r.Styles={},r.Media={},r.ThemeColors={modern:Kh,default:Yh,orange:Xh,darkblue:em,darkrose:tm,stone:nm,winter:im,winterstone:rm},r.ThemeCss={},r.ThemeSelector={default:".sv_main ",modern:".sv-root-modern "},r.Enabled=!0,r}();Yt.prototype.onBeforeRunConstructor=function(){p.isAvailable()&&gu.autoApplyTheme()};var sn={root:"sv_main sv_default_css",rootProgress:"sv_progress",container:"sv_container",header:"sv_header",bodyContainer:"sv-components-row",body:"sv_body",bodyEmpty:"sv_body sv_body_empty",footer:"sv_nav",title:"",description:"",logo:"sv_logo",logoImage:"sv_logo__image",headerText:"sv_header__text",navigationButton:"sv_nav_btn",completedPage:"sv_completed_page",navigation:{complete:"sv_complete_btn",prev:"sv_prev_btn",next:"sv_next_btn",start:"sv_start_btn",preview:"sv_preview_btn",edit:"sv_edit_btn"},progress:"sv_progress",progressBar:"sv_progress_bar",progressTextInBar:"sv-hidden",progressButtonsContainerCenter:"sv_progress-buttons__container-center",progressButtonsContainer:"sv_progress-buttons__container",progressButtonsImageButtonLeft:"sv_progress-buttons__image-button-left",progressButtonsImageButtonRight:"sv_progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sv_progress-buttons__image-button--hidden",progressButtonsListContainer:"sv_progress-buttons__list-container",progressButtonsList:"sv_progress-buttons__list",progressButtonsListElementPassed:"sv_progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sv_progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sv_progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sv_progress-buttons__page-title",progressButtonsPageDescription:"sv_progress-buttons__page-description",page:{root:"sv_p_root",title:"sv_page_title",description:""},pageTitle:"sv_page_title",pageDescription:"",row:"sv_row",question:{mainRoot:"sv_q sv_qstn",flowRoot:"sv_q_flow sv_qstn",header:"",headerLeft:"title-left",content:"",contentLeft:"content-left",titleLeftRoot:"sv_qstn_left",requiredText:"sv_q_required_text",title:"sv_q_title",titleExpandable:"sv_q_title_expandable",titleExpandableSvg:"sd-element__title-expandable-svg",titleExpanded:"sv_q_title_expanded",titleCollapsed:"sv_q_title_collapsed",number:"sv_q_num",description:"sv_q_description",comment:"",required:"",titleRequired:"",hasError:"",indent:20,footer:"sv_q_footer",formGroup:"form-group",asCell:"sv_matrix_cell",icon:"sv_question_icon",iconExpanded:"sv_expanded",disabled:"sv_q--disabled"},panel:{title:"sv_p_title",titleExpandable:"sv_p_title_expandable",titleExpandableSvg:"sd-element__title-expandable-svg",titleExpanded:"sv_p_title_expanded",titleCollapsed:"sv_p_title_collapsed",titleOnError:"",icon:"sv_panel_icon",iconExpanded:"sv_expanded",description:"sv_p_description",container:"sv_p_container",footer:"sv_p_footer",number:"sv_q_num",requiredText:"sv_q_required_text"},error:{root:"sv_q_erbox",icon:"",item:"",locationTop:"sv_qstn_error_top",locationBottom:"sv_qstn_error_bottom"},boolean:{root:"sv_qcbc sv_qbln",rootRadio:"sv_qcbc sv_qbln",item:"sv-boolean",control:"sv-visuallyhidden",itemChecked:"sv-boolean--checked checked",itemIndeterminate:"sv-boolean--indeterminate",itemDisabled:"sv-boolean--disabled",switch:"sv-boolean__switch",slider:"sv-boolean__slider",label:"sv-boolean__label ",disabledLabel:"sv-boolean__label--disabled",sliderGhost:"sv-boolean__thumb-ghost",rootCheckbox:"sv_qcbc sv_qbln",checkboxItem:"sv-boolean",checkboxItemChecked:"sv-boolean--checked",controlCheckbox:"sv-visuallyvisible",checkboxControlLabel:"sv-boolean__label",checkboxItemIndeterminate:"sv-boolean--indeterminate",checkboxItemDisabled:"sv-item--disabled sv-boolean--disabled",checkboxMaterialDecorator:"sv-item__decorator sv-boolean__decorator",checkboxItemDecorator:"sv-item__svg sv-boolean__svg"},checkbox:{root:"sv_qcbc sv_qcbx",item:"sv_q_checkbox",itemSelectAll:"sv_q_checkbox_selectall",itemNone:"sv_q_checkbox_none",itemChecked:"checked",itemInline:"sv_q_checkbox_inline",label:"sv_q_checkbox_label",labelChecked:"",itemControl:"sv_q_checkbox_control_item",itemDecorator:"sv-hidden",controlLabel:"sv_q_checkbox_control_label",other:"sv_q_other sv_q_checkbox_other",column:"sv_q_select_column"},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",rootDisabled:"sv-ranking--disabled",rootDragHandleAreaIcon:"sv-ranking--drag-handle-area-icon",rootSelectToRankMod:"sv-ranking--select-to-rank",rootSelectToRankAlignVertical:"sv-ranking--select-to-rank-vertical",rootSelectToRankAlignHorizontal:"sv-ranking--select-to-rank-horizontal",rootSelectToRankSwapAreas:"sv-ranking--select-to-rank-swap-areas",item:"sv-ranking-item",itemContent:"sv-ranking-item__content",itemIndex:"sv-ranking-item__index",itemIndexEmptyMode:"sv-ranking-item__index--empty",controlLabel:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking-item--drag",container:"sv-ranking__container",containerEmptyMode:"sv-ranking__container--empty",containerFromMode:"sv-ranking__container--from",containerToMode:"sv-ranking__container--to",containerPlaceholder:"sv-ranking__container-placeholder",containersDivider:"sv-ranking__containers-divider"},comment:{remainingCharacterCounter:"sv-remaining-character-counter"},dropdown:{root:"",popup:"sv-dropdown-popup",control:"sv_q_dropdown_control",controlInputFieldComponent:"sv_q_dropdown_control__input-field-component",selectWrapper:"sv_select_wrapper",other:"sv_q_dd_other",cleanButton:"sv_q_dropdown_clean-button",cleanButtonSvg:"sv_q_dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",controlValue:"sv_q_dropdown__value",filterStringInput:"sv_q_dropdown__filter-string-input",hintPrefix:"sv_q_dropdown__hint-prefix",hintSuffix:"sv_q_dropdown__hint-suffix"},html:{root:""},image:{root:"sv_q_image",image:"sv_image_image",noImage:"sv-image__no-image",noImageSvgIconId:"icon-no-image"},matrix:{root:"sv_q_matrix",label:"sv_q_m_label",itemChecked:"checked",itemDecorator:"sv-hidden",cell:"sv_q_m_cell",cellText:"sv_q_m_cell_text",cellTextSelected:"sv_q_m_cell_selected",cellLabel:"sv_q_m_cell_label",cellResponsiveTitle:"sv_q_m_cell_responsive_title"},matrixdropdown:{root:"sv_q_matrix_dropdown",cell:"sv_matrix_cell",cellResponsiveTitle:"sv_matrix_cell_responsive_title",headerCell:"sv_matrix_cell_header",row:"sv_matrix_row",rowAdditional:"sv-matrix__row--additional",rowTextCell:"sv-table__cell--row-text",detailRow:"sv_matrix_detail_row",detailRowText:"sv_matrix_cell_detail_rowtext",detailCell:"sv_matrix_cell_detail",choiceCell:"sv-table__cell--choice",detailButton:"sv_matrix_cell_detail_button",detailButtonExpanded:"sv_matrix_cell_detail_button_expanded",detailIcon:"sv_detail_panel_icon",detailIconExpanded:"sv_detail_expanded",detailPanelCell:"sv_matrix_cell_detail_panel",actionsCell:"sv_matrix_cell sv_matrix_cell_actions"},matrixdynamic:{root:"sv_q_matrix_dynamic",button:"sv_matrix_dynamic_button",buttonAdd:"sv_matrix_dynamic_button--add",buttonRemove:"",iconAdd:"",iconRemove:"",iconDrag:"sv-matrixdynamic__drag-icon",cell:"sv_matrix_cell",cellResponsiveTitle:"sv_matrix_cell_responsive_title",headerCell:"sv_matrix_cell_header",row:"sv_matrix_row",detailRow:"sv_matrix_detail_row",detailCell:"sv_matrix_cell_detail",choiceCell:"sv-table__cell--choice",detailButton:"sv_matrix_cell_detail_button",detailButtonExpanded:"sv_matrix_cell_detail_button_expanded",detailIcon:"sv_detail_panel_icon",detailIconExpanded:"sv_detail_expanded",detailPanelCell:"sv_matrix_cell_detail_panel",actionsCell:"sv_matrix_cell sv_matrix_cell_actions",emptyRowsSection:"sv_matrix_empty_rows_section",emptyRowsText:"sv_matrix_empty_rows_text",emptyRowsButton:"",ghostRow:"sv-matrix-row--drag-drop-ghost-mod",draggedRow:"sv-matrixdynamic-dragged-row"},paneldynamic:{root:"sv_panel_dynamic",title:"sv_p_title",header:"sv-paneldynamic__header sv_header",headerTab:"sv-paneldynamic__header-tab",button:"",buttonAdd:"sv-paneldynamic__add-btn",buttonRemove:"sv_p_remove_btn",buttonRemoveRight:"sv_p_remove_btn_right",buttonPrev:"sv-paneldynamic__prev-btn",buttonPrevDisabled:"sv-paneldynamic__prev-btn--disabled",buttonNextDisabled:"sv-paneldynamic__next-btn--disabled",buttonNext:"sv-paneldynamic__next-btn",progressContainer:"sv-paneldynamic__progress-container",progress:"sv-progress",progressBar:"sv-progress__bar",progressText:"sv-paneldynamic__progress-text",panelWrapper:"sv_p_wrapper",panelWrapperInRow:"sv_p_wrapper_in_row",footer:"",progressBtnIcon:"icon-progressbutton"},multipletext:{root:"sv_q_mt",itemTitle:"sv_q_mt_title",item:"sv_q_mt_item",row:"sv_q_mt_row",itemLabel:"sv_q_mt_label",itemValue:"sv_q_mt_item_value sv_q_text_root"},radiogroup:{root:"sv_qcbc",item:"sv_q_radiogroup",itemChecked:"checked",itemInline:"sv_q_radiogroup_inline",itemDecorator:"sv-hidden",label:"sv_q_radiogroup_label",labelChecked:"",itemControl:"sv_q_radiogroup_control_item",controlLabel:"",other:"sv_q_other sv_q_radiogroup_other",clearButton:"sv_q_radiogroup_clear",column:"sv_q_select_column"},buttongroup:{root:"sv-button-group",item:"sv-button-group__item",itemIcon:"sv-button-group__item-icon",itemDecorator:"sv-button-group__item-decorator",itemCaption:"sv-button-group__item-caption",itemHover:"sv-button-group__item--hover",itemSelected:"sv-button-group__item--selected",itemDisabled:"sv-button-group__item--disabled",itemControl:"sv-visuallyhidden"},imagepicker:{root:"sv_imgsel",item:"sv_q_imgsel",itemChecked:"checked",label:"sv_q_imgsel_label",itemControl:"sv_q_imgsel_control_item",image:"sv_q_imgsel_image",itemInline:"sv_q_imagepicker_inline",itemText:"sv_q_imgsel_text",clearButton:"sv_q_radiogroup_clear",column:"sv_q_select_column",itemNoImage:"sv_q_imgsel__no-image",itemNoImageSvgIcon:"sv_q_imgsel__no-image-svg",itemNoImageSvgIconId:"icon-no-image"},rating:{root:"sv_q_rating",item:"sv_q_rating_item",itemFixedSize:"sv_q_rating_item_fixed",selected:"active",minText:"sv_q_rating_min_text",itemText:"sv_q_rating_item_text",maxText:"sv_q_rating_max_text",itemStar:"sv_q_rating__item-star",itemStarSelected:"sv_q_rating__item-star--selected",itemSmiley:"sv_q_rating__item-smiley",itemSmileySelected:"sv_q_rating__item-smiley--selected"},text:{root:"sv_q_text_root",remainingCharacterCounter:"sv-remaining-character-counter"},expression:"",file:{root:"sv_q_file",placeholderInput:"sv-visuallyhidden",previewItem:"sv_q_file_preview",removeButton:"sv_q_file_remove_button",fileInput:"sv-visuallyhidden",removeFile:"sv_q_file_remove",fileDecorator:"sv-file__decorator",fileSign:"sv_q_file_sign",chooseFile:"sv_q_file_choose_button",noFileChosen:"sv_q_file_placeholder",dragAreaPlaceholder:"sv-hidden",fileList:""},signaturepad:{root:"sv_q_signaturepad sjs_sp_container",controls:"sjs_sp_controls",placeholder:"sjs_sp_placeholder",canvas:"sjs_sp_canvas",backgroundImage:"sjs_sp__background-image",clearButton:"sjs_sp_clear"},saveData:{root:"sv-save-data_root",rootWithButtons:"sv-save-data_root--with-buttons",info:"sv-save-data_info",error:"sv-save-data_error",success:"sv-save-data_success",button:"sv-save-data_button",shown:"sv-save-data_root--shown"},window:{root:"sv_window",rootCollapsedMod:"sv_window--collapsed",rootFullScreenMode:"sv_window--full-screen",rootContent:"sv_window_root-content",body:"sv_window_content",header:{root:"sv_window_header",titleCollapsed:"sv_window_header_title_collapsed",buttonsContainer:"sv_window_buttons_container",button:"sv_window_button",buttonExpanded:"",buttonCollapsed:"",collapseButton:"sv_window_button sv_window_button_collapse",closeButton:"sv_window_button sv_window_button_close",fullScreenButton:"sv_window_button sv_window_button_full_screen"}},variables:{mobileWidth:"--sv-mobile-width",themeMark:"--sv-default-mark"},tagbox:{root:"",popup:"sv-dropdown-popup",small:"sv_q_row__question--small",selectWrapper:"sv_select_wrapper sv_q_tagbox_wrapper",other:"sv_q_input sv_q_comment sv_q_selectbase__other",cleanButton:"sv_q_tagbox_clean-button sv_q_dropdown_clean-button",cleanButtonSvg:"sv_q_tagbox_clean-button-svg sv_q_dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",cleanItemButton:"sv_q_tagbox-item_clean-button",cleanItemButtonSvg:"sv_q_tagbox-item_clean-button-svg",cleanItemButtonIconId:"icon-clear_16x16",control:"sv_q_input sv_q_tagbox sv_q_dropdown_control",controlValue:"sv_q_tagbox__value sv_q_dropdown__value",controlEmpty:"sv_q_dropdown--empty sv_q_tagbox--empty",placeholderInput:"sv_q_tagbox__placeholder",filterStringInput:"sv_q_tagbox__filter-string-input sv_q_dropdown__filter-string-input",hint:"sv_q_tagbox__hint",hintPrefix:"sv_q_dropdown__hint-prefix sv_q_tagbox__hint-prefix",hintSuffix:"sv_q_dropdown__hint-suffix sv_q_tagbox__hint-suffix",hintSuffixWrapper:"sv_q_tagbox__hint-suffix-wrapper"}};Ze.default=sn,Ze.orange=sn,Ze.darkblue=sn,Ze.darkrose=sn,Ze.stone=sn,Ze.winter=sn,Ze.winterstone=sn;var vu={root:"sv-root-modern",rootProgress:"sv-progress",timerRoot:"sv-body__timer",container:"sv-container-modern",header:"sv-title sv-container-modern__title",headerClose:"sv-container-modern__close",bodyContainer:"sv-components-row",body:"sv-body",bodyEmpty:"sv-body sv-body--empty",footer:"sv-footer sv-body__footer sv-clearfix",title:"",description:"",logo:"sv-logo",logoImage:"sv-logo__image",headerText:"sv-header__text",navigationButton:"sv-btn sv-btn--navigation",completedPage:"sv-completedpage",navigation:{complete:"sv-footer__complete-btn",prev:"sv-footer__prev-btn",next:"sv-footer__next-btn",start:"sv-footer__start-btn",preview:"sv-footer__preview-btn",edit:"sv-footer__edit-btn"},panel:{title:"sv-title sv-panel__title",titleExpandable:"sv-panel__title--expandable",titleExpandableSvg:"sd-element__title-expandable-svg",titleExpanded:"sv-panel__title--expanded",titleCollapsed:"sv-panel__title--collapsed",titleOnError:"sv-panel__title--error",description:"sv-description sv-panel__description",container:"sv-panel sv-row__panel",content:"sv-panel__content",icon:"sv-panel__icon",iconExpanded:"sv-panel__icon--expanded",footer:"sv-panel__footer",requiredText:"sv-panel__required-text",number:"sv-question__num"},paneldynamic:{root:"sv-paneldynamic",navigation:"sv-paneldynamic__navigation",title:"sv-title sv-question__title",button:"sv-btn",buttonRemove:"sv-paneldynamic__remove-btn",buttonRemoveRight:"sv-paneldynamic__remove-btn--right",buttonAdd:"sv-paneldynamic__add-btn",progressTop:"sv-paneldynamic__progress sv-paneldynamic__progress--top",progressBottom:"sv-paneldynamic__progress sv-paneldynamic__progress--bottom",buttonPrev:"sv-paneldynamic__prev-btn",buttonNext:"sv-paneldynamic__next-btn",buttonPrevDisabled:"sv-paneldynamic__prev-btn--disabled",buttonNextDisabled:"sv-paneldynamic__next-btn--disabled",progressContainer:"sv-paneldynamic__progress-container",progress:"sv-progress",progressBar:"sv-progress__bar",progressText:"sv-paneldynamic__progress-text",separator:"sv-paneldynamic__separator",panelWrapper:"sv-paneldynamic__panel-wrapper",panelWrapperInRow:"sv-paneldynamic__panel-wrapper--in-row",progressBtnIcon:"icon-progressbutton",footer:""},progress:"sv-progress sv-body__progress",progressBar:"sv-progress__bar",progressText:"sv-progress__text",progressTextInBar:"sv-hidden",progressButtonsContainerCenter:"sv_progress-buttons__container-center",progressButtonsContainer:"sv_progress-buttons__container",progressButtonsImageButtonLeft:"sv_progress-buttons__image-button-left",progressButtonsImageButtonRight:"sv_progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sv_progress-buttons__image-button--hidden",progressButtonsListContainer:"sv_progress-buttons__list-container",progressButtonsList:"sv_progress-buttons__list",progressButtonsListElementPassed:"sv_progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sv_progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sv_progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sv_progress-buttons__page-title",progressButtonsPageDescription:"sv_progress-buttons__page-description",page:{root:"sv-page sv-body__page",title:"sv-title sv-page__title",number:"sv-page__num",description:"sv-description sv-page__description"},pageTitle:"sv-title sv-page__title",pageDescription:"sv-description sv-page__description",row:"sv-row sv-clearfix",question:{mainRoot:"sv-question sv-row__question",flowRoot:"sv-question sv-row__question sv-row__question--flow",asCell:"sv-table__cell",header:"sv-question__header",headerLeft:"sv-question__header--location--left",headerTop:"sv-question__header--location--top",headerBottom:"sv-question__header--location--bottom",content:"sv-question__content",contentLeft:"sv-question__content--left",titleLeftRoot:"",answered:"sv-question--answered",titleOnAnswer:"sv-question__title--answer",titleOnError:"sv-question__title--error",title:"sv-title sv-question__title",titleExpandable:"sv-question__title--expandable",titleExpandableSvg:"sd-element__title-expandable-svg",titleExpanded:"sv-question__title--expanded",titleCollapsed:"sv-question__title--collapsed",icon:"sv-question__icon",iconExpanded:"sv-question__icon--expanded",requiredText:"sv-question__required-text",number:"sv-question__num",description:"sv-description sv-question__description",descriptionUnderInput:"sv-description sv-question__description",comment:"sv-comment",required:"sv-question--required",titleRequired:"sv-question__title--required",indent:20,footer:"sv-question__footer",formGroup:"sv-question__form-group",hasError:"",disabled:"sv-question--disabled"},image:{root:"sv-image",image:"sv_image_image"},error:{root:"sv-question__erbox",icon:"",item:"",locationTop:"sv-question__erbox--location--top",locationBottom:"sv-question__erbox--location--bottom"},checkbox:{root:"sv-selectbase",item:"sv-item sv-checkbox sv-selectbase__item",itemSelectAll:"sv-checkbox--selectall",itemNone:"sv-checkbox--none",itemDisabled:"sv-item--disabled sv-checkbox--disabled",itemChecked:"sv-checkbox--checked",itemHover:"sv-checkbox--allowhover",itemInline:"sv-selectbase__item--inline",label:"sv-selectbase__label",labelChecked:"",itemControl:"sv-visuallyhidden sv-item__control",itemDecorator:"sv-item__svg sv-checkbox__svg",itemSvgIconId:"#icon-moderncheck",controlLabel:"sv-item__control-label",materialDecorator:"sv-item__decorator sv-selectbase__decorator sv-checkbox__decorator",other:"sv-comment sv-question__other",column:"sv-selectbase__column"},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",rootDisabled:"sv-ranking--disabled",rootDragHandleAreaIcon:"sv-ranking--drag-handle-area-icon",rootSelectToRankMod:"sv-ranking--select-to-rank",rootSelectToRankAlignVertical:"sv-ranking--select-to-rank-vertical",rootSelectToRankAlignHorizontal:"sv-ranking--select-to-rank-horizontal",rootSelectToRankSwapAreas:"sv-ranking--select-to-rank-swap-areas",item:"sv-ranking-item",itemContent:"sv-ranking-item__content",itemIndex:"sv-ranking-item__index",itemIndexEmptyMode:"sv-ranking-item__index--empty",controlLabel:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking-item--drag",container:"sv-ranking__container",containerEmptyMode:"sv-ranking__container--empty",containerFromMode:"sv-ranking__container--from",containerToMode:"sv-ranking__container--to",containerPlaceholder:"sv-ranking__container-placeholder",containersDivider:"sv-ranking__containers-divider"},radiogroup:{root:"sv-selectbase",item:"sv-item sv-radio sv-selectbase__item",itemInline:"sv-selectbase__item--inline",label:"sv-selectbase__label",labelChecked:"",itemDisabled:"sv-item--disabled sv-radio--disabled",itemChecked:"sv-radio--checked",itemHover:"sv-radio--allowhover",itemControl:"sv-visuallyhidden sv-item__control",itemDecorator:"sv-item__svg sv-radio__svg",itemSvgIconId:"#icon-modernradio",controlLabel:"sv-item__control-label",materialDecorator:"sv-item__decorator sv-selectbase__decorator sv-radio__decorator",other:"sv-comment sv-question__other",clearButton:"sv-btn sv-selectbase__clear-btn",column:"sv-selectbase__column"},buttongroup:{root:"sv-button-group",item:"sv-button-group__item",itemIcon:"sv-button-group__item-icon",itemDecorator:"sv-button-group__item-decorator",itemCaption:"sv-button-group__item-caption",itemSelected:"sv-button-group__item--selected",itemHover:"sv-button-group__item--hover",itemDisabled:"sv-button-group__item--disabled",itemControl:"sv-visuallyhidden"},boolean:{root:"sv_qbln",rootRadio:"sv_qbln",small:"sv-row__question--small",item:"sv-boolean sv-item",control:"sv-visuallyhidden",itemChecked:"sv-boolean--checked",itemIndeterminate:"sv-boolean--indeterminate",itemDisabled:"sv-item--disabled sv-boolean--disabled",switch:"sv-boolean__switch",slider:"sv-boolean__slider",label:"sv-boolean__label",disabledLabel:"sv-boolean__label--disabled",sliderGhost:"sv-boolean__thumb-ghost",rootCheckbox:"sv_qbln",checkboxItem:"sv-boolean sv-item",checkboxItemChecked:"sv-boolean--checked",controlCheckbox:"sv-visuallyhidden",checkboxControlLabel:"sv-boolean__label",checkboxItemIndeterminate:"sv-boolean--indeterminate",checkboxItemDisabled:"sv-item--disabled sv-boolean--disabled",checkboxMaterialDecorator:"sv-item__decorator sv-boolean__decorator ",checkboxItemDecorator:"sv-item__svg  sv-boolean__svg",indeterminatePath:"sv-boolean__indeterminate-path",svgIconCheckedId:"#icon-modernbooleancheckchecked",svgIconUncheckedId:"#icon-modernbooleancheckunchecked",svgIconIndId:"#icon-modernbooleancheckind"},text:{root:"sv-text",small:"sv-row__question--small",remainingCharacterCounter:"sv-remaining-character-counter",onError:"sv-text--error"},multipletext:{root:"sv-multipletext",item:"sv-multipletext__item",itemLabel:"sv-multipletext__item-label",itemTitle:"sv-multipletext__item-title",row:"sv-multipletext__row",cell:"sv-multipletext__cell"},dropdown:{root:"",popup:"sv-dropdown-popup",small:"sv-row__question--small",control:"sv-dropdown",selectWrapper:"",other:"sv-comment sv-question__other",onError:"sv-dropdown--error",cleanButton:"sv-dropdown_clean-button",cleanButtonSvg:"sv-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",filterStringInput:"sv-dropdown__filter-string-input",controlValue:"sv-dropdown__value",controlInputFieldComponent:"sv_dropdown_control__input-field-component",hintPrefix:"sv-dropdown__hint-prefix",hintSuffix:"sv-dropdown__hint-suffix"},tagbox:{root:"",popup:"sv-dropdown-popup",small:"sv-row__question--small",selectWrapper:"sv_select_wrapper sv-tagbox_wrapper",other:"sv-input sv-comment sv-selectbase__other",cleanButton:"sv-tagbox_clean-button sv-dropdown_clean-button",cleanButtonSvg:"sv-tagbox_clean-button-svg sv-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",cleanItemButton:"sv-tagbox__item_clean-button",cleanItemButtonSvg:"sv-tagbox__item_clean-button-svg",cleanItemButtonIconId:"icon-clear_16x16",control:"sv-input sv-tagbox sv-dropdown",controlValue:"sv-tagbox__value sv-dropdown__value",controlEmpty:"sv-dropdown--empty sv-tagbox--empty",placeholderInput:"sv-tagbox__placeholder",filterStringInput:"sv-tagbox__filter-string-input sv-dropdown__filter-string-input"},imagepicker:{root:"sv-selectbase sv-imagepicker",column:"sv-selectbase__column",item:"sv-imagepicker__item",itemInline:"sv-imagepicker__item--inline",itemChecked:"sv-imagepicker__item--checked",itemDisabled:"sv-imagepicker__item--disabled",itemHover:"sv-imagepicker__item--allowhover",label:"sv-imagepicker__label",itemControl:"sv-imagepicker__control sv-visuallyhidden",image:"sv-imagepicker__image",itemText:"sv-imagepicker__text",clearButton:"sv-btn",other:"sv-comment sv-question__other"},matrix:{tableWrapper:"sv-matrix",root:"sv-table sv-matrix-root",rowError:"sv-matrix__row--error",cell:"sv-table__cell sv-matrix__cell",headerCell:"sv-table__cell sv-table__cell--header",label:"sv-item sv-radio sv-matrix__label",itemValue:"sv-visuallyhidden sv-item__control sv-radio__control",itemChecked:"sv-radio--checked",itemDisabled:"sv-item--disabled sv-radio--disabled",itemHover:"sv-radio--allowhover",materialDecorator:"sv-item__decorator sv-radio__decorator",itemDecorator:"sv-item__svg sv-radio__svg",cellText:"sv-matrix__text",cellTextSelected:"sv-matrix__text--checked",cellTextDisabled:"sv-matrix__text--disabled",cellResponsiveTitle:"sv-matrix__cell-responsive-title",itemSvgIconId:"#icon-modernradio"},matrixdropdown:{root:"sv-table sv-matrixdropdown",cell:"sv-table__cell",cellResponsiveTitle:"sv-table__responsive-title",headerCell:"sv-table__cell sv-table__cell--header",row:"sv-table__row",rowTextCell:"sv-table__cell--row-text",rowAdditional:"sv-table__row--additional",detailRow:"sv-table__row--detail",detailRowText:"sv-table__cell--detail-rowtext",detailCell:"sv-table__cell--detail",choiceCell:"sv-table__cell--choice",detailButton:"sv-table__cell--detail-button",detailButtonExpanded:"sv-table__cell--detail-button--expanded",detailIcon:"sv-detail-panel__icon",detailIconExpanded:"sv-detail-panel__icon--expanded",detailPanelCell:"sv-table__cell--detail-panel",actionsCell:"sv-table__cell sv-table__cell--actions"},matrixdynamic:{root:"sv-table sv-matrixdynamic",cell:"sv-table__cell",cellResponsiveTitle:"sv-table__responsive-title",headerCell:"sv-table__cell sv-table__cell--header",button:"sv-btn",buttonAdd:"sv-matrixdynamic__add-btn",buttonRemove:"sv-matrixdynamic__remove-btn",iconAdd:"",iconRemove:"",iconDrag:"sv-matrixdynamic__drag-icon",row:"sv-table__row",detailRow:"sv-table__row--detail",detailCell:"sv-table__cell--detail",choiceCell:"sv-table__cell--choice",detailButton:"sv-table__cell--detail-button",detailButtonExpanded:"sv-table__cell--detail-button--expanded",detailIcon:"sv-detail-panel__icon",detailIconExpanded:"sv-detail-panel__icon--expanded",detailPanelCell:"sv-table__cell--detail-panel",actionsCell:"sv-table__cell sv-table__cell--actions",emptyRowsSection:"sv-table__empty--rows--section",emptyRowsText:"sv-table__empty--rows--text",emptyRowsButton:"",ghostRow:"sv-matrix-row--drag-drop-ghost-mod",draggedRow:"sv-matrixdynamic-dragged-row"},rating:{root:"sv-rating",item:"sv-rating__item",selected:"sv-rating__item--selected",minText:"sv-rating__min-text",itemText:"sv-rating__item-text",maxText:"sv-rating__max-text",itemDisabled:"sv-rating--disabled",filterStringInput:"sv-dropdown__filter-string-input",control:"sv-dropdown",cleanButton:"sv-dropdown_clean-button",cleanButtonSvg:"sv-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",controlValue:"sv-dropdown__value",controlInputFieldComponent:"sv_dropdown_control__input-field-component",itemSmiley:"sv-rating__item-smiley",itemStar:"sv-rating__item-star",itemSmileySelected:"sv-rating__item-smiley--selected",itemStarSelected:"sv-rating__item-star--selected"},comment:{root:"sv-comment",small:"sv-row__question--small",remainingCharacterCounter:"sv-remaining-character-counter"},expression:"",file:{root:"sv-file",other:"sv-comment sv-question__other",placeholderInput:"sv-visuallyhidden",previewItem:"sd-file__preview-item",fileSignBottom:"sv-file__sign",fileDecorator:"sv-file__decorator",fileInput:"sv-visuallyhidden",noFileChosen:"sv-description sv-file__no-file-chosen",chooseFile:"sv-btn sv-file__choose-btn",controlDisabled:"sv-file__choose-btn--disabled",removeButton:"sv-hidden",removeButtonBottom:"sv-btn sv-file__clean-btn",removeFile:"sv-hidden",removeFileSvg:"sv-file__remove-svg",removeFileSvgIconId:"icon-removefile",wrapper:"sv-file__wrapper",dragAreaPlaceholder:"sv-hidden",fileList:""},signaturepad:{root:"sv-signaturepad sjs_sp_container",small:"sv-row__question--small",controls:"sjs_sp_controls",placeholder:"sjs_sp_placeholder",canvas:"sjs_sp_canvas",backgroundImage:"sjs_sp__background-image",clearButton:"sjs_sp_clear"},saveData:{root:"sv-save-data_root",rootWithButtons:"sv-save-data_root--with-buttons",info:"sv-save-data_info",error:"sv-save-data_error",success:"sv-save-data_success",button:"sv-save-data_button",shown:"sv-save-data_root--shown"},window:{root:"sv_window",rootCollapsedMod:"sv_window--collapsed",rootFullScreenMode:"sv_window--full-screen",rootContent:"sv_window_root-content",body:"sv_window_content",header:{root:"sv_window_header",titleCollapsed:"sv_window_header_title_collapsed",buttonsContainer:"sv_window_buttons_container",button:"sv_window_button",buttonExpanded:"",buttonCollapsed:"",collapseButton:"sv_window_button sv_window_button_collapse",closeButton:"sv_window_button sv_window_button_close",fullScreenButton:"sv_window_button sv_window_button_full_screen"}},variables:{mobileWidth:"--sv-mobile-width",themeMark:"--sv-modern-mark"}};Ze.modern=vu;var yu=function(){function r(){this.icons={},this.iconPrefix="icon-",this.onIconsChanged=new ft}return r.prototype.processId=function(t,e){return t.indexOf(e)==0&&(t=t.substring(e.length)),t=Wr[t]||t,t},r.prototype.registerIconFromSymbol=function(t,e){this.icons[t]=e},r.prototype.registerIconFromSvgViaElement=function(t,e,n){if(n===void 0&&(n=this.iconPrefix),!!g.isAvailable()){t=this.processId(t,n);var i=g.createElement("div");i.innerHTML=e;var o=g.createElement("symbol"),l=i.querySelector("svg");o.innerHTML=l.innerHTML;for(var u=0;u<l.attributes.length;u++)o.setAttributeNS("http://www.w3.org/2000/svg",l.attributes[u].name,l.attributes[u].value);o.id=n+t,this.registerIconFromSymbol(t,o.outerHTML)}},r.prototype.registerIconFromSvg=function(t,e,n){n===void 0&&(n=this.iconPrefix),t=this.processId(t,n);var i="<svg ",o="</svg>";e=e.trim();var l=e.toLowerCase();return l.substring(0,i.length)===i&&l.substring(l.length-o.length,l.length)===o?(this.registerIconFromSymbol(t,'<symbol id="'+n+t+'" '+e.substring(i.length,l.length-o.length)+"</symbol>"),!0):!1},r.prototype.registerIconsFromFolder=function(t){var e=this;t.keys().forEach(function(n){e.registerIconFromSvg(n.substring(2,n.length-4).toLowerCase(),t(n))})},r.prototype.registerIcons=function(t){for(var e in t)this.registerIconFromSvg(e,t[e]);this.updateMarkup()},r.prototype.iconsRenderedHtml=function(){var t=this;return Object.keys(this.icons).map(function(e){return t.icons[e]}).join("")},r.prototype.updateMarkup=function(){this.onIconsChanged.fire(this,{})},r}(),sm=new yu,cr={};function am(r,t){cr[r]||(cr[r]={});var e=cr[r];for(var n in t)e[n]=t[n]}}})})});var Bc=Cs((yi,Os)=>{"use strict";(function(c,s){typeof yi=="object"&&typeof Os=="object"?Os.exports=s():typeof define=="function"&&define.amd?define("iconsV1",[],s):typeof yi=="object"?yi.iconsV1=s():c.SurveyIcons=s()})(yi,function(){return function(a){var c={};function s(p){if(c[p])return c[p].exports;var g=c[p]={i:p,l:!1,exports:{}};return a[p].call(g.exports,g,g.exports,s),g.l=!0,g.exports}return s.m=a,s.c=c,s.d=function(p,g,S){s.o(p,g)||Object.defineProperty(p,g,{enumerable:!0,get:S})},s.r=function(p){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},s.t=function(p,g){if(g&1&&(p=s(p)),g&8||g&4&&typeof p=="object"&&p&&p.__esModule)return p;var S=Object.create(null);if(s.r(S),Object.defineProperty(S,"default",{enumerable:!0,value:p}),g&2&&typeof p!="string")for(var ue in p)s.d(S,ue,function(D){return p[D]}.bind(null,ue));return S},s.n=function(p){var g=p&&p.__esModule?function(){return p.default}:function(){return p};return s.d(g,"a",g),g},s.o=function(p,g){return Object.prototype.hasOwnProperty.call(p,g)},s.p="",s(s.s="./packages/survey-core/src/iconsV1.ts")}({"./packages/survey-core/src/iconsV1.ts":function(a,c,s){"use strict";s.r(c),s.d(c,"icons",function(){return g});var p=s("./packages/survey-core/src/images-v1 sync recursive \\.svg$"),g={};p.keys().forEach(function(S){g[S.substring(2,S.length-4).toLowerCase()]=p(S)})},"./packages/survey-core/src/images-v1 sync recursive \\.svg$":function(a,c,s){var p={"./ModernBooleanCheckChecked.svg":"./packages/survey-core/src/images-v1/ModernBooleanCheckChecked.svg","./ModernBooleanCheckInd.svg":"./packages/survey-core/src/images-v1/ModernBooleanCheckInd.svg","./ModernBooleanCheckUnchecked.svg":"./packages/survey-core/src/images-v1/ModernBooleanCheckUnchecked.svg","./ModernCheck.svg":"./packages/survey-core/src/images-v1/ModernCheck.svg","./ModernRadio.svg":"./packages/survey-core/src/images-v1/ModernRadio.svg","./ProgressButton.svg":"./packages/survey-core/src/images-v1/ProgressButton.svg","./RemoveFile.svg":"./packages/survey-core/src/images-v1/RemoveFile.svg","./TimerCircle.svg":"./packages/survey-core/src/images-v1/TimerCircle.svg","./add-24x24.svg":"./packages/survey-core/src/images-v1/add-24x24.svg","./arrowleft-16x16.svg":"./packages/survey-core/src/images-v1/arrowleft-16x16.svg","./arrowright-16x16.svg":"./packages/survey-core/src/images-v1/arrowright-16x16.svg","./camera-24x24.svg":"./packages/survey-core/src/images-v1/camera-24x24.svg","./camera-32x32.svg":"./packages/survey-core/src/images-v1/camera-32x32.svg","./cancel-24x24.svg":"./packages/survey-core/src/images-v1/cancel-24x24.svg","./check-16x16.svg":"./packages/survey-core/src/images-v1/check-16x16.svg","./check-24x24.svg":"./packages/survey-core/src/images-v1/check-24x24.svg","./chevrondown-24x24.svg":"./packages/survey-core/src/images-v1/chevrondown-24x24.svg","./chevronright-16x16.svg":"./packages/survey-core/src/images-v1/chevronright-16x16.svg","./clear-16x16.svg":"./packages/survey-core/src/images-v1/clear-16x16.svg","./clear-24x24.svg":"./packages/survey-core/src/images-v1/clear-24x24.svg","./close-16x16.svg":"./packages/survey-core/src/images-v1/close-16x16.svg","./close-24x24.svg":"./packages/survey-core/src/images-v1/close-24x24.svg","./collapse-16x16.svg":"./packages/survey-core/src/images-v1/collapse-16x16.svg","./collapsedetails-16x16.svg":"./packages/survey-core/src/images-v1/collapsedetails-16x16.svg","./delete-24x24.svg":"./packages/survey-core/src/images-v1/delete-24x24.svg","./drag-24x24.svg":"./packages/survey-core/src/images-v1/drag-24x24.svg","./draghorizontal-24x16.svg":"./packages/survey-core/src/images-v1/draghorizontal-24x16.svg","./expand-16x16.svg":"./packages/survey-core/src/images-v1/expand-16x16.svg","./expanddetails-16x16.svg":"./packages/survey-core/src/images-v1/expanddetails-16x16.svg","./file-72x72.svg":"./packages/survey-core/src/images-v1/file-72x72.svg","./flip-24x24.svg":"./packages/survey-core/src/images-v1/flip-24x24.svg","./folder-24x24.svg":"./packages/survey-core/src/images-v1/folder-24x24.svg","./fullsize-16x16.svg":"./packages/survey-core/src/images-v1/fullsize-16x16.svg","./image-48x48.svg":"./packages/survey-core/src/images-v1/image-48x48.svg","./loading-48x48.svg":"./packages/survey-core/src/images-v1/loading-48x48.svg","./maximize-16x16.svg":"./packages/survey-core/src/images-v1/maximize-16x16.svg","./minimize-16x16.svg":"./packages/survey-core/src/images-v1/minimize-16x16.svg","./more-24x24.svg":"./packages/survey-core/src/images-v1/more-24x24.svg","./navmenu-24x24.svg":"./packages/survey-core/src/images-v1/navmenu-24x24.svg","./noimage-48x48.svg":"./packages/survey-core/src/images-v1/noimage-48x48.svg","./ranking-arrows.svg":"./packages/survey-core/src/images-v1/ranking-arrows.svg","./rankingundefined-16x16.svg":"./packages/survey-core/src/images-v1/rankingundefined-16x16.svg","./rating-star-2.svg":"./packages/survey-core/src/images-v1/rating-star-2.svg","./rating-star-small-2.svg":"./packages/survey-core/src/images-v1/rating-star-small-2.svg","./rating-star-small.svg":"./packages/survey-core/src/images-v1/rating-star-small.svg","./rating-star.svg":"./packages/survey-core/src/images-v1/rating-star.svg","./reorder-24x24.svg":"./packages/survey-core/src/images-v1/reorder-24x24.svg","./restoredown-16x16.svg":"./packages/survey-core/src/images-v1/restoredown-16x16.svg","./search-24x24.svg":"./packages/survey-core/src/images-v1/search-24x24.svg","./smiley-rate1-24x24.svg":"./packages/survey-core/src/images-v1/smiley-rate1-24x24.svg","./smiley-rate10-24x24.svg":"./packages/survey-core/src/images-v1/smiley-rate10-24x24.svg","./smiley-rate2-24x24.svg":"./packages/survey-core/src/images-v1/smiley-rate2-24x24.svg","./smiley-rate3-24x24.svg":"./packages/survey-core/src/images-v1/smiley-rate3-24x24.svg","./smiley-rate4-24x24.svg":"./packages/survey-core/src/images-v1/smiley-rate4-24x24.svg","./smiley-rate5-24x24.svg":"./packages/survey-core/src/images-v1/smiley-rate5-24x24.svg","./smiley-rate6-24x24.svg":"./packages/survey-core/src/images-v1/smiley-rate6-24x24.svg","./smiley-rate7-24x24.svg":"./packages/survey-core/src/images-v1/smiley-rate7-24x24.svg","./smiley-rate8-24x24.svg":"./packages/survey-core/src/images-v1/smiley-rate8-24x24.svg","./smiley-rate9-24x24.svg":"./packages/survey-core/src/images-v1/smiley-rate9-24x24.svg"};function g(ue){var D=S(ue);return s(D)}function S(ue){if(!s.o(p,ue)){var D=new Error("Cannot find module '"+ue+"'");throw D.code="MODULE_NOT_FOUND",D}return p[ue]}g.keys=function(){return Object.keys(p)},g.resolve=S,a.exports=g,g.id="./packages/survey-core/src/images-v1 sync recursive \\.svg$"},"./packages/survey-core/src/images-v1/ModernBooleanCheckChecked.svg":function(a,c){a.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><polygon points="19,10 14,10 14,5 10,5 10,10 5,10 5,14 10,14 10,19 14,19 14,14 19,14 "></polygon></svg>'},"./packages/survey-core/src/images-v1/ModernBooleanCheckInd.svg":function(a,c){a.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><path d="M22,0H2C0.9,0,0,0.9,0,2v20c0,1.1,0.9,2,2,2h20c1.1,0,2-0.9,2-2V2C24,0.9,23.1,0,22,0z M21,18L6,3h15V18z M3,6l15,15H3V6z"></path></svg>'},"./packages/survey-core/src/images-v1/ModernBooleanCheckUnchecked.svg":function(a,c){a.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><rect x="5" y="10" width="14" height="4"></rect></svg>'},"./packages/survey-core/src/images-v1/ModernCheck.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24"><path d="M5,13l2-2l3,3l7-7l2,2l-9,9L5,13z"></path></svg>'},"./packages/survey-core/src/images-v1/ModernRadio.svg":function(a,c){a.exports='<svg viewBox="-12 -12 24 24"><circle r="6" cx="0" cy="0"></circle></svg>'},"./packages/survey-core/src/images-v1/ProgressButton.svg":function(a,c){a.exports='<svg viewBox="0 0 10 10"><polygon points="2,2 0,4 5,9 10,4 8,2 5,5 "></polygon></svg>'},"./packages/survey-core/src/images-v1/RemoveFile.svg":function(a,c){a.exports='<svg viewBox="0 0 16 16"><path d="M8,2C4.7,2,2,4.7,2,8s2.7,6,6,6s6-2.7,6-6S11.3,2,8,2z M11,10l-1,1L8,9l-2,2l-1-1l2-2L5,6l1-1l2,2l2-2l1,1L9,8 L11,10z"></path></svg>'},"./packages/survey-core/src/images-v1/TimerCircle.svg":function(a,c){a.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 160 160"><circle cx="80" cy="80" r="70" style="stroke: var(--sd-timer-stroke-background-color); stroke-width: var(--sd-timer-stroke-background-width)" stroke-dasharray="none" stroke-dashoffset="none"></circle><circle cx="80" cy="80" r="70"></circle></svg>'},"./packages/survey-core/src/images-v1/add-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 11H17V13H13V17H11V13H7V11H11V7H13V11ZM23 12C23 18.1 18.1 23 12 23C5.9 23 1 18.1 1 12C1 5.9 5.9 1 12 1C18.1 1 23 5.9 23 12ZM21 12C21 7 17 3 12 3C7 3 3 7 3 12C3 17 7 21 12 21C17 21 21 17 21 12Z"></path></svg>'},"./packages/survey-core/src/images-v1/arrowleft-16x16.svg":function(a,c){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M15 8.99999H4.4L8.7 13.3L7.3 14.7L0.599998 7.99999L7.3 1.29999L8.7 2.69999L4.4 6.99999H15V8.99999Z"></path></svg>'},"./packages/survey-core/src/images-v1/arrowright-16x16.svg":function(a,c){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M1 6.99999H11.6L7.3 2.69999L8.7 1.29999L15.4 7.99999L8.7 14.7L7.3 13.3L11.6 8.99999H1V6.99999Z"></path></svg>'},"./packages/survey-core/src/images-v1/camera-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.01 4H18.4C18.2 4 18.01 3.9 17.9 3.73L16.97 2.34C16.41 1.5 15.48 1 14.47 1H9.54C8.53 1 7.6 1.5 7.04 2.34L6.11 3.73C6 3.9 5.81 4 5.61 4H4C2.35 4 1 5.35 1 7V19C1 20.65 2.35 22 4 22H20C21.65 22 23 20.65 23 19V7C23 5.35 21.65 4 20 4H20.01ZM21.01 19C21.01 19.55 20.56 20 20.01 20H4.01C3.46 20 3.01 19.55 3.01 19V7C3.01 6.45 3.46 6 4.01 6H5.62C6.49 6 7.3 5.56 7.79 4.84L8.72 3.45C8.91 3.17 9.22 3 9.55 3H14.48C14.81 3 15.13 3.17 15.31 3.45L16.24 4.84C16.72 5.56 17.54 6 18.41 6H20.02C20.57 6 21.02 6.45 21.02 7V19H21.01ZM12.01 6C8.7 6 6.01 8.69 6.01 12C6.01 15.31 8.7 18 12.01 18C15.32 18 18.01 15.31 18.01 12C18.01 8.69 15.32 6 12.01 6ZM12.01 16C9.8 16 8.01 14.21 8.01 12C8.01 9.79 9.8 8 12.01 8C14.22 8 16.01 9.79 16.01 12C16.01 14.21 14.22 16 12.01 16ZM13.01 10C13.01 10.55 12.56 11 12.01 11C11.46 11 11.01 11.45 11.01 12C11.01 12.55 10.56 13 10.01 13C9.46 13 9.01 12.55 9.01 12C9.01 10.35 10.36 9 12.01 9C12.56 9 13.01 9.45 13.01 10Z"></path></svg>'},"./packages/survey-core/src/images-v1/camera-32x32.svg":function(a,c){a.exports='<svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M27 6H23.8C23.34 6 22.92 5.77 22.66 5.39L22.25 4.78C21.51 3.66 20.26 3 18.92 3H13.06C11.72 3 10.48 3.67 9.73 4.78L9.32 5.39C9.07 5.77 8.64 6 8.18 6H4.98C2.79 6 1 7.79 1 10V24C1 26.21 2.79 28 5 28H27C29.21 28 31 26.21 31 24V10C31 7.79 29.21 6 27 6ZM29 24C29 25.1 28.1 26 27 26H5C3.9 26 3 25.1 3 24V10C3 8.9 3.9 8 5 8H8.2C9.33 8 10.38 7.44 11 6.5L11.41 5.89C11.78 5.33 12.41 5 13.07 5H18.93C19.6 5 20.22 5.33 20.59 5.89L21 6.5C21.62 7.44 22.68 8 23.8 8H27C28.1 8 29 8.9 29 10V24ZM16 9C12.13 9 9 12.13 9 16C9 19.87 12.13 23 16 23C19.87 23 23 19.87 23 16C23 12.13 19.87 9 16 9ZM16 21C13.24 21 11 18.76 11 16C11 13.24 13.24 11 16 11C18.76 11 21 13.24 21 16C21 18.76 18.76 21 16 21ZM17 13C17 13.55 16.55 14 16 14C14.9 14 14 14.9 14 16C14 16.55 13.55 17 13 17C12.45 17 12 16.55 12 16C12 13.79 13.79 12 16 12C16.55 12 17 12.45 17 13Z"></path></svg>'},"./packages/survey-core/src/images-v1/cancel-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22.6 8.6L16.4 2.4C16 2 15.5 1.8 15 1.8C14.5 1.8 14 2 13.6 2.4L1.40005 14.6C0.600049 15.4 0.600049 16.6 1.40005 17.4L6.00005 22H12L22.6 11.4C23.3 10.6 23.3 9.3 22.6 8.6ZM11.1 20H6.80005L2.80005 16L6.20005 12.6L12.4 18.8L11.1 20ZM13.8 17.4L7.60005 11.2L15 3.8L21.2 10L13.8 17.4ZM16 20H23V22H14L16 20Z"></path></svg>'},"./packages/survey-core/src/images-v1/check-16x16.svg":function(a,c){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M5.003 14.413L0.292999 9.70303L1.703 8.29303L5.003 11.583L14.293 2.29303L15.703 3.70303L5.003 14.413Z"></path></svg>'},"./packages/survey-core/src/images-v1/check-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9 20.1L1 12L3.1 9.9L9 15.9L20.9 4L23 6.1L9 20.1Z"></path></svg>'},"./packages/survey-core/src/images-v1/chevrondown-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 15L17 10H7L12 15Z"></path></svg>'},"./packages/survey-core/src/images-v1/chevronright-16x16.svg":function(a,c){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M5.64648 12.6465L6.34648 13.3465L11.7465 8.04648L6.34648 2.64648L5.64648 3.34648L10.2465 8.04648L5.64648 12.6465Z"></path></svg>'},"./packages/survey-core/src/images-v1/clear-16x16.svg":function(a,c){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.35 3.34999L12.65 2.64999L8.05002 7.24999L3.35002 2.64999L2.65002 3.34999L7.25002 8.04999L2.65002 12.65L3.35002 13.35L8.05002 8.74999L12.65 13.35L13.35 12.65L8.75002 8.04999L13.35 3.34999Z"></path></svg>'},"./packages/survey-core/src/images-v1/clear-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22.6 8.6L16.4 2.4C16 2 15.5 1.8 15 1.8C14.5 1.8 14 2 13.6 2.4L1.40005 14.6C0.600049 15.4 0.600049 16.6 1.40005 17.4L6.00005 22H12L22.6 11.4C23.3 10.6 23.3 9.3 22.6 8.6ZM11.1 20H6.80005L2.80005 16L6.20005 12.6L12.4 18.8L11.1 20ZM13.8 17.4L7.60005 11.2L15 3.8L21.2 10L13.8 17.4ZM16 20H23V22H14L16 20Z"></path></svg>'},"./packages/survey-core/src/images-v1/close-16x16.svg":function(a,c){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M9.43 8.0025L13.7 3.7225C14.09 3.3325 14.09 2.6925 13.7 2.2925C13.31 1.9025 12.67 1.9025 12.27 2.2925L7.99 6.5725L3.72 2.3025C3.33 1.9025 2.69 1.9025 2.3 2.3025C1.9 2.6925 1.9 3.3325 2.3 3.7225L6.58 8.0025L2.3 12.2825C1.91 12.6725 1.91 13.3125 2.3 13.7125C2.69 14.1025 3.33 14.1025 3.73 13.7125L8.01 9.4325L12.29 13.7125C12.68 14.1025 13.32 14.1025 13.72 13.7125C14.11 13.3225 14.11 12.6825 13.72 12.2825L9.44 8.0025H9.43Z"></path></svg>'},"./packages/survey-core/src/images-v1/close-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13.4101 12L20.7001 4.71C21.0901 4.32 21.0901 3.69 20.7001 3.3C20.3101 2.91 19.6801 2.91 19.2901 3.3L12.0001 10.59L4.71006 3.29C4.32006 2.9 3.68006 2.9 3.29006 3.29C2.90006 3.68 2.90006 4.32 3.29006 4.71L10.5801 12L3.29006 19.29C2.90006 19.68 2.90006 20.31 3.29006 20.7C3.49006 20.9 3.74006 20.99 4.00006 20.99C4.26006 20.99 4.51006 20.89 4.71006 20.7L12.0001 13.41L19.2901 20.7C19.4901 20.9 19.7401 20.99 20.0001 20.99C20.2601 20.99 20.5101 20.89 20.7101 20.7C21.1001 20.31 21.1001 19.68 20.7101 19.29L13.4201 12H13.4101Z"></path></svg>'},"./packages/survey-core/src/images-v1/collapse-16x16.svg":function(a,c){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M2 6L3 5L8 10L13 5L14 6L8 12L2 6Z"></path></svg>'},"./packages/survey-core/src/images-v1/collapsedetails-16x16.svg":function(a,c){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 7H3V9H13V7Z"></path></svg>'},"./packages/survey-core/src/images-v1/delete-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22 4H20H16V2C16 0.9 15.1 0 14 0H10C8.9 0 8 0.9 8 2V4H4H2V6H4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V6H22V4ZM10 2H14V4H10V2ZM18 20H6V6H8H16H18V20ZM14 8H16V18H14V8ZM11 8H13V18H11V8ZM8 8H10V18H8V8Z"></path></svg>'},"./packages/survey-core/src/images-v1/drag-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 6C13 4.9 13.9 4 15 4C16.1 4 17 4.9 17 6C17 7.1 16.1 8 15 8C13.9 8 13 7.1 13 6ZM9 4C7.9 4 7 4.9 7 6C7 7.1 7.9 8 9 8C10.1 8 11 7.1 11 6C11 4.9 10.1 4 9 4ZM15 10C13.9 10 13 10.9 13 12C13 13.1 13.9 14 15 14C16.1 14 17 13.1 17 12C17 10.9 16.1 10 15 10ZM9 10C7.9 10 7 10.9 7 12C7 13.1 7.9 14 9 14C10.1 14 11 13.1 11 12C11 10.9 10.1 10 9 10ZM15 16C13.9 16 13 16.9 13 18C13 19.1 13.9 20 15 20C16.1 20 17 19.1 17 18C17 16.9 16.1 16 15 16ZM9 16C7.9 16 7 16.9 7 18C7 19.1 7.9 20 9 20C10.1 20 11 19.1 11 18C11 16.9 10.1 16 9 16Z"></path></svg>'},"./packages/survey-core/src/images-v1/draghorizontal-24x16.svg":function(a,c){a.exports='<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg"><path d="M18 9C19.1 9 20 9.9 20 11C20 12.1 19.1 13 18 13C16.9 13 16 12.1 16 11C16 9.9 16.9 9 18 9ZM20 5C20 3.9 19.1 3 18 3C16.9 3 16 3.9 16 5C16 6.1 16.9 7 18 7C19.1 7 20 6.1 20 5ZM14 11C14 9.9 13.1 9 12 9C10.9 9 10 9.9 10 11C10 12.1 10.9 13 12 13C13.1 13 14 12.1 14 11ZM14 5C14 3.9 13.1 3 12 3C10.9 3 10 3.9 10 5C10 6.1 10.9 7 12 7C13.1 7 14 6.1 14 5ZM8 11C8 9.9 7.1 9 6 9C4.9 9 4 9.9 4 11C4 12.1 4.9 13 6 13C7.1 13 8 12.1 8 11ZM8 5C8 3.9 7.1 3 6 3C4.9 3 4 3.9 4 5C4 6.1 4.9 7 6 7C7.1 7 8 6.1 8 5Z"></path></svg>'},"./packages/survey-core/src/images-v1/expand-16x16.svg":function(a,c){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M6 14L5 13L10 8L5 3L6 2L12 8L6 14Z"></path></svg>'},"./packages/survey-core/src/images-v1/expanddetails-16x16.svg":function(a,c){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 7H9V3H7V7H3V9H7V13H9V9H13V7Z"></path></svg>'},"./packages/survey-core/src/images-v1/file-72x72.svg":function(a,c){a.exports='<svg viewBox="0 0 72 72" xmlns="http://www.w3.org/2000/svg"><path d="M62.83 12.83L53.17 3.17C52.7982 2.79866 52.357 2.50421 51.8714 2.30346C51.3858 2.1027 50.8654 1.99959 50.34 2H14C12.4087 2 10.8826 2.63214 9.75735 3.75736C8.63214 4.88258 8 6.4087 8 8V64C8 65.5913 8.63214 67.1174 9.75735 68.2426C10.8826 69.3679 12.4087 70 14 70H58C59.5913 70 61.1174 69.3679 62.2426 68.2426C63.3679 67.1174 64 65.5913 64 64V15.66C64.0004 15.1346 63.8973 14.6142 63.6965 14.1286C63.4958 13.643 63.2013 13.2018 62.83 12.83ZM52 4.83L61.17 14H56C54.9391 14 53.9217 13.5786 53.1716 12.8284C52.4214 12.0783 52 11.0609 52 10V4.83ZM62 64C62 65.0609 61.5786 66.0783 60.8284 66.8284C60.0783 67.5786 59.0609 68 58 68H14C12.9391 68 11.9217 67.5786 11.1716 66.8284C10.4214 66.0783 10 65.0609 10 64V8C10 6.93914 10.4214 5.92172 11.1716 5.17157C11.9217 4.42143 12.9391 4 14 4H50V10C50 11.5913 50.6321 13.1174 51.7574 14.2426C52.8826 15.3679 54.4087 16 56 16H62V64ZM22 26H50V28H22V26ZM22 32H50V34H22V32ZM22 38H50V40H22V38ZM22 44H50V46H22V44Z"></path></svg>'},"./packages/survey-core/src/images-v1/flip-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M23 12.0037C23 14.2445 21.7794 16.3052 19.5684 17.8257C19.3984 17.9458 19.1983 18.0058 19.0082 18.0058C18.688 18.0058 18.3779 17.8557 18.1778 17.5756C17.8677 17.1155 17.9777 16.4953 18.4379 16.1852C20.0887 15.0448 21.0091 13.5643 21.0091 12.0138C21.0091 8.70262 16.9673 6.01171 12.005 6.01171C11.4948 6.01171 10.9945 6.04172 10.5043 6.09173L11.7149 7.30215C12.105 7.69228 12.105 8.32249 11.7149 8.71263C11.5148 8.9127 11.2647 9.00273 11.0045 9.00273C10.7444 9.00273 10.4943 8.90269 10.2942 8.71263L6.58254 5.00136L10.2842 1.2901C10.6744 0.899964 11.3047 0.899964 11.6949 1.2901C12.085 1.68023 12.085 2.31045 11.6949 2.70058L10.3042 4.09105C10.8545 4.03103 11.4147 4.00102 11.985 4.00102C18.0578 4.00102 22.99 7.59225 22.99 12.0037H23ZM12.2851 15.2949C11.895 15.685 11.895 16.3152 12.2851 16.7054L13.4957 17.9158C13.0055 17.9758 12.4952 17.9958 11.995 17.9958C7.03274 17.9958 2.99091 15.3049 2.99091 11.9937C2.99091 10.4332 3.90132 8.95271 5.56207 7.82232C6.02228 7.51222 6.13233 6.89201 5.82219 6.43185C5.51205 5.97169 4.89177 5.86166 4.43156 6.17176C2.22055 7.69228 1 9.76299 1 11.9937C1 16.4052 5.93224 19.9965 12.005 19.9965C12.5753 19.9965 13.1355 19.9665 13.6858 19.9064L12.2951 21.2969C11.905 21.6871 11.905 22.3173 12.2951 22.7074C12.4952 22.9075 12.7453 22.9975 13.0055 22.9975C13.2656 22.9975 13.5157 22.8975 13.7158 22.7074L17.4275 18.9961L13.7158 15.2849C13.3256 14.8947 12.6953 14.8947 12.3051 15.2849L12.2851 15.2949Z"></path></svg>'},"./packages/survey-core/src/images-v1/folder-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21.93 9H21V7C21 6.46957 20.7893 5.96086 20.4142 5.58579C20.0391 5.21071 19.5304 5 19 5H10L8 3H4C3.46957 3 2.96086 3.21071 2.58579 3.58579C2.21071 3.96086 2 4.46957 2 5L2 21H21L23.89 11.63C23.9916 11.3244 24.0179 10.9988 23.9667 10.6809C23.9155 10.363 23.7882 10.0621 23.5958 9.80392C23.4034 9.54571 23.1514 9.33779 22.8614 9.19782C22.5714 9.05786 22.2519 8.99 21.93 9ZM4 5H7.17L8.59 6.41L9.17 7H19V9H6L4 15V5ZM22 11L19.54 19H4.77L7.44 11H22Z"></path></svg>'},"./packages/survey-core/src/images-v1/fullsize-16x16.svg":function(a,c){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M12 13H4C2.9 13 2 12.1 2 11V5C2 3.9 2.9 3 4 3H12C13.1 3 14 3.9 14 5V11C14 12.1 13.1 13 12 13ZM4 5V11H12V5H4Z"></path></svg>'},"./packages/survey-core/src/images-v1/image-48x48.svg":function(a,c){a.exports='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path d="M36 8H12C9.79 8 8 9.79 8 12V36C8 38.21 9.79 40 12 40H36C38.21 40 40 38.21 40 36V12C40 9.79 38.21 8 36 8ZM38 36C38 37.1 37.1 38 36 38H12C10.9 38 10 37.1 10 36V12C10 10.9 10.9 10 12 10H36C37.1 10 38 10.9 38 12V36ZM14 17C14 15.34 15.34 14 17 14C18.66 14 20 15.34 20 17C20 18.66 18.66 20 17 20C15.34 20 14 18.66 14 17ZM27 24L36 36H12L19 27L23 29L27 24Z"></path></svg>'},"./packages/survey-core/src/images-v1/loading-48x48.svg":function(a,c){a.exports='<svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_19679_369428)"><path opacity="0.1" d="M24 40C15.18 40 8 32.82 8 24C8 15.18 15.18 8 24 8C32.82 8 40 15.18 40 24C40 32.82 32.82 40 24 40ZM24 12C17.38 12 12 17.38 12 24C12 30.62 17.38 36 24 36C30.62 36 36 30.62 36 24C36 17.38 30.62 12 24 12Z" fill="black" fill-opacity="0.91"></path><path d="M10 26C8.9 26 8 25.1 8 24C8 15.18 15.18 8 24 8C25.1 8 26 8.9 26 10C26 11.1 25.1 12 24 12C17.38 12 12 17.38 12 24C12 25.1 11.1 26 10 26Z" fill="#19B394"></path></g><defs><clipPath id="clip0_19679_369428"><rect width="32" height="32" fill="white" transform="translate(8 8)"></rect></clipPath></defs></svg>'},"./packages/survey-core/src/images-v1/maximize-16x16.svg":function(a,c){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M6.71 10.71L4.42 13H6.01C6.56 13 7.01 13.45 7.01 14C7.01 14.55 6.56 15 6.01 15H2C1.45 15 1 14.55 1 14V10C1 9.45 1.45 9 2 9C2.55 9 3 9.45 3 10V11.59L5.29 9.3C5.68 8.91 6.31 8.91 6.7 9.3C7.09 9.69 7.09 10.32 6.7 10.71H6.71ZM14 1H10C9.45 1 9 1.45 9 2C9 2.55 9.45 3 10 3H11.59L9.3 5.29C8.91 5.68 8.91 6.31 9.3 6.7C9.5 6.9 9.75 6.99 10.01 6.99C10.27 6.99 10.52 6.89 10.72 6.7L13.01 4.41V6C13.01 6.55 13.46 7 14.01 7C14.56 7 15.01 6.55 15.01 6V2C15.01 1.45 14.56 1 14.01 1H14Z"></path></svg>'},"./packages/survey-core/src/images-v1/minimize-16x16.svg":function(a,c){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 9H3C2.45 9 2 8.55 2 8C2 7.45 2.45 7 3 7H13C13.55 7 14 7.45 14 8C14 8.55 13.55 9 13 9Z"></path></svg>'},"./packages/survey-core/src/images-v1/more-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M6 12C6 13.1 5.1 14 4 14C2.9 14 2 13.1 2 12C2 10.9 2.9 10 4 10C5.1 10 6 10.9 6 12ZM12 10C10.9 10 10 10.9 10 12C10 13.1 10.9 14 12 14C13.1 14 14 13.1 14 12C14 10.9 13.1 10 12 10ZM20 10C18.9 10 18 10.9 18 12C18 13.1 18.9 14 20 14C21.1 14 22 13.1 22 12C22 10.9 21.1 10 20 10Z"></path></svg>'},"./packages/survey-core/src/images-v1/navmenu-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 7H2V5H16V7ZM2 11V13H22V11H2ZM2 19H10V17H2V19Z"></path></svg>'},"./packages/survey-core/src/images-v1/noimage-48x48.svg":function(a,c){a.exports='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path d="M14 17.01C14 16.4167 14.1759 15.8366 14.5056 15.3433C14.8352 14.8499 15.3038 14.4654 15.8519 14.2384C16.4001 14.0113 17.0033 13.9519 17.5853 14.0676C18.1672 14.1834 18.7018 14.4691 19.1213 14.8887C19.5409 15.3082 19.8266 15.8428 19.9424 16.4247C20.0581 17.0067 19.9987 17.6099 19.7716 18.1581C19.5446 18.7062 19.1601 19.1748 18.6667 19.5044C18.1734 19.8341 17.5933 20.01 17 20.01C16.2044 20.01 15.4413 19.6939 14.8787 19.1313C14.3161 18.5687 14 17.8056 14 17.01ZM27.09 24.14L20 36.01H36L27.09 24.14ZM36.72 8.14L35.57 10.01H36C36.5304 10.01 37.0391 10.2207 37.4142 10.5958C37.7893 10.9709 38 11.4796 38 12.01V36.01C38 36.5404 37.7893 37.0491 37.4142 37.4242C37.0391 37.7993 36.5304 38.01 36 38.01H18.77L17.57 40.01H36C37.0609 40.01 38.0783 39.5886 38.8284 38.8384C39.5786 38.0883 40 37.0709 40 36.01V12.01C39.9966 11.0765 39.6668 10.1737 39.0678 9.45778C38.4688 8.74188 37.6382 8.25802 36.72 8.09V8.14ZM36.86 4.5L12.86 44.5L11.14 43.5L13.23 40.01H12C10.9391 40.01 9.92172 39.5886 9.17157 38.8384C8.42143 38.0883 8 37.0709 8 36.01V12.01C8 10.9491 8.42143 9.93172 9.17157 9.18157C9.92172 8.43143 10.9391 8.01 12 8.01H32.43L35.14 3.5L36.86 4.5ZM14.43 38.01L15.63 36.01H12L19 27.01L20.56 27.8L31.23 10.01H12C11.4696 10.01 10.9609 10.2207 10.5858 10.5958C10.2107 10.9709 10 11.4796 10 12.01V36.01C10 36.5404 10.2107 37.0491 10.5858 37.4242C10.9609 37.7993 11.4696 38.01 12 38.01H14.43Z"></path></svg>'},"./packages/survey-core/src/images-v1/ranking-arrows.svg":function(a,c){a.exports='<svg viewBox="0 0 10 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 5L5 0L0 5H4V9H6V5H10Z"></path><path d="M6 19V15H4V19H0L5 24L10 19H6Z"></path></svg>'},"./packages/survey-core/src/images-v1/rankingundefined-16x16.svg":function(a,c){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 7H3V9H13V7Z"></path></svg>'},"./packages/survey-core/src/images-v1/rating-star-2.svg":function(a,c){a.exports='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path d="M24 39.5057L11.7226 45.9839C10.4095 46.6739 8.87606 45.5622 9.12525 44.096L11.4734 30.373L1.54411 20.6556C0.480254 19.6207 1.06489 17.8095 2.53128 17.5986L16.2559 15.5957L22.3994 3.10891C23.0512 1.77685 24.9488 1.77685 25.6102 3.10891L31.7441 15.5957L45.4687 17.5986C46.9351 17.8095 47.5197 19.6207 46.4559 20.6556L36.5266 30.373L38.8748 44.096C39.1239 45.5622 37.5905 46.6835 36.2774 45.9839L24 39.5057Z" fill="none" stroke-width="2"></path><path d="M24.3981 33.1305L24 32.9206L23.6019 33.1305L15.8715 37.2059L17.3542 28.5663L17.43 28.1246L17.1095 27.8113L10.83 21.6746L19.4965 20.4049L19.9405 20.3399L20.1387 19.9373L24 12.0936L27.8613 19.9373L28.0595 20.3399L28.5035 20.4049L37.17 21.6746L30.8905 27.8113L30.57 28.1246L30.6458 28.5663L32.1285 37.2059L24.3981 33.1305Z" stroke-width="1.70746"></path></svg>'},"./packages/survey-core/src/images-v1/rating-star-small-2.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19.3373L6.13001 22.4373C5.50001 22.7673 4.77001 22.2373 4.89001 21.5373L6.01001 14.9773L1.26001 10.3273C0.750007 9.83728 1.03001 8.96728 1.73001 8.86728L8.29001 7.90728L11.23 1.93728C11.54 1.29728 12.45 1.29728 12.77 1.93728L15.7 7.90728L22.26 8.86728C22.96 8.96728 23.24 9.83728 22.73 10.3273L17.98 14.9773L19.1 21.5373C19.22 22.2373 18.49 22.7773 17.86 22.4373L11.99 19.3373H12Z" fill="none" stroke-width="2"></path><path d="M12 15.9472L8.58001 17.7572L9.23001 13.9272L6.45001 11.2072L10.29 10.6472L12 7.17725L13.71 10.6472L17.55 11.2072L14.77 13.9272L15.42 17.7572L12 15.9472Z"></path></svg>'},"./packages/survey-core/src/images-v1/rating-star-small.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g><path d="M12 19.3373L6.13001 22.4373C5.50001 22.7673 4.77001 22.2373 4.89001 21.5373L6.01001 14.9773L1.26001 10.3273C0.750007 9.83728 1.03001 8.96728 1.73001 8.86728L8.29001 7.90728L11.23 1.93728C11.54 1.29728 12.45 1.29728 12.77 1.93728L15.7 7.90728L22.26 8.86728C22.96 8.96728 23.24 9.83728 22.73 10.3273L17.98 14.9773L19.1 21.5373C19.22 22.2373 18.49 22.7773 17.86 22.4373L11.99 19.3373H12Z"></path></g></svg>'},"./packages/survey-core/src/images-v1/rating-star.svg":function(a,c){a.exports='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><g><path d="M24 39.5057L11.7226 45.9839C10.4095 46.6739 8.87606 45.5622 9.12525 44.096L11.4734 30.373L1.54411 20.6556C0.480254 19.6207 1.06489 17.8095 2.53128 17.5986L16.2559 15.5957L22.3994 3.10891C23.0512 1.77685 24.9488 1.77685 25.6102 3.10891L31.7441 15.5957L45.4687 17.5986C46.9351 17.8095 47.5197 19.6207 46.4559 20.6556L36.5266 30.373L38.8748 44.096C39.1239 45.5622 37.5905 46.6835 36.2774 45.9839L24 39.5057Z"></path></g></svg>'},"./packages/survey-core/src/images-v1/reorder-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 5L12 0L7 5H11V9H13V5H17Z"></path><path d="M13 19V15H11V19H7L12 24L17 19H13Z"></path></svg>'},"./packages/survey-core/src/images-v1/restoredown-16x16.svg":function(a,c){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M15 6C15 6.55 14.55 7 14 7H10C9.45 7 9 6.55 9 6V2C9 1.45 9.45 1 10 1C10.55 1 11 1.45 11 2V3.59L13.29 1.29C13.49 1.09 13.74 1 14 1C14.26 1 14.51 1.1 14.71 1.29C15.1 1.68 15.1 2.31 14.71 2.7L12.42 4.99H14.01C14.56 4.99 15.01 5.44 15.01 5.99L15 6ZM6 9H2C1.45 9 0.999998 9.45 0.999998 10C0.999998 10.55 1.45 11 2 11H3.59L1.29 13.29C0.899998 13.68 0.899998 14.31 1.29 14.7C1.68 15.09 2.31 15.09 2.7 14.7L4.99 12.41V14C4.99 14.55 5.44 15 5.99 15C6.54 15 6.99 14.55 6.99 14V10C6.99 9.45 6.54 9 5.99 9H6Z"></path></svg>'},"./packages/survey-core/src/images-v1/search-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M14 2C9.6 2 6 5.6 6 10C6 11.8 6.6 13.5 7.7 14.9L2.3 20.3C1.9 20.7 1.9 21.3 2.3 21.7C2.5 21.9 2.7 22 3 22C3.3 22 3.5 21.9 3.7 21.7L9.1 16.3C10.5 17.4 12.2 18 14 18C18.4 18 22 14.4 22 10C22 5.6 18.4 2 14 2ZM14 16C10.7 16 8 13.3 8 10C8 6.7 10.7 4 14 4C17.3 4 20 6.7 20 10C20 13.3 17.3 16 14 16Z"></path></svg>'},"./packages/survey-core/src/images-v1/smiley-rate1-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 4.9938C4 4.44362 4.45 3.99348 5 3.99348H6.59L5.3 2.70306C4.91 2.31293 4.91 1.68272 5.3 1.2926C5.69 0.902468 6.32 0.902468 6.71 1.2926L9.71 4.29357C9.8 4.3836 9.88 4.49364 9.93 4.62368C10.03 4.86376 10.03 5.14385 9.93 5.38393C9.88 5.50397 9.81 5.614 9.71 5.71404L6.71 8.71501C6.51 8.91508 6.26 9.00511 6 9.00511C5.74 9.00511 5.49 8.90508 5.29 8.71501C4.9 8.32489 4.9 7.69468 5.29 7.30456L6.58 6.01413H4.99C4.44 6.01413 3.99 5.56399 3.99 5.01381L4 4.9938ZM14.08 5.37393C14.13 5.49397 14.2 5.604 14.3 5.70403L17.3 8.70501C17.5 8.90508 17.75 8.99511 18.01 8.99511C18.27 8.99511 18.52 8.89507 18.72 8.70501C19.11 8.31488 19.11 7.68468 18.72 7.29455L17.43 6.00413H19.02C19.57 6.00413 20.02 5.55399 20.02 5.00381C20.02 4.45363 19.57 4.00348 19.02 4.00348H17.43L18.72 2.71306C19.11 2.32293 19.11 1.69273 18.72 1.3026C18.33 0.912471 17.7 0.912471 17.31 1.3026L14.31 4.30358C14.22 4.39361 14.14 4.50364 14.09 4.63368C13.99 4.87376 13.99 5.15385 14.09 5.39393L14.08 5.37393ZM22 14.9971V20.999C22 22.6496 20.65 24 19 24H5C3.35 24 2 22.6496 2 20.999V14.9971C2 13.3465 3.35 11.9961 5 11.9961H19C20.65 11.9961 22 13.3465 22 14.9971ZM19 13.9967H16V16.9977H20V14.9971C20 14.4469 19.55 13.9967 19 13.9967ZM14 16.9977V13.9967H10V16.9977H14ZM10 18.9984V21.9993H14V18.9984H10ZM4 14.9971V16.9977H8V13.9967H5C4.45 13.9967 4 14.4469 4 14.9971ZM5 21.9993H8V18.9984H4V20.999C4 21.5492 4.45 21.9993 5 21.9993ZM20 20.999V18.9984H16V21.9993H19C19.55 21.9993 20 21.5492 20 20.999Z"></path></svg>'},"./packages/survey-core/src/images-v1/smiley-rate10-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 23C6.85721 23 1.15412 19.9621 0.0134987 13.1669C-0.0765501 12.6272 0.293651 12.1076 0.833944 12.0177C1.38424 11.9277 1.89452 12.2975 1.98457 12.8371C2.92508 18.4732 7.69767 20.9914 12 20.9914C16.3023 20.9914 21.0749 18.4732 22.0154 12.8371C22.1055 12.2975 22.6158 11.9277 23.1661 12.0177C23.7063 12.1076 24.0765 12.6272 23.9865 13.1669C22.8559 19.9521 17.1428 23 11.99 23H12.01ZM21.165 6.15177C22.3056 5.01257 22.3056 3.16386 21.165 2.02465L21.0049 1.85477C19.9143 0.765533 18.1633 0.725561 17.0227 1.71487C15.8821 0.715568 14.1312 0.765533 13.0406 1.85477L12.8705 2.01466C11.7299 3.15386 11.7299 5.00257 12.8705 6.14178L17.0227 10.2889L21.175 6.14178L21.165 6.15177ZM15.742 3.27378L17.0127 4.54289L18.2834 3.27378C18.6436 2.91403 19.2239 2.91403 19.5841 3.27378L19.7442 3.43367C20.1044 3.79342 20.1044 4.37301 19.7442 4.73276L17.0127 7.46086L14.2812 4.73276C13.921 4.37301 13.921 3.79342 14.2812 3.43367L14.4413 3.27378C14.6214 3.09391 14.8515 3.00397 15.0917 3.00397C15.3318 3.00397 15.5619 3.09391 15.742 3.27378ZM11.1595 6.15177C12.3002 5.01257 12.3002 3.16386 11.1595 2.02465L10.9995 1.85477C9.90886 0.765533 8.15792 0.725561 7.0173 1.71487C5.87668 0.715568 4.12573 0.765533 3.03514 1.85477L2.86505 2.01466C1.72443 3.15386 1.72443 5.00257 2.86505 6.14178L7.0173 10.2889L11.1695 6.14178L11.1595 6.15177ZM5.7366 3.27378L7.00729 4.54289L8.27798 3.27378C8.63818 2.91403 9.21849 2.91403 9.57869 3.27378L9.73877 3.43367C10.099 3.79342 10.099 4.37301 9.73877 4.73276L7.00729 7.46086L4.27581 4.73276C3.91562 4.37301 3.91562 3.79342 4.27581 3.43367L4.4359 3.27378C4.61599 3.09391 4.84612 3.00397 5.08625 3.00397C5.32638 3.00397 5.5565 3.09391 5.7366 3.27378Z"></path></svg>'},"./packages/survey-core/src/images-v1/smiley-rate2-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_15894_140103)"><path d="M4.88291 4.51001C4.47291 4.51001 4.08291 4.25001 3.94291 3.84001C3.76291 3.32001 4.03291 2.75001 4.55291 2.57001L8.32291 1.25001C8.84291 1.06001 9.41291 1.34001 9.59291 1.86001C9.77291 2.38001 9.50291 2.95001 8.98291 3.13001L5.20291 4.45001C5.09291 4.49001 4.98291 4.51001 4.87291 4.51001H4.88291ZM19.8129 3.89001C20.0229 3.38001 19.7729 2.79001 19.2629 2.59001L15.5529 1.07001C15.0429 0.860007 14.4529 1.11001 14.2529 1.62001C14.0429 2.13001 14.2929 2.72001 14.8029 2.92001L18.5029 4.43001C18.6229 4.48001 18.7529 4.50001 18.8829 4.50001C19.2729 4.50001 19.6529 4.27001 19.8129 3.88001V3.89001ZM3.50291 6.00001C2.64291 6.37001 1.79291 6.88001 1.00291 7.48001C0.79291 7.64001 0.64291 7.87001 0.59291 8.14001C0.48291 8.73001 0.87291 9.29001 1.45291 9.40001C2.04291 9.51001 2.60291 9.12001 2.71291 8.54001C2.87291 7.69001 3.12291 6.83001 3.50291 5.99001V6.00001ZM21.0429 8.55001C21.6029 10.48 24.2429 8.84001 22.7529 7.48001C21.9629 6.88001 21.1129 6.37001 20.2529 6.00001C20.6329 6.84001 20.8829 7.70001 21.0429 8.55001ZM21.5729 13.2C21.2529 14.2 22.5429 15.09 23.3629 14.39C23.8529 14 23.9229 13.29 23.5429 12.81C21.7429 10.67 22.1329 10.55 21.5829 13.2H21.5729ZM1.75291 11C1.22291 11.79 -0.14709 12.64 0.0129102 13.75C0.15291 14.36 0.75291 14.74 1.35291 14.6C2.98291 14.1 1.80291 12.22 1.75291 11ZM19.8829 17C19.8829 13.14 16.2929 10 11.8829 10C7.47291 10 3.88291 13.14 3.88291 17C3.88291 20.86 7.47291 24 11.8829 24C16.2929 24 19.8829 20.86 19.8829 17ZM17.8829 17C17.8829 19.76 15.1929 22 11.8829 22C8.57291 22 5.88291 19.76 5.88291 17C5.88291 14.24 8.57291 12 11.8829 12C15.1929 12 17.8829 14.24 17.8829 17Z"></path></g><defs><clipPath id="clip0_15894_140103"><rect width="24" height="24" fill="white"></rect></clipPath></defs></svg>'},"./packages/survey-core/src/images-v1/smiley-rate3-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.01915 7C6.46961 7 6.01998 6.55 6.01998 6V2C6.01998 1.45 6.46961 1 7.01915 1C7.56869 1 8.01832 1.45 8.01832 2V6C8.01832 6.55 7.56869 7 7.01915 7ZM18.01 6V2C18.01 1.45 17.5604 1 17.0108 1C16.4613 1 16.0117 1.45 16.0117 2V6C16.0117 6.55 16.4613 7 17.0108 7C17.5604 7 18.01 6.55 18.01 6ZM16.4213 21.58L18.01 19.99L19.2989 21.28C19.6886 21.67 20.3181 21.67 20.7077 21.28C21.0974 20.89 21.0974 20.26 20.7077 19.87L19.4188 18.58C18.6395 17.8 17.3705 17.8 16.5912 18.58L15.0025 20.17L13.4138 18.58C12.6345 17.8 11.3655 17.8 10.5862 18.58L8.9975 20.17L7.40883 18.58C6.62948 17.8 5.36053 17.8 4.58118 18.58L3.29226 19.87C2.90258 20.26 2.90258 20.89 3.29226 21.28C3.68193 21.67 4.31141 21.67 4.70108 21.28L5.99001 19.99L7.57868 21.58C8.35803 22.36 9.62698 22.36 10.4063 21.58L11.995 19.99L13.5837 21.58C13.9734 21.97 14.4829 22.16 14.9925 22.16C15.5021 22.16 16.0117 21.97 16.4013 21.58H16.4213Z"></path></svg>'},"./packages/survey-core/src/images-v1/smiley-rate4-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.06927 7C6.51927 7 6.06927 6.55 6.06927 6V2C6.06927 1.45 6.51927 1 7.06927 1C7.61927 1 8.06927 1.45 8.06927 2V6C8.06927 6.55 7.61927 7 7.06927 7ZM18.0693 6V2C18.0693 1.45 17.6193 1 17.0693 1C16.5193 1 16.0693 1.45 16.0693 2V6C16.0693 6.55 16.5193 7 17.0693 7C17.6193 7 18.0693 6.55 18.0693 6ZM22.5693 21.9C23.0693 21.66 23.2793 21.07 23.0393 20.57C21.1093 16.52 16.9093 14 12.0693 14C7.22927 14 3.02927 16.52 1.09927 20.57C0.859273 21.07 1.06927 21.67 1.56927 21.9C2.06927 22.14 2.65927 21.93 2.89927 21.43C4.49927 18.08 8.00927 16 12.0593 16C16.1093 16 19.6293 18.08 21.2193 21.43C21.3893 21.79 21.7493 22 22.1193 22C22.2593 22 22.4093 21.97 22.5493 21.9H22.5693Z"></path></svg>'},"./packages/survey-core/src/images-v1/smiley-rate5-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.00572 7C6.45572 7 6.00572 6.55 6.00572 6V2C6.00572 1.45 6.45572 1 7.00572 1C7.55572 1 8.00572 1.45 8.00572 2V6C8.00572 6.55 7.55572 7 7.00572 7ZM18.0057 6V2C18.0057 1.45 17.5557 1 17.0057 1C16.4557 1 16.0057 1.45 16.0057 2V6C16.0057 6.55 16.4557 7 17.0057 7C17.5557 7 18.0057 6.55 18.0057 6ZM19.9457 21.33C20.1257 20.81 19.8557 20.24 19.3357 20.05C14.5457 18.35 9.45572 18.35 4.66572 20.05C4.14572 20.23 3.87572 20.81 4.05572 21.33C4.23572 21.85 4.80572 22.12 5.33572 21.94C9.69572 20.4 14.3057 20.4 18.6657 21.94C18.7757 21.98 18.8857 22 18.9957 22C19.4057 22 19.7957 21.74 19.9357 21.33H19.9457Z"></path></svg>'},"./packages/survey-core/src/images-v1/smiley-rate6-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7 7C6.45 7 6 6.55 6 6V2C6 1.45 6.45 1 7 1C7.55 1 8 1.45 8 2V6C8 6.55 7.55 7 7 7ZM18 6V2C18 1.45 17.55 1 17 1C16.45 1 16 1.45 16 2V6C16 6.55 16.45 7 17 7C17.55 7 18 6.55 18 6ZM21 21C21 20.45 20.55 20 20 20H4C3.45 20 3 20.45 3 21C3 21.55 3.45 22 4 22H20C20.55 22 21 21.55 21 21Z"></path></svg>'},"./packages/survey-core/src/images-v1/smiley-rate7-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.0022 23.99C11.452 23.99 11.0018 23.5402 11.0018 22.9904C11.0018 22.4407 11.452 21.9909 12.0022 21.9909C16.3137 21.9909 21.0755 19.472 22.0158 13.8344C22.1058 13.2947 22.616 12.9248 23.1662 13.0148C23.7064 13.1047 24.0765 13.6245 23.9865 14.1643C22.8561 20.9513 17.144 24 11.9922 24L12.0022 23.99ZM8.00072 5.99783V1.99957C8.00072 1.4498 7.55056 1 7.00036 1C6.45016 1 6 1.4498 6 1.99957V5.99783C6 6.54759 6.45016 6.99739 7.00036 6.99739C7.55056 6.99739 8.00072 6.54759 8.00072 5.99783ZM18.0043 5.99783V1.99957C18.0043 1.4498 17.5542 1 17.004 1C16.4538 1 16.0036 1.4498 16.0036 1.99957V5.99783C16.0036 6.54759 16.4538 6.99739 17.004 6.99739C17.5542 6.99739 18.0043 6.54759 18.0043 5.99783Z"></path></svg>'},"./packages/survey-core/src/images-v1/smiley-rate8-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 24C6.85721 24 1.15412 20.96 0.0134987 14.16C-0.0765501 13.62 0.293651 13.1 0.833944 13.01C1.38424 12.92 1.89452 13.29 1.98457 13.83C2.92508 19.47 7.69767 21.99 12 21.99C16.3023 21.99 21.0749 19.47 22.0154 13.83C22.1055 13.29 22.6158 12.92 23.1661 13.01C23.7063 13.1 24.0765 13.62 23.9865 14.16C22.8559 20.95 17.1428 24 11.99 24H12.01ZM8.00783 6V2C8.00783 1.45 7.55759 1 7.00729 1C6.45699 1 6.00675 1.45 6.00675 2V6C6.00675 6.55 6.45699 7 7.00729 7C7.55759 7 8.00783 6.55 8.00783 6ZM18.0133 6V2C18.0133 1.45 17.563 1 17.0127 1C16.4624 1 16.0122 1.45 16.0122 2V6C16.0122 6.55 16.4624 7 17.0127 7C17.563 7 18.0133 6.55 18.0133 6Z"></path></svg>'},"./packages/survey-core/src/images-v1/smiley-rate9-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 24C6.85767 24 1.15509 20.96 0.0145752 14.16C-0.0354475 13.87 0.0445888 13.57 0.234675 13.35C0.424761 13.13 0.704888 13 0.995019 13H23.005C23.2951 13 23.5752 13.13 23.7653 13.35C23.9554 13.57 24.0354 13.87 23.9854 14.16C22.8549 20.95 17.1423 24 11.99 24H12.01ZM2.25559 15C3.61621 19.82 8.0182 22 12.01 22C16.0018 22 20.4038 19.82 21.7644 15H2.25559ZM8.00819 6V2C8.00819 1.45 7.55799 1 7.00774 1C6.45749 1 6.00729 1.45 6.00729 2V6C6.00729 6.55 6.45749 7 7.00774 7C7.55799 7 8.00819 6.55 8.00819 6ZM18.0127 6V2C18.0127 1.45 17.5625 1 17.0123 1C16.462 1 16.0118 1.45 16.0118 2V6C16.0118 6.55 16.462 7 17.0123 7C17.5625 7 18.0127 6.55 18.0127 6Z"></path></svg>'}})})});var Nc=Cs((bi,Rs)=>{"use strict";(function(c,s){typeof bi=="object"&&typeof Rs=="object"?Rs.exports=s():typeof define=="function"&&define.amd?define("iconsV2",[],s):typeof bi=="object"?bi.iconsV2=s():c.SurveyIcons=s()})(bi,function(){return function(a){var c={};function s(p){if(c[p])return c[p].exports;var g=c[p]={i:p,l:!1,exports:{}};return a[p].call(g.exports,g,g.exports,s),g.l=!0,g.exports}return s.m=a,s.c=c,s.d=function(p,g,S){s.o(p,g)||Object.defineProperty(p,g,{enumerable:!0,get:S})},s.r=function(p){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},s.t=function(p,g){if(g&1&&(p=s(p)),g&8||g&4&&typeof p=="object"&&p&&p.__esModule)return p;var S=Object.create(null);if(s.r(S),Object.defineProperty(S,"default",{enumerable:!0,value:p}),g&2&&typeof p!="string")for(var ue in p)s.d(S,ue,function(D){return p[D]}.bind(null,ue));return S},s.n=function(p){var g=p&&p.__esModule?function(){return p.default}:function(){return p};return s.d(g,"a",g),g},s.o=function(p,g){return Object.prototype.hasOwnProperty.call(p,g)},s.p="",s(s.s="./packages/survey-core/src/iconsV2.ts")}({"./packages/survey-core/src/iconsV2.ts":function(a,c,s){"use strict";s.r(c),s.d(c,"icons",function(){return g});var p=s("./packages/survey-core/src/images-v2 sync recursive \\.svg$"),g={};p.keys().forEach(function(S){g[S.substring(2,S.length-4).toLowerCase()]=p(S)})},"./packages/survey-core/src/images-v2 sync recursive \\.svg$":function(a,c,s){var p={"./ModernBooleanCheckChecked.svg":"./packages/survey-core/src/images-v2/ModernBooleanCheckChecked.svg","./ModernBooleanCheckInd.svg":"./packages/survey-core/src/images-v2/ModernBooleanCheckInd.svg","./ModernBooleanCheckUnchecked.svg":"./packages/survey-core/src/images-v2/ModernBooleanCheckUnchecked.svg","./ModernCheck.svg":"./packages/survey-core/src/images-v2/ModernCheck.svg","./ModernRadio.svg":"./packages/survey-core/src/images-v2/ModernRadio.svg","./ProgressButton.svg":"./packages/survey-core/src/images-v2/ProgressButton.svg","./RemoveFile.svg":"./packages/survey-core/src/images-v2/RemoveFile.svg","./TimerCircle.svg":"./packages/survey-core/src/images-v2/TimerCircle.svg","./add-24x24.svg":"./packages/survey-core/src/images-v2/add-24x24.svg","./arrowleft-16x16.svg":"./packages/survey-core/src/images-v2/arrowleft-16x16.svg","./arrowright-16x16.svg":"./packages/survey-core/src/images-v2/arrowright-16x16.svg","./camera-24x24.svg":"./packages/survey-core/src/images-v2/camera-24x24.svg","./camera-32x32.svg":"./packages/survey-core/src/images-v2/camera-32x32.svg","./cancel-24x24.svg":"./packages/survey-core/src/images-v2/cancel-24x24.svg","./check-16x16.svg":"./packages/survey-core/src/images-v2/check-16x16.svg","./check-24x24.svg":"./packages/survey-core/src/images-v2/check-24x24.svg","./chevrondown-24x24.svg":"./packages/survey-core/src/images-v2/chevrondown-24x24.svg","./chevronright-16x16.svg":"./packages/survey-core/src/images-v2/chevronright-16x16.svg","./clear-16x16.svg":"./packages/survey-core/src/images-v2/clear-16x16.svg","./clear-24x24.svg":"./packages/survey-core/src/images-v2/clear-24x24.svg","./close-16x16.svg":"./packages/survey-core/src/images-v2/close-16x16.svg","./close-24x24.svg":"./packages/survey-core/src/images-v2/close-24x24.svg","./collapse-16x16.svg":"./packages/survey-core/src/images-v2/collapse-16x16.svg","./collapsedetails-16x16.svg":"./packages/survey-core/src/images-v2/collapsedetails-16x16.svg","./delete-24x24.svg":"./packages/survey-core/src/images-v2/delete-24x24.svg","./drag-24x24.svg":"./packages/survey-core/src/images-v2/drag-24x24.svg","./draghorizontal-24x16.svg":"./packages/survey-core/src/images-v2/draghorizontal-24x16.svg","./expand-16x16.svg":"./packages/survey-core/src/images-v2/expand-16x16.svg","./expanddetails-16x16.svg":"./packages/survey-core/src/images-v2/expanddetails-16x16.svg","./file-72x72.svg":"./packages/survey-core/src/images-v2/file-72x72.svg","./flip-24x24.svg":"./packages/survey-core/src/images-v2/flip-24x24.svg","./folder-24x24.svg":"./packages/survey-core/src/images-v2/folder-24x24.svg","./fullsize-16x16.svg":"./packages/survey-core/src/images-v2/fullsize-16x16.svg","./image-48x48.svg":"./packages/survey-core/src/images-v2/image-48x48.svg","./loading-48x48.svg":"./packages/survey-core/src/images-v2/loading-48x48.svg","./maximize-16x16.svg":"./packages/survey-core/src/images-v2/maximize-16x16.svg","./minimize-16x16.svg":"./packages/survey-core/src/images-v2/minimize-16x16.svg","./more-24x24.svg":"./packages/survey-core/src/images-v2/more-24x24.svg","./navmenu-24x24.svg":"./packages/survey-core/src/images-v2/navmenu-24x24.svg","./noimage-48x48.svg":"./packages/survey-core/src/images-v2/noimage-48x48.svg","./ranking-arrows.svg":"./packages/survey-core/src/images-v2/ranking-arrows.svg","./rankingundefined-16x16.svg":"./packages/survey-core/src/images-v2/rankingundefined-16x16.svg","./rating-star-2.svg":"./packages/survey-core/src/images-v2/rating-star-2.svg","./rating-star-small-2.svg":"./packages/survey-core/src/images-v2/rating-star-small-2.svg","./rating-star-small.svg":"./packages/survey-core/src/images-v2/rating-star-small.svg","./rating-star.svg":"./packages/survey-core/src/images-v2/rating-star.svg","./reorder-24x24.svg":"./packages/survey-core/src/images-v2/reorder-24x24.svg","./restoredown-16x16.svg":"./packages/survey-core/src/images-v2/restoredown-16x16.svg","./search-24x24.svg":"./packages/survey-core/src/images-v2/search-24x24.svg","./smiley-rate1-24x24.svg":"./packages/survey-core/src/images-v2/smiley-rate1-24x24.svg","./smiley-rate10-24x24.svg":"./packages/survey-core/src/images-v2/smiley-rate10-24x24.svg","./smiley-rate2-24x24.svg":"./packages/survey-core/src/images-v2/smiley-rate2-24x24.svg","./smiley-rate3-24x24.svg":"./packages/survey-core/src/images-v2/smiley-rate3-24x24.svg","./smiley-rate4-24x24.svg":"./packages/survey-core/src/images-v2/smiley-rate4-24x24.svg","./smiley-rate5-24x24.svg":"./packages/survey-core/src/images-v2/smiley-rate5-24x24.svg","./smiley-rate6-24x24.svg":"./packages/survey-core/src/images-v2/smiley-rate6-24x24.svg","./smiley-rate7-24x24.svg":"./packages/survey-core/src/images-v2/smiley-rate7-24x24.svg","./smiley-rate8-24x24.svg":"./packages/survey-core/src/images-v2/smiley-rate8-24x24.svg","./smiley-rate9-24x24.svg":"./packages/survey-core/src/images-v2/smiley-rate9-24x24.svg"};function g(ue){var D=S(ue);return s(D)}function S(ue){if(!s.o(p,ue)){var D=new Error("Cannot find module '"+ue+"'");throw D.code="MODULE_NOT_FOUND",D}return p[ue]}g.keys=function(){return Object.keys(p)},g.resolve=S,a.exports=g,g.id="./packages/survey-core/src/images-v2 sync recursive \\.svg$"},"./packages/survey-core/src/images-v2/ModernBooleanCheckChecked.svg":function(a,c){a.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><polygon points="19,10 14,10 14,5 10,5 10,10 5,10 5,14 10,14 10,19 14,19 14,14 19,14 "></polygon></svg>'},"./packages/survey-core/src/images-v2/ModernBooleanCheckInd.svg":function(a,c){a.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><path d="M22,0H2C0.9,0,0,0.9,0,2v20c0,1.1,0.9,2,2,2h20c1.1,0,2-0.9,2-2V2C24,0.9,23.1,0,22,0z M21,18L6,3h15V18z M3,6l15,15H3V6z"></path></svg>'},"./packages/survey-core/src/images-v2/ModernBooleanCheckUnchecked.svg":function(a,c){a.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><rect x="5" y="10" width="14" height="4"></rect></svg>'},"./packages/survey-core/src/images-v2/ModernCheck.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24"><path d="M5,13l2-2l3,3l7-7l2,2l-9,9L5,13z"></path></svg>'},"./packages/survey-core/src/images-v2/ModernRadio.svg":function(a,c){a.exports='<svg viewBox="-12 -12 24 24"><circle r="6" cx="0" cy="0"></circle></svg>'},"./packages/survey-core/src/images-v2/ProgressButton.svg":function(a,c){a.exports='<svg viewBox="0 0 10 10"><polygon points="2,2 0,4 5,9 10,4 8,2 5,5 "></polygon></svg>'},"./packages/survey-core/src/images-v2/RemoveFile.svg":function(a,c){a.exports='<svg viewBox="0 0 16 16"><path d="M8,2C4.7,2,2,4.7,2,8s2.7,6,6,6s6-2.7,6-6S11.3,2,8,2z M11,10l-1,1L8,9l-2,2l-1-1l2-2L5,6l1-1l2,2l2-2l1,1L9,8 L11,10z"></path></svg>'},"./packages/survey-core/src/images-v2/TimerCircle.svg":function(a,c){a.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 160 160"><circle cx="80" cy="80" r="70" style="stroke: var(--sd-timer-stroke-background-color); stroke-width: var(--sd-timer-stroke-background-width)" stroke-dasharray="none" stroke-dashoffset="none"></circle><circle cx="80" cy="80" r="70"></circle></svg>'},"./packages/survey-core/src/images-v2/add-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M15.75 12C15.75 12.41 15.41 12.75 15 12.75H12.75V15C12.75 15.41 12.41 15.75 12 15.75C11.59 15.75 11.25 15.41 11.25 15V12.75H9C8.59 12.75 8.25 12.41 8.25 12C8.25 11.59 8.59 11.25 9 11.25H11.25V9C11.25 8.59 11.59 8.25 12 8.25C12.41 8.25 12.75 8.59 12.75 9V11.25H15C15.41 11.25 15.75 11.59 15.75 12ZM21.75 12C21.75 17.38 17.38 21.75 12 21.75C6.62 21.75 2.25 17.38 2.25 12C2.25 6.62 6.62 2.25 12 2.25C17.38 2.25 21.75 6.62 21.75 12ZM20.25 12C20.25 7.45 16.55 3.75 12 3.75C7.45 3.75 3.75 7.45 3.75 12C3.75 16.55 7.45 20.25 12 20.25C16.55 20.25 20.25 16.55 20.25 12Z"></path></svg>'},"./packages/survey-core/src/images-v2/arrowleft-16x16.svg":function(a,c){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M14.7475 7.9975C14.7475 8.4075 14.4075 8.7475 13.9975 8.7475H3.8075L7.5275 12.4675C7.8175 12.7575 7.8175 13.2375 7.5275 13.5275C7.3775 13.6775 7.1875 13.7475 6.9975 13.7475C6.8075 13.7475 6.6175 13.6775 6.4675 13.5275L1.4675 8.5275C1.1775 8.2375 1.1775 7.7575 1.4675 7.4675L6.4675 2.4675C6.7575 2.1775 7.2375 2.1775 7.5275 2.4675C7.8175 2.7575 7.8175 3.2375 7.5275 3.5275L3.8075 7.2475H13.9975C14.4075 7.2475 14.7475 7.5875 14.7475 7.9975Z"></path></svg>'},"./packages/survey-core/src/images-v2/arrowright-16x16.svg":function(a,c){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M14.53 8.5275L9.53 13.5275C9.38 13.6775 9.19 13.7475 9 13.7475C8.81 13.7475 8.62 13.6775 8.47 13.5275C8.18 13.2375 8.18 12.7575 8.47 12.4675L12.19 8.7475H2C1.59 8.7475 1.25 8.4075 1.25 7.9975C1.25 7.5875 1.59 7.2475 2 7.2475H12.19L8.47 3.5275C8.18 3.2375 8.18 2.7575 8.47 2.4675C8.76 2.1775 9.24 2.1775 9.53 2.4675L14.53 7.4675C14.82 7.7575 14.82 8.2375 14.53 8.5275Z"></path></svg>'},"./packages/survey-core/src/images-v2/camera-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.19 4.25H17.12C16.72 4.25 16.35 4.03 16.17 3.67C15.73 2.8 14.86 2.25 13.88 2.25H10.12C9.14 2.25 8.27 2.79 7.83 3.67C7.65 4.03 7.29 4.25 6.88 4.25H4.81C3.4 4.25 2.25 5.4 2.25 6.81V18.19C2.25 19.6 3.4 20.75 4.81 20.75H19.19C20.6 20.75 21.75 19.6 21.75 18.19V6.81C21.75 5.4 20.6 4.25 19.19 4.25ZM20.25 18.19C20.25 18.77 19.78 19.25 19.19 19.25H4.81C4.23 19.25 3.75 18.78 3.75 18.19V6.81C3.75 6.23 4.22 5.75 4.81 5.75H6.88C7.86 5.75 8.73 5.21 9.17 4.33C9.35 3.97 9.71 3.75 10.12 3.75H13.88C14.28 3.75 14.65 3.97 14.83 4.33C15.27 5.2 16.14 5.75 17.12 5.75H19.19C19.77 5.75 20.25 6.22 20.25 6.81V18.19ZM12 6.25C8.83 6.25 6.25 8.83 6.25 12C6.25 15.17 8.83 17.75 12 17.75C15.17 17.75 17.75 15.17 17.75 12C17.75 8.83 15.17 6.25 12 6.25ZM12 16.25C9.66 16.25 7.75 14.34 7.75 12C7.75 9.66 9.66 7.75 12 7.75C14.34 7.75 16.25 9.66 16.25 12C16.25 14.34 14.34 16.25 12 16.25ZM14.75 12C14.75 13.52 13.52 14.75 12 14.75C11.59 14.75 11.25 14.41 11.25 14C11.25 13.59 11.59 13.25 12 13.25C12.69 13.25 13.25 12.69 13.25 12C13.25 11.59 13.59 11.25 14 11.25C14.41 11.25 14.75 11.59 14.75 12Z"></path></svg>'},"./packages/survey-core/src/images-v2/camera-32x32.svg":function(a,c){a.exports='<svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M25 7.25H22.19C21.73 7.25 21.31 7 21.09 6.59L20.89 6.22C20.23 5.01 18.97 4.25 17.59 4.25H14.41C13.03 4.25 11.77 5 11.11 6.22L10.91 6.6C10.69 7 10.27 7.26 9.81 7.26H7C4.93 7.26 3.25 8.94 3.25 11.01V24.01C3.25 26.08 4.93 27.76 7 27.76H25C27.07 27.76 28.75 26.08 28.75 24.01V11C28.75 8.93 27.07 7.25 25 7.25ZM27.25 24C27.25 25.24 26.24 26.25 25 26.25H7C5.76 26.25 4.75 25.24 4.75 24V11C4.75 9.76 5.76 8.75 7 8.75H9.81C10.82 8.75 11.75 8.2 12.23 7.31L12.43 6.94C12.82 6.21 13.58 5.76 14.41 5.76H17.59C18.42 5.76 19.18 6.21 19.57 6.94L19.77 7.31C20.25 8.2 21.18 8.76 22.19 8.76H25C26.24 8.76 27.25 9.77 27.25 11.01V24.01V24ZM16 10.25C12.28 10.25 9.25 13.28 9.25 17C9.25 20.72 12.28 23.75 16 23.75C19.72 23.75 22.75 20.72 22.75 17C22.75 13.28 19.72 10.25 16 10.25ZM16 22.25C13.11 22.25 10.75 19.89 10.75 17C10.75 14.11 13.11 11.75 16 11.75C18.89 11.75 21.25 14.11 21.25 17C21.25 19.89 18.89 22.25 16 22.25ZM19.75 17C19.75 19.07 18.07 20.75 16 20.75C15.59 20.75 15.25 20.41 15.25 20C15.25 19.59 15.59 19.25 16 19.25C17.24 19.25 18.25 18.24 18.25 17C18.25 16.59 18.59 16.25 19 16.25C19.41 16.25 19.75 16.59 19.75 17Z"></path></svg>'},"./packages/survey-core/src/images-v2/cancel-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.8099 11.75L15.2799 9.28C15.5699 8.99 15.5699 8.51 15.2799 8.22C14.9899 7.93 14.5099 7.93 14.2199 8.22L11.7499 10.69L9.27994 8.22C8.98994 7.93 8.50994 7.93 8.21994 8.22C7.92994 8.51 7.92994 8.99 8.21994 9.28L10.6899 11.75L8.21994 14.22C7.92994 14.51 7.92994 14.99 8.21994 15.28C8.36994 15.43 8.55994 15.5 8.74994 15.5C8.93994 15.5 9.12994 15.43 9.27994 15.28L11.7499 12.81L14.2199 15.28C14.3699 15.43 14.5599 15.5 14.7499 15.5C14.9399 15.5 15.1299 15.43 15.2799 15.28C15.5699 14.99 15.5699 14.51 15.2799 14.22L12.8099 11.75Z"></path></svg>'},"./packages/survey-core/src/images-v2/check-16x16.svg":function(a,c){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M14.0275 5.0275L6.5275 12.5275C6.3775 12.6775 6.1875 12.7475 5.9975 12.7475C5.8075 12.7475 5.6175 12.6775 5.4675 12.5275L2.4675 9.5275C2.1775 9.2375 2.1775 8.7575 2.4675 8.4675C2.7575 8.1775 3.2375 8.1775 3.5275 8.4675L5.9975 10.9375L12.9675 3.9675C13.2575 3.6775 13.7375 3.6775 14.0275 3.9675C14.3175 4.2575 14.3175 4.7375 14.0275 5.0275Z"></path></svg>'},"./packages/survey-core/src/images-v2/check-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.5275 7.5275L9.5275 17.5275C9.3775 17.6775 9.1875 17.7475 8.9975 17.7475C8.8075 17.7475 8.6175 17.6775 8.4675 17.5275L4.4675 13.5275C4.1775 13.2375 4.1775 12.7575 4.4675 12.4675C4.7575 12.1775 5.2375 12.1775 5.5275 12.4675L8.9975 15.9375L18.4675 6.4675C18.7575 6.1775 19.2375 6.1775 19.5275 6.4675C19.8175 6.7575 19.8175 7.2375 19.5275 7.5275Z"></path></svg>'},"./packages/survey-core/src/images-v2/chevrondown-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16.5275 10.5275L12.5275 14.5275C12.3775 14.6775 12.1875 14.7475 11.9975 14.7475C11.8075 14.7475 11.6175 14.6775 11.4675 14.5275L7.4675 10.5275C7.1775 10.2375 7.1775 9.7575 7.4675 9.4675C7.7575 9.1775 8.2375 9.1775 8.5275 9.4675L11.9975 12.9375L15.4675 9.4675C15.7575 9.1775 16.2375 9.1775 16.5275 9.4675C16.8175 9.7575 16.8175 10.2375 16.5275 10.5275Z"></path></svg>'},"./packages/survey-core/src/images-v2/chevronright-16x16.svg":function(a,c){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M11.35 8.34627L7.35 12.3463C7.25 12.4463 7.12 12.4963 7 12.4963C6.88 12.4963 6.74 12.4463 6.65 12.3463C6.45 12.1463 6.45 11.8363 6.65 11.6363L10.3 7.98627L6.65 4.34627C6.45 4.15627 6.45 3.83627 6.65 3.64627C6.85 3.45627 7.16 3.44627 7.35 3.64627L11.35 7.64627C11.55 7.84627 11.55 8.15627 11.35 8.35627V8.34627Z"></path></svg>'},"./packages/survey-core/src/images-v2/clear-16x16.svg":function(a,c){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M12.35 11.65C12.55 11.85 12.55 12.16 12.35 12.36C12.25 12.46 12.12 12.51 12 12.51C11.88 12.51 11.74 12.46 11.65 12.36L8 8.71L4.35 12.36C4.25 12.46 4.12 12.51 4 12.51C3.88 12.51 3.74 12.46 3.65 12.36C3.45 12.16 3.45 11.85 3.65 11.65L7.3 8L3.65 4.35C3.45 4.16 3.45 3.84 3.65 3.65C3.85 3.46 4.16 3.45 4.35 3.65L8 7.3L11.65 3.65C11.85 3.45 12.16 3.45 12.36 3.65C12.56 3.85 12.56 4.16 12.36 4.36L8.71 8.01L12.36 11.66L12.35 11.65Z"></path></svg>'},"./packages/survey-core/src/images-v2/clear-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.12 10.9325C20.64 10.4125 20.93 9.7225 20.93 8.9925C20.93 8.2625 20.64 7.5725 20.12 7.0525L16.95 3.8825C15.88 2.8125 14.13 2.8125 13.06 3.8825L3.88 13.0525C3.36 13.5725 3.07 14.2625 3.07 14.9925C3.07 15.7225 3.36 16.4125 3.88 16.9325L5.64 18.6925C6.57 19.6225 7.78 20.0825 9 20.0825C10.22 20.0825 11.43 19.6225 12.36 18.6925L20.12 10.9325ZM14.12 4.9325C14.36 4.6925 14.67 4.5625 15 4.5625C15.33 4.5625 15.65 4.6925 15.88 4.9325L19.05 8.1025C19.54 8.5925 19.54 9.3825 19.05 9.8725L12.99 15.9325L8.05 10.9925L14.12 4.9325ZM6.7 17.6325L4.94 15.8725C4.45 15.3825 4.45 14.5925 4.94 14.1025L7 12.0425L11.94 16.9825L11.3 17.6225C10.07 18.8525 7.93 18.8525 6.7 17.6225V17.6325ZM22.75 20.9925C22.75 21.4025 22.41 21.7425 22 21.7425H14C13.59 21.7425 13.25 21.4025 13.25 20.9925C13.25 20.5825 13.59 20.2425 14 20.2425H22C22.41 20.2425 22.75 20.5825 22.75 20.9925ZM4.75 20.9925C4.75 21.4025 4.41 21.7425 4 21.7425H2C1.59 21.7425 1.25 21.4025 1.25 20.9925C1.25 20.5825 1.59 20.2425 2 20.2425H4C4.41 20.2425 4.75 20.5825 4.75 20.9925Z"></path></svg>'},"./packages/survey-core/src/images-v2/close-16x16.svg":function(a,c){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.5275 12.4675C13.8175 12.7575 13.8175 13.2375 13.5275 13.5275C13.3775 13.6775 13.1875 13.7475 12.9975 13.7475C12.8075 13.7475 12.6175 13.6775 12.4675 13.5275L7.9975 9.0575L3.5275 13.5275C3.3775 13.6775 3.1875 13.7475 2.9975 13.7475C2.8075 13.7475 2.6175 13.6775 2.4675 13.5275C2.1775 13.2375 2.1775 12.7575 2.4675 12.4675L6.9375 7.9975L2.4675 3.5275C2.1775 3.2375 2.1775 2.7575 2.4675 2.4675C2.7575 2.1775 3.2375 2.1775 3.5275 2.4675L7.9975 6.9375L12.4675 2.4675C12.7575 2.1775 13.2375 2.1775 13.5275 2.4675C13.8175 2.7575 13.8175 3.2375 13.5275 3.5275L9.0575 7.9975L13.5275 12.4675Z"></path></svg>'},"./packages/survey-core/src/images-v2/close-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.5275 18.4675C19.8175 18.7575 19.8175 19.2375 19.5275 19.5275C19.3775 19.6775 19.1875 19.7475 18.9975 19.7475C18.8075 19.7475 18.6175 19.6775 18.4675 19.5275L11.9975 13.0575L5.5275 19.5275C5.3775 19.6775 5.1875 19.7475 4.9975 19.7475C4.8075 19.7475 4.6175 19.6775 4.4675 19.5275C4.1775 19.2375 4.1775 18.7575 4.4675 18.4675L10.9375 11.9975L4.4675 5.5275C4.1775 5.2375 4.1775 4.7575 4.4675 4.4675C4.7575 4.1775 5.2375 4.1775 5.5275 4.4675L11.9975 10.9375L18.4675 4.4675C18.7575 4.1775 19.2375 4.1775 19.5275 4.4675C19.8175 4.7575 19.8175 5.2375 19.5275 5.5275L13.0575 11.9975L19.5275 18.4675Z"></path></svg>'},"./packages/survey-core/src/images-v2/collapse-16x16.svg":function(a,c){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M11.75 8C11.75 8.41 11.41 8.75 11 8.75H5C4.59 8.75 4.25 8.41 4.25 8C4.25 7.59 4.59 7.25 5 7.25H11C11.41 7.25 11.75 7.59 11.75 8Z"></path></svg>'},"./packages/survey-core/src/images-v2/collapsedetails-16x16.svg":function(a,c){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M11.75 8C11.75 8.41 11.41 8.75 11 8.75H5C4.59 8.75 4.25 8.41 4.25 8C4.25 7.59 4.59 7.25 5 7.25H11C11.41 7.25 11.75 7.59 11.75 8Z"></path></svg>'},"./packages/survey-core/src/images-v2/delete-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.75 9V17C12.75 17.41 12.41 17.75 12 17.75C11.59 17.75 11.25 17.41 11.25 17V9C11.25 8.59 11.59 8.25 12 8.25C12.41 8.25 12.75 8.59 12.75 9ZM14.25 9V17C14.25 17.41 14.59 17.75 15 17.75C15.41 17.75 15.75 17.41 15.75 17V9C15.75 8.59 15.41 8.25 15 8.25C14.59 8.25 14.25 8.59 14.25 9ZM9 8.25C8.59 8.25 8.25 8.59 8.25 9V17C8.25 17.41 8.59 17.75 9 17.75C9.41 17.75 9.75 17.41 9.75 17V9C9.75 8.59 9.41 8.25 9 8.25ZM20.75 6C20.75 6.41 20.41 6.75 20 6.75H18.75V18C18.75 19.52 17.52 20.75 16 20.75H8C6.48 20.75 5.25 19.52 5.25 18V6.75H4C3.59 6.75 3.25 6.41 3.25 6C3.25 5.59 3.59 5.25 4 5.25H8.25V4C8.25 3.04 9.04 2.25 10 2.25H14C14.96 2.25 15.75 3.04 15.75 4V5.25H20C20.41 5.25 20.75 5.59 20.75 6ZM9.75 5.25H14.25V4C14.25 3.86 14.14 3.75 14 3.75H10C9.86 3.75 9.75 3.86 9.75 4V5.25ZM17.25 6.75H6.75V18C6.75 18.69 7.31 19.25 8 19.25H16C16.69 19.25 17.25 18.69 17.25 18V6.75Z"></path></svg>'},"./packages/survey-core/src/images-v2/drag-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M14.5 8.75C15.19 8.75 15.75 8.19 15.75 7.5C15.75 6.81 15.19 6.25 14.5 6.25C13.81 6.25 13.25 6.81 13.25 7.5C13.25 8.19 13.81 8.75 14.5 8.75ZM14.5 7.25C14.64 7.25 14.75 7.36 14.75 7.5C14.75 7.78 14.25 7.78 14.25 7.5C14.25 7.36 14.36 7.25 14.5 7.25ZM9.5 6.25C8.81 6.25 8.25 6.81 8.25 7.5C8.25 8.19 8.81 8.75 9.5 8.75C10.19 8.75 10.75 8.19 10.75 7.5C10.75 6.81 10.19 6.25 9.5 6.25ZM9.25 7.5C9.25 7.36 9.36 7.25 9.5 7.25C9.64 7.25 9.75 7.36 9.75 7.5C9.75 7.78 9.25 7.78 9.25 7.5ZM14.5 11.25C13.81 11.25 13.25 11.81 13.25 12.5C13.25 13.19 13.81 13.75 14.5 13.75C15.19 13.75 15.75 13.19 15.75 12.5C15.75 11.81 15.19 11.25 14.5 11.25ZM14.25 12.5C14.25 12.36 14.36 12.25 14.5 12.25C14.64 12.25 14.75 12.36 14.75 12.5C14.75 12.78 14.25 12.78 14.25 12.5ZM9.5 11.25C8.81 11.25 8.25 11.81 8.25 12.5C8.25 13.19 8.81 13.75 9.5 13.75C10.19 13.75 10.75 13.19 10.75 12.5C10.75 11.81 10.19 11.25 9.5 11.25ZM9.25 12.5C9.25 12.36 9.36 12.25 9.5 12.25C9.64 12.25 9.75 12.36 9.75 12.5C9.75 12.78 9.25 12.78 9.25 12.5ZM14.5 16.25C13.81 16.25 13.25 16.81 13.25 17.5C13.25 18.19 13.81 18.75 14.5 18.75C15.19 18.75 15.75 18.19 15.75 17.5C15.75 16.81 15.19 16.25 14.5 16.25ZM14.25 17.5C14.25 17.36 14.36 17.25 14.5 17.25C14.64 17.25 14.75 17.36 14.75 17.5C14.75 17.78 14.25 17.78 14.25 17.5ZM9.5 16.25C8.81 16.25 8.25 16.81 8.25 17.5C8.25 18.19 8.81 18.75 9.5 18.75C10.19 18.75 10.75 18.19 10.75 17.5C10.75 16.81 10.19 16.25 9.5 16.25ZM9.25 17.5C9.25 17.36 9.36 17.25 9.5 17.25C9.64 17.25 9.75 17.36 9.75 17.5C9.75 17.78 9.25 17.78 9.25 17.5Z"></path></svg>'},"./packages/survey-core/src/images-v2/draghorizontal-24x16.svg":function(a,c){a.exports='<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg"><path d="M17.5 9.25C16.81 9.25 16.25 9.81 16.25 10.5C16.25 11.19 16.81 11.75 17.5 11.75C18.19 11.75 18.75 11.19 18.75 10.5C18.75 9.81 18.19 9.25 17.5 9.25ZM17.25 10.5C17.25 10.36 17.36 10.25 17.5 10.25C17.64 10.25 17.75 10.36 17.75 10.5C17.75 10.78 17.25 10.78 17.25 10.5ZM17.5 6.75C18.19 6.75 18.75 6.19 18.75 5.5C18.75 4.81 18.19 4.25 17.5 4.25C16.81 4.25 16.25 4.81 16.25 5.5C16.25 6.19 16.81 6.75 17.5 6.75ZM17.5 5.25C17.64 5.25 17.75 5.36 17.75 5.5C17.75 5.78 17.25 5.78 17.25 5.5C17.25 5.36 17.36 5.25 17.5 5.25ZM12.5 9.25C11.81 9.25 11.25 9.81 11.25 10.5C11.25 11.19 11.81 11.75 12.5 11.75C13.19 11.75 13.75 11.19 13.75 10.5C13.75 9.81 13.19 9.25 12.5 9.25ZM12.25 10.5C12.25 10.36 12.36 10.25 12.5 10.25C12.64 10.25 12.75 10.36 12.75 10.5C12.75 10.78 12.25 10.78 12.25 10.5ZM12.5 4.25C11.81 4.25 11.25 4.81 11.25 5.5C11.25 6.19 11.81 6.75 12.5 6.75C13.19 6.75 13.75 6.19 13.75 5.5C13.75 4.81 13.19 4.25 12.5 4.25ZM12.25 5.5C12.25 5.36 12.36 5.25 12.5 5.25C12.64 5.25 12.75 5.36 12.75 5.5C12.75 5.78 12.25 5.78 12.25 5.5ZM7.5 9.25C6.81 9.25 6.25 9.81 6.25 10.5C6.25 11.19 6.81 11.75 7.5 11.75C8.19 11.75 8.75 11.19 8.75 10.5C8.75 9.81 8.19 9.25 7.5 9.25ZM7.25 10.5C7.25 10.36 7.36 10.25 7.5 10.25C7.64 10.25 7.75 10.36 7.75 10.5C7.75 10.78 7.25 10.78 7.25 10.5ZM7.5 4.25C6.81 4.25 6.25 4.81 6.25 5.5C6.25 6.19 6.81 6.75 7.5 6.75C8.19 6.75 8.75 6.19 8.75 5.5C8.75 4.81 8.19 4.25 7.5 4.25ZM7.25 5.5C7.25 5.36 7.36 5.25 7.5 5.25C7.64 5.25 7.75 5.36 7.75 5.5C7.75 5.78 7.25 5.78 7.25 5.5Z"></path></svg>'},"./packages/survey-core/src/images-v2/expand-16x16.svg":function(a,c){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M11.75 8C11.75 8.41 11.41 8.75 11 8.75H8.75V11C8.75 11.41 8.41 11.75 8 11.75C7.59 11.75 7.25 11.41 7.25 11V8.75H5C4.59 8.75 4.25 8.41 4.25 8C4.25 7.59 4.59 7.25 5 7.25H7.25V5C7.25 4.59 7.59 4.25 8 4.25C8.41 4.25 8.75 4.59 8.75 5V7.25H11C11.41 7.25 11.75 7.59 11.75 8Z"></path></svg>'},"./packages/survey-core/src/images-v2/expanddetails-16x16.svg":function(a,c){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M11.75 8C11.75 8.41 11.41 8.75 11 8.75H8.75V11C8.75 11.41 8.41 11.75 8 11.75C7.59 11.75 7.25 11.41 7.25 11V8.75H5C4.59 8.75 4.25 8.41 4.25 8C4.25 7.59 4.59 7.25 5 7.25H7.25V5C7.25 4.59 7.59 4.25 8 4.25C8.41 4.25 8.75 4.59 8.75 5V7.25H11C11.41 7.25 11.75 7.59 11.75 8Z"></path></svg>'},"./packages/survey-core/src/images-v2/file-72x72.svg":function(a,c){a.exports='<svg viewBox="0 0 72 72" xmlns="http://www.w3.org/2000/svg"><path d="M62.83 12.83L53.17 3.17C52.7982 2.79866 52.357 2.50421 51.8714 2.30346C51.3858 2.1027 50.8654 1.99959 50.34 2H14C12.4087 2 10.8826 2.63214 9.75735 3.75736C8.63214 4.88258 8 6.4087 8 8V64C8 65.5913 8.63214 67.1174 9.75735 68.2426C10.8826 69.3679 12.4087 70 14 70H58C59.5913 70 61.1174 69.3679 62.2426 68.2426C63.3679 67.1174 64 65.5913 64 64V15.66C64.0004 15.1346 63.8973 14.6142 63.6965 14.1286C63.4958 13.643 63.2013 13.2018 62.83 12.83ZM52 4.83L61.17 14H56C54.9391 14 53.9217 13.5786 53.1716 12.8284C52.4214 12.0783 52 11.0609 52 10V4.83ZM62 64C62 65.0609 61.5786 66.0783 60.8284 66.8284C60.0783 67.5786 59.0609 68 58 68H14C12.9391 68 11.9217 67.5786 11.1716 66.8284C10.4214 66.0783 10 65.0609 10 64V8C10 6.93914 10.4214 5.92172 11.1716 5.17157C11.9217 4.42143 12.9391 4 14 4H50V10C50 11.5913 50.6321 13.1174 51.7574 14.2426C52.8826 15.3679 54.4087 16 56 16H62V64ZM22 26H50V28H22V26ZM22 32H50V34H22V32ZM22 38H50V40H22V38ZM22 44H50V46H22V44Z"></path></svg>'},"./packages/survey-core/src/images-v2/flip-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M14.53 17.4775C14.82 17.7675 14.82 18.2475 14.53 18.5375L11.53 21.5375C11.38 21.6875 11.19 21.7575 11 21.7575C10.81 21.7575 10.62 21.6875 10.47 21.5375C10.18 21.2475 10.18 20.7675 10.47 20.4775L12.2 18.7475C12.13 18.7475 12.07 18.7475 12 18.7475C6.62 18.7475 2.25 15.7475 2.25 12.0575C2.25 10.2975 3.22 8.6375 4.99 7.3875C5.33 7.1475 5.8 7.2275 6.03 7.5675C6.27 7.9075 6.19 8.3775 5.85 8.6075C4.49 9.5675 3.74 10.7875 3.74 12.0575C3.74 14.9175 7.44 17.2475 11.99 17.2475C12.05 17.2475 12.11 17.2475 12.17 17.2475L10.46 15.5375C10.17 15.2475 10.17 14.7675 10.46 14.4775C10.75 14.1875 11.23 14.1875 11.52 14.4775L14.52 17.4775H14.53ZM12 5.2575C11.93 5.2575 11.87 5.2575 11.8 5.2575L13.53 3.5275C13.82 3.2375 13.82 2.7575 13.53 2.4675C13.24 2.1775 12.76 2.1775 12.47 2.4675L9.47 5.4675C9.18 5.7575 9.18 6.2375 9.47 6.5275L12.47 9.5275C12.62 9.6775 12.81 9.7475 13 9.7475C13.19 9.7475 13.38 9.6775 13.53 9.5275C13.82 9.2375 13.82 8.7575 13.53 8.4675L11.82 6.7575C11.88 6.7575 11.94 6.7575 12 6.7575C16.55 6.7575 20.25 9.0875 20.25 11.9475C20.25 13.2075 19.5 14.4375 18.14 15.3975C17.8 15.6375 17.72 16.1075 17.96 16.4475C18.11 16.6575 18.34 16.7675 18.57 16.7675C18.72 16.7675 18.87 16.7275 19 16.6275C20.77 15.3775 21.75 13.7175 21.75 11.9575C21.75 8.2675 17.38 5.2675 12 5.2675V5.2575Z"></path></svg>'},"./packages/survey-core/src/images-v2/folder-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21.72 9.24C21.45 8.92 21.12 8.67 20.75 8.5V8C20.75 6.48 19.52 5.25 18 5.25H10.65C10.32 4.1 9.26 3.25 8 3.25H6C4.48 3.25 3.25 4.48 3.25 6V18C3.25 19.52 4.48 20.75 6 20.75H18.33C19.66 20.75 20.8 19.8 21.04 18.49L22.31 11.49C22.46 10.69 22.24 9.86 21.72 9.24ZM4.75 18V6C4.75 5.31 5.31 4.75 6 4.75H8C8.69 4.75 9.25 5.31 9.25 6C9.25 6.41 9.59 6.75 10 6.75H18C18.69 6.75 19.25 7.31 19.25 8V8.25H9.27C7.94 8.25 6.8 9.2 6.56 10.51L5.29 17.51C5.19 18.07 5.27 18.64 5.51 19.15C5.06 18.96 4.75 18.52 4.75 18ZM20.83 11.22L19.56 18.22C19.45 18.81 18.94 19.25 18.33 19.25H8C7.63 19.25 7.28 19.09 7.04 18.8C6.8 18.51 6.7 18.14 6.77 17.78L8.04 10.78C8.15 10.19 8.66 9.75 9.27 9.75H19.6C19.97 9.75 20.32 9.91 20.56 10.2C20.8 10.49 20.9 10.86 20.83 11.22Z"></path></svg>'},"./packages/survey-core/src/images-v2/fullsize-16x16.svg":function(a,c){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M12 3.25H4C3.04 3.25 2.25 4.04 2.25 5V11C2.25 11.96 3.04 12.75 4 12.75H12C12.96 12.75 13.75 11.96 13.75 11V5C13.75 4.04 12.96 3.25 12 3.25ZM12.25 11C12.25 11.14 12.14 11.25 12 11.25H4C3.86 11.25 3.75 11.14 3.75 11V5C3.75 4.86 3.86 4.75 4 4.75H12C12.14 4.75 12.25 4.86 12.25 5V11Z"></path></svg>'},"./packages/survey-core/src/images-v2/image-48x48.svg":function(a,c){a.exports='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path d="M33 10.25H15C12.38 10.25 10.25 12.38 10.25 15V33C10.25 35.62 12.38 37.75 15 37.75H33C35.62 37.75 37.75 35.62 37.75 33V15C37.75 12.38 35.62 10.25 33 10.25ZM36.25 33C36.25 34.79 34.79 36.25 33 36.25H15C13.21 36.25 11.75 34.79 11.75 33V15C11.75 13.21 13.21 11.75 15 11.75H33C34.79 11.75 36.25 13.21 36.25 15V33ZM30.5 14.25C28.71 14.25 27.25 15.71 27.25 17.5C27.25 19.29 28.71 20.75 30.5 20.75C32.29 20.75 33.75 19.29 33.75 17.5C33.75 15.71 32.29 14.25 30.5 14.25ZM30.5 19.25C29.54 19.25 28.75 18.46 28.75 17.5C28.75 16.54 29.54 15.75 30.5 15.75C31.46 15.75 32.25 16.54 32.25 17.5C32.25 18.46 31.46 19.25 30.5 19.25ZM29.26 26.28C28.94 25.92 28.49 25.71 28.01 25.7C27.54 25.68 27.07 25.87 26.73 26.2L24.95 27.94L22.28 25.23C21.94 24.89 21.5 24.71 21 24.71C20.52 24.71 20.06 24.93 19.74 25.28L14.74 30.78C14.25 31.3 14.12 32.06 14.41 32.72C14.69 33.36 15.28 33.75 15.95 33.75H32.07C32.74 33.75 33.33 33.35 33.61 32.72C33.89 32.06 33.77 31.31 33.29 30.79L29.27 26.29L29.26 26.28ZM32.22 32.12C32.18 32.2 32.13 32.25 32.06 32.25H15.94C15.87 32.25 15.81 32.21 15.78 32.12C15.77 32.09 15.71 31.93 15.83 31.8L20.84 26.29C20.9 26.22 20.99 26.21 21.02 26.21C21.06 26.21 21.14 26.22 21.2 26.29L24.4 29.54C24.69 29.83 25.16 29.84 25.46 29.54L27.77 27.27C27.83 27.21 27.9 27.2 27.94 27.2C28.01 27.2 28.06 27.21 28.13 27.28L32.16 31.79C32.16 31.79 32.16 31.79 32.17 31.8C32.29 31.93 32.23 32.09 32.22 32.12Z"></path></svg>'},"./packages/survey-core/src/images-v2/loading-48x48.svg":function(a,c){a.exports='<svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_19679_369428)"><path opacity="0.1" d="M24 40C15.18 40 8 32.82 8 24C8 15.18 15.18 8 24 8C32.82 8 40 15.18 40 24C40 32.82 32.82 40 24 40ZM24 12C17.38 12 12 17.38 12 24C12 30.62 17.38 36 24 36C30.62 36 36 30.62 36 24C36 17.38 30.62 12 24 12Z" fill="black" fill-opacity="0.91"></path><path d="M10 26C8.9 26 8 25.1 8 24C8 15.18 15.18 8 24 8C25.1 8 26 8.9 26 10C26 11.1 25.1 12 24 12C17.38 12 12 17.38 12 24C12 25.1 11.1 26 10 26Z" fill="#19B394"></path></g><defs><clipPath id="clip0_19679_369428"><rect width="32" height="32" fill="white" transform="translate(8 8)"></rect></clipPath></defs></svg>'},"./packages/survey-core/src/images-v2/maximize-16x16.svg":function(a,c){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.75 3V7C13.75 7.41 13.41 7.75 13 7.75C12.59 7.75 12.25 7.41 12.25 7V4.81L9.53 7.53C9.38 7.68 9.19 7.75 9 7.75C8.81 7.75 8.62 7.68 8.47 7.53C8.18 7.24 8.18 6.76 8.47 6.47L11.19 3.75H9C8.59 3.75 8.25 3.41 8.25 3C8.25 2.59 8.59 2.25 9 2.25H13C13.1 2.25 13.19 2.27 13.29 2.31C13.47 2.39 13.62 2.53 13.7 2.72C13.74 2.81 13.76 2.91 13.76 3.01L13.75 3ZM7.53 8.47C7.24 8.18 6.76 8.18 6.47 8.47L3.75 11.19V9C3.75 8.59 3.41 8.25 3 8.25C2.59 8.25 2.25 8.59 2.25 9V13C2.25 13.1 2.27 13.19 2.31 13.29C2.39 13.47 2.53 13.62 2.72 13.7C2.81 13.74 2.91 13.76 3.01 13.76H7.01C7.42 13.76 7.76 13.42 7.76 13.01C7.76 12.6 7.42 12.26 7.01 12.26H4.82L7.54 9.54C7.83 9.25 7.83 8.77 7.54 8.48L7.53 8.47Z"></path></svg>'},"./packages/survey-core/src/images-v2/minimize-16x16.svg":function(a,c){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.75 8C13.75 8.41 13.41 8.75 13 8.75H3C2.59 8.75 2.25 8.41 2.25 8C2.25 7.59 2.59 7.25 3 7.25H13C13.41 7.25 13.75 7.59 13.75 8Z"></path></svg>'},"./packages/survey-core/src/images-v2/more-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 10.25C11.04 10.25 10.25 11.04 10.25 12C10.25 12.96 11.04 13.75 12 13.75C12.96 13.75 13.75 12.96 13.75 12C13.75 11.04 12.96 10.25 12 10.25ZM11.75 12C11.75 11.86 11.86 11.75 12 11.75C12.14 11.75 12.25 11.86 12.25 12C12.25 12.28 11.75 12.28 11.75 12ZM19 10.25C18.04 10.25 17.25 11.04 17.25 12C17.25 12.96 18.04 13.75 19 13.75C19.96 13.75 20.75 12.96 20.75 12C20.75 11.04 19.96 10.25 19 10.25ZM18.75 12C18.75 11.86 18.86 11.75 19 11.75C19.14 11.75 19.25 11.86 19.25 12C19.25 12.28 18.75 12.28 18.75 12ZM5 10.25C4.04 10.25 3.25 11.04 3.25 12C3.25 12.96 4.04 13.75 5 13.75C5.96 13.75 6.75 12.96 6.75 12C6.75 11.04 5.96 10.25 5 10.25ZM4.75 12C4.75 11.86 4.86 11.75 5 11.75C5.14 11.75 5.25 11.86 5.25 12C5.25 12.28 4.75 12.28 4.75 12Z"></path></svg>'},"./packages/survey-core/src/images-v2/navmenu-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3.25 7C3.25 6.59 3.59 6.25 4 6.25H15C15.41 6.25 15.75 6.59 15.75 7C15.75 7.41 15.41 7.75 15 7.75H4C3.59 7.75 3.25 7.41 3.25 7ZM20 11.25H4C3.59 11.25 3.25 11.59 3.25 12C3.25 12.41 3.59 12.75 4 12.75H20C20.41 12.75 20.75 12.41 20.75 12C20.75 11.59 20.41 11.25 20 11.25ZM9 16.25H4C3.59 16.25 3.25 16.59 3.25 17C3.25 17.41 3.59 17.75 4 17.75H9C9.41 17.75 9.75 17.41 9.75 17C9.75 16.59 9.41 16.25 9 16.25Z"></path></svg>'},"./packages/survey-core/src/images-v2/noimage-48x48.svg":function(a,c){a.exports='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path d="M30.4975 14.2475C28.7075 14.2475 27.2475 15.7075 27.2475 17.4975C27.2475 19.2875 28.7075 20.7475 30.4975 20.7475C32.2875 20.7475 33.7475 19.2875 33.7475 17.4975C33.7475 15.7075 32.2875 14.2475 30.4975 14.2475ZM30.4975 19.2475C29.5375 19.2475 28.7475 18.4575 28.7475 17.4975C28.7475 16.5375 29.5375 15.7475 30.4975 15.7475C31.4575 15.7475 32.2475 16.5375 32.2475 17.4975C32.2475 18.4575 31.4575 19.2475 30.4975 19.2475ZM13.5175 11.2175C13.4375 10.8075 13.7075 10.4175 14.1175 10.3375C14.4275 10.2775 14.7175 10.2475 14.9975 10.2475H32.9975C35.6175 10.2475 37.7475 12.3775 37.7475 14.9975V32.9975C37.7475 33.2775 37.7175 33.5675 37.6575 33.8775C37.5875 34.2375 37.2775 34.4875 36.9175 34.4875C36.8675 34.4875 36.8275 34.4875 36.7775 34.4775C36.3675 34.3975 36.1075 34.0075 36.1775 33.5975C36.2175 33.3775 36.2375 33.1775 36.2375 32.9975V14.9975C36.2375 13.2075 34.7775 11.7475 32.9875 11.7475H14.9975C14.8075 11.7475 14.6175 11.7675 14.3975 11.8075C13.9875 11.8875 13.5975 11.6175 13.5175 11.2075V11.2175ZM34.4775 36.7775C34.5575 37.1875 34.2875 37.5775 33.8775 37.6575C33.5675 37.7175 33.2775 37.7475 32.9975 37.7475H14.9975C12.3775 37.7475 10.2475 35.6175 10.2475 32.9975V14.9975C10.2475 14.7175 10.2775 14.4275 10.3375 14.1175C10.4175 13.7075 10.8075 13.4375 11.2175 13.5175C11.6275 13.5975 11.8875 13.9875 11.8175 14.3975C11.7775 14.6175 11.7575 14.8175 11.7575 14.9975V32.9975C11.7575 34.7875 13.2175 36.2475 15.0075 36.2475H33.0075C33.1975 36.2475 33.3875 36.2275 33.6075 36.1875C34.0075 36.1075 34.4075 36.3775 34.4875 36.7875L34.4775 36.7775ZM15.8275 31.7975C15.6975 31.9375 15.7575 32.0875 15.7775 32.1175C15.8175 32.1975 15.8675 32.2475 15.9375 32.2475H29.8175C30.2275 32.2475 30.5675 32.5875 30.5675 32.9975C30.5675 33.4075 30.2275 33.7475 29.8175 33.7475H15.9375C15.2675 33.7475 14.6775 33.3475 14.3975 32.7175C14.1075 32.0575 14.2375 31.2975 14.7275 30.7775L19.7275 25.2775C20.0475 24.9275 20.5075 24.7175 20.9875 24.7075C21.4875 24.7275 21.9375 24.8875 22.2675 25.2275L25.4675 28.4775C25.7575 28.7675 25.7575 29.2475 25.4675 29.5375C25.1675 29.8275 24.6975 29.8275 24.4075 29.5375L21.2075 26.2875C21.1475 26.2175 21.0675 26.1875 21.0275 26.2075C20.9875 26.2075 20.9075 26.2175 20.8475 26.2875L15.8375 31.7975H15.8275ZM38.5275 38.5275C38.3775 38.6775 38.1875 38.7475 37.9975 38.7475C37.8075 38.7475 37.6175 38.6775 37.4675 38.5275L9.4675 10.5275C9.1775 10.2375 9.1775 9.7575 9.4675 9.4675C9.7575 9.1775 10.2375 9.1775 10.5275 9.4675L38.5275 37.4675C38.8175 37.7575 38.8175 38.2375 38.5275 38.5275Z"></path></svg>'},"./packages/survey-core/src/images-v2/ranking-arrows.svg":function(a,c){a.exports='<svg viewBox="0 0 10 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 5L5 0L0 5H4V9H6V5H10Z"></path><path d="M6 19V15H4V19H0L5 24L10 19H6Z"></path></svg>'},"./packages/survey-core/src/images-v2/rankingundefined-16x16.svg":function(a,c){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M11.75 8C11.75 8.41 11.41 8.75 11 8.75H5C4.59 8.75 4.25 8.41 4.25 8C4.25 7.59 4.59 7.25 5 7.25H11C11.41 7.25 11.75 7.59 11.75 8Z"></path></svg>'},"./packages/survey-core/src/images-v2/rating-star-2.svg":function(a,c){a.exports='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path d="M24 39.5057L11.7226 45.9839C10.4095 46.6739 8.87606 45.5622 9.12525 44.096L11.4734 30.373L1.54411 20.6556C0.480254 19.6207 1.06489 17.8095 2.53128 17.5986L16.2559 15.5957L22.3994 3.10891C23.0512 1.77685 24.9488 1.77685 25.6102 3.10891L31.7441 15.5957L45.4687 17.5986C46.9351 17.8095 47.5197 19.6207 46.4559 20.6556L36.5266 30.373L38.8748 44.096C39.1239 45.5622 37.5905 46.6835 36.2774 45.9839L24 39.5057Z" fill="none" stroke-width="2"></path><path d="M24.3981 33.1305L24 32.9206L23.6019 33.1305L15.8715 37.2059L17.3542 28.5663L17.43 28.1246L17.1095 27.8113L10.83 21.6746L19.4965 20.4049L19.9405 20.3399L20.1387 19.9373L24 12.0936L27.8613 19.9373L28.0595 20.3399L28.5035 20.4049L37.17 21.6746L30.8905 27.8113L30.57 28.1246L30.6458 28.5663L32.1285 37.2059L24.3981 33.1305Z" stroke-width="1.70746"></path></svg>'},"./packages/survey-core/src/images-v2/rating-star-small-2.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19.3373L6.13001 22.4373C5.50001 22.7673 4.77001 22.2373 4.89001 21.5373L6.01001 14.9773L1.26001 10.3273C0.750007 9.83728 1.03001 8.96728 1.73001 8.86728L8.29001 7.90728L11.23 1.93728C11.54 1.29728 12.45 1.29728 12.77 1.93728L15.7 7.90728L22.26 8.86728C22.96 8.96728 23.24 9.83728 22.73 10.3273L17.98 14.9773L19.1 21.5373C19.22 22.2373 18.49 22.7773 17.86 22.4373L11.99 19.3373H12Z" fill="none" stroke-width="2"></path><path d="M12 15.9472L8.58001 17.7572L9.23001 13.9272L6.45001 11.2072L10.29 10.6472L12 7.17725L13.71 10.6472L17.55 11.2072L14.77 13.9272L15.42 17.7572L12 15.9472Z"></path></svg>'},"./packages/survey-core/src/images-v2/rating-star-small.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g><path d="M12 19.3373L6.13001 22.4373C5.50001 22.7673 4.77001 22.2373 4.89001 21.5373L6.01001 14.9773L1.26001 10.3273C0.750007 9.83728 1.03001 8.96728 1.73001 8.86728L8.29001 7.90728L11.23 1.93728C11.54 1.29728 12.45 1.29728 12.77 1.93728L15.7 7.90728L22.26 8.86728C22.96 8.96728 23.24 9.83728 22.73 10.3273L17.98 14.9773L19.1 21.5373C19.22 22.2373 18.49 22.7773 17.86 22.4373L11.99 19.3373H12Z"></path></g></svg>'},"./packages/survey-core/src/images-v2/rating-star.svg":function(a,c){a.exports='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><g><path d="M24 39.5057L11.7226 45.9839C10.4095 46.6739 8.87606 45.5622 9.12525 44.096L11.4734 30.373L1.54411 20.6556C0.480254 19.6207 1.06489 17.8095 2.53128 17.5986L16.2559 15.5957L22.3994 3.10891C23.0512 1.77685 24.9488 1.77685 25.6102 3.10891L31.7441 15.5957L45.4687 17.5986C46.9351 17.8095 47.5197 19.6207 46.4559 20.6556L36.5266 30.373L38.8748 44.096C39.1239 45.5622 37.5905 46.6835 36.2774 45.9839L24 39.5057Z"></path></g></svg>'},"./packages/survey-core/src/images-v2/reorder-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.9444 10.75H15.0544C15.7144 10.75 16.3144 10.39 16.6144 9.80002C16.9144 9.22002 16.8644 8.52002 16.4844 7.98002L13.4244 3.71002C12.7644 2.79002 11.2344 2.79002 10.5744 3.71002L7.5244 7.99002C7.1444 8.53002 7.0944 9.22002 7.3944 9.81002C7.6944 10.4 8.2944 10.76 8.9544 10.76L8.9444 10.75ZM8.7444 8.86002L11.7944 4.58002C11.8644 4.49002 11.9544 4.48002 11.9944 4.48002C12.0344 4.48002 12.1344 4.49002 12.1944 4.58002L15.2544 8.86002C15.3344 8.97002 15.3044 9.07002 15.2744 9.12002C15.2444 9.17002 15.1844 9.26002 15.0544 9.26002H8.9444C8.8144 9.26002 8.7444 9.18002 8.7244 9.12002C8.7044 9.06002 8.6644 8.97002 8.7444 8.86002ZM15.0544 13.25H8.9444C8.2844 13.25 7.6844 13.61 7.3844 14.2C7.0844 14.78 7.1344 15.48 7.5144 16.02L10.5744 20.3C10.9044 20.76 11.4344 21.03 11.9944 21.03C12.5544 21.03 13.0944 20.76 13.4144 20.3L16.4744 16.02C16.8544 15.48 16.9044 14.79 16.6044 14.2C16.3044 13.61 15.7044 13.25 15.0444 13.25H15.0544ZM15.2644 15.15L12.2044 19.43C12.0744 19.61 11.9244 19.61 11.7944 19.43L8.7344 15.15C8.6544 15.04 8.6844 14.94 8.7144 14.89C8.7444 14.84 8.8044 14.75 8.9344 14.75H15.0444C15.1744 14.75 15.2444 14.83 15.2644 14.89C15.2844 14.95 15.3244 15.04 15.2444 15.15H15.2644Z"></path></svg>'},"./packages/survey-core/src/images-v2/restoredown-16x16.svg":function(a,c){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M7.69 8.71C7.73 8.8 7.75 8.9 7.75 9V13C7.75 13.41 7.41 13.75 7 13.75C6.59 13.75 6.25 13.41 6.25 13V10.81L3.53 13.53C3.38 13.68 3.19 13.75 3 13.75C2.81 13.75 2.62 13.68 2.47 13.53C2.18 13.24 2.18 12.76 2.47 12.47L5.19 9.75H3C2.59 9.75 2.25 9.41 2.25 9C2.25 8.59 2.59 8.25 3 8.25H7C7.1 8.25 7.19 8.27 7.29 8.31C7.47 8.39 7.62 8.53 7.7 8.72L7.69 8.71ZM13 6.25H10.81L13.53 3.53C13.82 3.24 13.82 2.76 13.53 2.47C13.24 2.18 12.76 2.18 12.47 2.47L9.75 5.19V3C9.75 2.59 9.41 2.25 9 2.25C8.59 2.25 8.25 2.59 8.25 3V7C8.25 7.1 8.27 7.19 8.31 7.29C8.39 7.47 8.53 7.62 8.72 7.7C8.81 7.74 8.91 7.76 9.01 7.76H13.01C13.42 7.76 13.76 7.42 13.76 7.01C13.76 6.6 13.42 6.26 13.01 6.26L13 6.25Z"></path></svg>'},"./packages/survey-core/src/images-v2/search-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13.9975 2.25C9.7275 2.25 6.2475 5.73 6.2475 10C6.2475 11.87 6.9075 13.58 8.0175 14.92L2.4675 20.47C2.1775 20.76 2.1775 21.24 2.4675 21.53C2.6175 21.68 2.8075 21.75 2.9975 21.75C3.1875 21.75 3.3775 21.68 3.5275 21.53L9.0775 15.98C10.4175 17.08 12.1275 17.75 13.9975 17.75C18.2675 17.75 21.7475 14.27 21.7475 10C21.7475 5.73 18.2675 2.25 13.9975 2.25ZM13.9975 16.25C10.5475 16.25 7.7475 13.45 7.7475 10C7.7475 6.55 10.5475 3.75 13.9975 3.75C17.4475 3.75 20.2475 6.55 20.2475 10C20.2475 13.45 17.4475 16.25 13.9975 16.25Z"></path></svg>'},"./packages/survey-core/src/images-v2/smiley-rate1-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 4.9938C4 4.44362 4.45 3.99348 5 3.99348H6.59L5.3 2.70306C4.91 2.31293 4.91 1.68272 5.3 1.2926C5.69 0.902468 6.32 0.902468 6.71 1.2926L9.71 4.29357C9.8 4.3836 9.88 4.49364 9.93 4.62368C10.03 4.86376 10.03 5.14385 9.93 5.38393C9.88 5.50397 9.81 5.614 9.71 5.71404L6.71 8.71501C6.51 8.91508 6.26 9.00511 6 9.00511C5.74 9.00511 5.49 8.90508 5.29 8.71501C4.9 8.32489 4.9 7.69468 5.29 7.30456L6.58 6.01413H4.99C4.44 6.01413 3.99 5.56399 3.99 5.01381L4 4.9938ZM14.08 5.37393C14.13 5.49397 14.2 5.604 14.3 5.70403L17.3 8.70501C17.5 8.90508 17.75 8.99511 18.01 8.99511C18.27 8.99511 18.52 8.89507 18.72 8.70501C19.11 8.31488 19.11 7.68468 18.72 7.29455L17.43 6.00413H19.02C19.57 6.00413 20.02 5.55399 20.02 5.00381C20.02 4.45363 19.57 4.00348 19.02 4.00348H17.43L18.72 2.71306C19.11 2.32293 19.11 1.69273 18.72 1.3026C18.33 0.912471 17.7 0.912471 17.31 1.3026L14.31 4.30358C14.22 4.39361 14.14 4.50364 14.09 4.63368C13.99 4.87376 13.99 5.15385 14.09 5.39393L14.08 5.37393ZM22 14.9971V20.999C22 22.6496 20.65 24 19 24H5C3.35 24 2 22.6496 2 20.999V14.9971C2 13.3465 3.35 11.9961 5 11.9961H19C20.65 11.9961 22 13.3465 22 14.9971ZM19 13.9967H16V16.9977H20V14.9971C20 14.4469 19.55 13.9967 19 13.9967ZM14 16.9977V13.9967H10V16.9977H14ZM10 18.9984V21.9993H14V18.9984H10ZM4 14.9971V16.9977H8V13.9967H5C4.45 13.9967 4 14.4469 4 14.9971ZM5 21.9993H8V18.9984H4V20.999C4 21.5492 4.45 21.9993 5 21.9993ZM20 20.999V18.9984H16V21.9993H19C19.55 21.9993 20 21.5492 20 20.999Z"></path></svg>'},"./packages/survey-core/src/images-v2/smiley-rate10-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 23C6.85721 23 1.15412 19.9621 0.0134987 13.1669C-0.0765501 12.6272 0.293651 12.1076 0.833944 12.0177C1.38424 11.9277 1.89452 12.2975 1.98457 12.8371C2.92508 18.4732 7.69767 20.9914 12 20.9914C16.3023 20.9914 21.0749 18.4732 22.0154 12.8371C22.1055 12.2975 22.6158 11.9277 23.1661 12.0177C23.7063 12.1076 24.0765 12.6272 23.9865 13.1669C22.8559 19.9521 17.1428 23 11.99 23H12.01ZM21.165 6.15177C22.3056 5.01257 22.3056 3.16386 21.165 2.02465L21.0049 1.85477C19.9143 0.765533 18.1633 0.725561 17.0227 1.71487C15.8821 0.715568 14.1312 0.765533 13.0406 1.85477L12.8705 2.01466C11.7299 3.15386 11.7299 5.00257 12.8705 6.14178L17.0227 10.2889L21.175 6.14178L21.165 6.15177ZM15.742 3.27378L17.0127 4.54289L18.2834 3.27378C18.6436 2.91403 19.2239 2.91403 19.5841 3.27378L19.7442 3.43367C20.1044 3.79342 20.1044 4.37301 19.7442 4.73276L17.0127 7.46086L14.2812 4.73276C13.921 4.37301 13.921 3.79342 14.2812 3.43367L14.4413 3.27378C14.6214 3.09391 14.8515 3.00397 15.0917 3.00397C15.3318 3.00397 15.5619 3.09391 15.742 3.27378ZM11.1595 6.15177C12.3002 5.01257 12.3002 3.16386 11.1595 2.02465L10.9995 1.85477C9.90886 0.765533 8.15792 0.725561 7.0173 1.71487C5.87668 0.715568 4.12573 0.765533 3.03514 1.85477L2.86505 2.01466C1.72443 3.15386 1.72443 5.00257 2.86505 6.14178L7.0173 10.2889L11.1695 6.14178L11.1595 6.15177ZM5.7366 3.27378L7.00729 4.54289L8.27798 3.27378C8.63818 2.91403 9.21849 2.91403 9.57869 3.27378L9.73877 3.43367C10.099 3.79342 10.099 4.37301 9.73877 4.73276L7.00729 7.46086L4.27581 4.73276C3.91562 4.37301 3.91562 3.79342 4.27581 3.43367L4.4359 3.27378C4.61599 3.09391 4.84612 3.00397 5.08625 3.00397C5.32638 3.00397 5.5565 3.09391 5.7366 3.27378Z"></path></svg>'},"./packages/survey-core/src/images-v2/smiley-rate2-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_15894_140103)"><path d="M4.88291 4.51001C4.47291 4.51001 4.08291 4.25001 3.94291 3.84001C3.76291 3.32001 4.03291 2.75001 4.55291 2.57001L8.32291 1.25001C8.84291 1.06001 9.41291 1.34001 9.59291 1.86001C9.77291 2.38001 9.50291 2.95001 8.98291 3.13001L5.20291 4.45001C5.09291 4.49001 4.98291 4.51001 4.87291 4.51001H4.88291ZM19.8129 3.89001C20.0229 3.38001 19.7729 2.79001 19.2629 2.59001L15.5529 1.07001C15.0429 0.860007 14.4529 1.11001 14.2529 1.62001C14.0429 2.13001 14.2929 2.72001 14.8029 2.92001L18.5029 4.43001C18.6229 4.48001 18.7529 4.50001 18.8829 4.50001C19.2729 4.50001 19.6529 4.27001 19.8129 3.88001V3.89001ZM3.50291 6.00001C2.64291 6.37001 1.79291 6.88001 1.00291 7.48001C0.79291 7.64001 0.64291 7.87001 0.59291 8.14001C0.48291 8.73001 0.87291 9.29001 1.45291 9.40001C2.04291 9.51001 2.60291 9.12001 2.71291 8.54001C2.87291 7.69001 3.12291 6.83001 3.50291 5.99001V6.00001ZM21.0429 8.55001C21.6029 10.48 24.2429 8.84001 22.7529 7.48001C21.9629 6.88001 21.1129 6.37001 20.2529 6.00001C20.6329 6.84001 20.8829 7.70001 21.0429 8.55001ZM21.5729 13.2C21.2529 14.2 22.5429 15.09 23.3629 14.39C23.8529 14 23.9229 13.29 23.5429 12.81C21.7429 10.67 22.1329 10.55 21.5829 13.2H21.5729ZM1.75291 11C1.22291 11.79 -0.14709 12.64 0.0129102 13.75C0.15291 14.36 0.75291 14.74 1.35291 14.6C2.98291 14.1 1.80291 12.22 1.75291 11ZM19.8829 17C19.8829 13.14 16.2929 10 11.8829 10C7.47291 10 3.88291 13.14 3.88291 17C3.88291 20.86 7.47291 24 11.8829 24C16.2929 24 19.8829 20.86 19.8829 17ZM17.8829 17C17.8829 19.76 15.1929 22 11.8829 22C8.57291 22 5.88291 19.76 5.88291 17C5.88291 14.24 8.57291 12 11.8829 12C15.1929 12 17.8829 14.24 17.8829 17Z"></path></g><defs><clipPath id="clip0_15894_140103"><rect width="24" height="24" fill="white"></rect></clipPath></defs></svg>'},"./packages/survey-core/src/images-v2/smiley-rate3-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.01915 7C6.46961 7 6.01998 6.55 6.01998 6V2C6.01998 1.45 6.46961 1 7.01915 1C7.56869 1 8.01832 1.45 8.01832 2V6C8.01832 6.55 7.56869 7 7.01915 7ZM18.01 6V2C18.01 1.45 17.5604 1 17.0108 1C16.4613 1 16.0117 1.45 16.0117 2V6C16.0117 6.55 16.4613 7 17.0108 7C17.5604 7 18.01 6.55 18.01 6ZM16.4213 21.58L18.01 19.99L19.2989 21.28C19.6886 21.67 20.3181 21.67 20.7077 21.28C21.0974 20.89 21.0974 20.26 20.7077 19.87L19.4188 18.58C18.6395 17.8 17.3705 17.8 16.5912 18.58L15.0025 20.17L13.4138 18.58C12.6345 17.8 11.3655 17.8 10.5862 18.58L8.9975 20.17L7.40883 18.58C6.62948 17.8 5.36053 17.8 4.58118 18.58L3.29226 19.87C2.90258 20.26 2.90258 20.89 3.29226 21.28C3.68193 21.67 4.31141 21.67 4.70108 21.28L5.99001 19.99L7.57868 21.58C8.35803 22.36 9.62698 22.36 10.4063 21.58L11.995 19.99L13.5837 21.58C13.9734 21.97 14.4829 22.16 14.9925 22.16C15.5021 22.16 16.0117 21.97 16.4013 21.58H16.4213Z"></path></svg>'},"./packages/survey-core/src/images-v2/smiley-rate4-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.06927 7C6.51927 7 6.06927 6.55 6.06927 6V2C6.06927 1.45 6.51927 1 7.06927 1C7.61927 1 8.06927 1.45 8.06927 2V6C8.06927 6.55 7.61927 7 7.06927 7ZM18.0693 6V2C18.0693 1.45 17.6193 1 17.0693 1C16.5193 1 16.0693 1.45 16.0693 2V6C16.0693 6.55 16.5193 7 17.0693 7C17.6193 7 18.0693 6.55 18.0693 6ZM22.5693 21.9C23.0693 21.66 23.2793 21.07 23.0393 20.57C21.1093 16.52 16.9093 14 12.0693 14C7.22927 14 3.02927 16.52 1.09927 20.57C0.859273 21.07 1.06927 21.67 1.56927 21.9C2.06927 22.14 2.65927 21.93 2.89927 21.43C4.49927 18.08 8.00927 16 12.0593 16C16.1093 16 19.6293 18.08 21.2193 21.43C21.3893 21.79 21.7493 22 22.1193 22C22.2593 22 22.4093 21.97 22.5493 21.9H22.5693Z"></path></svg>'},"./packages/survey-core/src/images-v2/smiley-rate5-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.00572 7C6.45572 7 6.00572 6.55 6.00572 6V2C6.00572 1.45 6.45572 1 7.00572 1C7.55572 1 8.00572 1.45 8.00572 2V6C8.00572 6.55 7.55572 7 7.00572 7ZM18.0057 6V2C18.0057 1.45 17.5557 1 17.0057 1C16.4557 1 16.0057 1.45 16.0057 2V6C16.0057 6.55 16.4557 7 17.0057 7C17.5557 7 18.0057 6.55 18.0057 6ZM19.9457 21.33C20.1257 20.81 19.8557 20.24 19.3357 20.05C14.5457 18.35 9.45572 18.35 4.66572 20.05C4.14572 20.23 3.87572 20.81 4.05572 21.33C4.23572 21.85 4.80572 22.12 5.33572 21.94C9.69572 20.4 14.3057 20.4 18.6657 21.94C18.7757 21.98 18.8857 22 18.9957 22C19.4057 22 19.7957 21.74 19.9357 21.33H19.9457Z"></path></svg>'},"./packages/survey-core/src/images-v2/smiley-rate6-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7 7C6.45 7 6 6.55 6 6V2C6 1.45 6.45 1 7 1C7.55 1 8 1.45 8 2V6C8 6.55 7.55 7 7 7ZM18 6V2C18 1.45 17.55 1 17 1C16.45 1 16 1.45 16 2V6C16 6.55 16.45 7 17 7C17.55 7 18 6.55 18 6ZM21 21C21 20.45 20.55 20 20 20H4C3.45 20 3 20.45 3 21C3 21.55 3.45 22 4 22H20C20.55 22 21 21.55 21 21Z"></path></svg>'},"./packages/survey-core/src/images-v2/smiley-rate7-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.0022 23.99C11.452 23.99 11.0018 23.5402 11.0018 22.9904C11.0018 22.4407 11.452 21.9909 12.0022 21.9909C16.3137 21.9909 21.0755 19.472 22.0158 13.8344C22.1058 13.2947 22.616 12.9248 23.1662 13.0148C23.7064 13.1047 24.0765 13.6245 23.9865 14.1643C22.8561 20.9513 17.144 24 11.9922 24L12.0022 23.99ZM8.00072 5.99783V1.99957C8.00072 1.4498 7.55056 1 7.00036 1C6.45016 1 6 1.4498 6 1.99957V5.99783C6 6.54759 6.45016 6.99739 7.00036 6.99739C7.55056 6.99739 8.00072 6.54759 8.00072 5.99783ZM18.0043 5.99783V1.99957C18.0043 1.4498 17.5542 1 17.004 1C16.4538 1 16.0036 1.4498 16.0036 1.99957V5.99783C16.0036 6.54759 16.4538 6.99739 17.004 6.99739C17.5542 6.99739 18.0043 6.54759 18.0043 5.99783Z"></path></svg>'},"./packages/survey-core/src/images-v2/smiley-rate8-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 24C6.85721 24 1.15412 20.96 0.0134987 14.16C-0.0765501 13.62 0.293651 13.1 0.833944 13.01C1.38424 12.92 1.89452 13.29 1.98457 13.83C2.92508 19.47 7.69767 21.99 12 21.99C16.3023 21.99 21.0749 19.47 22.0154 13.83C22.1055 13.29 22.6158 12.92 23.1661 13.01C23.7063 13.1 24.0765 13.62 23.9865 14.16C22.8559 20.95 17.1428 24 11.99 24H12.01ZM8.00783 6V2C8.00783 1.45 7.55759 1 7.00729 1C6.45699 1 6.00675 1.45 6.00675 2V6C6.00675 6.55 6.45699 7 7.00729 7C7.55759 7 8.00783 6.55 8.00783 6ZM18.0133 6V2C18.0133 1.45 17.563 1 17.0127 1C16.4624 1 16.0122 1.45 16.0122 2V6C16.0122 6.55 16.4624 7 17.0127 7C17.563 7 18.0133 6.55 18.0133 6Z"></path></svg>'},"./packages/survey-core/src/images-v2/smiley-rate9-24x24.svg":function(a,c){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 24C6.85767 24 1.15509 20.96 0.0145752 14.16C-0.0354475 13.87 0.0445888 13.57 0.234675 13.35C0.424761 13.13 0.704888 13 0.995019 13H23.005C23.2951 13 23.5752 13.13 23.7653 13.35C23.9554 13.57 24.0354 13.87 23.9854 14.16C22.8549 20.95 17.1423 24 11.99 24H12.01ZM2.25559 15C3.61621 19.82 8.0182 22 12.01 22C16.0018 22 20.4038 19.82 21.7644 15H2.25559ZM8.00819 6V2C8.00819 1.45 7.55799 1 7.00774 1C6.45749 1 6.00729 1.45 6.00729 2V6C6.00729 6.55 6.45749 7 7.00774 7C7.55799 7 8.00819 6.55 8.00819 6ZM18.0127 6V2C18.0127 1.45 17.5625 1 17.0123 1C16.462 1 16.0118 1.45 16.0118 2V6C16.0118 6.55 16.462 7 17.0123 7C17.5625 7 18.0127 6.55 18.0127 6Z"></path></svg>'}})})});var At=hi(wr());var qc=hi(wr()),ve=hi(wr()),ks=hi(Bc()),Qc=hi(Nc());var Ci=class{attach(c){return this._attachedHost=c,c.attach(this)}detach(){let c=this._attachedHost;c!=null&&(this._attachedHost=null,c.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(c){this._attachedHost=c}},xi=class extends Ci{constructor(c,s,p,g,S){super(),this.component=c,this.viewContainerRef=s,this.injector=p,this.componentFactoryResolver=g,this.projectableNodes=S}},Ds=class extends Ci{constructor(c,s,p,g){super(),this.templateRef=c,this.viewContainerRef=s,this.context=p,this.injector=g}get origin(){return this.templateRef.elementRef}attach(c,s=this.context){return this.context=s,super.attach(c)}detach(){return this.context=void 0,super.detach()}},Ms=class extends Ci{constructor(c){super(),this.element=c instanceof gt?c.nativeElement:c}},As=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(c){if(c instanceof xi)return this._attachedPortal=c,this.attachComponentPortal(c);if(c instanceof Ds)return this._attachedPortal=c,this.attachTemplatePortal(c);if(this.attachDomPortal&&c instanceof Ms)return this._attachedPortal=c,this.attachDomPortal(c)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(c){this._disposeFn=c}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Pr=class extends As{constructor(c,s,p,g,S){super(),this.outletElement=c,this._componentFactoryResolver=s,this._appRef=p,this._defaultInjector=g,this.attachDomPortal=ue=>{this._document;let D=ue.element;D.parentNode;let Pt=this._document.createComment("dom-portal");D.parentNode.insertBefore(Pt,D),this.outletElement.appendChild(D),this._attachedPortal=ue,super.setDisposeFn(()=>{Pt.parentNode&&Pt.parentNode.replaceChild(D,Pt)})},this._document=S}attachComponentPortal(c){let p=(c.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(c.component),g;return c.viewContainerRef?(g=c.viewContainerRef.createComponent(p,c.viewContainerRef.length,c.injector||c.viewContainerRef.injector,c.projectableNodes||void 0),this.setDisposeFn(()=>g.destroy())):(g=p.create(c.injector||this._defaultInjector||vr.NULL),this._appRef.attachView(g.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(g.hostView),g.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(g)),this._attachedPortal=c,g}attachTemplatePortal(c){let s=c.viewContainerRef,p=s.createEmbeddedView(c.templateRef,c.context,{injector:c.injector});return p.rootNodes.forEach(g=>this.outletElement.appendChild(g)),p.detectChanges(),this.setDisposeFn(()=>{let g=s.indexOf(p);g!==-1&&s.remove(g)}),this._attachedPortal=c,p}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(c){return c.hostView.rootNodes[0]}};var Ev=["template"],Ls=["actionContent"],Mt=a=>({model:a}),Ov=(a,c)=>({name:a,data:c,default:"sv-action-bar-item"});function Rv(a,c){a&1&&(H(0),O(1,"div",5),z())}function Dv(a,c){}function Mv(a,c){if(a&1&&(P(0,"div",1)(1,"div",2),x(2,Rv,2,0,"ng-container",3)(3,Dv,0,0,"ng-template",4),I()()),a&2){let s=v();_(s.model.getActionRootCss()),f("id",s.id),h(2),f("ngIf",s.model.needSeparator),h(),f("component",oe(7,Ov,s.model.component,ne(5,Mt,s.model)))}}var Hn=["container"];function Av(a,c){if(a&1&&(H(0),O(1,"sv-ng-action",5),z()),a&2){let s=c.$implicit;h(),f("model",s)}}function kv(a,c){if(a&1){let s=fe();P(0,"div",3,1),J("click",function(g){B(s);let S=v(2);return N(S.onClick(g))}),x(2,Av,2,1,"ng-container",4),I()}if(a&2){let s=v(2);_(s.model.getRootCss()),h(2),f("ngForOf",s.model.renderedActions)}}function Lv(a,c){if(a&1&&x(0,kv,3,3,"div",2),a&2){let s=v();f("ngIf",s.model.hasActions)}}var Fv=(a,c,s,p,g)=>({left:a,top:c,height:s,minWidth:p,width:g}),ge=(a,c)=>({name:a,data:c});function jv(a,c){}function Bv(a,c){if(a&1&&(H(0),x(1,jv,0,0,"ng-template",7),z()),a&2){let s=v();h(),f("component",oe(3,ge,s.model.popupHeaderTemplate,ne(1,Mt,s.model)))}}function Nv(a,c){if(a&1&&(P(0,"div",9),re(1),I()),a&2){let s=v();h(),me(s.model.title)}}function qv(a,c){}function Qv(a,c){if(a&1&&(P(0,"div",10),O(1,"sv-ng-action-bar",11),I()),a&2){let s=v();h(),f("model",s.model.footerToolbar)}}var Hv=["svgContainer"],Vr=["*"];function zv(a,c){a&1&&ze(0)}function Uv(a,c){if(a&1&&(P(0,"h1"),x(1,zv,1,0,"ng-container",4),I()),a&2){v();let s=Ue(8),p=v();_(p.element.cssTitle),Z("id",p.element.ariaTitleId)("tabindex",p.element.titleTabIndex)("aria-expanded",p.element.titleAriaExpanded)("role",p.element.titleAriaRole)("aria-label",p.ariaLabel),h(),f("ngTemplateOutlet",s)}}function Wv(a,c){a&1&&ze(0)}function $v(a,c){if(a&1&&(P(0,"h2"),x(1,Wv,1,0,"ng-container",4),I()),a&2){v();let s=Ue(8),p=v();_(p.element.cssTitle),Z("id",p.element.ariaTitleId)("tabindex",p.element.titleTabIndex)("aria-expanded",p.element.titleAriaExpanded)("role",p.element.titleAriaRole)("aria-label",p.ariaLabel),h(),f("ngTemplateOutlet",s)}}function Gv(a,c){a&1&&ze(0)}function Zv(a,c){if(a&1&&(P(0,"h3"),x(1,Gv,1,0,"ng-container",4),I()),a&2){v();let s=Ue(8),p=v();_(p.element.cssTitle),Z("id",p.element.ariaTitleId)("tabindex",p.element.titleTabIndex)("aria-expanded",p.element.titleAriaExpanded)("role",p.element.titleAriaRole)("aria-label",p.ariaLabel),h(),f("ngTemplateOutlet",s)}}function Jv(a,c){a&1&&ze(0)}function Kv(a,c){if(a&1&&(P(0,"h4"),x(1,Jv,1,0,"ng-container",4),I()),a&2){v();let s=Ue(8),p=v();_(p.element.cssTitle),Z("id",p.element.ariaTitleId)("tabindex",p.element.titleTabIndex)("aria-expanded",p.element.titleAriaExpanded)("role",p.element.titleAriaRole)("aria-label",p.ariaLabel),h(),f("ngTemplateOutlet",s)}}function Yv(a,c){a&1&&ze(0)}function Xv(a,c){if(a&1&&(P(0,"h5"),x(1,Yv,1,0,"ng-container",4),I()),a&2){v();let s=Ue(8),p=v();_(p.element.cssTitle),Z("id",p.element.ariaTitleId)("tabindex",p.element.titleTabIndex)("aria-expanded",p.element.titleAriaExpanded)("role",p.element.titleAriaRole)("aria-label",p.ariaLabel),h(),f("ngTemplateOutlet",s)}}function ey(a,c){a&1&&ze(0)}function ty(a,c){if(a&1&&(P(0,"h6"),x(1,ey,1,0,"ng-container",4),I()),a&2){v();let s=Ue(8),p=v();_(p.element.cssTitle),Z("id",p.element.ariaTitleId)("tabindex",p.element.titleTabIndex)("aria-expanded",p.element.titleAriaExpanded)("role",p.element.titleAriaRole)("aria-label",p.ariaLabel),h(),f("ngTemplateOutlet",s)}}function ny(a,c){a&1&&gi(0)}function iy(a,c){if(a&1&&(H(0,2),x(1,Uv,2,8,"h1",3)(2,$v,2,8,"h2",3)(3,Zv,2,8,"h3",3)(4,Kv,2,8,"h4",3)(5,Xv,2,8,"h5",3)(6,ty,2,8,"h6",3),z(),x(7,ny,1,0,"ng-template",null,1,pe)),a&2){let s=v();f("ngSwitch",s.tagName),h(),f("ngSwitchCase","h1"),h(),f("ngSwitchCase","h2"),h(),f("ngSwitchCase","h3"),h(),f("ngSwitchCase","h4"),h(),f("ngSwitchCase","h5"),h(),f("ngSwitchCase","h6")}}var ry=["sv-ng-svg-icon",""];function oy(a,c){}function sy(a,c){a&1&&ze(0)}function ay(a,c){if(a&1&&(H(0),x(1,sy,1,0,"ng-container",3),z()),a&2){v();let s=Ue(3);h(),f("ngTemplateOutlet",s)}}function ly(a,c){a&1&&ze(0)}function uy(a,c){if(a&1&&(H(0),P(1,"div",4)(2,"span",5),x(3,ly,1,0,"ng-container",3),I(),O(4,"sv-ng-action-bar",6),I(),z()),a&2){v();let s=Ue(3),p=v();h(3),f("ngTemplateOutlet",s),h(),f("model",p.element.getTitleToolbar())}}function cy(a,c){if(a&1&&O(0,"sv-ng-string",6),a&2){let s=v(3);f("model",s.element.locTitle)}}function py(a,c){if(a&1&&(P(0,"span"),re(1),I()),a&2){let s=v(4);_(s.element.cssRequiredText),Z("aria-hidden",!0),h(),me(s.element.requiredText)}}function dy(a,c){if(a&1&&(P(0,"span",10),re(1),I()),a&2){let s=v(4);_(s.element.cssTitleNumber),Z("aria-hidden",!0),h(),me(s.element.no)}}function fy(a,c){a&1&&(P(0,"span"),re(1,"\xA0"),I())}function hy(a,c){if(a&1&&(P(0,"span"),re(1),I()),a&2){let s=v(4);_(s.element.cssRequiredText),Z("aria-hidden",!0),h(),me(s.element.requiredText)}}function my(a,c){a&1&&(P(0,"span"),re(1,"\xA0"),I())}function gy(a,c){a&1&&(P(0,"span"),re(1,"\xA0"),I())}function vy(a,c){if(a&1&&(P(0,"span"),re(1),I()),a&2){let s=v(4);_(s.element.cssRequiredText),Z("aria-hidden",!0),h(),me(s.element.requiredText)}}function yy(a,c){if(a&1&&(H(0),x(1,py,2,4,"span",8)(2,dy,2,4,"span",9)(3,fy,2,0,"span",2)(4,hy,2,4,"span",8)(5,my,2,0,"span",2),O(6,"sv-ng-string",6),x(7,gy,2,0,"span",2)(8,vy,2,4,"span",8),z()),a&2){let s=v(3);h(),f("ngIf",s.element.isRequireTextOnStart),h(),f("ngIf",s.element.no),h(),f("ngIf",s.element.no),h(),f("ngIf",s.element.isRequireTextBeforeTitle),h(),f("ngIf",s.element.isRequireTextBeforeTitle),h(),f("model",s.element.locTitle),h(),f("ngIf",s.element.isRequireTextAfterTitle),h(),f("ngIf",s.element.isRequireTextAfterTitle)}}function by(a,c){if(a&1&&x(0,cy,1,1,"sv-ng-string",7)(1,yy,9,8,"ng-container",2),a&2){let s=v(2);f("ngIf",s.element.isTitleRenderedAsString),h(),f("ngIf",!s.element.isTitleRenderedAsString)}}function Cy(a,c){if(a&1&&x(0,ay,2,1,"ng-container",2)(1,uy,5,2,"ng-container",2)(2,by,2,2,"ng-template",null,1,pe),a&2){let s=v();f("ngIf",!s.element.hasTitleActions),h(),f("ngIf",s.element.hasTitleActions)}}function xy(a,c){if(a&1&&(_e(),O(0,"svg",5)),a&2){let s=v(3);f("iconName","icon-expand-16x16")("partCss",s.element.getCssTitleExpandableSvg())("size","auto")}}function _y(a,c){if(a&1&&(_e(),O(0,"svg",5)),a&2){let s=v(3);f("iconName","icon-collapse-16x16")("partCss",s.element.getCssTitleExpandableSvg())("size","auto")}}function wy(a,c){if(a&1&&(P(0,"sv-ng-dynamic-head",2),x(1,xy,1,3,"svg",3)(2,_y,1,3,"svg",3),O(3,"sv-ng-element-title-actions",4),I()),a&2){let s=v(2);f("tagName",s.element.titleTagName)("element",s.element),h(),f("ngIf",!s.element.isExpanded&&s.element.getCssTitleExpandableSvg()),h(),f("ngIf",s.element.isExpanded&&s.element.getCssTitleExpandableSvg()),h(),f("element",s.element)}}function Py(a,c){if(a&1&&x(0,wy,4,5,"sv-ng-dynamic-head",1),a&2){let s=v();f("ngIf",s.element.hasTitle)}}var Vy=["sv-ng-survey-header",""],zn=a=>({data:a});function Iy(a,c){}function Ty(a,c){if(a&1&&x(0,Iy,0,0,"ng-template",2),a&2){let s=v();f("component",oe(3,ge,s.survey.getElementWrapperComponentName(s.survey,"logo-image"),ne(1,zn,s.survey.getElementWrapperComponentData(s.survey,"logo-image"))))}}function Sy(a,c){if(a&1&&O(0,"div",5),a&2){let s=v(2);_(s.survey.css.description),f("model",s.survey.locDescription)}}function Ey(a,c){if(a&1&&(P(0,"div"),O(1,"sv-ng-element-title",3),x(2,Sy,1,3,"div",4),I()),a&2){let s=v();_(s.survey.css.headerText),Ne("max-width",s.survey.titleMaxWidth),h(),f("element",s.survey),h(),f("ngIf",s.survey.renderedHasDescription)}}function Oy(a,c){}function Ry(a,c){if(a&1&&x(0,Oy,0,0,"ng-template",2),a&2){let s=v();f("component",oe(3,ge,s.survey.getElementWrapperComponentName(s.survey,"logo-image"),ne(1,zn,s.survey.getElementWrapperComponentData(s.survey,"logo-image"))))}}var Dy=["sv-ng-errors",""],My=(a,c,s)=>({element:a,cssClasses:c,error:s});function Ay(a,c){}function ky(a,c){if(a&1&&(H(0),x(1,Ay,0,0,"ng-template",1),z()),a&2){let s=c.$implicit,p=v();h(),f("component",oe(5,ge,p.element.survey.questionErrorComponent,un(1,My,p.element,p.element.cssClasses,s)))}}function Ly(a,c){}function Fy(a,c){if(a&1){let s=fe();P(0,"div",3,1),J("focusin",function(){B(s);let g=v(2);return N(g.model.focusIn())}),x(2,Ly,0,0,"ng-template",4),I()}if(a&2){let s=v(2);Ee(s.rootStyle),_(s.model.cssClasses.questionWrapper),h(2),f("component",oe(5,ge,s.componentName,s.componentData))}}function jy(a,c){if(a&1&&x(0,Fy,3,8,"div",2),a&2){let s=v();f("ngIf",!!s.model)}}var By=a=>({element:a});function Ny(a,c){if(a&1&&O(0,"sv-ng-element",5),a&2){let s=v().$implicit;f("model",s)}}function qy(a,c){}function Qy(a,c){if(a&1&&x(0,qy,0,0,"ng-template",6),a&2){let s=v().$implicit;f("component",oe(3,ge,s.skeletonComponentName,ne(1,By,s)))}}function Hy(a,c){if(a&1&&(H(0),x(1,Ny,1,1,"sv-ng-element",3)(2,Qy,1,6,null,4),z()),a&2){let s=c.$implicit,p=v(2);h(),f("ngIf",p.row.isNeedRender),h(),f("ngIf",!p.row.isNeedRender&&s.skeletonComponentName)}}function zy(a,c){if(a&1&&(P(0,"div",null,1),x(2,Hy,3,2,"ng-container",2),I()),a&2){let s=v();_(s.row.getRowCss()),h(2),f("ngForOf",s.row.visibleElements)("ngForTrackBy",s.trackElementBy)}}var Uy=["pageContainer"],dn=a=>({componentData:a});function Wy(a,c){if(a&1&&(P(0,"div"),O(1,"sv-ng-string",7),I()),a&2){let s=v(3);_(s.model.cssClasses.page.description),h(),f("model",s.model.locDescription)}}function $y(a,c){if(a&1&&O(0,"div",8),a&2){let s=v(3);f("element",s.model)}}function Gy(a,c){if(a&1&&O(0,"sv-ng-row",10),a&2){let s=v().$implicit;f("row",s)}}function Zy(a,c){if(a&1&&(H(0),x(1,Gy,1,1,"ng-template",9),z()),a&2){let s=c.$implicit,p=v(3);h(),f("component",oe(3,ge,p.model.survey.getRowWrapperComponentName(s),ne(1,dn,p.model.survey.getRowWrapperComponentData(s))))}}function Jy(a,c){if(a&1&&(H(0),P(1,"div",null,1),O(3,"sv-ng-element-title",3),x(4,Wy,2,3,"div",4)(5,$y,1,1,"div",5)(6,Zy,2,6,"ng-container",6),I(),z()),a&2){let s=v(2);h(),_(s.model.cssRoot),h(2),f("element",s.model),h(),f("ngIf",s.model._showDescription),h(),f("ngIf",s.model.hasVisibleErrors),h(),f("ngForOf",s.model.visibleRows)}}function Ky(a,c){if(a&1&&x(0,Jy,7,6,"ng-container",2),a&2){let s=v();f("ngIf",!!s.survey&&!!s.model&&s.model.isVisible&&!!s.model.survey)}}var Yy=a=>({visibility:a});function Xy(a,c){if(a&1&&(H(0),P(1,"div",2)(2,"span"),re(3),I(),O(4,"sv-action-bar",3),I(),z()),a&2){let s=v(2);h(),Ee(ne(6,Yy,s.notifier.active?"visible":"hidden")),_(s.notifier.css),h(2),me(s.notifier.message),h(),f("model",s.notifier.actionBar)}}function e0(a,c){if(a&1&&x(0,Xy,5,8,"ng-container",1),a&2){let s=v();f("ngIf",s.notifier.isDisplayed)}}var t0=["surveyContainer"],n0=a=>({survey:a,container:"header",needRenderWrapper:!1}),cn=a=>({name:"sv-components-container",data:a}),i0=a=>({survey:a,container:"footer",needRenderWrapper:!1}),r0=a=>({survey:a,container:"left"}),o0=a=>({survey:a,container:"center"}),s0=a=>({survey:a,container:"contentTop"}),a0=a=>({survey:a,container:"contentBottom"}),l0=a=>({survey:a,container:"right"}),u0=a=>({survey:a,container:"completePage"});function c0(a,c){a&1&&O(0,"sv-svg-bundle")}function p0(a,c){if(a&1&&O(0,"div"),a&2){let s=v(3);Ee(s.model.backgroundImageStyle),_(s.model.css.rootBackgroundImage)}}function d0(a,c){if(a&1&&O(0,"div",13),a&2){let s=v(3);_(s.model.css.header),f("survey",s.model)}}function f0(a,c){}function h0(a,c){}function m0(a,c){}function g0(a,c){}function v0(a,c){if(a&1&&(H(0),O(1,"sv-ng-page",16),z()),a&2){let s=v(4);h(),f("model",s.model.activePage)("survey",s.model)}}function y0(a,c){}function b0(a,c){a&1&&O(0,"sv-brand-info")}function C0(a,c){}function x0(a,c){if(a&1&&(P(0,"div"),x(1,h0,0,0,"ng-template",9),P(2,"div",14),x(3,m0,0,0,"ng-template",9),P(4,"div",15),x(5,g0,0,0,"ng-template",9)(6,v0,2,2,"ng-container",4)(7,y0,0,0,"ng-template",9)(8,b0,1,0,"sv-brand-info",4),I()(),x(9,C0,0,0,"ng-template",9),I()),a&2){let s=v(3);_(s.model.bodyContainerCss),h(),f("component",ne(16,cn,ne(14,r0,s.model))),h(2),f("component",ne(20,cn,ne(18,o0,s.model))),h(),_(s.model.bodyCss),Ne("max-width",s.model.renderedWidth),f("id",s.model.activePage?s.model.activePage.id:""),h(),f("component",ne(24,cn,ne(22,s0,s.model))),h(),f("ngIf",s.model.activePage),h(),f("component",ne(28,cn,ne(26,a0,s.model))),h(),f("ngIf",s.model.showBrandInfo),h(),f("component",ne(32,cn,ne(30,l0,s.model)))}}function _0(a,c){}function w0(a,c){if(a&1&&(O(0,"div",17),_t(1,"safeHtml")),a&2){let s=v(3);_(s.model.completedCss),f("innerHtml",wt(1,3,s.model.processedCompletedHtml),ln)}}function P0(a,c){}function V0(a,c){if(a&1&&x(0,P0,0,0,"ng-template",9),a&2){let s=v(3);f("component",ne(3,cn,ne(1,u0,s.model)))}}function I0(a,c){if(a&1&&(O(0,"div",17),_t(1,"safeHtml")),a&2){let s=v(3);_(s.model.completedBeforeCss),f("innerHtml",wt(1,3,s.model.processedCompletedBeforeHtml),ln)}}function T0(a,c){if(a&1&&O(0,"div",17),a&2){let s=v(3);_(s.model.loadingBodyCss),f("innerHtml",s.model.processedLoadingHtml,ln)}}function S0(a,c){if(a&1&&(P(0,"div"),re(1),I()),a&2){let s=v(3);_(s.model.css.bodyEmpty),h(),me(s.model.emptySurveyText)}}function E0(a,c){if(a&1&&(P(0,"div",3,1),x(2,c0,1,0,"sv-svg-bundle",4),P(3,"div"),x(4,p0,1,4,"div",5),P(5,"form",6),O(6,"div",7),P(7,"div"),x(8,d0,1,3,"div",8)(9,f0,0,0,"ng-template",9)(10,x0,10,34,"div",10)(11,_0,0,0,"ng-template",9)(12,w0,2,5,"div",11)(13,V0,1,5,null,4)(14,I0,2,5,"div",11)(15,T0,1,3,"div",11)(16,S0,2,3,"div",10),I()(),O(17,"sv-notifier",12),I()()),a&2){let s=v(2);Ee(s.model.themeVariables),_(s.model.getRootCss()),f("lang",s.model.locale||"en")("dir",s.model.localeDir),h(2),f("ngIf",s.model.needRenderIcons),h(),_(s.model.wrapperFormCss),h(),f("ngIf",!!s.model.renderBackgroundImage),h(2),f("hidden",s.model.hasLogo),h(),_(s.model.css.container),h(),f("ngIf",s.model.headerView==="basic"&&s.model.renderedHasHeader),h(),f("component",ne(25,cn,ne(23,n0,s.model))),h(),f("ngIf",s.model.isShowingPage),h(),f("component",ne(29,cn,ne(27,i0,s.model))),h(),f("ngIf",s.model.state==="completed"&&s.model.showCompletedPage),h(),f("ngIf",s.model.state==="completed"&&s.model.showCompletedPage),h(),f("ngIf",s.model.state==="completedbefore"),h(),f("ngIf",s.model.state==="loading"),h(),f("ngIf",s.model.state==="empty"),h(),f("notifier",s.model.notifier)}}function O0(a,c){if(a&1&&x(0,E0,18,31,"div",2),a&2){let s=v();f("ngIf",!!s.model)}}var Hc=["contentElement"],R0=["sv-ng-element-header",""];function D0(a,c){if(a&1&&O(0,"div",3),a&2){let s=v();_(s.element.cssDescription),Ne("display",s.element.hasDescription?"":"none"),f("model",s.element.locDescription),Z("id",s.element.ariaDescriptionId)}}function M0(a,c){if(a&1&&(H(0),O(1,"sv-ng-action-bar",4),z()),a&2){let s=v();h(),f("model",s.element.additionalTitleToolbar)}}var Fs=a=>({name:"sv-text-area",data:a});function A0(a,c){}function k0(a,c){if(a&1&&(H(0),x(1,A0,0,0,"ng-template",1),z()),a&2){let s=v();h(),f("component",ne(3,Fs,ne(1,Mt,s.question.commentTextAreaModel)))}}function L0(a,c){if(a&1&&(P(0,"div"),re(1),I()),a&2){let s=v();h(),me(s.question.comment)}}var F0=["elementContainer"],j0=(a,c)=>({name:a,data:c,default:"skeleton-question"});function B0(a,c){if(a&1&&O(0,"div",7),a&2){let s=v(3);f("element",s.model)}}function N0(a,c){if(a&1&&O(0,"div",8),a&2){let s=v(3);f("element",s.model)}}function q0(a,c){if(a&1&&O(0,"div",7),a&2){let s=v(4);f("element",s.model)}}function Q0(a,c){}function H0(a,c){if(a&1&&(P(0,"div"),O(1,"div",12)(2,"sv-ng-comment",13),I()),a&2){let s=v(4);_(s.model.getCommentAreaCss(!1)),h(),f("model",s.model.locCommentText),h(),f("question",s.model)}}function z0(a,c){if(a&1&&O(0,"div",7),a&2){let s=v(4);f("element",s.model)}}function U0(a,c){if(a&1&&O(0,"div",12),a&2){let s=v(4);_(s.model.cssDescription),f("model",s.model.locDescription),Z("id",s.model.ariaDescriptionId)}}function W0(a,c){if(a&1&&(P(0,"div",9),x(1,q0,1,1,"div",4)(2,Q0,0,0,"ng-template",6)(3,H0,3,4,"div",10)(4,z0,1,1,"div",4)(5,U0,1,4,"div",11),I()),a&2){let s=v(3);_(s.model.cssContent),f("visible",s.model.renderedIsExpanded),h(),f("ngIf",s.model.showErrorOnTop&&s.model.hasVisibleErrors),h(),f("component",oe(10,j0,s.getComponentName(),ne(8,Mt,s.model))),h(),f("ngIf",s.model.hasComment),h(),f("ngIf",s.model.showErrorOnBottom&&s.model.hasVisibleErrors),h(),f("ngIf",s.model.hasDescriptionUnderInput)}}function $0(a,c){if(a&1&&O(0,"div",8),a&2){let s=v(3);f("element",s.model)}}function G0(a,c){if(a&1&&O(0,"div",7),a&2){let s=v(3);f("element",s.model)}}function Z0(a,c){if(a&1&&(P(0,"div",3,1),x(2,B0,1,1,"div",4)(3,N0,1,1,"div",5)(4,W0,6,13,"ng-template",6)(5,$0,1,1,"div",5)(6,G0,1,1,"div",4),I()),a&2){let s=v(2);Ee(s.model.getRootStyle()),_(s.model.getRootCss()),f("id",s.model.id),Z("data-name",s.model.name)("role",s.model.ariaRole)("aria-required",s.model.ariaRequired)("aria-invalid",s.model.ariaInvalid)("aria-labelledby",s.model.ariaLabelledBy)("aria-describedby",s.model.ariaDescribedBy)("aria-expanded",s.model.ariaExpanded),h(2),f("ngIf",s.model.showErrorsAboveQuestion&&s.model.hasVisibleErrors),h(),f("ngIf",s.model.hasTitleOnLeftTop),h(),f("component",oe(17,ge,s.getQuestionContentWrapperComponentName(),s.getQuestionContentWrapperComponentData())),h(),f("ngIf",s.model.hasTitleOnBottom),h(),f("ngIf",s.model.showErrorsBelowQuestion&&s.model.hasVisibleErrors)}}function J0(a,c){if(a&1&&x(0,Z0,7,20,"div",2),a&2){let s=v();f("ngIf",!!s.model)}}function K0(a,c){if(a&1&&(P(0,"span"),re(1),I()),a&2){let s=v();_(s.className),h(),me(s.model.renderedHtml)}}function Y0(a,c){if(a&1&&(O(0,"span",2),_t(1,"safeHtml")),a&2){let s=v();_(s.className),f("innerHtml",wt(1,3,s.model.renderedHtml),ln)}}function X0(a,c){if(a&1){let s=fe();P(0,"textarea",2,1),J("input",function(g){B(s);let S=v();return N(S.model.onTextAreaInput(g))})("keydown",function(g){B(s);let S=v();return N(S.model.onTextAreaKeyDown(g))})("focus",function(g){B(s);let S=v();return N(S.model.onTextAreaFocus(g))})("blur",function(g){B(s);let S=v();return N(S.model.onTextAreaBlur(g))})("change",function(g){B(s);let S=v();return N(S.model.onTextAreaChange(g))}),I()}if(a&2){let s=v();_(s.model.className),Ne("resize",s.model.question.resizeStyle),f("readonly",s.model.isReadOnlyAttr)("disabled",s.model.isDisabledAttr)("id",s.model.id)("value",s.value),Z("maxlength",s.model.maxLength)("cols",s.model.cols)("rows",s.model.rows)("placeholder",s.model.placeholder)("aria-required",s.model.ariaRequired)("aria-label",s.model.ariaLabel)("aria-labelledby",s.model.ariaLabelledBy)("aria-describedby",s.model.ariaDescribedBy)("aria-invalid",s.model.ariaInvalid)("aria-errormessage",s.model.ariaErrormessage)}}var eb=(a,c)=>({left:a,top:c}),tb=["containerRef"],zc=["inputElement"],Uc=(a,c)=>({model:a,question:c});function nb(a,c){if(a&1&&(P(0,"div")(1,"span"),re(2),I()()),a&2){let s=v(2);_(s.model.cssClasses.hintPrefix),h(2),me(s.dropdownModel.hintStringPrefix)}}function ib(a,c){if(a&1&&(P(0,"div")(1,"span",11),re(2),I(),P(3,"span"),re(4),I()()),a&2){let s=v(2);_(s.model.cssClasses.hintSuffix),h(2),me(s.dropdownModel.inputStringRendered),h(2),me(s.dropdownModel.hintStringSuffix)}}function rb(a,c){}function ob(a,c){if(a&1&&(H(0),x(1,rb,0,0,"ng-template",12),z()),a&2){let s=v(2);h(),f("component",oe(4,ge,s.model.inputFieldComponentName,oe(1,Uc,s.dropdownModel.getSelectedAction(),s.model)))}}function sb(a,c){if(a&1&&O(0,"sv-ng-string",13),a&2){let s=v(2);f("model",s.model.selectedItemLocText)}}function ab(a,c){if(a&1){let s=fe();P(0,"div",14),J("click",function(g){B(s);let S=v(2);return N(S.clear(g))}),_e(),O(1,"svg",15),I()}if(a&2){let s=v(2);_(s.model.cssClasses.cleanButton),f("visible",s.model.showClearButton),h(),f("iconName",s.model.cssClasses.cleanButtonIconId)("partCss",s.model.cssClasses.cleanButtonSvg)("title",s.model.clearCaption)("size","auto")}}function lb(a,c){if(a&1){let s=fe();P(0,"div",6),J("blur",function(g){B(s);let S=v();return N(S.blur(g))})("keydown",function(g){B(s);let S=v();return N(S.keyhandler(g))}),x(1,nb,3,3,"div",4),P(2,"div"),x(3,ib,5,4,"div",4)(4,ob,2,7,"ng-container",7)(5,sb,1,1,"sv-ng-string",8),P(6,"input",9,0),Qt("ngModelChange",function(g){B(s);let S=v();return qt(S.dropdownModel.inputStringRendered,g)||(S.dropdownModel.inputStringRendered=g),N(g)}),J("change",function(g){B(s);let S=v();return N(S.inputChange(g))})("blur",function(g){B(s);let S=v();return N(S.blur(g))})("focus",function(g){B(s);let S=v();return N(S.focus(g))}),I()(),x(8,ab,2,7,"div",10),I()}if(a&2){let s=v();_(s.model.getControlClass()),Z("tabindex",s.dropdownModel.noTabIndex?null:0)("disabled",s.model.isDisabledAttr?!0:null)("id",s.model.inputId)("aria-required",s.model.ariaRequired)("aria-label",s.model.ariaLabel)("aria-invalid",s.model.ariaInvalid)("aria-errormessage",s.model.ariaErrormessage)("role",s.model.ariaRole)("aria-controls",s.dropdownModel.listElementId)("aria-expanded",s.model.ariaExpanded)("aria-activedescendant",s.dropdownModel.ariaActivedescendant),h(),f("ngIf",s.dropdownModel.showHintPrefix),h(),_(s.model.cssClasses.controlValue),h(),f("ngIf",s.dropdownModel.showHintString),h(),f("ngIf",s.dropdownModel.showInputFieldComponent),h(),f("ngIf",s.model.showSelectedItemLocText),h(),_(s.model.cssClasses.filterStringInput),Nt("ngModel",s.dropdownModel.inputStringRendered),Z("role",s.dropdownModel.filterStringEnabled?s.model.ariaRole:null)("id",s.model.getInputId())("inputmode",s.dropdownModel.inputMode)("tabindex",s.dropdownModel.noTabIndex?null:-1)("disabled",s.model.isDisabledAttr?!0:null)("aria-controls",s.dropdownModel.listElementId)("aria-label",s.model.a11y_input_ariaLabel)("aria-labelledby",s.model.a11y_input_ariaLabelledBy)("aria-describedby",s.model.a11y_input_ariaDescribedBy)("aria-expanded",s.model.ariaExpanded)("aria-activedescendant",s.dropdownModel.ariaActivedescendant)("placeholder",s.dropdownModel.placeholderRendered)("readonly",s.dropdownModel.filterReadOnly?!0:null),h(2),f("ngIf",s.model.allowClear&&s.model.cssClasses.cleanButtonIconId)}}function ub(a,c){if(a&1&&O(0,"sv-ng-popup",16),a&2){let s=v();f("popupModel",s.dropdownModel.popupModel)}}function cb(a,c){if(a&1&&O(0,"sv-ng-string",13),a&2){let s=v(2);f("model",s.model.selectedItemLocText)}}function pb(a,c){if(a&1&&(P(0,"div"),x(1,cb,1,1,"sv-ng-string",8),P(2,"div"),re(3),I()()),a&2){let s=v();_(s.model.getControlClass()),Z("id",s.model.inputId)("tabindex",s.model.isDisabledAttr?null:0)("disabled",s.model.isDisabledAttr?!0:null)("aria-label",s.model.a11y_input_ariaLabel)("aria-labelledby",s.model.a11y_input_ariaLabelledBy)("aria-describedby",s.model.a11y_input_ariaDescribedBy),h(),f("ngIf",s.model.selectedItemLocText),h(2),me(s.model.readOnlyText)}}function db(a,c){if(a&1){let s=fe();P(0,"div",17),J("pointerdown",function(g){B(s);let S=v();return N(S.chevronPointerDown(g))}),_e(),O(1,"svg",18),I()}if(a&2){let s=v();_(s.model.cssClasses.chevronButton),h(),f("iconName",s.model.cssClasses.chevronButtonIconId)("partCss",s.model.cssClasses.chevronButtonSvg)("size","auto")}}function fb(a,c){if(a&1&&(P(0,"div")(1,"span"),re(2),I()()),a&2){let s=v(2);_(s.question.cssClasses.hintPrefix),h(2),me(s.model.hintStringPrefix)}}function hb(a,c){if(a&1&&(P(0,"div")(1,"span",3),re(2),I(),P(3,"span"),re(4),I()()),a&2){let s=v(2);_(s.question.cssClasses.hintSuffix),h(2),me(s.model.inputStringRendered),h(2),me(s.model.hintStringSuffix)}}function mb(a,c){if(a&1){let s=fe();P(0,"div"),x(1,fb,3,3,"div",1),P(2,"div"),x(3,hb,5,4,"div",1),P(4,"input",2),Qt("ngModelChange",function(g){B(s);let S=v();return qt(S.model.inputStringRendered,g)||(S.model.inputStringRendered=g),N(g)}),J("keydown",function(g){B(s);let S=v();return N(S.model.inputKeyHandler(g))})("blur",function(g){B(s);let S=v();return N(S.question.onBlur(g))})("focus",function(g){B(s);let S=v();return N(S.question.onFocus(g))}),I()()()}if(a&2){let s=v();_(s.question.cssClasses.hint),h(),f("ngIf",s.model.showHintPrefix),h(),_(s.question.cssClasses.hintSuffixWrapper),h(),f("ngIf",s.model.showHintString),h(),_(s.question.cssClasses.filterStringInput),Nt("ngModel",s.model.inputStringRendered),Z("id",s.question.getInputId())("inputmode",s.model.inputMode)("role",s.model.filterStringEnabled?s.question.ariaRole:null)("readonly",s.model.filterReadOnly?!0:null)("disabled",s.question.isDisabledAttr?!0:null)("size",s.model.inputStringRendered?null:1)("aria-label",s.question.a11y_input_ariaLabel)("aria-labelledby",s.question.a11y_input_ariaLabelledBy)("aria-describedby",s.question.a11y_input_ariaDescribedBy)("aria-controls",s.model.listElementId)("aria-expanded",s.question.ariaExpanded)("aria-activedescendant",s.model.ariaActivedescendant)("placeholder",s.model.filterStringPlaceholder)}}var gb=a=>({name:"sv-tagbox-filter",data:a});function vb(a,c){if(a&1&&O(0,"sv-ng-tagbox-item",10),a&2){let s=c.$implicit,p=v(3);f("item",s)("question",p.model)}}function yb(a,c){if(a&1&&(H(0),x(1,vb,1,2,"sv-ng-tagbox-item",9),z()),a&2){let s=v(2);h(),f("ngForOf",s.model.selectedChoices)}}function bb(a,c){}function Cb(a,c){if(a&1){let s=fe();P(0,"div",11),J("click",function(g){B(s);let S=v(2);return N(S.clear(g))}),_e(),O(1,"svg",12),I()}if(a&2){let s=v(2);_(s.model.cssClasses.cleanButton),f("visible",s.model.showClearButton),h(),f("iconName",s.model.cssClasses.cleanButtonIconId)("partCss",s.model.cssClasses.cleanButtonSvg)("title",s.model.clearCaption)("size","auto")}}function xb(a,c){if(a&1){let s=fe();P(0,"div",5),J("blur",function(g){B(s);let S=v();return N(S.blur(g))})("keydown",function(g){B(s);let S=v();return N(S.keyhandler(g))}),P(1,"div"),x(2,yb,2,1,"ng-container",6)(3,bb,0,0,"ng-template",7),I(),x(4,Cb,2,7,"div",8),I()}if(a&2){let s=v();_(s.model.getControlClass()),Z("tabindex",s.dropdownModel.noTabIndex?null:0)("disabled",s.model.isDisabledAttr?!0:null)("id",s.model.inputId)("aria-required",s.model.ariaRequired)("aria-label",s.model.ariaLabel)("aria-invalid",s.model.ariaInvalid)("aria-errormessage",s.model.ariaErrormessage)("role",s.model.ariaRole)("aria-controls",s.dropdownModel.listElementId)("aria-expanded",s.model.ariaExpanded)("aria-activedescendant",s.dropdownModel.ariaActivedescendant),h(),_(s.model.cssClasses.controlValue),h(),f("ngIf",!s.model.isEmpty()),h(),f("component",ne(21,gb,oe(18,Uc,s.dropdownModel,s.model))),h(),f("ngIf",s.model.allowClear&&s.model.cssClasses.cleanButtonIconId)}}function _b(a,c){if(a&1&&O(0,"sv-ng-popup",13),a&2){let s=v();f("popupModel",s.model.popupModel)}}function wb(a,c){if(a&1&&O(0,"sv-ng-string",15),a&2){let s=v(2);f("model",s.model.locReadOnlyText)}}function Pb(a,c){if(a&1&&(P(0,"div"),x(1,wb,1,1,"sv-ng-string",14),I()),a&2){let s=v();_(s.model.getControlClass()),Z("id",s.model.inputId)("tabindex",s.model.isDisabledAttr?null:0)("disabled",s.model.isDisabledAttr?!0:null)("aria-label",s.model.a11y_input_ariaLabel)("aria-labelledby",s.model.a11y_input_ariaLabelledBy)("aria-describedby",s.model.a11y_input_ariaDescribedBy),h(),f("ngIf",s.model.locReadOnlyText)}}function Vb(a,c){if(a&1){let s=fe();P(0,"div",16),J("pointerdown",function(g){B(s);let S=v();return N(S.chevronPointerDown(g))}),_e(),O(1,"svg",17),I()}if(a&2){let s=v();_(s.model.cssClasses.chevronButton),h(),f("iconName",s.model.cssClasses.chevronButtonIconId)("partCss",s.model.cssClasses.chevronButtonSvg)("size","auto")}}function Ib(a,c){}function Tb(a,c){if(a&1&&(P(0,"option",1),re(1),I(),x(2,Ib,0,0,"ng-template")),a&2){let s=v();f("value",s.item.value)("disabled",!s.item.isEnabled),h(),me(s.item.text)}}function Sb(a,c){}function Eb(a,c){if(a&1&&(H(0),x(1,Sb,0,0,"ng-template",1),z()),a&2){let s=v();h(),f("component",ne(3,Fs,ne(1,Mt,s.textAreaModel)))}}function Ob(a,c){if(a&1&&(P(0,"div"),re(1),I()),a&2){let s=v();h(),me(s.otherValue)}}var Rb=a=>({item:a}),Db=a=>({name:"sv-dropdown-option-item",data:a});function Mb(a,c){if(a&1&&(P(0,"option",7),re(1),I()),a&2){let s=v(2);h(),me(s.model.placeholder)}}function Ab(a,c){}function kb(a,c){if(a&1&&x(0,Ab,0,0,"ng-template",8),a&2){let s=c.$implicit;f("component",ne(3,Db,ne(1,Rb,s)))}}function Lb(a,c){if(a&1){let s=fe();P(0,"select",4),Qt("ngModelChange",function(g){B(s);let S=v();return qt(S.editableValue,g)||(S.editableValue=g),N(g)}),J("click",function(g){B(s);let S=v();return N(S.click(g))})("keyup",function(g){B(s);let S=v();return N(S.keyup(g))}),x(1,Mb,2,1,"option",5)(2,kb,1,5,null,6),I()}if(a&2){let s=v();_(s.model.getControlClass()),Nt("ngModel",s.editableValue),f("disabled",s.model.isInputReadOnly)("required",s.model.isRequired),Z("id",s.model.inputId)("autocomplete",s.model.autocomplete)("aria-required",s.model.ariaRequired)("aria-label",s.model.ariaLabel)("aria-invalid",s.model.ariaInvalid)("aria-errormessage",s.model.ariaErrormessage),h(),f("ngIf",s.model.allowClear),h(),f("ngForOf",s.model.visibleChoices)}}function Fb(a,c){if(a&1&&(P(0,"div",9),re(1),I()),a&2){let s=v();_(s.model.getControlClass()),Z("id",s.model.inputId),h(),me(s.model.readOnlyText)}}function jb(a,c){if(a&1&&(P(0,"div"),_e(),O(1,"svg",10),I()),a&2){let s=v();_(s.model.cssClasses.chevronButton),h(),f("iconName",s.model.cssClasses.chevronButtonIconId)("partCss",s.model.cssClasses.chevronButtonSvg)("size","auto")}}function Bb(a,c){if(a&1&&O(0,"div",11),a&2){let s=v();_(s.model.getCommentAreaCss(!0)),Ne("display",s.model.isFlowLayout?"inline":""),f("question",s.model)}}function Nb(a,c){if(a&1&&(P(0,"div"),O(1,"img"),_t(2,"safeUrl"),I()),a&2){let s=v();_(s.survey.logoClassNames),h(),_(s.survey.css.logoImage),Ne("width",s.survey.renderedStyleLogoWidth)("height",s.survey.renderedStyleLogoHeight)("object-fit",s.survey.logoFit),Z("src",wt(2,14,s.survey.locLogo.renderedHtml),Dt)("width",s.survey.renderedLogoWidth)("height",s.survey.renderedLogoHeight)("alt",s.survey.locTitle.renderedHtml)}}function qb(a,c){if(a&1&&(P(0,"div"),re(1),I()),a&2){let s=v();_(s.remainingCharacterCounter),h(),me(s.counter.remainingCharacterCounter)}}function Qb(a,c){if(a&1&&ze(0,5),a&2){v();let s=Ue(4);f("ngTemplateOutlet",s)}}function Hb(a,c){if(a&1&&O(0,"option",8),a&2){let s=c.$implicit;f("value",s)}}function zb(a,c){if(a&1&&(P(0,"div"),ze(1,5),P(2,"datalist",6),x(3,Hb,1,1,"option",7),I()()),a&2){let s=v(),p=Ue(4);h(),f("ngTemplateOutlet",p),h(),f("id",s.model.dataListId),h(),f("ngForOf",s.model.dataList)}}function Ub(a,c){if(a&1&&(P(0,"div",null,1),re(2),I()),a&2){let s=v();h(2),me(s.value)}}function Wb(a,c){if(a&1&&O(0,"sv-ng-character-counter",11),a&2){let s=v(2);f("counter",s.model.characterCounter)("remainingCharacterCounter",s.model.cssClasses.remainingCharacterCounter)}}function $b(a,c){if(a&1){let s=fe();P(0,"input",9,2),J("change",function(g){B(s);let S=v();return N(S.model.onChange(g))})("keyup",function(g){B(s);let S=v();return N(S.model.onKeyUp(g))})("keydown",function(g){B(s);let S=v();return N(S.model.onKeyDown(g))})("blur",function(g){B(s);let S=v();return N(S.blur(g))})("focus",function(g){B(s);let S=v();return N(S.model.onFocus(g))})("compositionupdate",function(g){B(s);let S=v();return N(S.model.onCompositionUpdate(g))}),I(),x(3,Wb,1,2,"sv-ng-character-counter",10)}if(a&2){let s=v();Ee(s.model.inputStyle),_(s.model.getControlClass()),f("value",s.value)("disabled",s.model.isDisabledAttr)("type",s.model.inputType)("id",s.model.inputId)("readonly",s.model.isReadOnlyAttr),Z("list",s.model.dataListId)("placeholder",s.model.renderedPlaceholder)("size",s.model.renderedInputSize)("maxlength",s.model.getMaxLength())("min",s.model.renderedMin)("max",s.model.renderedMax)("step",s.model.renderedStep)("max",s.model.renderedMax)("aria-required",s.model.a11y_input_ariaRequired)("aria-label",s.model.a11y_input_ariaLabel)("aria-labelledby",s.model.a11y_input_ariaLabelledBy)("aria-describedby",s.model.a11y_input_ariaDescribedBy)("aria-invalid",s.model.a11y_input_ariaInvalid)("aria-errormessage",s.model.a11y_input_ariaErrormessage)("autocomplete",s.model.autocomplete),h(3),f("ngIf",s.model.getMaxLength())}}function Gb(a,c){if(a&1&&(P(0,"legend",5),re(1),I()),a&2){let s=v();h(),me(s.model.locTitle.renderedHtml)}}function Zb(a,c){}function Jb(a,c){if(a&1&&(H(0),x(1,Zb,0,0,"ng-template",7),z()),a&2){let s=c.$implicit,p=v(2);h(),f("component",oe(1,ge,p.getItemValueComponentName(s),p.getItemValueComponentData(s)))}}function Kb(a,c){if(a&1&&(H(0),x(1,Jb,2,4,"ng-container",6),z()),a&2){let s=v();h(),f("ngForOf",s.model.headItems)("ngForTrackBy",s.trackItemBy)}}function Yb(a,c){}function Xb(a,c){if(a&1&&(H(0),x(1,Yb,0,0,"ng-template",7),z()),a&2){let s=c.$implicit,p=v(2);h(),f("component",oe(1,ge,p.getItemValueComponentName(s),p.getItemValueComponentData(s)))}}function eC(a,c){if(a&1&&(H(0),x(1,Xb,2,4,"ng-container",6),z()),a&2){let s=v();h(),f("ngForOf",s.model.bodyItems)("ngForTrackBy",s.trackItemBy)}}function tC(a,c){}function nC(a,c){if(a&1&&(H(0),x(1,tC,0,0,"ng-template",7),z()),a&2){let s=c.$implicit,p=v(2);h(),f("component",oe(1,ge,p.getItemValueComponentName(s),p.getItemValueComponentData(s)))}}function iC(a,c){if(a&1&&(P(0,"div"),x(1,nC,2,4,"ng-container",6),I()),a&2){let s=v();_(s.model.cssClasses.rootRow),h(),f("ngForOf",s.model.dataChoices)("ngForTrackBy",s.trackItemBy)}}function rC(a,c){}function oC(a,c){if(a&1&&(H(0),x(1,rC,0,0,"ng-template",7),z()),a&2){let s=c.$implicit,p=v(3);h(),f("component",oe(1,ge,p.getItemValueComponentName(s),p.getItemValueComponentData(s)))}}function sC(a,c){if(a&1&&(P(0,"div",9),x(1,oC,2,4,"ng-container",6),I()),a&2){let s=c.$implicit,p=v(2);_(p.model.getColumnClass()),h(),f("ngForOf",s)("ngForTrackBy",p.trackItemBy)}}function aC(a,c){if(a&1&&(H(0),P(1,"div"),x(2,sC,2,4,"div",8),I(),z()),a&2){let s=v();h(),_(s.model.cssClasses.rootMultiColumn),h(),f("ngForOf",s.model.columns)("ngForTrackBy",s.trackColumnBy)}}function lC(a,c){}function uC(a,c){if(a&1&&(H(0),x(1,lC,0,0,"ng-template",7),z()),a&2){let s=c.$implicit,p=v(2);h(),f("component",oe(1,ge,p.getItemValueComponentName(s),p.getItemValueComponentData(s)))}}function cC(a,c){if(a&1&&(H(0),x(1,uC,2,4,"ng-container",6),z()),a&2){let s=v();h(),f("ngForOf",s.model.footItems)("ngForTrackBy",s.trackItemBy)}}function pC(a,c){if(a&1&&O(0,"div",10),a&2){let s=v();_(s.model.getCommentAreaCss(!0)),f("question",s.model)}}function dC(a,c){if(a&1){let s=fe();P(0,"div")(1,"input",11),J("click",function(){B(s);let g=v();return N(g.model.clearValue(!0))}),I()()}if(a&2){let s=v();h(),_(s.model.cssClasses.clearButton),f("value",s.model.clearButtonCaption)}}function fC(a,c){if(a&1&&(P(0,"legend",5),re(1),I()),a&2){let s=v();h(),me(s.model.locTitle.renderedHtml)}}function hC(a,c){}function mC(a,c){if(a&1&&(H(0),x(1,hC,0,0,"ng-template",7),z()),a&2){let s=c.$implicit,p=v(2);h(),f("component",oe(1,ge,p.getItemValueComponentName(s),p.getItemValueComponentData(s)))}}function gC(a,c){if(a&1&&(H(0),x(1,mC,2,4,"ng-container",6),z()),a&2){let s=v();h(),f("ngForOf",s.model.headItems)("ngForTrackBy",s.trackItemBy)}}function vC(a,c){}function yC(a,c){if(a&1&&(H(0),x(1,vC,0,0,"ng-template",7),z()),a&2){let s=c.$implicit,p=v(2);h(),f("component",oe(1,ge,p.getItemValueComponentName(s),p.getItemValueComponentData(s)))}}function bC(a,c){if(a&1&&(H(0),x(1,yC,2,4,"ng-container",6),z()),a&2){let s=v();h(),f("ngForOf",s.model.bodyItems)("ngForTrackBy",s.trackItemBy)}}function CC(a,c){}function xC(a,c){if(a&1&&(H(0),x(1,CC,0,0,"ng-template",7),z()),a&2){let s=c.$implicit,p=v(2);h(),f("component",oe(1,ge,p.getItemValueComponentName(s),p.getItemValueComponentData(s)))}}function _C(a,c){if(a&1&&(P(0,"div"),x(1,xC,2,4,"ng-container",6),I()),a&2){let s=v();_(s.model.cssClasses.rootRow),h(),f("ngForOf",s.model.dataChoices)("ngForTrackBy",s.trackItemBy)}}function wC(a,c){}function PC(a,c){if(a&1&&(H(0),x(1,wC,0,0,"ng-template",7),z()),a&2){let s=c.$implicit,p=v(3);h(),f("component",oe(1,ge,p.getItemValueComponentName(s),p.getItemValueComponentData(s)))}}function VC(a,c){if(a&1&&(P(0,"div",9),x(1,PC,2,4,"ng-container",6),I()),a&2){let s=c.$implicit,p=v(2);_(p.model.getColumnClass()),h(),f("ngForOf",s)("ngForTrackBy",p.trackItemBy)}}function IC(a,c){if(a&1&&(H(0),P(1,"div"),x(2,VC,2,4,"div",8),I(),z()),a&2){let s=v();h(),_(s.model.cssClasses.rootMultiColumn),h(),f("ngForOf",s.model.columns)("ngForTrackBy",s.trackColumnBy)}}function TC(a,c){}function SC(a,c){if(a&1&&(H(0),x(1,TC,0,0,"ng-template",7),z()),a&2){let s=c.$implicit,p=v(2);h(),f("component",oe(1,ge,p.getItemValueComponentName(s),p.getItemValueComponentData(s)))}}function EC(a,c){if(a&1&&(H(0),x(1,SC,2,4,"ng-container",6),z()),a&2){let s=v();h(),f("ngForOf",s.model.footItems)("ngForTrackBy",s.trackItemBy)}}function OC(a,c){if(a&1&&O(0,"div",10),a&2){let s=v();_(s.model.getCommentAreaCss(!0)),f("question",s.model)}}function RC(a,c){if(a&1){let s=fe();P(0,"div")(1,"input",11),J("click",function(){B(s);let g=v();return N(g.model.clearValue(!0))}),I()()}if(a&2){let s=v();h(),_(s.model.cssClasses.clearButton),f("value",s.model.clearButtonCaption)}}function DC(a,c){if(a&1&&(P(0,"legend",5),re(1),I()),a&2){let s=v();h(),me(s.model.locTitle.renderedHtml)}}function MC(a,c){}function AC(a,c){if(a&1&&(H(0),x(1,MC,0,0,"ng-template",7),z()),a&2){let s=c.$implicit,p=v(2);h(),f("component",oe(1,ge,p.getItemValueComponentName(s),p.getItemValueComponentData(s)))}}function kC(a,c){if(a&1&&(H(0),x(1,AC,2,4,"ng-container",6),z()),a&2){let s=v();h(),f("ngForOf",s.model.headItems)("ngForTrackBy",s.trackItemBy)}}function LC(a,c){}function FC(a,c){if(a&1&&(H(0),x(1,LC,0,0,"ng-template",7),z()),a&2){let s=c.$implicit,p=v(2);h(),f("component",oe(1,ge,p.getItemValueComponentName(s),p.getItemValueComponentData(s)))}}function jC(a,c){if(a&1&&(H(0),x(1,FC,2,4,"ng-container",6),z()),a&2){let s=v();h(),f("ngForOf",s.model.bodyItems)("ngForTrackBy",s.trackItemBy)}}function BC(a,c){}function NC(a,c){if(a&1&&(H(0),x(1,BC,0,0,"ng-template",7),z()),a&2){let s=c.$implicit,p=v(2);h(),f("component",oe(1,ge,p.getItemValueComponentName(s),p.getItemValueComponentData(s)))}}function qC(a,c){if(a&1&&(P(0,"div"),x(1,NC,2,4,"ng-container",6),I()),a&2){let s=v();_(s.model.cssClasses.rootRow),h(),f("ngForOf",s.model.dataChoices)("ngForTrackBy",s.trackItemBy)}}function QC(a,c){}function HC(a,c){if(a&1&&(H(0),x(1,QC,0,0,"ng-template",7),z()),a&2){let s=c.$implicit,p=v(3);h(),f("component",oe(1,ge,p.getItemValueComponentName(s),p.getItemValueComponentData(s)))}}function zC(a,c){if(a&1&&(P(0,"div",9),x(1,HC,2,4,"ng-container",6),I()),a&2){let s=c.$implicit,p=v(2);_(p.model.getColumnClass()),h(),f("ngForOf",s)("ngForTrackBy",p.trackItemBy)}}function UC(a,c){if(a&1&&(H(0),P(1,"div"),x(2,zC,2,4,"div",8),I(),z()),a&2){let s=v();h(),_(s.model.cssClasses.rootMultiColumn),h(),f("ngForOf",s.model.columns)("ngForTrackBy",s.trackColumnBy)}}function WC(a,c){}function $C(a,c){if(a&1&&(H(0),x(1,WC,0,0,"ng-template",7),z()),a&2){let s=c.$implicit,p=v(2);h(),f("component",oe(1,ge,p.getItemValueComponentName(s),p.getItemValueComponentData(s)))}}function GC(a,c){if(a&1&&(H(0),x(1,$C,2,4,"ng-container",6),z()),a&2){let s=v();h(),f("ngForOf",s.model.footItems)("ngForTrackBy",s.trackItemBy)}}function ZC(a,c){if(a&1&&O(0,"div",10),a&2){let s=v();_(s.model.getCommentAreaCss(!0)),f("question",s.model)}}function JC(a,c){if(a&1){let s=fe();P(0,"div")(1,"input",11),J("click",function(){B(s);let g=v();return N(g.model.clearValue(!0))}),I()()}if(a&2){let s=v();h(),_(s.model.cssClasses.clearButton),f("value",s.model.clearButtonCaption)}}function KC(a,c){if(a&1&&O(0,"div",3),a&2){let s=v();_(s.model.getCommentAreaCss(!0)),f("question",s.model)}}function YC(a,c){if(a&1&&O(0,"div",3),a&2){let s=v();_(s.model.getCommentAreaCss(!0)),f("question",s.model)}}var XC=(a,c,s)=>({model:a,item:c,index:s});function e1(a,c){if(a&1&&O(0,"span",5),a&2){let s=v();_(s.model.cssClasses.minText),f("model",s.model.locMinRateDescription)}}function t1(a,c){}function n1(a,c){if(a&1&&x(0,t1,0,0,"ng-template",6),a&2){let s=c.$implicit,p=c.index,g=v();f("component",oe(5,ge,g.model.itemComponent,un(1,XC,g.model,s,p)))}}function i1(a,c){if(a&1&&O(0,"span",5),a&2){let s=v();_(s.model.cssClasses.maxText),f("model",s.model.locMaxRateDescription)}}function r1(a,c){if(a&1&&O(0,"span",4),a&2){let s=v();_(s.model.cssClasses.sliderText),f("model",s.model.getCheckedLabel())}}function o1(a,c){if(a&1&&(_e(),O(0,"svg",9)),a&2){let s=v(3);_(s.question.cssClasses.checkedItemSvgIcon),f("iconName",s.question.cssClasses.checkedItemSvgIconId)("size","auto")}}function s1(a,c){if(a&1&&(P(0,"span",7),x(1,o1,1,4,"svg",8),I()),a&2){let s=v(2);_(s.question.cssClasses.checkedItemDecorator),h(),f("ngIf",s.question.cssClasses.checkedItemSvgIconId)}}function a1(a,c){if(a&1){let s=fe();P(0,"img",10),J("load",function(g){B(s);let S=v(2);return N(S.question.onContentLoaded(S.model,g))})("error",function(){B(s);let g=v(2);return N(g.model.onErrorHandler())}),I()}if(a&2){let s=v(2);_(s.question.cssClasses.image),Ne("object-fit",s.question.imageFit),Z("src",s.model.locImageLink.renderedHtml,Dt)("width",s.question.renderedImageWidth)("height",s.question.renderedImageHeight)("alt",s.model.locText.renderedHtml)}}function l1(a,c){if(a&1){let s=fe();P(0,"video",11),J("loadedmetadata",function(g){B(s);let S=v(2);return N(S.question.onContentLoaded(S.model,g))})("error",function(){B(s);let g=v(2);return N(g.model.onErrorHandler())}),I()}if(a&2){let s=v(2);_(s.question.cssClasses.image),Ne("object-fit",s.question.imageFit),Z("src",s.model.locImageLink.renderedHtml,Dt)("width",s.question.renderedImageWidth)("height",s.question.renderedImageHeight)}}function u1(a,c){if(a&1&&(_e(),O(0,"svg",9)),a&2){let s=v(3);_(s.question.cssClasses.itemNoImageSvgIcon),f("iconName",s.question.cssClasses.itemNoImageSvgIconId)("size",48)}}function c1(a,c){if(a&1&&(P(0,"div"),x(1,u1,1,4,"svg",8),I()),a&2){let s=v(2);_(s.question.cssClasses.itemNoImage),Ne("width",s.question.renderedImageWidth+"px")("height",s.question.renderedImageHeight+"px")("object-fit",s.question.imageFit),h(),f("ngIf",s.question.cssClasses.itemNoImageSvgIconId)}}function p1(a,c){if(a&1&&O(0,"span",12),a&2){let s=v(2);_(s.question.cssClasses.itemText),f("model",s.model.locText)}}function d1(a,c){if(a&1){let s=fe();P(0,"div")(1,"label")(2,"input",1),J("change",function(g){B(s);let S=v();return N(S.onChange(g))}),I(),P(3,"div")(4,"div"),x(5,s1,2,3,"span",2)(6,a1,1,8,"img",3)(7,l1,1,7,"video",4)(8,c1,2,9,"div",5),I(),x(9,p1,1,3,"span",6),I()()()}if(a&2){let s=v();_(s.question.getItemClass(s.model)),h(),_(s.question.cssClasses.label),h(),_(s.question.cssClasses.itemControl),f("type",s.question.inputType)("id",s.question.getItemId(s.model))("checked",s.question.isItemSelected(s.model))("disabled",!s.question.getItemEnabled(s.model))("readonly",s.question.isReadOnlyAttr),Z("name",s.question.questionName)("value",s.model.value)("aria-required",s.question.ariaRequired)("aria-label",s.question.ariaLabel)("aria-invalid",s.question.ariaInvalid)("aria-errormessage",s.question.ariaErrormessage),h(),_(s.question.cssClasses.itemDecorator),h(),_(s.question.cssClasses.imageContainer),h(),f("ngIf",s.question.cssClasses.checkedItemDecorator),h(),f("ngIf",s.model.locImageLink.renderedHtml&&!s.model.contentNotLoaded&&s.question.contentMode==="image"),h(),f("ngIf",s.model.locImageLink.renderedHtml&&!s.model.contentNotLoaded&&s.question.contentMode==="video"),h(),f("ngIf",!s.model.locImageLink.renderedHtml||s.model.contentNotLoaded),h(),f("ngIf",s.question.showLabel)}}function f1(a,c){}function h1(a,c){if(a&1&&(H(0),x(1,f1,0,0,"ng-template",4),z()),a&2){let s=c.$implicit,p=v(2);h(),f("component",oe(1,ge,p.getItemValueComponentName(s),p.getItemValueComponentData(s)))}}function m1(a,c){if(a&1&&(H(0),x(1,h1,2,4,"ng-container",3),z()),a&2){let s=v();h(),f("ngForOf",s.model.visibleChoices)}}function g1(a,c){}function v1(a,c){if(a&1&&(H(0),x(1,g1,0,0,"ng-template",4),z()),a&2){let s=c.$implicit,p=v(3);h(),f("component",oe(1,ge,p.getItemValueComponentName(s),p.getItemValueComponentData(s)))}}function y1(a,c){if(a&1&&(P(0,"div",6),x(1,v1,2,4,"ng-container",3),I()),a&2){let s=c.$implicit,p=v(2);_(p.model.getColumnClass()),h(),f("ngForOf",s)}}function b1(a,c){if(a&1&&(H(0),x(1,y1,2,3,"div",5),z()),a&2){let s=v();h(),f("ngForOf",s.model.columns)}}var Wc=(a,c,s)=>({survey:a,container:c,model:s});function C1(a,c){}function x1(a,c){if(a&1&&(H(0),x(1,C1,0,0,"ng-template",4),z()),a&2){let s=c.$implicit,p=v(4);h(),f("component",oe(5,ge,s.component,un(1,Wc,p.survey,p.container,s.data)))}}function _1(a,c){if(a&1&&(P(0,"div"),x(1,x1,2,8,"ng-container",3),I()),a&2){let s=v(3);_("sv-components-column sv-components-container-"+s.container),h(),f("ngForOf",s.components)}}function w1(a,c){if(a&1&&(H(0),x(1,_1,2,3,"div",2),z()),a&2){let s=v(2);h(),f("ngIf",s.components.length>0)}}function P1(a,c){}function V1(a,c){if(a&1&&(H(0),x(1,P1,0,0,"ng-template",4),z()),a&2){let s=c.$implicit,p=v(3);h(),f("component",oe(5,ge,s.component,un(1,Wc,p.survey,p.container,s.data)))}}function I1(a,c){if(a&1&&(H(0),x(1,V1,2,8,"ng-container",3),z()),a&2){let s=v(2);h(),f("ngForOf",s.components)}}function T1(a,c){if(a&1&&x(0,w1,2,1,"ng-container",1)(1,I1,2,1,"ng-container",1),a&2){let s=v();f("ngIf",s.isNeedRenderWrapper),h(),f("ngIf",!s.isNeedRenderWrapper&&s.components.length>0)}}var js=a=>({processEsc:!1,disableTabStop:a});function S1(a,c){if(a&1&&(_e(),O(0,"svg",4)),a&2){let s=v(2);_(s.model.cssClasses.itemIcon),f("iconName",s.model.iconName)("size",s.model.iconSize)("title",s.model.tooltip||s.model.title)}}function E1(a,c){if(a&1&&(P(0,"span"),re(1),I()),a&2){let s=v(2);_(s.model.getActionBarItemTitleCss()),h(),me(s.model.title)}}function O1(a,c){}function R1(a,c){if(a&1){let s=fe();P(0,"button",1),J("click",function(g){B(s);let S=v();return N(S.model.doAction(g))})("mousedown",function(g){B(s);let S=v();return N(S.model.doMouseDown(g))})("focus",function(g){B(s);let S=v();return N(S.model.doFocus(g))}),x(1,S1,1,5,"svg",2)(2,E1,2,3,"span",3),I(),x(3,O1,0,0,"ng-template")}if(a&2){let s=v();_(s.model.getActionBarItemCss()),f("key2click",ne(10,js,s.model.disableTabStop))("disabled",s.model.disabled),Z("title",s.model.tooltip||s.model.title)("aria-checked",s.model.ariaChecked)("aria-expanded",s.model.ariaExpanded)("role",s.model.ariaRole),h(),f("ngIf",s.model.iconName),h(),f("ngIf",s.model.hasTitle)}}function D1(a,c){if(a&1&&(_e(),O(0,"svg",5)),a&2){let s=v(2);_(s.model.cssClasses.itemIcon),f("iconName",s.model.iconName)("size",s.model.iconSize)("title",s.model.tooltip||s.model.title)}}function M1(a,c){if(a&1&&(P(0,"span"),re(1),I()),a&2){let s=v(2);_(s.model.getActionBarItemTitleCss()),h(),me(s.model.title)}}function A1(a,c){if(a&1){let s=fe();P(0,"button",1),J("click",function(g){B(s);let S=v();return N(S.model.action(S.model,S.model.getIsTrusted(g)))}),x(1,D1,1,5,"svg",2)(2,M1,2,3,"span",3),I(),O(3,"sv-ng-popup",4)}if(a&2){let s=v();_(s.model.getActionBarItemCss()),f("key2click",ne(9,js,s.model.disableTabStop))("title",s.model.tooltip||s.model.title)("disabled",s.model.disabled),Z("role",s.model.ariaRole),h(),f("ngIf",s.model.iconName),h(),f("ngIf",s.model.hasTitle),h(),f("popupModel",s.model.popupModel)}}function k1(a,c){a&1&&ze(0)}function L1(a,c){if(a&1&&(P(0,"label",7),x(1,k1,1,0,"ng-container",8),I()),a&2){v();let s=Ue(6),p=v();_(p.question.getLabelClass(p.model)),f("model",p.model)("question",p.question),h(),f("ngTemplateOutlet",s)}}function F1(a,c){a&1&&ze(0)}function j1(a,c){if(a&1){let s=fe();P(0,"label",9),J("mousedown",function(){B(s);let g=v(2);return N(g.question.onMouseDown())}),x(1,F1,1,0,"ng-container",8),I()}if(a&2){v();let s=Ue(6),p=v();_(p.question.getLabelClass(p.model)),f("model",p.model)("question",p.question),h(),f("ngTemplateOutlet",s)}}function B1(a,c){if(a&1&&(_e(),P(0,"svg"),O(1,"use"),I()),a&2){let s=v(4);_(s.question.cssClasses.itemDecorator),h(),Z("href",s.question.itemSvgIcon,null,"xlink")}}function N1(a,c){if(a&1&&(P(0,"span"),x(1,B1,2,3,"svg",10),I()),a&2){let s=v(3);_(s.question.cssClasses.materialDecorator),h(),f("ngIf",s.question.itemSvgIcon)}}function q1(a,c){if(a&1&&(P(0,"span"),O(1,"sv-ng-string",11),I()),a&2){let s=v(3);_(s.question.getControlLabelClass(s.model)),h(),f("model",s.model.locText)}}function Q1(a,c){if(a&1&&x(0,N1,2,3,"span",10)(1,q1,2,3,"span",10),a&2){let s=v(2);f("ngIf",s.question.cssClasses.materialDecorator),h(),f("ngIf",!s.model.hideCaption)}}function H1(a,c){if(a&1&&(P(0,"div",3,1),H(2,4),x(3,L1,2,5,"label",5)(4,j1,2,5,"label",6),z(),x(5,Q1,2,2,"ng-template",null,2,pe),I()),a&2){let s=v();_(s.question.getItemClass(s.model)),h(2),f("ngSwitch",s.inputType),h(),f("ngSwitchCase","checkbox"),h(),f("ngSwitchCase","radio")}}function z1(a,c){if(a&1&&O(0,"div",1),a&2){let s=v();Ne("height",s.element.skeletonHeight),f("id",s.element.id)}}function U1(a,c){if(a&1&&(_e(),O(0,"svg",2)),a&2){let s=v(2);_(s.model.getProgressCss()),Ne("stroke-dasharray",s.circleLength)("stroke-dashoffset",s.progress),f("size","auto")("iconName","icon-timercircle")}}function W1(a,c){if(a&1&&(P(0,"span"),re(1),I()),a&2){let s=v(2);_(s.model.minorTextCss),h(),me(s.model.clockMinorText)}}function $1(a,c){if(a&1&&(P(0,"div"),x(1,U1,1,8,"svg",1),P(2,"div")(3,"span"),re(4),I(),x(5,W1,2,3,"span",0),I()()),a&2){let s=v();_(s.model.rootCss),h(),f("ngIf",s.model.showProgress),h(),_(s.model.textContainerCss),h(),_(s.model.majorTextCss),h(),me(s.model.clockMajorText),h(),f("ngIf",s.model.clockMinorText)}}function G1(a,c){if(a&1&&(P(0,"div"),re(1),I()),a&2){let s=v();_(s.model.survey.getCss().timerRoot),h(),me(s.model.text)}}var Z1=(a,c)=>({model:a,listModel:c});function J1(a,c){if(a&1&&(H(0),O(1,"div"),z()),a&2){let s=v(2);h(),_(s.listModel.cssClasses.itemSeparator)}}function K1(a,c){}function Y1(a,c){if(a&1){let s=fe();P(0,"li",1),J("click",function(g){B(s);let S=v();return N(S.click(g))})("pointerdown",function(g){B(s);let S=v();return N(S.pointerdown(g))}),x(1,J1,2,2,"ng-container",2),P(2,"div",3),J("mouseover",function(){B(s);let g=v();return N(g.listModel.onItemHover(g.model))})("mouseleave",function(){B(s);let g=v();return N(g.listModel.onItemLeave(g.model))}),x(3,K1,0,0,"ng-template",4),I()()}if(a&2){let s=v();_(s.class),f("key2click",ne(13,js,s.model.disableTabStop))("visible",s.listModel.isItemVisible(s.model)),Z("id",s.elementId)("aria-selected",s.ariaSelected?"true":"false"),h(),f("ngIf",s.model.needSeparator),h(),Ee(s.itemStyle),_(s.listModel.cssClasses.itemBody),Z("title",s.model.getTooltip()),h(),f("component",oe(18,ge,s.itemComponent,oe(15,Z1,s.model,s.listModel)))}}var X1=["listContainerElement"];function ex(a,c){if(a&1){let s=fe();P(0,"button",8),J("click",function(g){B(s);let S=v(3);return N(S.model.onClickSearchClearButton(g))}),_e(),O(1,"svg",5),I()}if(a&2){let s=v(3);_(s.model.cssClasses.searchClearButtonIcon),h(),f("iconName","icon-searchclear")("size","auto")}}function tx(a,c){if(a&1){let s=fe();P(0,"div")(1,"div"),_e(),O(2,"svg",5),I(),xs(),P(3,"input",6),Qt("ngModelChange",function(g){B(s);let S=v(2);return qt(S.model.filterString,g)||(S.model.filterString=g),N(g)}),J("keyup",function(g){B(s);let S=v(2);return N(S.onGoToItems(g))}),I(),x(4,ex,2,4,"button",7),I()}if(a&2){let s=v(2);_(s.model.cssClasses.filter),h(),_(s.model.cssClasses.filterIcon),h(),f("iconName","icon-search")("size","auto"),h(),_(s.model.cssClasses.filterInput),Nt("ngModel",s.model.filterString),Z("aria-label",s.model.filterStringPlaceholder||"")("placeholder",s.model.filterStringPlaceholder||""),h(),f("ngIf",s.model.showSearchClearButton&&!!s.model.filterString)}}function nx(a,c){if(a&1&&O(0,"sv-ng-list-item",11),a&2){let s=c.$implicit,p=v(3);f("listModel",p.model)("model",s)}}function ix(a,c){if(a&1){let s=fe();P(0,"ul",9),J("mousedown",function(g){B(s);let S=v(2);return N(S.onMouseDown(g))})("keydown",function(g){B(s);let S=v(2);return N(S.onKeyDown(g))})("mousemove",function(g){B(s);let S=v(2);return N(S.onMouseMove(g))}),x(1,nx,1,2,"sv-ng-list-item",10),I()}if(a&2){let s=v(2);_(s.model.getListClass()),f("visible",!s.model.isEmpty),Z("id",s.model.elementId),h(),f("ngForOf",s.model.renderedActions)("ngForTrackBy",s.trackItemBy)}}function rx(a,c){if(a&1&&(P(0,"div",null,1),x(2,tx,5,12,"div",2),P(3,"div",3)(4,"div"),re(5),I()(),x(6,ix,2,6,"ul",4),I()),a&2){let s=v();_(s.model.cssClasses.root),h(2),f("ngIf",s.model.showFilter),h(),_(s.model.cssClasses.emptyContainer),f("visible",s.model.isEmpty),h(),_(s.model.cssClasses.emptyText),Z("aria-label",s.model.emptyMessage||""),h(),me(s.model.emptyMessage),h(),f("ngIf",s.model.renderElements)}}function ox(a,c){if(a&1&&(_e(),O(0,"svg",3)),a&2){let s=v(2);_(s.listModel.cssClasses.itemIcon),f("iconName",s.model.iconName)("size",s.model.iconSize)}}function sx(a,c){if(a&1&&(_e(),O(0,"svg",3)),a&2){let s=v(2);_(s.model.cssClasses.itemMarkerIcon),f("iconName",s.model.markerIconName)("size","auto")}}function ax(a,c){if(a&1&&(x(0,ox,1,4,"svg",1),O(1,"sv-ng-string",2),x(2,sx,1,4,"svg",1)),a&2){let s=v();f("ngIf",s.model.iconName),h(),f("model",s.model.locTitle),h(),f("ngIf",s.model.markerIconName)}}function lx(a,c){if(a&1&&O(0,"sv-ng-list-item-content",1)(1,"sv-ng-popup",2),a&2){let s=v();f("model",s.model)("listModel",s.listModel),h(),f("popupModel",s.model.popupModel)}}function ux(a,c){if(a&1){let s=fe();P(0,"label",1),J("mousedown",function(){B(s);let g=v();return N(g.model.onMouseDown())}),P(1,"input",2),J("click",function(g){B(s);let S=v();return N(S.onClick(g))}),I(),O(2,"span",3),I()}if(a&2){let s=v();_(s.model.getItemClassByText(s.item.itemValue,s.item.text)),h(),f("value",s.item.value)("disabled",s.model.isDisabledAttr)("readonly",s.model.isReadOnlyAttr)("checked",s.model.value===s.item.value),Z("name",s.model.questionName)("id",s.model.getInputId(s.index))("aria-required",s.model.ariaRequired)("aria-label",s.model.ariaLabel)("aria-invalid",s.model.ariaInvalid)("aria-errormessage",s.model.ariaErrormessage),h(),_(s.model.cssClasses.itemText),f("model",s.item.locText),Z("data-text",s.item.text)}}function cx(a,c){if(a&1){let s=fe();P(0,"label",1),J("mouseover",function(){B(s);let g=v();return N(g.model.onItemMouseIn(g.item))})("mouseout",function(){B(s);let g=v();return N(g.model.onItemMouseOut(g.item))})("mousedown",function(){B(s);let g=v();return N(g.model.onMouseDown())}),P(1,"input",2),J("click",function(g){B(s);let S=v();return N(S.onClick(g))}),I(),_e(),O(2,"svg",3)(3,"svg",3),I()}if(a&2){let s=v();_(s.model.getItemClass(s.item.itemValue,s.item.highlight)),h(),f("value",s.item.value)("disabled",s.model.isDisabledAttr)("readonly",s.model.isReadOnlyAttr)("checked",s.model.value===s.item.value),Z("name",s.model.questionName)("id",s.model.getInputId(s.index))("aria-required",s.model.ariaRequired)("aria-label",s.model.ariaLabel)("aria-invalid",s.model.ariaInvalid)("aria-errormessage",s.model.ariaErrormessage),h(),_("sv-star"),f("iconName",s.model.itemStarIcon)("size","auto")("title",s.item.text),h(),_("sv-star-2"),f("iconName",s.model.itemStarIconAlt)("size","auto")("title",s.item.text)}}function px(a,c){if(a&1){let s=fe();P(0,"label",1),J("mouseover",function(){B(s);let g=v();return N(g.model.onItemMouseIn(g.item))})("mouseout",function(){B(s);let g=v();return N(g.model.onItemMouseOut(g.item))})("mousedown",function(){B(s);let g=v();return N(g.model.onMouseDown())}),P(1,"input",2),J("click",function(g){B(s);let S=v();return N(S.onClick(g))}),I(),_e(),O(2,"svg",3),I()}if(a&2){let s=v();Ee(s.model.getItemStyle(s.item.itemValue,s.item.highlight)),_(s.model.getItemClass(s.item.itemValue,s.item.highlight)),h(),f("value",s.item.value)("disabled",s.model.isDisabledAttr)("readonly",s.model.isReadOnlyAttr)("checked",s.model.value===s.item.value),Z("name",s.model.questionName)("id",s.model.getInputId(s.index))("aria-required",s.model.ariaRequired)("aria-label",s.model.ariaLabel)("aria-invalid",s.model.ariaInvalid)("aria-errormessage",s.model.ariaErrormessage),h(),f("iconName",s.model.getItemSmileyIconName(s.item.itemValue))("size","auto")("title",s.item.text)}}function dx(a,c){if(a&1&&(H(0),P(1,"div",4),O(2,"sv-ng-string",5),I(),z()),a&2){let s=v(2);h(2),f("model",s.model.description)}}function fx(a,c){if(a&1&&(P(0,"div",1)(1,"span",2),re(2),I(),x(3,dx,3,1,"ng-container",3),I()),a&2){let s=v();h(2),me(s.model.title),h(),f("ngIf",!!s.model.description)}}function hx(a,c){if(a&1&&(_e(),P(0,"svg"),O(1,"use"),I()),a&2){let s=v();_(s.model.cssClasses.checkboxItemDecorator),h(),Z("href",s.model.svgIcon,null,"xlink")}}function mx(a,c){if(a&1&&(P(0,"span",5),O(1,"sv-ng-element-title-actions",6),I()),a&2){let s=v();_(s.model.cssClasses.checkboxControlLabel),f("id",s.model.labelRenderedAriaID),h(),f("element",s.model)}}function gx(a,c){if(a&1&&O(0,"div",7),a&2){let s=v();_(s.model.cssDescription),f("model",s.model.locDescription),Z("id",s.model.ariaDescriptionId)}}function vx(a,c){if(a&1&&(_e(),P(0,"svg"),O(1,"use"),I()),a&2){let s=v(2);_(s.question.cssClasses.itemRadioDecorator),h(),Z("href",s.question.itemSvgIcon,null,"xlink")}}function yx(a,c){if(a&1&&(P(0,"span"),x(1,vx,2,3,"svg",2),I()),a&2){let s=v();_(s.question.cssClasses.materialRadioDecorator),h(),f("ngIf",s.question.itemSvgIcon)}}function bx(a,c){if(a&1&&O(0,"sv-ng-boolean-radio-item",2),a&2){let s=v();f("value",!0)("locText",s.model.locLabelTrue)("question",s.model)}}function Cx(a,c){if(a&1&&O(0,"sv-ng-boolean-radio-item",2),a&2){let s=v();f("value",!0)("locText",s.model.locLabelTrue)("question",s.model)}}function xx(a,c){if(a&1&&(P(0,"div")(1,"div",1)(2,"span"),re(3),I()(),P(4,"span"),re(5),I()()),a&2){let s=v();_(s.model.getProgressCssClasses(s.container)),h(),_(s.model.css.progressBar),Ne("width",s.model.progressValue+"%"),h(),_(s.getProgressTextInBarCss(s.model.css)),h(),qn(" ",s.model.progressText," "),h(),_(s.getProgressTextUnderBarCss(s.model.css)),h(),qn(" ",s.model.progressText," ")}}var _x=["progressButtonsListContainer"];function wx(a,c){if(a&1&&(P(0,"div")(1,"div",5),re(2),I()()),a&2){let s=v();_(s.survey.css.progressButtonsHeader),h(),_(s.survey.css.progressButtonsPageTitle),f("title",s.model.headerText),h(),me(s.model.headerText)}}function Px(a,c){if(a&1&&(P(0,"div",5),O(1,"sv-ng-string",8),I()),a&2){let s=v().$implicit,p=v();_(p.survey.css.progressButtonsPageTitle),f("title",s.renderedNavigationTitle),h(),f("model",s.locNavigationTitle)}}function Vx(a,c){if(a&1&&(P(0,"div",5),re(1),I()),a&2){let s=v().$implicit,p=v();_(p.survey.css.progressButtonsPageDescription),f("title",s.locNavigationDescription.renderedHtml),h(),qn(" ",s.locNavigationDescription.renderedHtml," ")}}function Ix(a,c){if(a&1){let s=fe();P(0,"li",6),J("click",function(){let g=B(s),S=g.$implicit,ue=g.index,D=v();return N(D.model.isListElementClickable(ue)?D.model.clickListElement(S):null)}),O(1,"div"),x(2,Px,2,4,"div",7)(3,Vx,2,4,"div",7),P(4,"div"),O(5,"div")(6,"div"),P(7,"span"),re(8),I()()()}if(a&2){let s=c.$implicit,p=c.index,g=v();_(g.model.getListElementCss(p)),Z("data-page-number",g.model.getItemNumber(s)),h(),_(g.survey.css.progressButtonsConnector),h(),f("ngIf",g.canShowItemTitles),h(),f("ngIf",g.canShowItemTitles),h(),_(g.survey.css.progressButtonsButton),h(),_(g.survey.css.progressButtonsButtonBackground),h(),_(g.survey.css.progressButtonsButtonContent),h(2),me(g.model.getItemNumber(s))}}function Tx(a,c){if(a&1&&(P(0,"div")(1,"div",5),re(2),I()()),a&2){let s=v();_(s.survey.css.progressButtonsFooter),h(),_(s.survey.css.progressButtonsPageTitle),f("title",s.model.footerText),h(),me(s.model.footerText)}}function Sx(a,c){if(a&1&&O(0,"sv-ng-list",3),a&2){let s=v(2);f("model",s.model.listModel)}}function Ex(a,c){if(a&1){let s=fe();P(0,"div",4),J("click",function(){B(s);let g=v(2);return N(g.model.togglePopup())}),_e(),O(1,"svg",5),xs(),O(2,"sv-ng-popup",6),I()}if(a&2){let s=v(2);h(),f("iconName",s.model.icon)("size",24),h(),f("popupModel",s.model.popupModel)}}function Ox(a,c){if(a&1&&(P(0,"div"),x(1,Sx,1,1,"sv-ng-list",1)(2,Ex,3,3,"div",2),I()),a&2){let s=v();_(s.model.containerCss),h(),f("ngIf",!s.model.isMobile),h(),f("ngIf",s.model.isMobile)}}var Rx=["panelContainer"];function Dx(a,c){if(a&1&&O(0,"div",7),a&2){let s=v(3);f("element",s.model)}}function Mx(a,c){if(a&1&&O(0,"div",8),a&2){let s=v(3);f("element",s.model)}}function Ax(a,c){if(a&1&&O(0,"div",7),a&2){let s=v(3);f("element",s.model)}}function kx(a,c){if(a&1&&O(0,"sv-ng-row",12),a&2){let s=v().$implicit;f("row",s)}}function Lx(a,c){if(a&1&&(H(0),x(1,kx,1,1,"ng-template",11),z()),a&2){let s=c.$implicit,p=v(4);h(),f("component",oe(3,ge,p.model.survey.getRowWrapperComponentName(s),ne(1,dn,p.model.survey.getRowWrapperComponentData(s))))}}function Fx(a,c){if(a&1&&(P(0,"div"),x(1,Lx,2,6,"ng-container",9),O(2,"sv-ng-action-bar",10),I()),a&2){let s=v(3);_(s.model.cssClasses.panel.content),Ne("padding-left",s.model.innerPaddingLeft),Z("id",s.model.contentId),h(),f("ngForOf",s.model.visibleRows)("ngForTrackBy",s.trackRowBy),h(),f("model",s.model.getFooterToolbar())}}function jx(a,c){if(a&1){let s=fe();P(0,"div",3,1),J("focusin",function(){B(s);let g=v(2);return N(g.model.focusIn())}),x(2,Dx,1,1,"div",4)(3,Mx,1,1,"div",5)(4,Ax,1,1,"div",4)(5,Fx,3,8,"div",6),I()}if(a&2){let s=v(2);_(s.model.getContainerCss()),Z("id",s.model.id),h(2),f("ngIf",s.model.showErrorsAbovePanel&&s.model.hasVisibleErrors),h(),f("ngIf",s.model.hasDescription||s.model.hasTitle),h(),f("ngIf",!s.model.showErrorsAbovePanel&&s.model.hasVisibleErrors),h(),f("ngIf",s.model.renderedIsExpanded)}}function Bx(a,c){if(a&1&&x(0,jx,6,7,"div",2),a&2){let s=v();f("ngIf",s.canRender)}}function Nx(a,c){if(a&1){let s=fe();P(0,"input",1),J("mousedown",function(){B(s);let g=v();return N(g.buttonMouseDown())})("click",function(){B(s);let g=v();return N(g.model.action())}),I()}if(a&2){let s=v();_(s.model.innerCss),f("value",s.model.title)("disabled",s.model.disabled),Z("title",s.model.getTooltip())}}function qx(a,c){if(a&1){let s=fe();P(0,"div")(1,"a",1),_t(2,"safeUrl"),J("click",function(g){B(s);let S=v(2);return N(S.question.doDownloadFile(g,S.item))}),re(3),I()()}if(a&2){let s=v(2);_(s.question.cssClasses.fileSign),h(),Ne("width",s.question.imageWidth),Z("href",wt(2,8,s.item.content),Dt)("title",s.item.name)("download",s.item.name),h(2),me(s.item.name)}}function Qx(a,c){if(a&1&&(O(0,"img",6),_t(1,"safeUrl")),a&2){let s=v(2);Ne("height",s.question.imageHeight)("width",s.question.imageWidth),Z("src",wt(1,5,s.item.content),Dt)}}function Hx(a,c){if(a&1&&(_e(),O(0,"svg",7)),a&2){let s=v(2);f("iconName",s.question.cssClasses.defaultImageIconId)("partCss",s.question.cssClasses.defaultImage)("size","auto")}}function zx(a,c){if(a&1&&(_e(),O(0,"svg",9)),a&2){let s=v(3);f("title",s.question.removeFileCaption)("partCss",s.question.cssClasses.removeFileSvg)("iconName",s.question.cssClasses.removeFileSvgIconId)("size","auto")}}function Ux(a,c){if(a&1){let s=fe();P(0,"div",1),J("click",function(g){B(s);let S=v(2);return N(S.question.doRemoveFile(S.item,g))}),P(1,"span"),re(2),I(),x(3,zx,1,4,"svg",8),I()}if(a&2){let s=v(2);_(s.question.getRemoveButtonCss()),h(),_(s.question.cssClasses.removeFile),h(),me(s.question.removeFileCaption),h(),f("ngIf",s.question.cssClasses.removeFileSvgIconId)}}function Wx(a,c){if(a&1){let s=fe();P(0,"div")(1,"a",1),_t(2,"safeUrl"),J("click",function(g){B(s);let S=v(2);return N(S.question.doDownloadFile(g,S.item))}),re(3),I()()}if(a&2){let s=v(2);_(s.question.cssClasses.fileSignBottom),h(),Ne("width",s.question.imageWidth),Z("href",wt(2,8,s.item.content),Dt)("title",s.item.name)("download",s.item.name),h(2),me(s.item.name)}}function $x(a,c){if(a&1){let s=fe();P(0,"span",1),J("click",function(g){B(s);let S=v();return N(S.question.doDownloadFileFromContainer(g))}),x(1,qx,4,10,"div",2),P(2,"div"),x(3,Qx,2,7,"img",3)(4,Hx,1,3,"svg",4)(5,Ux,4,6,"div",5),I(),x(6,Wx,4,10,"div",2),I()}if(a&2){let s=v();_(s.question.cssClasses.previewItem),h(),f("ngIf",s.item.name&&s.question.cssClasses.fileSign),h(),_(s.question.getImageWrapperCss(s.item)),h(),f("ngIf",s.question.canPreviewImage(s.item)),h(),f("ngIf",s.question.defaultImage(s.item)),h(),f("ngIf",s.item.name&&!s.question.isReadOnly),h(),f("ngIf",s.item.name&&s.question.cssClasses.fileSignBottom)}}function Gx(a,c){if(a&1&&(H(0),O(1,"sv-ng-file-item",2),z()),a&2){let s=c.$implicit,p=v(2);h(),f("item",s)("question",p.question)}}function Zx(a,c){if(a&1&&(P(0,"div"),x(1,Gx,2,2,"ng-container",1),I()),a&2){let s=v();_(s.page.css),Z("id",s.page.id),h(),f("ngForOf",s.page.items)}}function Jx(a,c){if(a&1&&O(0,"sv-ng-file-page",3),a&2){let s=c.$implicit,p=v(4);f("page",s)("question",p.question)}}function Kx(a,c){if(a&1&&(H(0),x(1,Jx,1,2,"sv-ng-file-page",2),z()),a&2){let s=v(3);h(),f("ngForOf",s.question.renderedPages)("ngForTrackBy",s.trackPagesFn)}}function Yx(a,c){if(a&1&&O(0,"sv-ng-file-item",5),a&2){let s=c.$implicit,p=v(4);f("item",s)("question",p.question)}}function Xx(a,c){if(a&1&&(H(0),x(1,Yx,1,2,"sv-ng-file-item",4),z()),a&2){let s=v(3);h(),f("ngForOf",s.question.previewValue)}}function e_(a,c){if(a&1&&(H(0),P(1,"div"),x(2,Kx,2,2,"ng-container",1)(3,Xx,2,1,"ng-container",1),I(),z()),a&2){let s=v(2);h(),_(s.question.cssClasses.fileList||void 0),h(),f("ngIf",s.question.supportFileNavigator),h(),f("ngIf",!s.question.supportFileNavigator)}}function t_(a,c){if(a&1&&x(0,e_,4,4,"ng-container",1),a&2){let s=v();f("ngIf",s.question.showPreviewContainer)}}var _i=(a,c)=>({minWidth:a,width:c}),n_=(a,c,s,p,g)=>({cellChangedOwner:a,question:c,row:s,column:p,columnIndex:g});function i_(a,c){a&1&&O(0,"td")}function r_(a,c){if(a&1&&O(0,"sv-ng-string",7),a&2){let s=v().$implicit;f("model",s.locText)}}function o_(a,c){if(a&1&&(P(0,"th"),x(1,r_,1,1,"ng-template",6),I()),a&2){let s=c.$implicit,p=v(3);Ee(oe(5,_i,p.model.columnMinWidth,p.model.columnMinWidth)),_(p.model.cssClasses.headerCell),h(),f("component",oe(10,ge,p.model.getColumnHeaderWrapperComponentName(s),ne(8,dn,p.model.getColumnHeaderWrapperComponentData(s))))}}function s_(a,c){if(a&1&&(P(0,"thead")(1,"tr"),x(2,i_,1,0,"td",3)(3,o_,2,13,"th",5),I()()),a&2){let s=v(2);h(2),f("ngIf",s.model.hasRows),h(),f("ngForOf",s.model.visibleColumns)}}function a_(a,c){if(a&1&&O(0,"sv-ng-string",7),a&2){let s=v(2).$implicit;f("model",s.locText)}}function l_(a,c){if(a&1&&(P(0,"td"),x(1,a_,1,1,"ng-template",6),I()),a&2){let s=v().$implicit,p=v(2);Ee(oe(5,_i,p.model.rowTitleWidth,p.model.rowTitleWidth)),_(s.rowTextClasses),h(),f("component",oe(10,ge,p.model.getRowHeaderWrapperComponentName(s),ne(8,dn,p.model.getRowHeaderWrapperComponentData(s))))}}function u_(a,c){if(a&1){let s=fe();P(0,"td",10),J("click",function(){let g=B(s).$implicit,S=v(2).$implicit,ue=v(2);return N(ue.onCellChanged(S,g))}),I()}if(a&2){let s=c.$implicit,p=v(2).$implicit,g=v(2);_(g.model.getItemClass(p,s)),f("model",g.model.getCellDisplayLocText(p.name,s))}}function c_(a,c){if(a&1&&(H(0),x(1,u_,1,3,"td",9),z()),a&2){let s=v(3);h(),f("ngForOf",s.model.visibleColumns)}}function p_(a,c){}function d_(a,c){if(a&1&&(P(0,"td"),x(1,p_,0,0,"ng-template",6),I()),a&2){let s=c.$implicit,p=c.index,g=v(2).$implicit,S=v(2);_(S.model.cssClasses.cell),Z("data-responsive-title",s.locText.renderedHtml),h(),f("component",oe(10,ge,S.model.cellComponent,Ps(4,n_,S,S.model,g,s,p)))}}function f_(a,c){if(a&1&&(H(0),x(1,d_,2,13,"td",4),z()),a&2){let s=v(3);h(),f("ngForOf",s.model.visibleColumns)("ngForTrackBy",s.trackColumnByFn)}}function h_(a,c){if(a&1&&(P(0,"tr"),x(1,l_,2,13,"td",8)(2,c_,2,1,"ng-container",3)(3,f_,2,2,"ng-container",3),I()),a&2){let s=c.$implicit,p=v(2);_(s.rowClasses||void 0),h(),f("ngIf",p.model.hasRows),h(),f("ngIf",p.model.hasCellText),h(),f("ngIf",!p.model.hasCellText)}}function m_(a,c){if(a&1&&(P(0,"div",null,1)(2,"fieldset")(3,"legend",2),re(4),I(),P(5,"table"),x(6,s_,4,2,"thead",3),P(7,"tbody"),x(8,h_,4,5,"tr",4),I()()()()),a&2){let s=v();_(s.model.cssClasses.tableWrapper),h(4),me(s.model.locTitle.renderedHtml),h(),_(s.model.getTableCss()),h(),f("ngIf",s.model.showHeader),h(2),f("ngForOf",s.model.visibleRows)("ngForTrackBy",s.trackRowByFn)}}function g_(a,c){if(a&1&&(_e(),O(0,"svg",3)),a&2){let s=v(2);f("title",s.question.chooseButtonText)("iconName",s.question.cssClasses.chooseFileIconId)("size","auto")}}function v_(a,c){if(a&1){let s=fe();P(0,"label",1),J("click",function(g){B(s);let S=v();return N(S.question.chooseFile(g))}),x(1,g_,1,3,"svg",2),P(2,"span"),re(3),I()()}if(a&2){let s=v();_(s.question.getChooseFileCss()),Z("for",s.question.inputId)("aria-label",s.question.chooseButtonText),h(),f("ngIf",s.question.cssClasses.chooseFileIconId),h(2),me(s.question.chooseButtonText)}}function y_(a,c){a&1&&(P(0,"div",1),_e(),O(1,"svg",2),I()),a&2&&(h(),f("iconName","icon-loading")("size","auto"))}var pn=a=>({question:a}),$c=a=>({css:a}),b_=a=>({name:"sv-file-preview",data:a});function C_(a,c){if(a&1&&O(0,"input",10),a&2){let s=v();_(s.model.cssClasses.fileInput),Z("id",s.model.inputId)("aria-required",s.model.ariaRequired)("aria-label",s.model.ariaLabel)("aria-invalid",s.model.ariaInvalid)("aria-errormessage",s.model.ariaErrormessage)("multiple",s.model.multipleRendered)("title",s.model.inputTitle)("accept",s.model.acceptedTypes)("capture",s.model.renderCapture)}}function x_(a,c){if(a&1&&O(0,"input",11),a&2){let s=v();_(s.model.getReadOnlyFileCss()),Z("id",s.model.inputId)("multiple",s.model.multipleRendered)("placeholder",s.model.title)}}function __(a,c){if(a&1&&O(0,"input",12),a&2){let s=v();_(s.model.getReadOnlyFileCss()),Z("id",s.model.inputId)("multiple",s.model.multipleRendered)("placeholder",s.model.title)}}function w_(a,c){if(a&1&&O(0,"sv-ng-choose-file-btn",15),a&2){let s=v(2);f("data",ne(1,pn,s.model))}}function P_(a,c){if(a&1&&O(0,"sv-ng-action-bar",16),a&2){let s=v(2);f("model",s.model.actionsContainer)}}function V_(a,c){if(a&1&&(P(0,"span"),re(1),I()),a&2){let s=v(2);_(s.model.cssClasses.noFileChosen),h(),me(s.model.noFileChosenCaption)}}function I_(a,c){if(a&1&&(P(0,"div"),O(1,"span",13),P(2,"div"),x(3,w_,1,3,"sv-ng-choose-file-btn",14)(4,P_,1,1,"sv-ng-action-bar",9)(5,V_,2,3,"span",7),I()()),a&2){let s=v();_(s.model.getFileDecoratorCss()),h(),_(s.model.cssClasses.dragAreaPlaceholder),f("model",s.model.locRenderedPlaceholder),h(),_(s.model.cssClasses.wrapper),h(),f("ngIf",s.model.showChooseButton),h(),f("ngIf",s.model.actionsContainerVisible),h(),f("ngIf",s.model.isEmpty())}}function T_(a,c){if(a&1&&(H(0),P(1,"div"),O(2,"sv-ng-loading-indicator"),I(),z()),a&2){let s=v();h(),_(s.model.cssClasses.loadingIndicator)}}function S_(a,c){a&1&&ze(0)}function E_(a,c){if(a&1&&(H(0),x(1,S_,1,0,"ng-container",17),z()),a&2){v();let s=Ue(16);h(),f("ngTemplateOutlet",s)}}function O_(a,c){a&1&&ze(0)}function R_(a,c){if(a&1&&(H(0),x(1,O_,1,0,"ng-container",18),z()),a&2){let s=v(),p=Ue(14);h(),f("ngTemplateOutlet",p)("ngTemplateOutletContext",ne(2,$c,s.model.showRemoveButton))}}function D_(a,c){}function M_(a,c){if(a&1&&(H(0),x(1,D_,0,0,"ng-template",19),z()),a&2){let s=v();h(),f("component",ne(3,b_,ne(1,pn,s.model)))}}function A_(a,c){a&1&&ze(0)}function k_(a,c){if(a&1&&(H(0),x(1,A_,1,0,"ng-container",18),z()),a&2){let s=v(),p=Ue(14);h(),f("ngTemplateOutlet",p)("ngTemplateOutletContext",ne(2,$c,s.model.showRemoveButtonBottom))}}function L_(a,c){if(a&1&&O(0,"sv-action-bar",16),a&2){let s=v();f("model",s.model.fileNavigator)}}function F_(a,c){if(a&1&&(_e(),O(0,"svg",22)),a&2){let s=v(2);f("iconName",s.model.cssClasses.removeButtonIconId)("size","auto")("title",s.model.clearButtonCaption)}}function j_(a,c){if(a&1){let s=fe();P(0,"button",20),J("click",function(){B(s);let g=v();return N(g.model.doClean())}),P(1,"span"),re(2),I(),x(3,F_,1,3,"svg",21),I()}if(a&2){let s=c.css,p=v();_(s),h(2),me(p.model.clearButtonCaption),h(),f("ngIf",p.model.cssClasses.removeButtonIconId)}}function B_(a,c){if(a&1&&(P(0,"div"),O(1,"sv-ng-action",16)(2,"sv-ng-action",16)(3,"video",23)(4,"sv-ng-action",16),I()),a&2){let s=v();_(s.model.cssClasses.videoContainer),h(),f("model",s.model.changeCameraAction),h(),f("model",s.model.closeCameraAction),h(),_(s.model.cssClasses.video),Z("id",s.model.videoId),h(),f("model",s.model.takePictureAction)}}function N_(a,c){}function q_(a,c){if(a&1&&O(0,"sv-ng-character-counter",4),a&2){let s=v(2);f("counter",s.model.characterCounter)("remainingCharacterCounter",s.model.cssClasses.remainingCharacterCounter)}}function Q_(a,c){if(a&1&&(H(0),x(1,N_,0,0,"ng-template",2)(2,q_,1,2,"sv-ng-character-counter",3),z()),a&2){let s=v();h(),f("component",ne(4,Fs,ne(2,Mt,s.model.textAreaModel))),h(),f("ngIf",s.model.getMaxLength())}}function H_(a,c){if(a&1&&(P(0,"div",null,0),re(2),I()),a&2){let s=v();h(2),me(s.model.value)}}function z_(a,c){if(a&1&&O(0,"img",6),a&2){let s=v();_(s.model.cssClasses.backgroundImage),Ne("width",s.model.renderedCanvasWidth),f("src",s.model.backgroundImage,Dt)}}function U_(a,c){a&1&&(P(0,"span"),re(1,"\u2716"),I())}function W_(a,c){if(a&1&&(_e(),O(0,"svg",9)),a&2){let s=v(2);f("iconName",s.model.cssClasses.clearButtonIconId)("size","auto")}}function $_(a,c){if(a&1){let s=fe();P(0,"div")(1,"button",7),J("click",function(){B(s);let g=v();return N(g.model.clearValue(!0))}),x(2,U_,2,0,"span",5)(3,W_,1,2,"svg",8),I()()}if(a&2){let s=v();_(s.model.cssClasses.controls),h(),_(s.model.cssClasses.clearButton),f("title",s.model.clearButtonCaption),h(),f("ngIf",!s.model.cssClasses.clearButtonIconId),h(),f("ngIf",s.model.cssClasses.clearButtonIconId)}}function G_(a,c){if(a&1&&(H(0),P(1,"div"),O(2,"sv-ng-loading-indicator"),I(),z()),a&2){let s=v();h(),_(s.model.cssClasses.loadingIndicator)}}var Z_=["sv-ng-multipletext-item",""];function J_(a,c){if(a&1&&(P(0,"span"),re(1),I()),a&2){let s=v(2);_(s.question.cssClasses.requiredText),h(),me(s.item.editor.requiredText)}}function K_(a,c){a&1&&(P(0,"span"),re(1,"\xA0"),I())}function Y_(a,c){if(a&1&&(P(0,"span",5),re(1),I()),a&2){let s=v(2);_(s.question.cssClasses.requiredText),h(),me(s.item.editor.requiredText)}}function X_(a,c){if(a&1){let s=fe();H(0),P(1,"label")(2,"span"),x(3,J_,2,3,"span",1),O(4,"sv-ng-string",2),x(5,K_,2,0,"span",0)(6,Y_,2,3,"span",3),I(),P(7,"div",4),J("focusin",function(){B(s);let g=v();return N(g.item.focusIn())}),O(8,"sv-ng-text-question",2),I()(),z()}if(a&2){let s=v();h(),_(s.question.getItemLabelCss(s.item)),h(),Ee(oe(13,_i,s.question.itemTitleWidth,s.question.itemTitleWidth)),_(s.question.getItemTitleCss()),h(),f("ngIf",s.item.editor.isRequireTextBeforeTitle||s.item.editor.isRequireTextOnStart),h(),f("model",s.item.locTitle),h(),f("ngIf",s.item.editor.isRequireTextAfterTitle),h(),f("ngIf",s.item.editor.isRequireTextAfterTitle),h(),_(s.question.getItemCss()),h(),f("model",s.item.editor)}}function e2(a,c){if(a&1&&O(0,"div",7),a&2){let s=v(2);f("element",s.item.editor)}}function t2(a,c){if(a&1&&(H(0),x(1,e2,1,1,"div",6),z()),a&2){let s=v();h(),f("ngIf",s.item.editor.hasVisibleErrors)}}function n2(a,c){if(a&1&&(H(0),O(1,"td",3),z()),a&2){let s=c.$implicit,p=v(3);h(),_(s.className),f("question",p.question)("model",s)}}function i2(a,c){if(a&1&&(P(0,"tr"),x(1,n2,2,4,"ng-container",2),I()),a&2){let s=v(2);_(s.question.cssClasses.row),h(),f("ngForOf",s.model.cells)("ngForTrackBy",s.trackItemBy)}}function r2(a,c){if(a&1&&x(0,i2,2,4,"tr",1),a&2){let s=v();f("ngIf",s.model.isVisible)}}function o2(a,c){if(a&1&&(H(0),O(1,"sv-ng-multipletext-row",2),z()),a&2){let s=c.$implicit,p=v();h(),f("model",s)("question",p.model)}}function s2(a,c){}function a2(a,c){if(a&1&&(H(0),x(1,s2,0,0,"ng-template",3),z()),a&2){let s=c.$implicit,p=c.index,g=v(2);h(),f("component",oe(1,ge,g.getItemValueComponentName(s),g.getItemValueComponentData(s,p)))}}function l2(a,c){if(a&1&&(P(0,"div",null,0),x(2,a2,2,4,"ng-container",2),I()),a&2){let s=v();_(s.model.rootClass),h(2),f("ngForOf",s.model.renderedRankingChoices)("ngForTrackBy",s.trackItemBy)}}function u2(a,c){}function c2(a,c){if(a&1&&(H(0),x(1,u2,0,0,"ng-template",3),z()),a&2){let s=c.$implicit,p=c.index,g=v(2);h(),f("component",oe(1,ge,g.getItemValueComponentName(s),g.getItemValueComponentData(s,p,!0)))}}function p2(a,c){if(a&1&&O(0,"div",7),a&2){let s=v(2);_(s.model.cssClasses.containerPlaceholder),f("model",s.model.locSelectToRankEmptyRankedAreaText)}}function d2(a,c){}function f2(a,c){if(a&1&&(H(0),x(1,d2,0,0,"ng-template",3),z()),a&2){let s=c.$implicit,p=c.index,g=v(2);h(),f("component",oe(1,ge,g.getItemValueComponentName(s),g.getItemValueComponentData(s,p)))}}function h2(a,c){if(a&1&&O(0,"div",7),a&2){let s=v(2);_(s.model.cssClasses.containerPlaceholder),f("model",s.model.locSelectToRankEmptyUnrankedAreaText)}}function m2(a,c){if(a&1&&(P(0,"div",null,0)(2,"div",4),x(3,c2,2,4,"ng-container",2)(4,p2,1,3,"div",5),I(),O(5,"div"),P(6,"div",6),x(7,f2,2,4,"ng-container",2)(8,h2,1,3,"div",5),I()()),a&2){let s=v();_(s.model.rootClass),h(2),_(s.model.getContainerClasses("from")),h(),f("ngForOf",s.model.renderedUnRankingChoices)("ngForTrackBy",s.trackItemBy),h(),f("ngIf",s.model.renderedUnRankingChoices.length===0),h(),_(s.model.cssClasses.containersDivider),h(),_(s.model.getContainerClasses("to")),h(),f("ngForOf",s.model.renderedRankingChoices)("ngForTrackBy",s.trackItemBy),h(),f("ngIf",s.model.renderedRankingChoices.length===0)}}var g2=(a,c)=>({item:a,cssClasses:c});function v2(a,c){if(a&1&&(P(0,"div"),re(1),I()),a&2){let s=v();_(s.question.getItemIndexClasses(s.model)),h(),me(s.question.getNumberByIndex(s.index))}}function y2(a,c){if(a&1&&(P(0,"div"),_e(),P(1,"svg"),O(2,"use"),I()()),a&2){let s=v();_(s.question.getItemIndexClasses(s.model)),h(2),Z("href",s.question.dashSvgIcon,null,"xlink")}}function b2(a,c){}function C2(a,c){if(a&1&&(P(0,"div"),O(1,"sv-ng-string",1),I()),a&2){let s=v();_(s.cssClasses.controlLabel),h(),f("model",s.item.locText)}}function x2(a,c){if(a&1){let s=fe();P(0,"span",2),J("blur",function(g){B(s);let S=v();return N(S.onInput(g))})("click",function(g){B(s);let S=v();return N(S.onClick(g))}),I()}if(a&2){let s=v();f("innerHtml",s.model.renderedHtml,ln)}}function _2(a,c){if(a&1){let s=fe();P(0,"span",3),J("blur",function(g){B(s);let S=v();return N(S.onInput(g))})("click",function(g){B(s);let S=v();return N(S.onClick(g))}),re(1),I()}if(a&2){let s=v();h(),me(s.model.renderedHtml)}}function w2(a,c){if(a&1){let s=fe();P(0,"button",1),J("click",function(){B(s);let g=v();return N(g.addPanelClick())}),P(1,"span"),O(2,"sv-ng-string",2),I()()}if(a&2){let s=v();_(s.question.getAddButtonCss()),f("id",s.question.addButtonId),h(),_(s.question.cssClasses.buttonAddText),h(),f("model",s.question.locPanelAddText)}}var Bs=a=>({width:a}),P2=(a,c)=>({panel:a,question:c}),V2=a=>({name:"sv-paneldynamic-remove-btn",data:a});function I2(a,c){if(a&1&&O(0,"sv-ng-paneldynamic-add-btn",8),a&2){let s=v(2);f("data",ne(1,pn,s.model))}}function T2(a,c){if(a&1&&(P(0,"div"),O(1,"span",7),x(2,I2,1,3,"sv-ng-paneldynamic-add-btn",6),I()),a&2){let s=v();_(s.model.cssClasses.noEntriesPlaceholder),h(),f("model",s.model.locNoEntriesText),h(),f("ngIf",s.model.canAddPanel)}}function S2(a,c){if(a&1&&(P(0,"div"),O(1,"div",9),I()),a&2){let s=v();_(s.model.cssClasses.progress),h(),Ee(ne(6,Bs,s.model.progress)),_(s.model.cssClasses.progressBar)}}function E2(a,c){if(a&1&&ze(0,10),a&2){v();let s=Ue(13);f("ngTemplateOutlet",s)}}function O2(a,c){}function R2(a,c){}function D2(a,c){if(a&1&&(H(0),x(1,R2,0,0,"ng-template",11),z()),a&2){let s=v().$implicit,p=v();h(),f("component",ne(6,V2,ne(4,zn,oe(1,P2,s,p.model))))}}function M2(a,c){if(a&1&&O(0,"hr"),a&2){let s=v(2);_(s.model.cssClasses.separator)}}function A2(a,c){if(a&1&&(H(0),P(1,"div"),x(2,O2,0,0,"ng-template",11)(3,D2,2,8,"ng-container",12),I(),x(4,M2,1,2,"hr",3),z()),a&2){let s=c.$implicit,p=c.index,g=v();h(),_(g.model.getPanelWrapperCss(s)),h(),f("component",oe(5,ge,g.getPanelComponentName(s),g.getPanelComponentData(s))),h(),f("ngIf",g.model.panelRemoveButtonLocation==="right"&&g.model.canRemovePanel&&s.state!="collapsed"),h(),f("ngIf",g.model.showSeparator(p))}}function k2(a,c){if(a&1&&ze(0,10),a&2){v();let s=Ue(13);f("ngTemplateOutlet",s)}}function L2(a,c){if(a&1&&O(0,"sv-ng-paneldynamic-add-btn",8),a&2){let s=v();f("data",ne(1,pn,s.model))}}function F2(a,c){if(a&1&&ze(0,10),a&2){v();let s=Ue(11);f("ngTemplateOutlet",s)}}function j2(a,c){if(a&1&&(P(0,"div"),O(1,"div",9),I()),a&2){let s=v(3);_(s.model.cssClasses.progress),h(),Ee(ne(6,Bs,s.model.progress)),_(s.model.cssClasses.progressBar)}}function B2(a,c){if(a&1&&(P(0,"div"),O(1,"sv-ng-action-bar",13),I()),a&2){let s=v(3);_(s.model.cssClasses.footerButtonsContainer),h(),f("model",s.model.footerToolbar)}}function N2(a,c){if(a&1&&(P(0,"div"),O(1,"hr"),x(2,j2,2,8,"div",3)(3,B2,2,3,"div",3),I()),a&2){let s=v(2);_(s.model.cssClasses.footer),h(),_(s.model.cssClasses.separator),h(),f("ngIf",s.model.isRangeShowing&&s.model.isProgressBottomShowing),h(),f("ngIf",s.model.footerToolbar.visibleActions.length)}}function q2(a,c){if(a&1&&x(0,N2,4,6,"div",3),a&2){let s=v();f("ngIf",!!s.model.cssClasses.footer)}}function Q2(a,c){if(a&1&&(P(0,"div"),O(1,"div",9),I()),a&2){let s=v(2);_(s.model.cssClasses.progress),h(),Ee(ne(6,Bs,s.model.progress)),_(s.model.cssClasses.progressBar)}}function H2(a,c){if(a&1&&(P(0,"div")(1,"div",14)(2,"div"),O(3,"sv-ng-paneldynamic-prev-btn",8),x(4,Q2,2,8,"div",3),O(5,"sv-ng-paneldynamic-next-btn",8),I(),O(6,"sv-ng-paneldynamic-add-btn",8)(7,"sv-ng-paneldynamic-progress-text",8),I()()),a&2){let s=v();_(s.progressCssClass),h(),_(s.progressCssClass),h(),_(s.model.cssClasses.progressContainer),h(),f("data",ne(11,pn,s.model)),h(),f("ngIf",s.model.isRangeShowing),h(),f("data",ne(13,pn,s.model)),h(),f("data",ne(15,pn,s.model)),h(),f("data",ne(17,pn,s.model))}}function z2(a,c){}function U2(a,c){if(a&1&&(H(0),x(1,z2,0,0,"ng-template",2),z()),a&2){let s=v(2);h(),f("component",oe(1,ge,s.componentName,s.componentData))}}function W2(a,c){a&1&&ze(0)}function $2(a,c){if(a&1&&(H(0),x(1,W2,1,0,"ng-container",3),z()),a&2){let s=v(2);h(),f("ngTemplateOutlet",s.contentTempl)}}function G2(a,c){if(a&1&&x(0,U2,2,4,"ng-container",1)(1,$2,2,1,"ng-container",1),a&2){let s=v();f("ngIf",!!s.componentName),h(),f("ngIf",!s.componentName&&s.contentTempl)}}var Z2=["content"],J2=(a,c)=>({model:a,css:c});function K2(a,c){if(a&1&&(O(0,"div",3),_t(1,"safeHtml")),a&2){let s=v();f("innerHTML",wt(1,1,s.customHtml),ln)}}function Y2(a,c){}function X2(a,c){if(a&1&&(H(0),x(1,Y2,0,0,"ng-template",4),z()),a&2){let s=v();h(),f("component",oe(4,ge,s.componentName,oe(1,J2,s.model,s.css)))}}function ew(a,c){if(a&1&&(_e(),P(0,"svg"),O(1,"use"),I()),a&2){let s=v();_(s.question.cssClasses.itemDecorator),h(),Z("href",s.question.itemSvgIcon,null,"xlink")}}function tw(a,c){if(a&1&&O(0,"span",4),a&2){let s=v();_(s.question.cssClasses.cellResponsiveTitle),f("model",s.column.locText)}}function nw(a,c){if(a&1&&(_e(),P(0,"svg"),O(1,"use"),I()),a&2){let s=v(2);_(s.question.cssClasses.dragElementDecorator),h(),Z("href",s.question.iconDragElement,null,"xlink")}}function iw(a,c){a&1&&O(0,"span",3)}function rw(a,c){if(a&1&&(P(0,"div"),x(1,nw,2,3,"svg",1)(2,iw,1,0,"span",2),I()),a&2){let s=v();h(),f("ngIf",s.question.iconDragElement),h(),f("ngIf",!s.question.iconDragElement)}}function ow(a,c){if(a&1&&(H(0),P(1,"span"),re(2,"\xA0"),I(),P(3,"span"),re(4),I(),z()),a&2){let s=v(2);h(3),_(s.question.cssClasses.cellRequiredText),h(),me(s.column.requiredText)}}function sw(a,c){if(a&1&&x(0,ow,5,3,"ng-container",1),a&2){let s=v();f("ngIf",s.column.isRenderedRequired)}}var aw=["cellContainer"],lw=(a,c)=>({row:a,question:c});function uw(a,c){if(a&1&&O(0,"sv-ng-matrix-drag-drop-icon",10),a&2){let s=v(3);f("model",ne(4,zn,oe(1,lw,s.row,s.question)))}}function cw(a,c){if(a&1&&O(0,"sv-action-bar",11),a&2){let s=v(3);f("model",s.cell.item.getData())("handleClick",!1)}}function pw(a,c){}function dw(a,c){if(a&1&&(H(0),x(1,pw,0,0,"ng-template",12),z()),a&2){let s=v(3);h(),f("component",oe(1,ge,s.panelComponentName,s.panelComponentData))}}function fw(a,c){if(a&1&&O(0,"div",13),a&2){let s=v(3);f("element",s.cell.question)}}function hw(a,c){if(a&1&&(P(0,"span"),O(1,"sv-ng-string",10)(2,"sv-ng-matrixheaderrequired",14),I()),a&2){let s=v(3);_(s.cell.responsiveTitleCss),h(),f("model",s.cell.responsiveLocTitle),h(),f("column",s.cell.column)("question",s.cell.matrix)}}function mw(a,c){}function gw(a,c){if(a&1&&x(0,mw,0,0,"ng-template",12),a&2){let s=v(5);f("component",oe(3,ge,s.getComponentName(s.cell.question),ne(1,Mt,s.cell.question)))}}function vw(a,c){if(a&1&&(H(0),x(1,gw,1,6,"ng-template",12),z()),a&2){let s=v(4);h(),f("component",oe(3,ge,s.question.getCellWrapperComponentName(s.cell.cell),ne(1,dn,s.question.getCellWrapperComponentData(s.cell.cell))))}}function yw(a,c){}function bw(a,c){if(a&1&&x(0,yw,0,0,"ng-template",12),a&2){let s=v(4);f("component",oe(3,ge,s.cell.question.getComponentName(),ne(1,Mt,s.cell.question)))}}function Cw(a,c){if(a&1&&O(0,"sv-ng-selebase-item",17),a&2){let s=v(5);f("showLabel",!1)("inputType",s.cell.isCheckbox?"checkbox":"radio")("question",s.cell.question)("model",s.cell.item)}}function xw(a,c){if(a&1&&(H(0),x(1,Cw,1,4,"ng-template",12),z()),a&2){let s=v(4);h(),f("component",oe(3,ge,s.question.getCellWrapperComponentName(s.cell.cell),ne(1,dn,s.question.getCellWrapperComponentData(s.cell.cell))))}}function _w(a,c){if(a&1&&O(0,"div",18),a&2){let s=v(4);_(s.cell.question.getCommentAreaCss(!0)),f("question",s.cell.question)}}function ww(a,c){if(a&1&&(P(0,"div",15),x(1,vw,2,6,"ng-container",6)(2,bw,1,6,null,6)(3,xw,2,6,"ng-container",6)(4,_w,1,3,"div",16),I()),a&2){let s=v(3);_(s.cell.cellQuestionWrapperClassName),f("visible",s.cell.question.isVisible),h(),f("ngIf",!s.cell.isChoice&&s.cell.question.isDefaultRendering()),h(),f("ngIf",!s.cell.isChoice&&!s.cell.question.isDefaultRendering()),h(),f("ngIf",s.cell.isItemChoice),h(),f("ngIf",s.cell.isOtherChoice)}}function Pw(a,c){if(a&1&&(P(0,"span"),re(1),I()),a&2){let s=v(5);_(s.question.cssClasses.cellRequiredText),h(),me(s.cell.requiredText)}}function Vw(a,c){if(a&1&&(O(0,"sv-ng-string",10),x(1,Pw,2,3,"span",8)),a&2){let s=v(4);f("model",s.cell.locTitle),h(),f("ngIf",s.isRequiredCell)}}function Iw(a,c){if(a&1&&(H(0),x(1,Vw,2,2,"ng-template",12),z()),a&2){let s=v(3);h(),f("component",oe(3,ge,s.question.getCellWrapperComponentName(s.cell),ne(1,dn,s.question.getCellWrapperComponentData(s.cell))))}}function Tw(a,c){if(a&1){let s=fe();P(0,"td",3,1),J("focusin",function(){B(s);let g=v(2);return N(g.cell.focusIn())}),x(2,uw,1,6,"sv-ng-matrix-drag-drop-icon",4)(3,cw,1,2,"sv-action-bar",5)(4,dw,2,4,"ng-container",6)(5,fw,1,1,"div",7)(6,hw,3,5,"span",8)(7,ww,5,7,"div",9)(8,Iw,2,6,"ng-container",6),I()}if(a&2){let s=v(2);Ee(s.getCellStyle()),_(s.cell.className),f("title",s.cell.getTitle()),Z("colspan",s.cell.colSpans),h(2),f("ngIf",s.cell.isDragHandlerCell),h(),f("ngIf",s.cell.isActionsCell),h(),f("ngIf",s.cell.hasPanel),h(),f("ngIf",s.cell.isErrorsCell&&(s.cell.question==null?null:s.cell.question.hasVisibleErrors)),h(),f("ngIf",s.cell.showResponsiveTitle),h(),f("ngIf",s.cell.hasQuestion),h(),f("ngIf",s.cell.hasTitle)}}function Sw(a,c){if(a&1&&x(0,Tw,9,13,"td",2),a&2){let s=v();f("ngIf",s.canRender)}}function Ew(a,c){if(a&1&&O(0,"sv-ng-matrixdropdown-cell",5),a&2){let s=c.$implicit,p=v(3);f("cell",s)("question",p.question)}}function Ow(a,c){if(a&1){let s=fe();P(0,"tr",3,1),J("pointerdown",function(g){B(s);let S=v(2);return N(S.question.onPointerDown(g,S.row))}),x(2,Ew,1,2,"sv-ng-matrixdropdown-cell",4),I()}if(a&2){let s=v(2);_(s.model.className),Z("data-sv-drop-target-matrix-row",s.row&&s.row.id),h(2),f("ngForOf",s.model.cells)("ngForTrackBy",s.trackCellBy)}}function Rw(a,c){if(a&1&&x(0,Ow,3,5,"tr",2),a&2){let s=v();f("ngIf",s.model.visible)}}var Dw=a=>({overflowX:a});function Mw(a,c){if(a&1&&O(0,"sv-ng-matrixheaderrequired",7),a&2){let s=v(3).$implicit,p=v(2);f("column",s.column)("question",p.question)}}function Aw(a,c){if(a&1&&(O(0,"sv-ng-string",5),x(1,Mw,1,2,"sv-ng-matrixheaderrequired",6)),a&2){let s=v(2).$implicit;f("model",s.locTitle),h(),f("ngIf",!!s.column)}}function kw(a,c){if(a&1&&(P(0,"th"),x(1,Aw,2,2,"ng-template",4),I()),a&2){let s=v().$implicit,p=v(2);Ee(oe(5,_i,s.minWidth,s.width)),_(s.className),h(),f("component",oe(10,ge,p.question.getColumnHeaderWrapperComponentName(s),ne(8,dn,p.question.getColumnHeaderWrapperComponentData(s))))}}function Lw(a,c){if(a&1&&O(0,"td"),a&2){let s=v().$implicit;Ee(oe(4,_i,s.minWidth,s.width)),_(s.className)}}function Fw(a,c){if(a&1&&(H(0),x(1,kw,2,13,"th",3)(2,Lw,1,7,"td",3),z()),a&2){let s=c.$implicit;h(),f("ngIf",s.hasTitle),h(),f("ngIf",!s.hasTitle)}}function jw(a,c){if(a&1&&(P(0,"thead")(1,"tr"),x(2,Fw,3,2,"ng-container",2),I()()),a&2){let s=v();h(2),f("ngForOf",s.table.headerRow.cells)("ngForTrackBy",s.trackCellBy)}}function Bw(a,c){if(a&1&&(H(0),O(1,"sv-ng-matrix-row",8),z()),a&2){let s=c.$implicit,p=v();h(),f("model",s)("question",p.question)}}function Nw(a,c){if(a&1&&O(0,"sv-ng-matrixdropdown-cell",10),a&2){let s=c.$implicit,p=v(2);f("cell",s)("question",p.question)}}function qw(a,c){if(a&1&&(P(0,"tfoot")(1,"tr"),x(2,Nw,1,2,"sv-ng-matrixdropdown-cell",9),I()()),a&2){let s=v();h(2),f("ngForOf",s.table.footerRow.cells)("ngForTrackBy",s.trackCellBy)}}function Qw(a,c){if(a&1&&O(0,"sv-ng-matrix-table",2),a&2){let s=v(2);f("question",s.model)("table",s.model.renderedTable)}}function Hw(a,c){if(a&1&&x(0,Qw,1,2,"sv-ng-matrix-table",1),a&2){let s=v();f("ngIf",s.model.renderedTable==null?null:s.model.renderedTable.showTable)}}function zw(a,c){a&1&&ze(0)}function Uw(a,c){if(a&1&&(P(0,"div"),x(1,zw,1,0,"ng-container",5),I()),a&2){v();let s=Ue(7),p=v();_(p.model.cssClasses.footer),h(),f("ngTemplateOutlet",s)}}function Ww(a,c){if(a&1&&O(0,"sv-ng-matrix-table",6),a&2){let s=v(2);f("question",s.model)("table",s.model.renderedTable)}}function $w(a,c){a&1&&ze(0)}function Gw(a,c){if(a&1&&(H(0),x(1,$w,1,0,"ng-container",5),z()),a&2){v(2);let s=Ue(7);h(),f("ngTemplateOutlet",s)}}function Zw(a,c){if(a&1&&(P(0,"div"),O(1,"div",7),x(2,Gw,2,1,"ng-container",8),I()),a&2){let s=v(2);_(s.model.cssClasses.emptyRowsSection),h(),_(s.model.cssClasses.emptyRowsText),f("model",s.model.locEmptyRowsText),h(),f("ngIf",s.model.renderedTable.showAddRow)}}function Jw(a,c){a&1&&ze(0)}function Kw(a,c){if(a&1&&(P(0,"div"),x(1,Jw,1,0,"ng-container",5),I()),a&2){v();let s=Ue(7),p=v();_(p.model.cssClasses.footer),h(),f("ngTemplateOutlet",s)}}function Yw(a,c){if(a&1){let s=fe();P(0,"button",9),J("click",function(){B(s);let g=v(2);return N(g.model.addRowUI())}),O(1,"sv-ng-string",10)(2,"span"),I()}if(a&2){let s=v(2);_(s.model.getAddRowButtonCss(!0)),h(),f("model",s.model.locAddRowText),h(),_(s.model.cssClasses.iconAdd)}}function Xw(a,c){if(a&1&&(P(0,"div",null,1),x(2,Uw,2,3,"div",3)(3,Ww,1,2,"sv-ng-matrix-table",4)(4,Zw,3,6,"div",3)(5,Kw,2,3,"div",3),I(),x(6,Yw,3,5,"ng-template",null,2,pe)),a&2){let s=v();h(2),f("ngIf",s.model.renderedTable.showAddRowOnTop),h(),f("ngIf",s.model.renderedTable==null?null:s.model.renderedTable.showTable),h(),f("ngIf",!s.model.renderedTable.showTable),h(),f("ngIf",s.model.renderedTable.showAddRowOnBottom)}}var Ns=(a,c,s)=>({objectFit:a,width:c,height:s});function eP(a,c){if(a&1){let s=fe();P(0,"img",5),J("load",function(){B(s);let g=v();return N(g.model.onLoadHandler())})("error",function(){B(s);let g=v();return N(g.model.onErrorHandler())}),I()}if(a&2){let s=v();Ee(un(9,Ns,s.model.imageFit,s.model.renderedStyleWidth,s.model.renderedStyleHeight)),_(s.model.getImageCss()),f("visible",!!s.model.locImageLink.renderedHtml&&!s.model.contentNotLoaded),Z("src",s.model.locImageLink.renderedHtml,Dt)("alt",s.model.altText||s.model.title)("width",s.model.renderedWidth)("height",s.model.renderedHeight)}}function tP(a,c){if(a&1){let s=fe();P(0,"video",6),J("loadedmetadata",function(){B(s);let g=v();return N(g.model.onLoadHandler())})("error",function(){B(s);let g=v();return N(g.model.onErrorHandler())}),I()}if(a&2){let s=v();Ee(un(8,Ns,s.model.imageFit,s.model.renderedStyleWidth,s.model.renderedStyleHeight)),_(s.model.getImageCss()),f("visible",!!s.model.locImageLink.renderedHtml&&!s.model.contentNotLoaded),Z("src",s.model.locImageLink.renderedHtml,Dt)("width",s.model.renderedWidth)("height",s.model.renderedHeight)}}function nP(a,c){if(a&1&&(O(0,"iframe"),_t(1,"safeResourceUrl")),a&2){let s=v();Ee(un(9,Ns,s.model.imageFit,s.model.renderedStyleWidth,s.model.renderedStyleHeight)),_(s.model.getImageCss()),Z("src",wt(1,7,s.model.locImageLink.renderedHtml),Cc)("width",s.model.renderedWidth)("height",s.model.renderedHeight)}}function iP(a,c){if(a&1&&(P(0,"div"),_e(),O(1,"svg",7),I()),a&2){let s=v();_(s.model.cssClasses.noImage),h(),f("iconName",s.model.cssClasses.noImageSvgIconId)("size",48)}}function rP(a,c){}var Ir=a=>({maxWidth:a});function oP(a,c){}function sP(a,c){if(a&1&&(P(0,"div",5)(1,"div"),x(2,oP,0,0,"ng-template",6),I()()),a&2){let s=v(2);h(),_(s.model.survey.logoClassNames),h(),f("component",oe(5,ge,s.model.survey.getElementWrapperComponentName(s.model.survey,"logo-image"),ne(3,zn,s.model.survey.getElementWrapperComponentData(s.model.survey,"logo-image"))))}}function aP(a,c){if(a&1&&(P(0,"div",7),O(1,"sv-ng-element-title",8),I()),a&2){let s=v(2);Ee(ne(3,Ir,s.model.textAreaWidth)),h(),f("element",s.model.survey)}}function lP(a,c){if(a&1&&O(0,"div",11),a&2){let s=v(3);_(s.model.survey.css.description),f("model",s.model.survey.locDescription)}}function uP(a,c){if(a&1&&(P(0,"div",9),x(1,lP,1,3,"div",10),I()),a&2){let s=v(2);Ee(ne(3,Ir,s.model.textAreaWidth)),h(),f("ngIf",s.model.survey.renderedHasDescription)}}function cP(a,c){if(a&1&&(P(0,"div")(1,"div",1),x(2,sP,3,8,"div",2)(3,aP,2,5,"div",3)(4,uP,2,5,"div",4),I()()),a&2){let s=v();Ee(s.model.style),_(s.model.css),h(),Ee(s.model.contentStyle),h(),f("ngIf",s.model.showLogo),h(),f("ngIf",s.model.showTitle),h(),f("ngIf",s.model.showDescription)}}function pP(a,c){}function dP(a,c){if(a&1&&(P(0,"div",5)(1,"div"),x(2,pP,0,0,"ng-template",6),I()()),a&2){let s=v(2);h(),_(s.model.survey.logoClassNames),h(),f("component",oe(5,ge,s.model.survey.getElementWrapperComponentName(s.model.survey,"logo-image"),ne(3,zn,s.model.survey.getElementWrapperComponentData(s.model.survey,"logo-image"))))}}function fP(a,c){if(a&1&&(P(0,"div",7),O(1,"sv-ng-element-title",8),I()),a&2){let s=v(2);Ee(ne(3,Ir,s.model.renderedtextAreaWidth)),h(),f("element",s.model.survey)}}function hP(a,c){if(a&1&&O(0,"div",11),a&2){let s=v(3);_(s.model.survey.css.description),f("model",s.model.survey.locDescription)}}function mP(a,c){if(a&1&&(P(0,"div",9),x(1,hP,1,3,"div",10),I()),a&2){let s=v(2);Ee(ne(3,Ir,s.model.renderedtextAreaWidth)),h(),f("ngIf",s.model.survey.renderedHasDescription)}}function gP(a,c){if(a&1&&(P(0,"div",1),x(1,dP,3,8,"div",2)(2,fP,2,5,"div",3)(3,mP,2,5,"div",4),I()),a&2){let s=v();h(),f("ngIf",s.model.survey.hasLogo),h(),f("ngIf",s.model.survey.hasTitle),h(),f("ngIf",s.model.survey.renderedHasDescription)}}var vP=a=>({height:a});function yP(a,c){if(a&1&&O(0,"div"),a&2){let s=v(3);Ee(s.model.backgroundImageStyle),_(s.model.backgroundImageClasses)}}function bP(a,c){if(a&1&&(H(0),O(1,"sv-ng-header-cell",6),z()),a&2){let s=c.$implicit;h(),f("model",s)}}function CP(a,c){if(a&1&&(P(0,"div"),x(1,bP,2,1,"ng-container",5),I()),a&2){let s=v(3);_(s.model.contentClasses),Ne("width",s.model.maxWidth),h(),f("ngForOf",s.model.cells)}}function xP(a,c){if(a&1&&(P(0,"div"),O(1,"sv-ng-header-mobile",6),I()),a&2){let s=v(3);h(),f("model",s.model)}}function _P(a,c){if(a&1&&(P(0,"div"),x(1,yP,1,4,"div",2)(2,CP,2,5,"div",3)(3,xP,2,1,"div",4),I()),a&2){let s=v(2);Ee(ne(7,vP,s.model.renderedHeight)),_(s.model.headerClasses),h(),f("ngIf",!!s.model.backgroundImage),h(),f("ngIf",!s.survey.isMobile),h(),f("ngIf",s.survey.isMobile)}}function wP(a,c){if(a&1&&x(0,_P,4,9,"div",1),a&2){let s=v();f("ngIf",s.survey.headerView==="advanced")}}var Je=(()=>{class a{constructor(s){this.viewContainerRef=s}ngOnInit(){var s;this.templateRef&&(this.embeddedView=(s=this.viewContainerRef)===null||s===void 0?void 0:s.createEmbeddedView(this.templateRef))}}return a.\u0275fac=function(s){return new(s||a)(Le(vt))},a.\u0275cmp=j({type:a,selectors:[["ng-component"]],viewQuery:function(s,p){if(s&1&&Fe(Ev,7,yr),s&2){let g;je(g=Be())&&(p.templateRef=g.first)}},decls:0,vars:0,template:function(s,p){},encapsulation:2}),a})(),xe=(()=>{class a extends Je{constructor(s,p){super(p),this.changeDetectorRef=s,this.isModelSubsribed=!1,this.isDestroyed=!1}get surveyModel(){return this.getModel().getSurvey()}ngDoCheck(){this.previousModel!==this.getModel()&&(this.unMakeBaseElementAngular(this.previousModel),this.makeBaseElementAngular(this.getModel()),this.onModelChanged(),this.previousModel=this.getModel()),this.setIsRendering(!0)}onModelChanged(){}setIsRendering(s){let p=this.getModel();p&&(p.isRendering=s)}getIsRendering(){let s=this.getModel();return!!s&&!!s.isRendering}ngOnDestroy(){this.isDestroyed=!0,this.unMakeBaseElementAngular(this.getModel()),this.previousModel=void 0}makeBaseElementAngular(s){s&&!s.__ngImplemented&&(this.isModelSubsribed=!0,s.__ngImplemented=!0,s.iteratePropertiesHash((p,g)=>{var S=p[g];if(Array.isArray(S)){var S=S;S.onArrayChanged=D=>{this.update(g)}}}),s.setPropertyValueCoreHandler=(p,g,S)=>{p[g]!==S&&(p[g]=S,this.update(g))},s.enableOnElementRerenderedEvent())}unMakeBaseElementAngular(s){s&&this.isModelSubsribed&&(this.isModelSubsribed=!1,s.__ngImplemented=!1,s.setPropertyValueCoreHandler=void 0,s.iteratePropertiesHash((p,g)=>{var S=p[g];if(Array.isArray(S)){var S=S;S.onArrayChanged=()=>{}}}),s.disableOnElementRerenderedEvent())}update(s){this.getIsRendering()||(this.beforeUpdate(),s&&this.getPropertiesToUpdateSync().indexOf(s)>-1?(this.detectChanges(),this.afterUpdate(!0)):queueMicrotask(()=>{this.isDestroyed||(this.setIsRendering(!0),this.detectChanges()),this.afterUpdate()}))}getChangeDetectorRef(){return this.embeddedView?this.embeddedView:this.changeDetectorRef}getPropertiesToUpdateSync(){return[]}detectChanges(){this.getChangeDetectorRef().detectChanges()}getShouldReattachChangeDetector(){return!0}beforeUpdate(){this.setIsRendering(!0)}afterUpdate(s=!1){this.setIsRendering(!1);let p=this.getModel();p&&!this.isDestroyed&&p.afterRerender()}ngAfterViewChecked(){this.setIsRendering(!1)}}return a.\u0275fac=function(s){return new(s||a)(Le(Ht),Le(vt))},a.\u0275cmp=j({type:a,selectors:[["ng-component"]],features:[$],decls:0,vars:0,template:function(s,p){},encapsulation:2}),a})(),Q=class{constructor(){this.creatorHash={}}registerComponent(c,s){this.creatorHash[c]=s}getAllTypes(){var c=new Array;for(var s in this.creatorHash)c.push(s);return c.sort()}isComponentRegistered(c){return!!this.creatorHash[c]}create(c,s,p){var g=this.creatorHash[s];return g?c.createComponent(p.resolveComponentFactory(g)):null}};Q.Instance=new Q;var we=(()=>{class a{constructor(s,p,g){this.containerRef=s,this.templateRef=p,this.resolver=g}ngOnChanges(s){var p;let g=s.component;g.currentValue.name!==((p=g.previousValue)===null||p===void 0?void 0:p.name)||g.currentValue.name===void 0&&g.previousValue===void 0&&!this.componentInstance?this.createComponent():this.updateComponentData()}createComponent(){if(this.containerRef.clear(),Q.Instance.isComponentRegistered(this.component.name)?this.componentInstance=Q.Instance.create(this.containerRef,this.component.name,this.resolver).instance:this.component.default&&(this.componentInstance=Q.Instance.create(this.containerRef,this.component.default,this.resolver).instance),this.componentInstance)this.componentInstance.contentTempl=this.templateRef;else throw new Error(`Can't create component with name: ${this.component.name} and default: ${this.component.default}`);this.updateComponentData()}updateComponentData(){let s=this.component.data;Object.keys(s).forEach(p=>{this.componentInstance[p]=s[p]})}}return a.\u0275fac=function(s){return new(s||a)(Le(vt),Le(yr),Le(_s))},a.\u0275dir=mr({type:a,selectors:[["","component",""]],inputs:{component:"component"},features:[an]}),a})(),qs=(()=>{class a extends xe{getModel(){return this.model}getPropertiesToUpdateSync(){return["mode"]}get id(){return this.model.id||""}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-action"]],viewQuery:function(s,p){if(s&1&&Fe(Ls,7,vt),s&2){let g;je(g=Be())&&(p.actionContent=g.first)}},inputs:{model:"model"},features:[$],decls:2,vars:0,consts:[["template",""],[3,"id"],[1,"sv-action__content"],[4,"ngIf"],[3,"component"],[1,"sv-action-bar-separator"]],template:function(s,p){s&1&&x(0,Mv,4,10,"ng-template",null,0,pe)},dependencies:[Y,we],styles:["[_nghost-%COMP%] { display: none; }"]}),a})();Q.Instance.registerComponent("sv-action",qs);var $t=(()=>{class a extends xe{getModel(){return this.model}get allowOnClick(){return this.handleClick!==void 0?this.handleClick:!0}onModelChanged(){var s;super.onModelChanged(),(s=this.previousModel)===null||s===void 0||s.resetResponsivityManager(),this.model.hasActions&&this.container&&this.container.nativeElement&&this.model.initResponsivityManager(this.container.nativeElement)}onClick(s){this.allowOnClick&&s.stopPropagation()}ngAfterViewInit(){this.model.hasActions&&this.model.initResponsivityManager(this.container.nativeElement)}ngOnDestroy(){super.ngOnDestroy(),this.model.resetResponsivityManager()}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-action-bar"],["sv-ng-action-bar"]],viewQuery:function(s,p){if(s&1&&Fe(Hn,5),s&2){let g;je(g=Be())&&(p.container=g.first)}},inputs:{model:"model",handleClick:"handleClick"},features:[$],decls:2,vars:0,consts:[["template",""],["container",""],[3,"class","click",4,"ngIf"],[3,"click"],[4,"ngFor","ngForOf"],[3,"model"]],template:function(s,p){s&1&&x(0,Lv,1,1,"ng-template",null,0,pe)},dependencies:[qs,Y,Ae],styles:["[_nghost-%COMP%] { display: none }"]}),a})();Q.Instance.registerComponent("sv-action-bar",$t);var Gt=(()=>{class a{constructor(s){this.el=s}ngOnChanges(s){s.visible.currentValue?this.show():this.hide()}hide(){this.el.nativeElement.style.display="none"}show(){this.el.nativeElement.style.display=""}}return a.\u0275fac=function(s){return new(s||a)(Le(gt))},a.\u0275dir=mr({type:a,selectors:[["","visible",""]],inputs:{visible:"visible"},features:[an]}),a})(),Gc=(()=>{class a extends xe{constructor(s){super(s),this.changeDetectorRef.detach()}getModel(){return this.model}get applyButtonText(){let s=this.model;return s?s.applyButtonText:null}apply(){let s=this.model;s&&s.apply()}getPropertiesToUpdateSync(){return["height"]}getShouldReattachChangeDetector(){return!1}onModelChanged(){this.changeDetectorRef.detectChanges()}afterUpdate(s=!1){super.afterUpdate(s),s||!this.model.isPositionSet&&this.model.isVisible&&this.model.updateOnShowing()}clickInside(s){s.stopPropagation()}}return a.\u0275fac=function(s){return new(s||a)(Le(Ht))},a.\u0275cmp=j({type:a,selectors:[["sv-ng-popup-container"],["","sv-ng-popup-container",""]],inputs:{model:"model"},features:[$],decls:9,vars:18,consts:[["tabindex","-1",1,"sv-popup",3,"click","keydown","visible"],[1,"sv-popup__container",3,"click"],[4,"ngIf"],[1,"sv-popup__body-content"],["class","sv-popup__body-header",4,"ngIf"],[1,"sv-popup__scrolling-content"],[1,"sv-popup__content"],[3,"component"],["class","sv-popup__body-footer",4,"ngIf"],[1,"sv-popup__body-header"],[1,"sv-popup__body-footer"],[3,"model"]],template:function(s,p){s&1&&(P(0,"div",0),J("click",function(S){return p.model.clickOutside(S)})("keydown",function(S){return p.model.onKeyDown(S)}),P(1,"div",1),J("click",function(S){return p.clickInside(S)}),x(2,Bv,2,6,"ng-container",2),P(3,"div",3),x(4,Nv,2,1,"div",4),P(5,"div",5)(6,"div",6),x(7,qv,0,0,"ng-template",7),I()(),x(8,Qv,2,1,"div",8),I()()()),s&2&&(_(p.model.styleClass),f("visible",p.model.isVisible),h(),Ee(Ps(9,Fv,p.model.left,p.model.top,p.model.height,p.model.minWidth,p.model.width)),h(),f("ngIf",p.model.showHeader),h(2),f("ngIf",p.model.title),h(3),f("component",oe(15,ge,p.model.contentComponentName,p.model.contentComponentData)),h(),f("ngIf",p.model.showFooter))},dependencies:[$t,Gt,Y,we],encapsulation:2}),a})(),Zc=(()=>{class a{constructor(s,p,g){this.injector=s,this.applicationRef=p,this.componentFactoryResolver=g}createComponent(s){let p=new Pr(s.container,this.componentFactoryResolver,this.applicationRef,this.injector),g=new xi(Gc),S=p.attach(g);return s.setComponentElement(s.container.children[0]),S.instance.model=s,S.changeDetectorRef.detectChanges(),p}}return a.\u0275fac=function(s){return new(s||a)(hr(vr),hr(_c),hr(_s))},a.\u0275prov=gc({token:a,factory:a.\u0275fac}),a})(),PP=(()=>{class a{constructor(s){this.popupService=s,this.functionDefined=!1}showDialog(s,p){let g=this.model=(0,ve.createPopupModalViewModel)(s,p),S=(ue,D)=>{D.isVisible||(this.portalHost.detach(),this.model.dispose())};return g.onVisibilityChanged.add(S),this.portalHost=this.popupService.createComponent(this.model),this.model.model.isVisible=!0,this.model}ngOnInit(){ve.settings.showModal||(this.functionDefined=!0,ve.settings.showModal=(s,p,g,S,ue,D,Pt="popup")=>{let Ye=(0,ve.createDialogOptions)(s,p,g,S,void 0,void 0,ue,D,Pt);return this.showDialog(Ye)},ve.settings.showDialog=(s,p)=>this.showDialog(s,p))}ngOnDestroy(){var s,p;(s=this.portalHost)===null||s===void 0||s.detach(),(p=this.model)===null||p===void 0||p.dispose(),this.functionDefined&&(ve.settings.showModal=void 0,ve.settings.showDialog=void 0)}}return a.\u0275fac=function(s){return new(s||a)(Le(Zc))},a.\u0275cmp=j({type:a,selectors:[["sv-ng-modal-container"]],decls:0,vars:0,template:function(s,p){},styles:["[_nghost-%COMP%]{display:none}"]}),a})(),VP=(()=>{class a{constructor(){this.onIconsChanged=()=>{var s;!((s=this.svgContainer)===null||s===void 0)&&s.nativeElement&&(this.svgContainer.nativeElement.innerHTML=ve.SvgRegistry.iconsRenderedHtml())}}ngOnInit(){this.onIconsChanged(),ve.SvgRegistry.onIconsChanged.add(this.onIconsChanged)}ngOnDestroy(){ve.SvgRegistry.onIconsChanged.remove(this.onIconsChanged)}}return a.\u0275fac=function(s){return new(s||a)},a.\u0275cmp=j({type:a,selectors:[["sv-svg-bundle"]],viewQuery:function(s,p){if(s&1&&Fe(Hv,7),s&2){let g;je(g=Be())&&(p.svgContainer=g.first)}},decls:2,vars:0,consts:[["svgContainer",""],["id","sv-icon-holder-global-container"]],template:function(s,p){s&1&&(_e(),O(0,"svg",1,0))},styles:["[_nghost-%COMP%] { display: none; }"]}),a})(),IP=(()=>{class a extends Je{get ariaLabel(){return this.element.titleAriaLabel}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-dynamic-head"]],inputs:{tagName:"tagName",element:"element"},features:[$],ngContentSelectors:Vr,decls:2,vars:0,consts:[["template",""],["titleContent",""],[3,"ngSwitch"],[3,"class",4,"ngSwitchCase"],[4,"ngTemplateOutlet"]],template:function(s,p){s&1&&(mi(),x(0,iy,9,7,"ng-template",null,0,pe))},dependencies:[Vs,Is,zt],styles:["[_nghost-%COMP%]{display:none}"]}),a})(),We=(()=>{class a{constructor(s){this.viewContaierRef=s}createSvg(){this.iconName&&qc.createSvg(this.size,this.width,this.height,this.iconName,this.viewContaierRef.element.nativeElement,this.title)}get rootClass(){let s="sv-svg-icon";return!this.css&&this.partCss?s+=" "+this.partCss:this.css&&(s=this.css),s}get rootRole(){return"img"}ngOnChanges(){let s=this.viewContaierRef.element.nativeElement;s.innerHTML="",s.appendChild(document.createElementNS("http://www.w3.org/2000/svg","use")),this.createSvg()}}return a.\u0275fac=function(s){return new(s||a)(Le(vt))},a.\u0275cmp=j({type:a,selectors:[["","sv-ng-svg-icon",""]],hostVars:3,hostBindings:function(s,p){s&2&&(ws("[attr.role]",p.rootRole),_(p.rootClass))},inputs:{size:"size",width:"width",height:"height",iconName:"iconName",partCss:"partCss",css:"css",title:"title"},features:[an],attrs:ry,decls:0,vars:0,template:function(s,p){},encapsulation:2}),a})(),Pe=(()=>{class a{}return a.\u0275fac=function(s){return new(s||a)},a.\u0275cmp=j({type:a,selectors:[["sv-ng-string"],["","sv-ng-string",""]],inputs:{model:"model"},decls:1,vars:6,consts:[[3,"component"]],template:function(s,p){s&1&&x(0,oy,0,0,"ng-template",0),s&2&&f("component",oe(3,ge,p.model.renderAs,ne(1,Mt,p.model.renderAsData)))},dependencies:[we],encapsulation:2}),a})(),Jc=(()=>{class a extends Je{get cssClasses(){return(this.element.isPanel?this.element.cssClasses.panel:this.element.cssClasses)||{}}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-element-title-actions"]],inputs:{element:"element"},features:[$],decls:2,vars:0,consts:[["template",""],["elementTitleContent",""],[4,"ngIf"],[4,"ngTemplateOutlet"],[1,"sv-title-actions"],[1,"sv-title-actions__title"],[3,"model"],[3,"model",4,"ngIf"],[3,"class",4,"ngIf"],["style","position: static",3,"class",4,"ngIf"],[2,"position","static"]],template:function(s,p){s&1&&x(0,Cy,4,2,"ng-template",null,0,pe)},dependencies:[$t,Pe,Y,zt],styles:["[_nghost-%COMP%]{display:none}"]}),a})(),wi=(()=>{class a extends Je{}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-element-title"]],inputs:{element:"element"},features:[$],decls:2,vars:0,consts:[["template",""],[3,"tagName","element",4,"ngIf"],[3,"tagName","element"],["sv-ng-svg-icon","",3,"iconName","partCss","size",4,"ngIf"],[3,"element"],["sv-ng-svg-icon","",3,"iconName","partCss","size"]],template:function(s,p){s&1&&x(0,Py,1,1,"ng-template",null,0,pe)},dependencies:[IP,We,Jc,Y],styles:["[_nghost-%COMP%]{display:none}"]}),a})(),TP=(()=>{class a{constructor(s,p){this.viewContainerRef=s,this.changeDetectorRef=p}ngAfterViewInit(){this.survey.afterRenderHeader(this.viewContainerRef.element.nativeElement),this.survey.locLogo.onChanged=()=>{this.changeDetectorRef.detectChanges()}}ngOnDestroy(){this.survey.locLogo.onChanged=()=>{}}}return a.\u0275fac=function(s){return new(s||a)(Le(vt),Le(Ht))},a.\u0275cmp=j({type:a,selectors:[["","sv-ng-survey-header",""]],inputs:{survey:"survey"},attrs:Vy,decls:4,vars:5,consts:[[4,"ngIf"],[3,"class","maxWidth",4,"ngIf"],[3,"component"],[3,"element"],["sv-ng-string","",3,"class","model",4,"ngIf"],["sv-ng-string","",3,"model"]],template:function(s,p){s&1&&(x(0,Ty,1,6,null,0)(1,Ey,3,6,"div",1)(2,Ry,1,6,null,0),O(3,"div")),s&2&&(f("ngIf",p.survey.isLogoBefore),h(),f("ngIf",p.survey.renderedHasTitle),h(),f("ngIf",p.survey.isLogoAfter),h(),_(p.survey.css.headerClose))},dependencies:[wi,Pe,Y,we],encapsulation:2}),a})(),Pi=(()=>{class a{constructor(){}get role(){return"alert"}get id(){return this.element.id+"_errors"}get ariaLive(){return"polite"}get class(){return this.element.cssError}}return a.\u0275fac=function(s){return new(s||a)},a.\u0275cmp=j({type:a,selectors:[["","sv-ng-errors",""]],hostVars:5,hostBindings:function(s,p){s&2&&(ws("id",p.id),Z("role",p.role)("aria-live",p.ariaLive),_(p.class))},inputs:{element:"element",location:"location"},attrs:Dy,decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"component"]],template:function(s,p){s&1&&x(0,ky,2,8,"ng-container",0),s&2&&f("ngForOf",p.element.errors)},dependencies:[Ae,we],encapsulation:2}),a})(),SP=(()=>{class a extends xe{getModel(){return this.model}get elementComponentName(){return this.model.isPanel?"panel":"question"}onModelChanged(){var s;super.onModelChanged(),this.previousModel&&this.previousModel.setWrapperElement(void 0),this.model&&(!((s=this.container)===null||s===void 0)&&s.nativeElement)&&this.model.setWrapperElement(this.container.nativeElement)}get componentName(){let s=this.surveyModel;if(s){let p=s.getElementWrapperComponentName(this.model);if(p)return p}return this.elementComponentName}get rootStyle(){return this.model.cssClasses?this.model.rootStyle:{}}get componentData(){let s=this.surveyModel,p;return s&&(p=s.getElementWrapperComponentData(this.model)),{componentName:this.elementComponentName,componentData:{model:this.model,data:p}}}ngAfterViewInit(){var s;this.model&&(!((s=this.container)===null||s===void 0)&&s.nativeElement)&&this.model.setWrapperElement(this.container.nativeElement)}ngOnDestroy(){super.ngOnDestroy(),this.model.setWrapperElement(void 0)}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-element"]],viewQuery:function(s,p){if(s&1&&Fe(Hn,5,gt),s&2){let g;je(g=Be())&&(p.container=g.first)}},inputs:{model:"model"},features:[$],decls:2,vars:0,consts:[["template",""],["container",""],[3,"class","style","focusin",4,"ngIf"],[3,"focusin"],[3,"component"]],template:function(s,p){s&1&&x(0,jy,1,1,"ng-template",null,0,pe)},dependencies:[Y,we],styles:["[_nghost-%COMP%]{display:none}"]}),a})(),Kc=(()=>{class a extends xe{constructor(s,p,g){super(s,p),this.ngZone=g}getModel(){return this.row}trackElementBy(s,p){return p.name+s}ngAfterViewInit(){var s;let p=(s=this.container)===null||s===void 0?void 0:s.nativeElement;p&&(this.row.setRootElement(p),this.row.isNeedRender||this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.row.startLazyRendering(p)},10)}))}onModelChanged(){var s;if(super.onModelChanged(),this.previousModel)this.previousModel.setRootElement(void 0),!((s=this.container)===null||s===void 0)&&s.nativeElement&&this.row.setRootElement(this.container.nativeElement),this.row.isNeedRender=this.previousModel.isNeedRender,this.stopLazyRendering();else return}stopLazyRendering(){this.row.stopLazyRendering(),this.row.isNeedRender=!this.row.isLazyRendering()}ngOnDestroy(){super.ngOnDestroy(),this.row.setRootElement(void 0),this.stopLazyRendering()}}return a.\u0275fac=function(s){return new(s||a)(Le(Ht),Le(vt),Le(bc))},a.\u0275cmp=j({type:a,selectors:[["sv-ng-row"]],viewQuery:function(s,p){if(s&1&&Fe(Hn,5,gt),s&2){let g;je(g=Be())&&(p.container=g.first)}},inputs:{row:"row"},features:[$],decls:2,vars:0,consts:[["template",""],["container",""],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"model",4,"ngIf"],[4,"ngIf"],[3,"model"],[3,"component"]],template:function(s,p){s&1&&x(0,zy,3,4,"ng-template",null,0,pe)},dependencies:[SP,Ae,Y,we],styles:["[_nghost-%COMP%]{display:none}"]}),a})(),EP=(()=>{class a extends xe{getModel(){return this.model}onModelChanged(){this.pageContainerRef&&this.pageContainerRef.nativeElement&&this.model.survey.afterRenderPage(this.pageContainerRef.nativeElement)}ngAfterViewInit(){var s,p;(s=this.model.survey)===null||s===void 0||s.afterRenderPage((p=this.pageContainerRef)===null||p===void 0?void 0:p.nativeElement)}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["page"],["sv-ng-page"]],viewQuery:function(s,p){if(s&1&&Fe(Uy,5,gt),s&2){let g;je(g=Be())&&(p.pageContainerRef=g.first)}},inputs:{model:"model",survey:"survey"},features:[$],decls:2,vars:0,consts:[["template",""],["pageContainer",""],[4,"ngIf"],[3,"element"],[3,"class",4,"ngIf"],["sv-ng-errors","",3,"element",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"model"],["sv-ng-errors","",3,"element"],[3,"component"],[3,"row"]],template:function(s,p){s&1&&x(0,Ky,1,1,"ng-template",null,0,pe)},dependencies:[wi,Pe,Pi,Kc,Y,Ae,we],styles:["[_nghost-%COMP%]{display:none}"]}),a})(),Yc=(()=>{class a{}return a.\u0275fac=function(s){return new(s||a)},a.\u0275cmp=j({type:a,selectors:[["sv-brand-info"]],decls:10,vars:0,consts:[[1,"sv-brand-info"],["href","https://surveyjs.io/?utm_source=built-in_links&utm_medium=online_survey_tool&utm_campaign=landing_page",1,"sv-brand-info__logo"],["src","https://surveyjs.io/Content/Images/poweredby.svg"],[1,"sv-brand-info__text"],["href","https://surveyjs.io/create-survey?utm_source=built-in_links&utm_medium=online_survey_tool&utm_campaign=create_survey"],[1,"sv-brand-info__terms"],["href","https://surveyjs.io/TermsOfUse"]],template:function(s,p){s&1&&(P(0,"div",0)(1,"a",1),O(2,"img",2),I(),P(3,"div",3),re(4,"Try and see how easy it is to "),P(5,"a",4),re(6,"create a survey"),I()(),P(7,"div",5)(8,"a",6),re(9,"Terms of Use & Privacy Statement"),I()()())},encapsulation:2}),a})();Q.Instance.registerComponent("sv-brand-info",Yc);var OP=(()=>{class a extends xe{getStateElement(){return this.notifier}getModel(){return this.notifier}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-notifier"]],inputs:{notifier:"notifier"},features:[$],decls:2,vars:0,consts:[["template",""],[4,"ngIf"],["role","alert","aria-live","polite"],[3,"model"]],template:function(s,p){s&1&&x(0,e0,1,1,"ng-template",null,0,pe)},dependencies:[$t,Y],styles:["[_nghost-%COMP%] { display: none; }"]}),a})(),Tr=(()=>{class a{constructor(s){this.domSanitizer=s}transform(s){return this.domSanitizer.bypassSecurityTrustHtml(s)}}return a.\u0275fac=function(s){return new(s||a)(Le(Cr,16))},a.\u0275pipe=gr({name:"safeHtml",type:a,pure:!0}),a})(),Xc=(()=>{class a extends xe{constructor(){super(...arguments),this.isSurveyUpdated=!1}getModel(){return this.model}onModelChanged(){this.previousModel&&(this.previousModel.destroyResizeObserver(),this.previousModel.renderCallback=void 0),this.model&&(this.model.renderCallback=()=>{this.detectChanges()}),this.isSurveyUpdated=!0}ngOnDestroy(){super.ngOnDestroy(),this.model&&(this.model.rootElement=void 0,this.model.destroyResizeObserver(),this.model.renderCallback=void 0)}ngAfterViewInit(){this.isSurveyUpdated=!0}ngAfterViewChecked(){this.model&&this.isSurveyUpdated&&(this.model.afterRenderSurvey(this.rootEl.nativeElement),this.model.startTimerFromUI()),super.ngAfterViewChecked()}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["survey-content"]],viewQuery:function(s,p){if(s&1&&Fe(t0,5),s&2){let g;je(g=Be())&&(p.rootEl=g.first)}},inputs:{model:"model"},features:[$],decls:2,vars:0,consts:[["template",""],["surveyContainer",""],[3,"class","style","lang","dir",4,"ngIf"],[3,"lang","dir"],[4,"ngIf"],[3,"class","style",4,"ngIf"],["onsubmit","return false;"],[1,"sv_custom_header",3,"hidden"],["sv-ng-survey-header","",3,"class","survey",4,"ngIf"],[3,"component"],[3,"class",4,"ngIf"],[3,"class","innerHtml",4,"ngIf"],[3,"notifier"],["sv-ng-survey-header","",3,"survey"],[1,"sv-components-column","sv-components-column--expandable"],[3,"id"],[3,"model","survey"],[3,"innerHtml"]],template:function(s,p){s&1&&x(0,O0,1,1,"ng-template",null,0,pe)},dependencies:[VP,TP,EP,Yc,OP,Y,Oc,Sc,Ec,we,Tr],encapsulation:2}),a})();Q.Instance.registerComponent("survey",Xc);(0,ve.addIconsToThemeSet)("v1",ks.icons);(0,ve.addIconsToThemeSet)("v2",Qc.icons);ve.SvgRegistry.registerIcons(ks.icons);var ep=(()=>{class a extends xe{constructor(s){super(s),s.detach()}getModel(){return this.model}getShouldReattachChangeDetector(){return!1}onModelChanged(){this.changeDetectorRef.detectChanges()}}return a.\u0275fac=function(s){return new(s||a)(Le(Ht))},a.\u0275cmp=j({type:a,selectors:[["survey"]],inputs:{model:"model"},features:[$],decls:2,vars:1,consts:[[3,"model"]],template:function(s,p){s&1&&O(0,"sv-ng-modal-container")(1,"survey-content",0),s&2&&(h(),f("model",p.model))},dependencies:[PP,Xc],encapsulation:2}),a})();var Ke=(()=>{class a extends xe{getModel(){return this.model}ngAfterViewInit(){var s;this.model&&this.model.afterRenderQuestionElement((s=this.elementContentRef)===null||s===void 0?void 0:s.nativeElement)}ngOnDestroy(){var s;this.model&&this.model.beforeDestroyQuestionElement((s=this.elementContentRef)===null||s===void 0?void 0:s.nativeElement),super.ngOnDestroy()}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["ng-component"]],viewQuery:function(s,p){if(s&1&&Fe(Hc,5),s&2){let g;je(g=Be())&&(p.elementContentRef=g.first)}},inputs:{model:"model"},features:[$],decls:0,vars:0,template:function(s,p){},encapsulation:2}),a})();function Qs(a){return a.customWidget?"survey-customwidget":a.isDefaultRendering()?a.getTemplate()+"-question":a.getComponentName()}var tp=(()=>{class a{constructor(){}get rootClass(){return this.element.cssHeader}get width(){return this.element.titleWidth}click(s){this.element.clickTitleFunction!==void 0&&this.element.clickTitleFunction(s)}}return a.\u0275fac=function(s){return new(s||a)},a.\u0275cmp=j({type:a,selectors:[["","sv-ng-element-header",""]],hostVars:4,hostBindings:function(s,p){s&1&&J("click",function(S){return p.click(S)}),s&2&&(_(p.rootClass),Ne("width",p.width))},inputs:{element:"element"},attrs:R0,decls:3,vars:3,consts:[[3,"element"],["sv-ng-string","",3,"class","model","display",4,"ngIf"],[4,"ngIf"],["sv-ng-string","",3,"model"],[3,"model"]],template:function(s,p){s&1&&(O(0,"sv-ng-element-title",0),x(1,D0,1,6,"div",1)(2,M0,2,1,"ng-container",2)),s&2&&(f("element",p.element),h(),f("ngIf",p.element.hasDescriptionUnderTitle),h(),f("ngIf",p.element.hasAdditionalTitleToolbar))},dependencies:[wi,Pe,$t,Y],encapsulation:2}),a})(),RP=(()=>{class a{constructor(){}get comment(){return this.question.comment?this.question.comment:""}}return a.\u0275fac=function(s){return new(s||a)},a.\u0275cmp=j({type:a,selectors:[["sv-ng-comment"],["","sv-ng-comment",""]],inputs:{question:"question"},decls:2,vars:2,consts:[[4,"ngIf"],[3,"component"]],template:function(s,p){s&1&&x(0,k0,2,5,"ng-container",0)(1,L0,2,1,"div",0),s&2&&(f("ngIf",!p.question.isReadOnlyRenderDiv()),h(),f("ngIf",p.question.isReadOnlyRenderDiv()))},dependencies:[Y,we],encapsulation:2}),a})(),DP=(()=>{class a extends Je{getModel(){return this.model}ngAfterViewInit(){var s,p;!((s=this.rootEl)===null||s===void 0)&&s.nativeElement&&this.model.afterRender((p=this.rootEl)===null||p===void 0?void 0:p.nativeElement)}ngOnDestroy(){this.model&&this.model.destroyResizeObserver()}getComponentName(){return Qs(this.model)}getQuestionContentWrapperComponentName(){return this.model.survey.getQuestionContentWrapperComponentName(this.model)}getQuestionContentWrapperComponentData(){return{componentData:{model:this.model,data:this.model.survey.getElementWrapperComponentData(this.model)}}}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-question"]],viewQuery:function(s,p){if(s&1&&Fe(F0,5),s&2){let g;je(g=Be())&&(p.rootEl=g.first)}},inputs:{model:"model"},features:[$],decls:2,vars:0,consts:[["template",""],["elementContainer",""],[3,"class","style","id",4,"ngIf"],[3,"id"],["sv-ng-errors","",3,"element",4,"ngIf"],["sv-ng-element-header","",3,"element",4,"ngIf"],[3,"component"],["sv-ng-errors","",3,"element"],["sv-ng-element-header","",3,"element"],["role","presentation",3,"visible"],[3,"class",4,"ngIf"],["sv-ng-string","",3,"class","model",4,"ngIf"],["sv-ng-string","",3,"model"],[3,"question"]],template:function(s,p){s&1&&x(0,J0,1,1,"ng-template",null,0,pe)},dependencies:[Pi,tp,Pe,RP,Y,we,Gt],encapsulation:2}),a})();Q.Instance.registerComponent("question",DP);var MP=(()=>{class a{constructor(s){this.changeDetectorRef=s,this.className=""}ngDoCheck(){this.model!==this.previousModel&&(this.className=this.model.allowLineBreaks?"sv-string-viewer sv-string-viewer--multiline":"sv-string-viewer",this.previousModel&&this.clearOnChanged(this.previousModel),this.model&&(this.model.onChanged=()=>{this.changeDetectorRef.detectChanges()}),this.previousModel=this.model)}clearOnChanged(s){s.onChanged=()=>{}}ngOnDestroy(){this.model&&this.clearOnChanged(this.model)}}return a.\u0275fac=function(s){return new(s||a)(Le(Ht))},a.\u0275cmp=j({type:a,selectors:[["sv-ng-string-viewer"],["string-viewer"],["","sv-ng-string-viewer",""]],inputs:{model:"model"},decls:2,vars:2,consts:[[3,"class",4,"ngIf"],[3,"class","innerHtml",4,"ngIf"],[3,"innerHtml"]],template:function(s,p){s&1&&x(0,K0,2,3,"span",0)(1,Y0,2,5,"span",1),s&2&&(f("ngIf",!p.model.hasHtml),h(),f("ngIf",p.model.hasHtml))},dependencies:[Y,Tr]}),a})();Q.Instance.registerComponent(ve.LocalizableString.defaultRenderer,MP);var AP=(()=>{class a extends Je{get value(){return this.model.getTextValue()||""}ngAfterViewInit(){var s;if(this.model&&(!((s=this.elementContentRef)===null||s===void 0)&&s.nativeElement)){let p=this.elementContentRef.nativeElement;this.model.setElement(p)}}ngOnDestroy(){this.model&&this.model.dispose()}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-text-area"]],viewQuery:function(s,p){if(s&1&&Fe(Hc,5),s&2){let g;je(g=Be())&&(p.elementContentRef=g.first)}},inputs:{model:"model"},features:[$],decls:2,vars:0,consts:[["template",""],["contentElement",""],[3,"input","keydown","focus","blur","change","readonly","disabled","id","value"]],template:function(s,p){s&1&&x(0,X0,2,18,"ng-template",null,0,pe)},styles:["[_nghost-%COMP%]{display:none}"]}),a})();Q.Instance.registerComponent("sv-text-area",AP);var kP=(()=>{class a extends xe{get popupModel(){return this.model}getModel(){return this.model}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-popup-pointer"],["","sv-ng-popup-pointer",""]],inputs:{model:"model"},features:[$],decls:1,vars:5,consts:[[1,"sv-popup__pointer"]],template:function(s,p){s&1&&O(0,"span",0),s&2&&Ee(oe(2,eb,p.popupModel.pointerTarget.left,p.popupModel.pointerTarget.top))},encapsulation:2}),a})();Q.Instance.registerComponent("popup-pointer",kP);var Vi=(()=>{class a extends xe{constructor(s,p){super(p,s)}getModel(){return this.popupModel}onModelChanged(){this.model&&(this.model.resetComponentElement(),this.model.dispose()),this.model=(0,ve.createPopupViewModel)(this.popupModel),this.setContainerElement()}setContainerElement(){var s;if(!((s=this.containerRef)===null||s===void 0)&&s.nativeElement){let p=this.containerRef.nativeElement;this.model.setComponentElement(p.parentElement)}}ngAfterViewInit(){this.setContainerElement()}ngOnInit(){this.onModelChanged()}ngOnDestroy(){this.model.resetComponentElement(),this.model.dispose(),super.ngOnDestroy()}}return a.\u0275fac=function(s){return new(s||a)(Le(vt),Le(Ht))},a.\u0275cmp=j({type:a,selectors:[["sv-ng-popup"],["","sv-ng-popup",""]],viewQuery:function(s,p){if(s&1&&Fe(tb,5),s&2){let g;je(g=Be())&&(p.containerRef=g.first)}},inputs:{popupModel:"popupModel"},features:[$],decls:3,vars:1,consts:[["containerRef",""],[3,"model"]],template:function(s,p){s&1&&(P(0,"div",null,0),O(2,"sv-ng-popup-container",1),I()),s&2&&(h(2),f("model",p.model))},dependencies:[Gc],encapsulation:2}),a})(),LP=(()=>{class a{}return a.\u0275fac=function(s){return new(s||a)},a.\u0275cmp=j({type:a,selectors:[["question-skeleton"]],inputs:{model:"model"},decls:5,vars:2,consts:[[1,"sv-skeleton--not-implemented"]],template:function(s,p){s&1&&(P(0,"div",0)(1,"div"),re(2),I(),P(3,"div"),re(4),I()()),s&2&&(h(2),me(p.model.getType()+" question type renderer is not implemented yet."),h(2),me(p.model.value))},styles:[".sv-skeleton--not-implemented[_ngcontent-%COMP%]{width:100%;min-width:300px;min-height:40px;border:1px solid red;text-align:center}"]}),a})();Q.Instance.registerComponent("skeleton-question",LP);var np=(()=>{class a extends xe{get dropdownModel(){var s;return(s=this.model)===null||s===void 0?void 0:s.dropdownListModel}getModel(){return this.model.dropdownListModel}ngOnInit(){super.ngOnInit()}click(s){var p;(p=this.dropdownModel)===null||p===void 0||p.onClick(s)}chevronPointerDown(s){var p;(p=this.dropdownModel)===null||p===void 0||p.chevronPointerDown(s)}clear(s){var p;(p=this.dropdownModel)===null||p===void 0||p.onClear(s)}keyhandler(s){var p;(p=this.dropdownModel)===null||p===void 0||p.keyHandler(s)}blur(s){this.model.onBlur(s),this.updateInputDomElement()}focus(s){this.model.onFocus(s)}inputChange(s){this.detectChanges()}updateInputDomElement(){var s;if(!((s=this.inputElementRef)===null||s===void 0)&&s.nativeElement){let p=this.inputElementRef.nativeElement,g=this.model.inputStringRendered;ve.Helpers.isTwoValueEquals(g,p.value,!1,!0,!1)||(p.value=this.model.inputStringRendered||"")}}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-dropdown"],["","sv-ng-dropdown",""]],viewQuery:function(s,p){if(s&1&&Fe(zc,5),s&2){let g;je(g=Be())&&(p.inputElementRef=g.first)}},inputs:{model:"model"},features:[$],decls:5,vars:6,consts:[["inputElement",""],[3,"click"],[3,"class","blur","keydown",4,"ngIf"],[3,"popupModel",4,"ngIf"],[3,"class",4,"ngIf"],["aria-hidden","true",3,"class","pointerdown",4,"ngIf"],[3,"blur","keydown"],[4,"ngIf"],[3,"model",4,"ngIf"],["type","text","autocomplete","off",3,"ngModelChange","change","blur","focus","ngModel"],["aria-hidden","true",3,"class","visible","click",4,"ngIf"],[2,"visibility","hidden"],[3,"component"],[3,"model"],["aria-hidden","true",3,"click","visible"],["sv-ng-svg-icon","",3,"iconName","partCss","title","size"],[3,"popupModel"],["aria-hidden","true",3,"pointerdown"],["sv-ng-svg-icon","",3,"iconName","partCss","size"]],template:function(s,p){s&1&&(P(0,"div",1),J("click",function(S){return p.click(S)}),x(1,lb,9,36,"div",2)(2,ub,1,1,"sv-ng-popup",3)(3,pb,4,10,"div",4)(4,db,2,5,"div",5),I()),s&2&&(_(p.model.cssClasses.selectWrapper),h(),f("ngIf",!p.model.isReadOnly),h(),f("ngIf",!p.model.isReadOnly),h(),f("ngIf",p.model.isReadOnly),h(),f("ngIf",p.model.cssClasses.chevronButtonIconId))},dependencies:[Pe,We,Vi,Y,we,Qn,Ut,Wt,Gt],encapsulation:2}),a})(),FP=(()=>{class a extends xe{getModel(){return this.model}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-tagbox-filter"]],inputs:{model:"model",question:"question"},features:[$],decls:2,vars:0,consts:[["template",""],[3,"class",4,"ngIf"],["type","text","autocomplete","off",3,"ngModelChange","keydown","blur","focus","ngModel"],[2,"visibility","hidden"]],template:function(s,p){s&1&&x(0,mb,5,22,"ng-template",null,0,pe)},dependencies:[Y,Qn,Ut,Wt],styles:["[_nghost-%COMP%]{display:none}"]}),a})();Q.Instance.registerComponent("sv-tagbox-filter",FP);var ip=(()=>{class a extends xe{removeItem(s){this.question.dropdownListModel.deselectItem(this.item.value),s.stopPropagation()}getModel(){return this.item}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-tagbox-item"],["","sv-ng-tagbox-item",""]],inputs:{item:"item",question:"question"},features:[$],decls:4,vars:6,consts:[[1,"sv-tagbox__item"],["sv-ng-string","",1,"sv-tagbox__item-text",3,"model"],[3,"click"],["sv-ng-svg-icon","",3,"iconName","partCss","size"]],template:function(s,p){s&1&&(P(0,"div",0),O(1,"div",1),P(2,"div",2),J("click",function(S){return p.removeItem(S)}),_e(),O(3,"svg",3),I()()),s&2&&(h(),f("model",p.item.locText),h(),_(p.question.cssClasses.cleanItemButton),h(),f("iconName",p.question.cssClasses.cleanItemButtonIconId)("partCss",p.question.cssClasses.cleanItemButtonSvg)("size","auto"))},dependencies:[Pe,We],encapsulation:2}),a})();Q.Instance.registerComponent("sv-tagbox-item",ip);var jP=(()=>{class a{get dropdownModel(){var s;return(s=this.model)===null||s===void 0?void 0:s.dropdownListModel}getModel(){return this.model}ngOnInit(){this.model.dropdownListModel||(this.model.dropdownListModel=new ve.DropdownMultiSelectListModel(this.model))}click(s){var p;(p=this.dropdownModel)===null||p===void 0||p.onClick(s)}chevronPointerDown(s){var p;(p=this.dropdownModel)===null||p===void 0||p.chevronPointerDown(s)}clear(s){var p;(p=this.dropdownModel)===null||p===void 0||p.onClear(s)}keyhandler(s){var p;(p=this.dropdownModel)===null||p===void 0||p.keyHandler(s)}blur(s){var p;(p=this.model)===null||p===void 0||p.onBlur(s)}focus(s){var p;(p=this.model)===null||p===void 0||p.onFocus(s)}}return a.\u0275fac=function(s){return new(s||a)},a.\u0275cmp=j({type:a,selectors:[["sv-ng-tagbox"],["","sv-ng-tagbox",""]],inputs:{model:"model"},decls:5,vars:6,consts:[[3,"click"],[3,"class","blur","keydown",4,"ngIf"],[3,"popupModel",4,"ngIf"],[3,"class",4,"ngIf"],["aria-hidden","true",3,"class","pointerdown",4,"ngIf"],[3,"blur","keydown"],[4,"ngIf"],[3,"component"],["aria-hidden","true",3,"class","visible","click",4,"ngIf"],[3,"item","question",4,"ngFor","ngForOf"],[3,"item","question"],["aria-hidden","true",3,"click","visible"],["sv-ng-svg-icon","",3,"iconName","partCss","title","size"],[3,"popupModel"],[3,"model",4,"ngIf"],[3,"model"],["aria-hidden","true",3,"pointerdown"],["sv-ng-svg-icon","",3,"iconName","partCss","size"]],template:function(s,p){s&1&&(P(0,"div",0),J("click",function(S){return p.click(S)}),x(1,xb,5,23,"div",1)(2,_b,1,1,"sv-ng-popup",2)(3,Pb,2,9,"div",3)(4,Vb,2,5,"div",4),I()),s&2&&(_(p.model.cssClasses.selectWrapper),h(),f("ngIf",!p.model.isReadOnly),h(),f("ngIf",!p.model.isReadOnly),h(),f("ngIf",p.model.isReadOnly),h(),f("ngIf",p.model.cssClasses.chevronButtonIconId))},dependencies:[ip,We,Vi,Pe,Y,Ae,we,Gt],encapsulation:2}),a})(),BP=(()=>{class a extends xe{onModelChanged(){this.item.locText&&(this.item.locText.onChanged=()=>{this.detectChanges()})}getModel(){return this.item}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-dropdown-option-item"],["","sv-ng-dropdown-option-item",""]],inputs:{item:"item"},features:[$],decls:2,vars:0,consts:[["template",""],[3,"value","disabled"]],template:function(s,p){s&1&&x(0,Tb,3,3,"ng-template",null,0,pe)},dependencies:[xr,_r],encapsulation:2}),a})();Q.Instance.registerComponent("sv-dropdown-option-item",BP);var Tn=(()=>{class a{constructor(){}get otherValue(){let s=this.question.otherValue;return s||""}get textAreaModel(){return this.question.otherTextAreaModel}}return a.\u0275fac=function(s){return new(s||a)},a.\u0275cmp=j({type:a,selectors:[["sv-ng-comment-other"],["","sv-ng-comment-other",""]],inputs:{question:"question"},decls:2,vars:2,consts:[[4,"ngIf"],[3,"component"]],template:function(s,p){s&1&&x(0,Eb,2,5,"ng-container",0)(1,Ob,2,1,"div",0),s&2&&(f("ngIf",!p.question.isReadOnlyRenderDiv()),h(),f("ngIf",p.question.isReadOnlyRenderDiv()))},dependencies:[Y,we],encapsulation:2}),a})(),NP=(()=>{class a{get editableValue(){return this.model.renderedValue||""}set editableValue(s){s===""?this.model.renderedValue=void 0:this.model.renderedValue=s}click(s){this.model.onClick(s)}keyup(s){this.model.onKeyUp(s)}}return a.\u0275fac=function(s){return new(s||a)},a.\u0275cmp=j({type:a,selectors:[["sv-ng-dropdown-select-question"]],inputs:{model:"model"},decls:6,vars:8,consts:[[3,"ngModel","disabled","class","required","ngModelChange","click","keyup",4,"ngIf"],["disabled","",3,"class",4,"ngIf"],[3,"class",4,"ngIf"],["sv-ng-comment-other","",3,"class","display","question",4,"ngIf"],[3,"ngModelChange","click","keyup","ngModel","disabled","required"],["value","",4,"ngIf"],[4,"ngFor","ngForOf"],["value",""],[3,"component"],["disabled",""],["sv-ng-svg-icon","",3,"iconName","partCss","size"],["sv-ng-comment-other","",3,"question"]],template:function(s,p){s&1&&(P(0,"div")(1,"div"),x(2,Lb,3,13,"select",0)(3,Fb,2,4,"div",1)(4,jb,2,5,"div",2),I(),x(5,Bb,1,5,"div",3),I()),s&2&&(_(p.model.renderCssRoot),h(),_(p.model.cssClasses.selectWrapper),h(),f("ngIf",!p.model.isReadOnly),h(),f("ngIf",p.model.isReadOnly),h(),f("ngIf",p.model.cssClasses.chevronButtonIconId),h(),f("ngIf",p.model.isOtherSelected))},dependencies:[We,Tn,Y,Rc,Ut,Wt,Dc,xr,_r,Ae,we],encapsulation:2}),a})();Q.Instance.registerComponent("dropdown-select-question",NP);ve.RendererFactory.Instance.registerRenderer("dropdown","select","dropdown-select-question");var rp=(()=>{class a{constructor(s){this.domSanitizer=s}transform(s){return this.domSanitizer.bypassSecurityTrustUrl(s)}}return a.\u0275fac=function(s){return new(s||a)(Le(Cr,16))},a.\u0275pipe=gr({name:"safeUrl",type:a,pure:!0}),a})(),qP=(()=>{class a{constructor(s){this.domSanitizer=s}transform(s){return this.domSanitizer.bypassSecurityTrustResourceUrl(s)}}return a.\u0275fac=function(s){return new(s||a)(Le(Cr,16))},a.\u0275pipe=gr({name:"safeResourceUrl",type:a,pure:!0}),a})(),QP=(()=>{class a extends Je{get survey(){return this.data}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-logo-image"]],inputs:{data:"data"},features:[$],decls:2,vars:0,consts:[["template",""]],template:function(s,p){s&1&&x(0,Nb,3,16,"ng-template",null,0,pe)},dependencies:[rp],styles:["[_nghost-%COMP%]{display:none}"]}),a})();Q.Instance.registerComponent("sv-logo-image",QP);var Hs=(()=>{class a extends xe{getModel(){return this.counter}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-character-counter"]],inputs:{counter:"counter",remainingCharacterCounter:"remainingCharacterCounter"},features:[$],decls:2,vars:0,consts:[["template",""]],template:function(s,p){s&1&&x(0,qb,2,3,"ng-template",null,0,pe)},styles:["[_nghost-%COMP%] { display: none; }"]}),a})();Q.Instance.registerComponent("character-counter",Hs);var op=(()=>{class a extends Ke{get value(){var s;return(s=this.model.inputValue)!==null&&s!==void 0?s:""}blur(s){this.model.onBlur(s),this.updateInputDomElement()}updateInputDomElement(){var s;if(!((s=this.inputElementRef)===null||s===void 0)&&s.nativeElement){let p=this.inputElementRef.nativeElement;ve.Helpers.isTwoValueEquals(this.value,p.value,!1,!0,!1)||(p.value=this.value)}}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-text-question"]],viewQuery:function(s,p){if(s&1&&Fe(zc,5),s&2){let g;je(g=Be())&&(p.inputElementRef=g.first)}},features:[$],decls:5,vars:3,consts:[["input",""],["contentElement",""],["inputElement","","contentElement",""],[3,"ngTemplateOutlet",4,"ngIf"],[4,"ngIf"],[3,"ngTemplateOutlet"],[3,"id"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"change","keyup","keydown","blur","focus","compositionupdate","value","disabled","type","id","readonly"],[3,"counter","remainingCharacterCounter",4,"ngIf"],[3,"counter","remainingCharacterCounter"]],template:function(s,p){s&1&&x(0,Qb,1,1,"ng-container",3)(1,zb,4,3,"div",4)(2,Ub,3,1,"div",4)(3,$b,4,25,"ng-template",null,0,pe),s&2&&(f("ngIf",!p.model.dataListId&&!p.model.isReadOnlyRenderDiv()),h(),f("ngIf",p.model.dataListId&&!p.model.isReadOnlyRenderDiv()),h(),f("ngIf",p.model.isReadOnlyRenderDiv()))},dependencies:[Hs,Y,zt,Ae,xr,_r]}),a})();Q.Instance.registerComponent("text-question",op);var HP=(()=>{class a extends Ke{onModelChanged(){super.onModelChanged(),this.model.locHtml.onChanged=()=>{this.detectChanges()}}ngOnDestroy(){this.model.locHtml.onChanged=()=>{},super.ngOnDestroy()}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-html-question"]],features:[$],decls:3,vars:5,consts:[["contentElement",""],[3,"innerHTML"]],template:function(s,p){s&1&&(O(0,"div",1,0),_t(2,"safeHtml")),s&2&&(_(p.model.renderCssRoot),f("innerHTML",wt(2,3,p.model.locHtml.renderedHtml),ln))},dependencies:[Tr],encapsulation:2}),a})();Q.Instance.registerComponent("html-question",HP);var Sr=(()=>{class a extends Ke{constructor(){super(...arguments),this.inputType="checkbox",this.showLegend=!0}getDefaultComponentName(){return"sv-ng-selectbase-item"}trackItemBy(s,p){return p.value}trackColumnBy(s){return s}getItemValueComponentName(s){return this.model.getItemValueWrapperComponentName(s)||this.getDefaultComponentName()}getItemValueComponentData(s){return{componentName:this.model.getPropertyByName("itemComponent").isDefaultValue(this.model.itemComponent)?this.getDefaultComponentName():this.model.itemComponent,componentData:{question:this.model,model:s,inputType:this.inputType,data:this.model.getItemValueWrapperComponentData(s)}}}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-selectbase"]],inputs:{model:"model"},features:[$],decls:10,vars:17,consts:[["contentElement",""],["class","sv-hidden",4,"ngIf"],[4,"ngIf"],[3,"class",4,"ngIf"],["sv-ng-comment-other","",3,"class","question",4,"ngIf"],[1,"sv-hidden"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"component"],["role","presentation",3,"class",4,"ngFor","ngForOf","ngForTrackBy"],["role","presentation"],["sv-ng-comment-other","",3,"question"],["type","button",3,"click","value"]],template:function(s,p){s&1&&(P(0,"fieldset",null,0),x(2,Gb,2,1,"legend",1)(3,Kb,2,2,"ng-container",2)(4,eC,2,2,"ng-container",2)(5,iC,2,4,"div",3)(6,aC,3,4,"ng-container",2)(7,cC,2,2,"ng-container",2)(8,pC,1,3,"div",4)(9,dC,2,3,"div",2),I()),s&2&&(_(p.model.getSelectBaseRootCss()),Z("role",p.model.a11y_input_ariaRole)("aria-required",p.model.a11y_input_ariaRequired)("aria-label",p.model.a11y_input_ariaLabel)("aria-labelledby",p.model.a11y_input_ariaLabelledBy)("aria-describedby",p.model.a11y_input_ariaDescribedBy)("aria-invalid",p.model.a11y_input_ariaInvalid)("aria-errormessage",p.model.a11y_input_ariaErrormessage),h(2),f("ngIf",p.showLegend),h(),f("ngIf",p.model.hasHeadItems),h(),f("ngIf",!p.model.hasColumns&&!p.model.blockedRow),h(),f("ngIf",!p.model.hasColumns&&p.model.blockedRow),h(),f("ngIf",p.model.hasColumns),h(),f("ngIf",p.model.hasFootItems),h(),f("ngIf",p.model.isOtherSelected),h(),f("ngIf",p.model.showClearButtonInContent))},dependencies:[Tn,Y,Ae,we],encapsulation:2}),a})();Q.Instance.registerComponent("selectbase",Sr);var zP=(()=>{class a extends Sr{ngOnInit(){this.inputType="radio",this.showLegend=!1,super.ngOnInit()}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-radiogroup-question"]],features:[$],decls:10,vars:17,consts:[["contentElement",""],["class","sv-hidden",4,"ngIf"],[4,"ngIf"],[3,"class",4,"ngIf"],["sv-ng-comment-other","",3,"class","question",4,"ngIf"],[1,"sv-hidden"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"component"],["role","presentation",3,"class",4,"ngFor","ngForOf","ngForTrackBy"],["role","presentation"],["sv-ng-comment-other","",3,"question"],["type","button",3,"click","value"]],template:function(s,p){s&1&&(P(0,"fieldset",null,0),x(2,fC,2,1,"legend",1)(3,gC,2,2,"ng-container",2)(4,bC,2,2,"ng-container",2)(5,_C,2,4,"div",3)(6,IC,3,4,"ng-container",2)(7,EC,2,2,"ng-container",2)(8,OC,1,3,"div",4)(9,RC,2,3,"div",2),I()),s&2&&(_(p.model.getSelectBaseRootCss()),Z("role",p.model.a11y_input_ariaRole)("aria-required",p.model.a11y_input_ariaRequired)("aria-label",p.model.a11y_input_ariaLabel)("aria-labelledby",p.model.a11y_input_ariaLabelledBy)("aria-describedby",p.model.a11y_input_ariaDescribedBy)("aria-invalid",p.model.a11y_input_ariaInvalid)("aria-errormessage",p.model.a11y_input_ariaErrormessage),h(2),f("ngIf",p.showLegend),h(),f("ngIf",p.model.hasHeadItems),h(),f("ngIf",!p.model.hasColumns&&!p.model.blockedRow),h(),f("ngIf",!p.model.hasColumns&&p.model.blockedRow),h(),f("ngIf",p.model.hasColumns),h(),f("ngIf",p.model.hasFootItems),h(),f("ngIf",p.model.isOtherSelected),h(),f("ngIf",p.model.showClearButtonInContent))},dependencies:[Tn,Y,Ae,we],encapsulation:2}),a})();Q.Instance.registerComponent("radiogroup-question",zP);var UP=(()=>{class a{constructor(){}}return a.\u0275fac=function(s){return new(s||a)},a.\u0275cmp=j({type:a,selectors:[["sv-ng-radiogroup-item"],["","sv-ng-radiogroup-item",""]],inputs:{question:"question",model:"model"},ngContentSelectors:Vr,decls:2,vars:11,consts:[["type","radio",3,"ngModelChange","name","id","disabled","readonly","ngModel","value"]],template:function(s,p){s&1&&(mi(),P(0,"input",0),Qt("ngModelChange",function(S){return qt(p.question.renderedValue,S)||(p.question.renderedValue=S),S}),I(),gi(1)),s&2&&(_(p.question.cssClasses.itemControl),f("name",p.question.questionName)("id",p.question.getItemId(p.model))("disabled",!p.question.getItemEnabled(p.model))("readonly",p.question.isReadOnlyAttr),Nt("ngModel",p.question.renderedValue),f("value",p.model.value),Z("name",p.question.questionName)("aria-errormessage",p.question.ariaErrormessage)("value",p.model.value))},dependencies:[Ss,Qn,Ut,Wt]}),a})(),WP=(()=>{class a extends Sr{}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-checkbox-question"]],features:[$],decls:10,vars:17,consts:[["contentElement",""],["class","sv-hidden",4,"ngIf"],[4,"ngIf"],[3,"class",4,"ngIf"],["sv-ng-comment-other","",3,"class","question",4,"ngIf"],[1,"sv-hidden"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"component"],["role","presentation",3,"class",4,"ngFor","ngForOf","ngForTrackBy"],["role","presentation"],["sv-ng-comment-other","",3,"question"],["type","button",3,"click","value"]],template:function(s,p){s&1&&(P(0,"fieldset",null,0),x(2,DC,2,1,"legend",1)(3,kC,2,2,"ng-container",2)(4,jC,2,2,"ng-container",2)(5,qC,2,4,"div",3)(6,UC,3,4,"ng-container",2)(7,GC,2,2,"ng-container",2)(8,ZC,1,3,"div",4)(9,JC,2,3,"div",2),I()),s&2&&(_(p.model.getSelectBaseRootCss()),Z("role",p.model.a11y_input_ariaRole)("aria-required",p.model.a11y_input_ariaRequired)("aria-label",p.model.a11y_input_ariaLabel)("aria-labelledby",p.model.a11y_input_ariaLabelledBy)("aria-describedby",p.model.a11y_input_ariaDescribedBy)("aria-invalid",p.model.a11y_input_ariaInvalid)("aria-errormessage",p.model.a11y_input_ariaErrormessage),h(2),f("ngIf",p.showLegend),h(),f("ngIf",p.model.hasHeadItems),h(),f("ngIf",!p.model.hasColumns&&!p.model.blockedRow),h(),f("ngIf",!p.model.hasColumns&&p.model.blockedRow),h(),f("ngIf",p.model.hasColumns),h(),f("ngIf",p.model.hasFootItems),h(),f("ngIf",p.model.isOtherSelected),h(),f("ngIf",p.model.showClearButtonInContent))},dependencies:[Tn,Y,Ae,we],encapsulation:2}),a})();Q.Instance.registerComponent("checkbox-question",WP);var $P=(()=>{class a{constructor(){}onChange(s){this.question.clickItemHandler(this.model,s.target.checked)}onSelectAllChange(s){this.question.toggleSelectAll()}}return a.\u0275fac=function(s){return new(s||a)},a.\u0275cmp=j({type:a,selectors:[["sv-ng-checkbox-item"],["","sv-ng-checkbox-item",""]],inputs:{question:"question",model:"model"},ngContentSelectors:Vr,decls:2,vars:9,consts:[["type","checkbox",3,"change","name","id","required","disabled","readonly","checked","value"]],template:function(s,p){s&1&&(mi(),P(0,"input",0),J("change",function(S){return p.onChange(S)}),I(),gi(1)),s&2&&(_(p.question.cssClasses.itemControl),f("name",p.question.name+p.model.id)("id",p.question.getItemId(p.model))("required",p.question.hasRequiredError())("disabled",!p.question.getItemEnabled(p.model))("readonly",p.question.isReadOnlyAttr)("checked",p.question.isItemSelected(p.model))("value",p.model.value))}}),a})(),GP=(()=>{class a extends Ke{}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-dropdown-question"]],features:[$],decls:4,vars:4,consts:[["contentElement",""],[3,"model"],["sv-ng-comment-other","",3,"class","question",4,"ngIf"],["sv-ng-comment-other","",3,"question"]],template:function(s,p){s&1&&(P(0,"div",null,0),O(2,"sv-ng-dropdown",1),x(3,KC,1,3,"div",2),I()),s&2&&(_(p.model.renderCssRoot),h(2),f("model",p.model),h(),f("ngIf",p.model.isOtherSelected))},dependencies:[np,Tn,Y],encapsulation:2}),a})();Q.Instance.registerComponent("dropdown-question",GP);var ZP=(()=>{class a extends Ke{}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-tagbox-question"]],features:[$],decls:4,vars:4,consts:[["contentElement",""],[3,"model"],["sv-ng-comment-other","",3,"class","question",4,"ngIf"],["sv-ng-comment-other","",3,"question"]],template:function(s,p){s&1&&(P(0,"div",null,0),O(2,"sv-ng-tagbox",1),x(3,YC,1,3,"div",2),I()),s&2&&(_(p.model.renderCssRoot),h(2),f("model",p.model),h(),f("ngIf",p.model.isOtherSelected))},dependencies:[jP,Tn,Y],encapsulation:2}),a})();Q.Instance.registerComponent("tagbox-question",ZP);var JP=(()=>{class a extends Ke{trackByFn(s){return s}onClick(s){s.stopPropagation(),this.model.setValueFromClick(s.target.value)}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-rating-question"]],features:[$],decls:7,vars:6,consts:[["contentElement",""],["role","radiogroup"],["role","presentation",1,"sv-hidden"],["sv-ng-string","",3,"class","model",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["sv-ng-string","",3,"model"],[3,"component"]],template:function(s,p){s&1&&(P(0,"div",null,0)(2,"fieldset",1),O(3,"legend",2),x(4,e1,1,3,"span",3)(5,n1,1,8,null,4)(6,i1,1,3,"span",3),I()()),s&2&&(_(p.model.ratingRootCss),h(4),f("ngIf",p.model.hasMinLabel),h(),f("ngForOf",p.model.renderedRateItems)("ngForTrackBy",p.trackByFn),h(),f("ngIf",p.model.hasMaxLabel))},dependencies:[Pe,Y,Ae,we],encapsulation:2}),a})();Q.Instance.registerComponent("rating-question",JP);var KP=(()=>{class a extends Ke{onChange(s){this.model.booleanValue=s.target.value}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-boolean-question"]],features:[$],decls:11,vars:35,consts:[["contentElement",""],[3,"keydown"],["type","checkbox",3,"ngModelChange","disabled","readonly","indeterminate","value","ngModel"],[3,"click"],["sv-ng-string","",3,"model"],["sv-ng-string","",3,"class","model",4,"ngIf"]],template:function(s,p){if(s&1){let g=fe();P(0,"div",1,0),J("keydown",function(ue){return B(g),N(p.model.onKeyDownCore(ue))}),P(2,"label")(3,"input",2),Qt("ngModelChange",function(ue){return B(g),qt(p.model.booleanValue,ue)||(p.model.booleanValue=ue),N(ue)}),I(),P(4,"div",3),J("click",function(ue){return B(g),N(p.model.onLabelClick(ue,p.model.swapOrder))}),O(5,"span",4),I(),P(6,"div",3),J("click",function(ue){return B(g),N(p.model.onSwitchClickModel(ue))}),P(7,"span"),x(8,r1,1,3,"span",5),I()(),P(9,"div",3),J("click",function(ue){return B(g),N(p.model.onLabelClick(ue,!p.model.swapOrder))}),O(10,"span",4),I()()()}s&2&&(_(p.model.cssClasses.root),h(2),_(p.model.getItemCss()),h(),_(p.model.cssClasses.control),f("disabled",p.model.isDisabledAttr)("readonly",p.model.isReadOnlyAttr)("indeterminate",p.model.isIndeterminate)("value",p.model.booleanValue),Nt("ngModel",p.model.booleanValue),Z("name",p.model.name)("id",p.model.inputId)("role",p.model.a11y_input_ariaRole)("aria-required",p.model.a11y_input_ariaRequired)("aria-label",p.model.a11y_input_ariaLabel)("aria-labelledby",p.model.a11y_input_ariaLabelledBy)("aria-describedby",p.model.a11y_input_ariaDescribedBy)("aria-invalid",p.model.a11y_input_ariaInvalid)("aria-errormessage",p.model.a11y_input_ariaErrormessage),h(),_(p.model.cssClasses.sliderGhost),h(),_(p.model.getLabelCss(p.model.swapOrder)),f("model",p.model.locLabelLeft),h(),_(p.model.cssClasses.switch),h(),_(p.model.cssClasses.slider),h(),f("ngIf",p.model.cssClasses.sliderText&&p.model.isDeterminated),h(),_(p.model.cssClasses.sliderGhost),h(),_(p.model.getLabelCss(!p.model.swapOrder)),f("model",p.model.locLabelRight))},dependencies:[Pe,Ts,Ut,Wt,Y],encapsulation:2}),a})();Q.Instance.registerComponent("boolean-question",KP);var YP=(()=>{class a extends xe{getModel(){return this.model}onChange(s){if(!this.question.isReadOnlyAttr)if(this.question.multiSelect)if(s.target.checked)this.question.value=this.question.value.concat(s.target.value);else{var p=this.question.value;p.splice(this.question.value.indexOf(s.target.value),1),this.question.value=p}else this.question.value=s.target.value}ngAfterViewInit(){this.model.locImageLink.onChanged=()=>{this.detectChanges()}}ngOnDestroy(){super.ngOnDestroy(),this.model.locImageLink.onChanged=()=>{}}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-imagepicker-item"]],inputs:{question:"question",model:"model"},features:[$],decls:2,vars:0,consts:[["template",""],[3,"change","type","id","checked","disabled","readonly"],["aria-hidden","true",3,"class",4,"ngIf"],[3,"class","objectFit","load","error",4,"ngIf"],["controls","",3,"class","objectFit","loadedmetadata","error",4,"ngIf"],[3,"class","width","height","objectFit",4,"ngIf"],["sv-ng-string","",3,"class","model",4,"ngIf"],["aria-hidden","true"],["sv-ng-svg-icon","",3,"class","iconName","size",4,"ngIf"],["sv-ng-svg-icon","",3,"iconName","size"],[3,"load","error"],["controls","",3,"loadedmetadata","error"],["sv-ng-string","",3,"model"]],template:function(s,p){s&1&&x(0,d1,10,26,"ng-template",null,0,pe)},dependencies:[We,Pe,Y],styles:["[_nghost-%COMP%] { display: none; }"]}),a})();Q.Instance.registerComponent("sv-ng-imagepicker-item",YP);var XP=(()=>{class a extends Ke{getItemValueComponentName(s){return this.model.getItemValueWrapperComponentName(s)||"sv-ng-imagepicker-item"}getItemValueComponentData(s){return{componentName:"sv-ng-imagepicker-item",componentData:{question:this.model,model:s,data:this.model.getItemValueWrapperComponentData(s)}}}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-imagepicker-question"]],features:[$],decls:6,vars:5,consts:[["contentElement",""],[1,"sv-hidden"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"component"],["role","presentation",3,"class",4,"ngFor","ngForOf"],["role","presentation"]],template:function(s,p){s&1&&(P(0,"fieldset",null,0)(2,"legend",1),re(3),I(),x(4,m1,2,1,"ng-container",2)(5,b1,2,1,"ng-container",2),I()),s&2&&(_(p.model.getSelectBaseRootCss()),h(3),me(p.model.locTitle.renderedHtml),h(),f("ngIf",!p.model.hasColumns),h(),f("ngIf",p.model.hasColumns))},dependencies:[Y,Ae,we],encapsulation:2}),a})();Q.Instance.registerComponent("imagepicker-question",XP);var eV=(()=>{class a extends Je{get components(){return this.survey.getContainerContent(this.container)}get isNeedRenderWrapper(){return this.needRenderWrapper!==!1}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-components-container"],["","sv-components-container",""],["sv-ng-components-container"]],inputs:{survey:"survey",container:"container",needRenderWrapper:"needRenderWrapper"},features:[$],decls:2,vars:0,consts:[["template",""],[4,"ngIf"],[3,"class",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"component"]],template:function(s,p){s&1&&x(0,T1,2,2,"ng-template",null,0,pe)},dependencies:[Y,Ae,we],styles:["[_nghost-%COMP%]{display:none}"]}),a})();Q.Instance.registerComponent("sv-components-container",eV);var Er=(()=>{class a{constructor(s){this.el=s,this.isSubscribed=!1,this.options=Object.assign({},a.defaultOptions),this.onkeyup=p=>(p.preventDefault(),p.stopPropagation(),(0,ve.doKey2ClickUp)(p,this.options),!1),this.subscribeEventListeners()}onkeydown(s){(0,ve.doKey2ClickDown)(s,this.options)}blur(s){(0,ve.doKey2ClickBlur)(s)}get element(){return this.el.nativeElement}subscribeEventListeners(){this.isSubscribed||(this.element.tabIndex=0,this.element.addEventListener("keyup",this.onkeyup.bind(this)),this.element.addEventListener("keydown",this.onkeydown.bind(this)),this.element.addEventListener("blur",this.blur),this.isSubscribed=!0)}unsubscribeEventListeners(){this.isSubscribed&&(this.element.tabIndex=-1,this.element.removeEventListener("keyup",this.onkeyup.bind(this)),this.element.removeEventListener("keydown",this.onkeydown.bind(this)),this.element.removeEventListener("blur",this.blur),this.isSubscribed=!1)}ngOnChanges(s){let p=s.key2click.currentValue;p.disableTabStop?this.unsubscribeEventListeners():this.subscribeEventListeners(),this.options=Object.assign({},a.defaultOptions,p)}ngOnDestroy(){this.unsubscribeEventListeners()}}return a.defaultOptions={processEsc:!0,disableTabStop:!1},a.\u0275fac=function(s){return new(s||a)(Le(gt))},a.\u0275dir=mr({type:a,selectors:[["","key2click",""]],inputs:{key2click:"key2click"},features:[an]}),a})(),tV=(()=>{class a extends xe{getModel(){return this.model}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-action-bar-item"]],inputs:{model:"model"},features:[$],decls:2,vars:0,consts:[["template",""],["type","button",3,"click","mousedown","focus","key2click","disabled"],["sv-ng-svg-icon","",3,"iconName","size","title","class",4,"ngIf"],[3,"class",4,"ngIf"],["sv-ng-svg-icon","",3,"iconName","size","title"]],template:function(s,p){s&1&&x(0,R1,4,12,"ng-template",null,0,pe)},dependencies:[We,Er,Y],styles:["[_nghost-%COMP%]{display:none}"]}),a})();Q.Instance.registerComponent("sv-action-bar-item",tV);var nV=(()=>{class a extends xe{getModel(){return this.model}ngOnInit(){super.ngOnInit(),this.viewModel=new ve.ActionDropdownViewModel(this.model)}ngOnDestroy(){this.viewModel.dispose(),super.ngOnDestroy()}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-action-bar-item-dropdown"]],inputs:{model:"model"},features:[$],decls:2,vars:0,consts:[["template",""],["type","button",3,"click","key2click","title","disabled"],["sv-ng-svg-icon","",3,"iconName","size","title","class",4,"ngIf"],[3,"class",4,"ngIf"],[3,"popupModel"],["sv-ng-svg-icon","",3,"iconName","size","title"]],template:function(s,p){s&1&&x(0,A1,4,11,"ng-template",null,0,pe)},dependencies:[We,Vi,Er,Y],styles:["[_nghost-%COMP%]{display:none}"]}),a})();Q.Instance.registerComponent("sv-action-bar-item-dropdown",nV);var sp=(()=>{class a extends xe{constructor(){super(...arguments),this.showLabel=!0}getModel(){return this.model}onModelChanged(){var s;super.onModelChanged(),this.question.isDesignMode||(this.previousModel&&this.previousModel.setRootElement(void 0),this.model&&(!((s=this.container)===null||s===void 0)&&s.nativeElement)&&this.model.setRootElement(this.container.nativeElement))}ngAfterViewInit(){var s;this.model&&(!((s=this.container)===null||s===void 0)&&s.nativeElement)&&!this.question.isDesignMode&&this.model.setRootElement(this.container.nativeElement)}ngOnDestroy(){super.ngOnDestroy(),this.model&&!this.question.isDesignMode&&this.model.setRootElement(void 0)}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-selectbase-item"],["sv-ng-selebase-item"]],viewQuery:function(s,p){if(s&1&&Fe(Hn,5,gt),s&2){let g;je(g=Be())&&(p.container=g.first)}},inputs:{question:"question",model:"model",inputType:"inputType",showLabel:"showLabel"},features:[$],decls:2,vars:0,consts:[["template",""],["container",""],["itemDecorator",""],["role","presentation"],[3,"ngSwitch"],["sv-ng-checkbox-item","",3,"class","model","question",4,"ngSwitchCase"],["sv-ng-radiogroup-item","",3,"class","model","question","mousedown",4,"ngSwitchCase"],["sv-ng-checkbox-item","",3,"model","question"],[4,"ngTemplateOutlet"],["sv-ng-radiogroup-item","",3,"mousedown","model","question"],[3,"class",4,"ngIf"],[3,"model"]],template:function(s,p){s&1&&x(0,H1,7,5,"ng-template",null,0,pe)},dependencies:[$P,UP,Pe,Vs,Is,zt,Y],styles:["[_nghost-%COMP%] { display: none; }"]}),a})();Q.Instance.registerComponent("sv-ng-selectbase-item",sp);var iV=(()=>{class a extends Je{}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-skeleton"]],inputs:{element:"element"},features:[$],decls:2,vars:0,consts:[["template",""],[1,"sv-skeleton-element",3,"id"]],template:function(s,p){s&1&&x(0,z1,1,3,"ng-template",null,0,pe)},styles:["[_nghost-%COMP%]{display:none}"]}),a})();Q.Instance.registerComponent("sv-skeleton",iV);var rV=(()=>{class a extends xe{constructor(){super(...arguments),this.circleLengthValue=440}getStateElement(){return this.model}getModel(){return this.model}get circleLength(){return this.circleLengthValue}get progress(){return-this.model.progress*this.circleLength}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-timerpanel"]],inputs:{model:"model"},features:[$],decls:2,vars:2,consts:[[3,"class",4,"ngIf"],["sv-ng-svg-icon","",3,"class","stroke-dasharray","stroke-dashoffset","size","iconName",4,"ngIf"],["sv-ng-svg-icon","",3,"size","iconName"]],template:function(s,p){s&1&&x(0,$1,6,9,"div",0)(1,G1,2,3,"div",0),s&2&&(f("ngIf",p.model.isRunning&&p.model.showTimerAsClock),h(),f("ngIf",p.model.isRunning&&!p.model.showTimerAsClock))},dependencies:[We,Y],encapsulation:2}),a})();Q.Instance.registerComponent("sv-timerpanel",rV);var ap=(()=>{class a extends xe{get elementId(){var s;return(s=this.model)===null||s===void 0?void 0:s.elementId}get ariaSelected(){return this.listModel.isItemSelected(this.model)||""}get class(){return this.listModel.getItemClass(this.model)}get itemStyle(){return this.listModel.getItemStyle(this.model)}click(s){this.listModel.onItemClick(this.model),s.stopPropagation()}pointerdown(s){this.listModel.onPointerDown(s,this.model)}get itemComponent(){return this.model.component||this.listModel.itemComponent}getModel(){return this.model}ngAfterViewInit(){this.listModel.onLastItemRended(this.model)}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-list-item"],["","sv-ng-list-item",""]],inputs:{element:"element",model:"model",listModel:"listModel"},features:[$],decls:2,vars:0,consts:[["template",""],["role","option",3,"click","pointerdown","key2click","visible"],[4,"ngIf"],[3,"mouseover","mouseleave"],[3,"component"]],template:function(s,p){s&1&&x(0,Y1,4,21,"ng-template",null,0,pe)},dependencies:[Er,Gt,Y,we],styles:["[_nghost-%COMP%]{display:none}"]}),a})();Q.Instance.registerComponent("sv-list-item",ap);var lp=(()=>{class a extends xe{constructor(){super(...arguments),this.trackItemBy=(s,p)=>p.id}getModel(){return this.model}onGoToItems(s){this.model.goToItems(s)}onMouseDown(s){s.preventDefault()}onKeyDown(s){this.model.onKeyDown(s)}onMouseMove(s){this.model.onMouseMove(s)}getPropertiesToUpdateSync(){return["renderElements"]}ngAfterViewInit(){var s;!((s=this.listContainerElement)===null||s===void 0)&&s.nativeElement&&this.model.initListContainerHtmlElement(this.listContainerElement.nativeElement)}ngOnDestroy(){this.model.initListContainerHtmlElement(void 0),super.ngOnDestroy()}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-list"],["","sv-ng-list",""]],viewQuery:function(s,p){if(s&1&&Fe(X1,5),s&2){let g;je(g=Be())&&(p.listContainerElement=g.first)}},inputs:{model:"model"},features:[$],decls:2,vars:0,consts:[["template",""],["listContainerElement",""],[3,"class",4,"ngIf"],[3,"visible"],["role","listbox",3,"class","visible","mousedown","keydown","mousemove",4,"ngIf"],["sv-ng-svg-icon","",3,"iconName","size"],["type","text",3,"ngModelChange","keyup","ngModel"],[3,"class","click",4,"ngIf"],[3,"click"],["role","listbox",3,"mousedown","keydown","mousemove","visible"],[3,"listModel","model",4,"ngFor","ngForOf","ngForTrackBy"],[3,"listModel","model"]],template:function(s,p){s&1&&x(0,rx,7,11,"ng-template",null,0,pe)},dependencies:[We,ap,Y,Qn,Ut,Wt,Gt,Ae],styles:["[_nghost-%COMP%]{display:none}"]}),a})();Q.Instance.registerComponent("sv-list",lp);var up=(()=>{class a extends xe{getModel(){return this.model}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-list-item-content"],["","sv-ng-list-item-content",""]],inputs:{element:"element",model:"model",listModel:"listModel"},features:[$],decls:2,vars:0,consts:[["template",""],["sv-ng-svg-icon","",3,"class","iconName","size",4,"ngIf"],[3,"model"],["sv-ng-svg-icon","",3,"iconName","size"]],template:function(s,p){s&1&&x(0,ax,3,3,"ng-template",null,0,pe)},dependencies:[We,Pe,Y],styles:["[_nghost-%COMP%]{display:none}"]}),a})();Q.Instance.registerComponent("sv-list-item-content",up);var oV=(()=>{class a extends xe{getModel(){return this.model}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-list-item-group"],["","sv-ng-list-item-group",""]],inputs:{element:"element",model:"model",listModel:"listModel"},features:[$],decls:2,vars:0,consts:[["template",""],[3,"model","listModel"],[3,"popupModel"]],template:function(s,p){s&1&&x(0,lx,2,3,"ng-template",null,0,pe)},dependencies:[up,Vi],styles:["[_nghost-%COMP%]{display:none}"]}),a})();Q.Instance.registerComponent("sv-list-item-group",oV);var sV=(()=>{class a extends xe{onClick(s){this.model.setValueFromClick(s.target.value),s.stopPropagation()}getModel(){return this.item}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-rating-item"]],inputs:{element:"element",model:"model",item:"item",index:"index"},features:[$],decls:2,vars:0,consts:[["template",""],[3,"mousedown"],["type","radio",1,"sv-visuallyhidden",3,"click","value","disabled","readonly","checked"],["sv-ng-string","",3,"model"]],template:function(s,p){s&1&&x(0,ux,3,16,"ng-template",null,0,pe)},dependencies:[Pe],styles:["[_nghost-%COMP%]{display:none}"]}),a})();Q.Instance.registerComponent("sv-rating-item",sV);var aV=(()=>{class a extends xe{onClick(s){this.model.setValueFromClick(s.target.value),s.stopPropagation()}getModel(){return this.item}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-rating-item-star"]],inputs:{element:"element",model:"model",item:"item",index:"index"},features:[$],decls:2,vars:0,consts:[["template",""],[3,"mouseover","mouseout","mousedown"],["type","radio",1,"sv-visuallyhidden",3,"click","value","disabled","readonly","checked"],["sv-ng-svg-icon","",3,"iconName","size","title"]],template:function(s,p){s&1&&x(0,cx,4,22,"ng-template",null,0,pe)},dependencies:[We],styles:["[_nghost-%COMP%]{display:none}"]}),a})();Q.Instance.registerComponent("sv-rating-item-star",aV);var lV=(()=>{class a extends xe{onClick(s){this.model.setValueFromClick(s.target.value),s.stopPropagation()}getModel(){return this.item}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-rating-item-smiley"]],inputs:{element:"element",model:"model",item:"item",index:"index"},features:[$],decls:2,vars:0,consts:[["template",""],[3,"mouseover","mouseout","mousedown"],["type","radio",1,"sv-visuallyhidden",3,"click","value","disabled","readonly","checked"],["sv-ng-svg-icon","",3,"iconName","size","title"]],template:function(s,p){s&1&&x(0,px,3,17,"ng-template",null,0,pe)},dependencies:[We],styles:["[_nghost-%COMP%]{display:none}"]}),a})();Q.Instance.registerComponent("sv-rating-item-smiley",lV);var uV=(()=>{class a extends xe{getModel(){return this.model}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-rating-dropdown-item"],["","sv-ng-rating-dropdown-item",""]],inputs:{element:"element",model:"model"},features:[$],decls:2,vars:0,consts:[["template",""],[1,"sd-rating-dropdown-item"],[1,"sd-rating-dropdown-item_text"],[4,"ngIf"],[1,"sd-rating-dropdown-item_description"],[3,"model"]],template:function(s,p){s&1&&x(0,fx,4,2,"ng-template",null,0,pe)},dependencies:[Pe,Y],styles:["[_nghost-%COMP%]{display:none}"]}),a})();Q.Instance.registerComponent("sv-rating-dropdown-item",uV);var cV=(()=>{class a{}return a.\u0275fac=function(s){return new(s||a)},a.\u0275cmp=j({type:a,selectors:[["sv-ng-rating-dropdown-question"]],inputs:{model:"model"},decls:2,vars:3,consts:[[3,"model"]],template:function(s,p){s&1&&(P(0,"div"),O(1,"sv-ng-dropdown",0),I()),s&2&&(_(p.model.cssClasses.rootDropdown),h(),f("model",p.model))},dependencies:[np],encapsulation:2}),a})();Q.Instance.registerComponent("rating-dropdown-question",cV);ve.RendererFactory.Instance.registerRenderer("rating","dropdown","rating-dropdown-question");var pV=(()=>{class a{}return a.\u0275fac=function(s){return new(s||a)},a.\u0275cmp=j({type:a,selectors:[["sv-ng-boolean-checkbox-question"]],inputs:{model:"model"},decls:9,vars:25,consts:[["type","checkbox",3,"ngModelChange","value","id","ngModel","disabled","readonly","indeterminate"],[3,"class",4,"ngIf"],[1,"check"],[3,"class","id",4,"ngIf"],["sv-ng-string","",3,"class","model",4,"ngIf"],[3,"id"],[3,"element"],["sv-ng-string","",3,"model"]],template:function(s,p){s&1&&(P(0,"div")(1,"div")(2,"label")(3,"input",0),Qt("ngModelChange",function(S){return qt(p.model.booleanValue,S)||(p.model.booleanValue=S),S}),I(),P(4,"span"),x(5,hx,2,3,"svg",1),O(6,"span",2),I(),x(7,mx,2,4,"span",3),I(),x(8,gx,1,4,"div",4),I()()),s&2&&(_(p.model.cssClasses.rootCheckbox),h(),_(p.model.getCheckboxItemCss()),h(),_(p.model.cssClasses.checkboxLabel),h(),_(p.model.cssClasses.controlCheckbox),f("value",p.model.booleanValue)("id",p.model.inputId),Nt("ngModel",p.model.booleanValue),f("value",p.model.booleanValue)("disabled",p.model.isDisabledAttr)("readonly",p.model.isReadOnlyAttr)("indeterminate",p.model.isIndeterminate),Z("name",p.model.name)("aria-required",p.model.ariaRequired)("aria-label",p.model.ariaLabel)("aria-invalid",p.model.ariaInvalid)("aria-errormessage",p.model.ariaErrormessage),h(),_(p.model.cssClasses.checkboxMaterialDecorator),h(),f("ngIf",!!p.model.svgIcon),h(2),f("ngIf",p.model.isLabelRendered),h(),f("ngIf",p.model.canRenderLabelDescription))},dependencies:[Jc,Pe,Ts,Ut,Wt,Y],encapsulation:2}),a})();Q.Instance.registerComponent("boolean-checkbox-question",pV);ve.RendererFactory.Instance.registerRenderer("boolean","checkbox","boolean-checkbox-question");var dV=(()=>{class a{constructor(){}}return a.\u0275fac=function(s){return new(s||a)},a.\u0275cmp=j({type:a,selectors:[["sv-ng-boolean-radio-item"]],inputs:{question:"question",value:"value",locText:"locText"},decls:5,vars:16,consts:[["role","presentation"],["type","radio",3,"ngModelChange","value","ngModel","disabled","readonly"],[3,"class",4,"ngIf"],["sv-ng-string","",3,"model"]],template:function(s,p){s&1&&(P(0,"div",0)(1,"label")(2,"input",1),Qt("ngModelChange",function(S){return qt(p.question.booleanValue,S)||(p.question.booleanValue=S),S}),I(),x(3,yx,2,3,"span",2),O(4,"span",3),I()()),s&2&&(_(p.question.getRadioItemClass(p.question.cssClasses,p.value)),h(),_(p.question.cssClasses.radioLabel),h(),_(p.question.cssClasses.itemRadioControl||""),f("value",p.value),Nt("ngModel",p.question.booleanValue),f("disabled",p.question.isDisabledAttr)("readonly",p.question.isReadOnlyAttr),Z("name",p.question.name)("aria-errormessage",p.question.ariaErrormessage),h(),f("ngIf",p.question.cssClasses.materialRadioDecorator),h(),_(p.question.cssClasses.radioControlLabel),f("model",p.locText))},dependencies:[Pe,Ss,Qn,Ut,Wt,Y],encapsulation:2}),a})(),fV=(()=>{class a{}return a.\u0275fac=function(s){return new(s||a)},a.\u0275cmp=j({type:a,selectors:[["sv-ng-boolean-radio-question"]],inputs:{model:"model"},decls:5,vars:9,consts:[["role","presentation"],[3,"value","locText","question",4,"ngIf"],[3,"value","locText","question"]],template:function(s,p){s&1&&(P(0,"div")(1,"fieldset",0),x(2,bx,1,3,"sv-ng-boolean-radio-item",1),O(3,"sv-ng-boolean-radio-item",2),x(4,Cx,1,3,"sv-ng-boolean-radio-item",1),I()()),s&2&&(_(p.model.cssClasses.rootRadio),h(),_(p.model.cssClasses.radioFieldset),h(),f("ngIf",p.model.swapOrder),h(),f("value",!1)("locText",p.model.locLabelFalse)("question",p.model),h(),f("ngIf",!p.model.swapOrder))},dependencies:[dV,Y],encapsulation:2}),a})();Q.Instance.registerComponent("boolean-radio-question",fV);ve.RendererFactory.Instance.registerRenderer("boolean","radio","boolean-radio-question");var Ii=(()=>{class a extends Je{getProgressTextInBarCss(s){return ve.SurveyProgressModel.getProgressTextInBarCss(s)}getProgressTextUnderBarCss(s){return ve.SurveyProgressModel.getProgressTextUnderBarCss(s)}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-progress-default"]],inputs:{container:"container",model:"model"},features:[$],decls:2,vars:0,consts:[["template",""],["role","progressbar","aria-valuemin","0","aria-valuemax","100","aria-label","progress"]],template:function(s,p){s&1&&x(0,xx,6,12,"ng-template",null,0,pe)},encapsulation:2}),a})();Q.Instance.registerComponent("sv-progress-progress",Ii);Q.Instance.registerComponent("sv-progress-pages",Ii);Q.Instance.registerComponent("sv-progress-questions",Ii);Q.Instance.registerComponent("sv-progress-correctquestions",Ii);Q.Instance.registerComponent("sv-progress-requiredquestions",Ii);var hV=(()=>{class a{constructor(s){this.changeDetectorRef=s,this.hasScroller=!1,this.canShowHeader=!1,this.canShowFooter=!1,this.canShowItemTitles=!0}onResize(s){this.canShowItemTitles=s,this.canShowHeader=!this.canShowItemTitles,this.changeDetectorRef.detectChanges()}onUpdateScroller(s){this.hasScroller=s,this.changeDetectorRef.detectChanges()}onUpdateSettings(){this.canShowItemTitles=this.model.showItemTitles,this.canShowFooter=!this.model.showItemTitles,this.changeDetectorRef.detectChanges()}ngOnInit(){}ngOnChanges(s){}clickScrollButton(s){this.progressButtonsListContainer&&(this.progressButtonsListContainer.nativeElement.scrollLeft+=(s?-1:1)*70)}ngAfterViewInit(){var s;if(!((s=this.progressButtonsListContainer)===null||s===void 0)&&s.nativeElement){let p=this.progressButtonsListContainer.nativeElement;this.respManager=new ve.ProgressButtonsResponsivityManager(this.model,p,this)}}ngOnDestroy(){var s;(s=this.respManager)===null||s===void 0||s.dispose()}}return a.\u0275fac=function(s){return new(s||a)(Le(Ht))},a.\u0275cmp=j({type:a,selectors:[["sv-ng-progress-buttons"]],viewQuery:function(s,p){if(s&1&&Fe(_x,5),s&2){let g;je(g=Be())&&(p.progressButtonsListContainer=g.first)}},inputs:{model:"model",survey:"survey",container:"container"},features:[an],decls:10,vars:17,consts:[["progressButtonsListContainer",""],["role","progressbar","aria-valuemin","0","aria-valuemax","100","aria-label","progress"],[3,"class",4,"ngIf"],["role","button",3,"click"],[3,"class","click",4,"ngFor","ngForOf"],[3,"title"],[3,"click"],[3,"class","title",4,"ngIf"],[3,"model"]],template:function(s,p){if(s&1){let g=fe();P(0,"div",1),x(1,wx,3,6,"div",2),P(2,"div")(3,"div",3),J("click",function(){return B(g),N(p.clickScrollButton(!0))}),I(),P(4,"div",null,0)(6,"ul"),x(7,Ix,9,14,"li",4),I()(),P(8,"div",3),J("click",function(){return B(g),N(p.clickScrollButton(!1))}),I()(),x(9,Tx,3,6,"div",2),I()}s&2&&(_(p.model.getRootCss(p.container)),Ne("max-width",p.model.progressWidth),h(),f("ngIf",p.canShowHeader),h(),_(p.survey.css.progressButtonsContainer),h(),_(p.model.getScrollButtonCss(p.hasScroller,!0)),h(),_(p.survey.css.progressButtonsListContainer),h(2),_(p.survey.css.progressButtonsList),h(),f("ngForOf",p.survey.visiblePages),h(),_(p.model.getScrollButtonCss(p.hasScroller,!1)),h(),f("ngIf",p.canShowFooter))},dependencies:[Pe,Y,Ae],encapsulation:2}),a})();Q.Instance.registerComponent("sv-progress-buttons",hV);var mV=(()=>{class a extends Je{ngOnInit(){super.ngOnInit()}ngOnChanges(s){}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-navigation-toc"],["sv-ng-navigation-toc"]],inputs:{model:"model"},features:[$,an],decls:2,vars:0,consts:[["template",""],[3,"model",4,"ngIf"],["data-bind","key2click",3,"click",4,"ngIf"],[3,"model"],["data-bind","key2click",3,"click"],["sv-ng-svg-icon","",3,"iconName","size"],[3,"popupModel"]],template:function(s,p){s&1&&x(0,Ox,3,4,"ng-template",null,0,pe)},dependencies:[lp,We,Vi,Y],styles:["[_nghost-%COMP%] { display: none; }"]}),a})();Q.Instance.registerComponent("sv-navigation-toc",mV);var cp=(()=>{class a extends xe{constructor(){super(...arguments),this.trackRowBy=(s,p)=>p.id}getModel(){return this.model}ngAfterViewInit(){var s;!((s=this.panelContainerRef)===null||s===void 0)&&s.nativeElement&&this.model.afterRender(this.panelContainerRef.nativeElement)}get canRender(){return this.model&&this.model.survey&&this.model.getIsContentVisible()}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-panel"],["","sv-ng-panel",""]],viewQuery:function(s,p){if(s&1&&Fe(Rx,5,gt),s&2){let g;je(g=Be())&&(p.panelContainerRef=g.first)}},inputs:{model:"model"},features:[$],decls:2,vars:0,consts:[["template",""],["panelContainer",""],[3,"class","focusin",4,"ngIf"],[3,"focusin"],["sv-ng-errors","",3,"element",4,"ngIf"],["sv-ng-element-header","",3,"element",4,"ngIf"],[3,"paddingLeft","class",4,"ngIf"],["sv-ng-errors","",3,"element"],["sv-ng-element-header","",3,"element"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"model"],[3,"component"],[3,"row"]],template:function(s,p){s&1&&x(0,Bx,1,1,"ng-template",null,0,pe)},dependencies:[Pi,tp,Kc,$t,Y,Ae,we],encapsulation:2}),a})();Q.Instance.registerComponent("panel",cp);var gV=(()=>{class a{getModel(){return this.model}buttonMouseDown(){return this.model.data&&this.model.data.mouseDown()}}return a.\u0275fac=function(s){return new(s||a)},a.\u0275cmp=j({type:a,selectors:[["sv-ng-nav-btn"]],inputs:{model:"model"},decls:1,vars:1,consts:[["type","button",3,"value","class","disabled","mousedown","click",4,"ngIf"],["type","button",3,"mousedown","click","value","disabled"]],template:function(s,p){s&1&&x(0,Nx,1,5,"input",0),s&2&&f("ngIf",p.model.visible)},dependencies:[Y],styles:["[_nghost-%COMP%] { display: contents; }"]}),a})();Q.Instance.registerComponent("sv-nav-btn",gV);var pp=(()=>{class a extends Je{}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-file-item"]],inputs:{item:"item",question:"question"},features:[$],decls:2,vars:0,consts:[["template",""],[3,"click"],[3,"class",4,"ngIf"],["alt","File preview",3,"height","width",4,"ngIf"],["sv-ng-svg-icon","",3,"iconName","partCss","size",4,"ngIf"],[3,"class","click",4,"ngIf"],["alt","File preview"],["sv-ng-svg-icon","",3,"iconName","partCss","size"],["sv-ng-svg-icon","",3,"title","partCss","iconName","size",4,"ngIf"],["sv-ng-svg-icon","",3,"title","partCss","iconName","size"]],template:function(s,p){s&1&&x(0,$x,7,9,"ng-template",null,0,pe)},dependencies:[We,Y,rp],styles:["[_nghost-%COMP%]{display:none}"]}),a})(),vV=(()=>{class a extends xe{getModel(){return this.page}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-file-page"]],inputs:{page:"page",question:"question"},features:[$],decls:2,vars:0,consts:[["template",""],[4,"ngFor","ngForOf"],[3,"item","question"]],template:function(s,p){s&1&&x(0,Zx,2,4,"ng-template",null,0,pe)},dependencies:[pp,Ae],styles:["[_nghost-%COMP%]{display:none}"]}),a})(),yV=(()=>{class a extends Je{constructor(){super(...arguments),this.trackFilesFn=s=>this.question.inputId+"_"+s}trackPagesFn(s,p){return p.id}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-file-preview"]],inputs:{question:"question"},features:[$],decls:2,vars:0,consts:[["template",""],[4,"ngIf"],[3,"page","question",4,"ngFor","ngForOf","ngForTrackBy"],[3,"page","question"],[3,"item","question",4,"ngFor","ngForOf"],[3,"item","question"]],template:function(s,p){s&1&&x(0,t_,1,1,"ng-template",null,0,pe)},dependencies:[vV,pp,Y,Ae],encapsulation:2}),a})();Q.Instance.registerComponent("sv-file-preview",yV);var bV=(()=>{class a extends Ke{ngOnInit(){this.model.visibleRowsChangedCallback=()=>{this.detectChanges()},super.ngOnInit()}onCellChanged(s,p){s.value=p.value,this.detectChanges()}trackRowByFn(s,p){return"column-"+p.name+"-"+s}trackColumnByFn(s,p){return"column-"+p.value+"-"+s}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-matrix-question"]],features:[$],decls:2,vars:0,consts:[["template",""],["contentElement",""],[1,"sv-hidden"],[4,"ngIf"],[3,"class",4,"ngFor","ngForOf","ngForTrackBy"],[3,"style","class",4,"ngFor","ngForOf"],[3,"component"],[3,"model"],[3,"class","style",4,"ngIf"],["sv-ng-string","",3,"class","model","click",4,"ngFor","ngForOf"],["sv-ng-string","",3,"click","model"]],template:function(s,p){s&1&&x(0,m_,9,8,"ng-template",null,0,pe)},dependencies:[Pe,Y,Ae,we],styles:["[_nghost-%COMP%]{display:none}"]}),a})();Q.Instance.registerComponent("matrix-question",bV);var dp=(()=>{class a extends Je{get question(){return this.model&&this.model.data.question||this.data.question}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-choose-file-btn"]],inputs:{data:"data",model:"model"},features:[$],decls:2,vars:0,consts:[["template",""],["tabindex","0",3,"click","key2click"],["sv-ng-svg-icon","",3,"title","iconName","size",4,"ngIf"],["sv-ng-svg-icon","",3,"title","iconName","size"]],template:function(s,p){s&1&&x(0,v_,4,6,"ng-template",null,0,pe)},dependencies:[We,Er,Y],encapsulation:2}),a})();Q.Instance.registerComponent("sv-file-choose-btn",dp);var fp=(()=>{class a extends Je{}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-loading-indicator"]],features:[$],decls:2,vars:0,consts:[["template",""],[1,"sd-loading-indicator"],["sv-ng-svg-icon","",3,"iconName","size"]],template:function(s,p){s&1&&x(0,y_,2,2,"ng-template",null,0,pe)},dependencies:[We],styles:["[_nghost-%COMP%]{display:none}"]}),a})(),CV=(()=>{class a extends Ke{}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-file-question"]],features:[$],decls:17,vars:14,consts:[["contentElement",""],["fileCleanButton",""],["fileVideo",""],["tabindex","-1","type","file",3,"class",4,"ngIf"],["type","file","readonly","","style","color: transparent",3,"class",4,"ngIf"],["type","file","disabled","","style","color: transparent",3,"class",4,"ngIf"],[3,"dragenter","drop","dragover","dragleave"],[3,"class",4,"ngIf"],[4,"ngIf"],[3,"model",4,"ngIf"],["tabindex","-1","type","file"],["type","file","readonly","",2,"color","transparent"],["type","file","disabled","",2,"color","transparent"],["sv-ng-string","",3,"model"],[3,"data",4,"ngIf"],[3,"data"],[3,"model"],[4,"ngTemplateOutlet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"component"],["type","button",3,"click"],["sv-ng-svg-icon","",3,"iconName","size","title",4,"ngIf"],["sv-ng-svg-icon","",3,"iconName","size","title"],["autoplay","","playsinline",""]],template:function(s,p){if(s&1){let g=fe();P(0,"div",null,0),x(2,C_,1,11,"input",3)(3,x_,1,5,"input",4)(4,__,1,5,"input",5),P(5,"div",6),J("dragenter",function(ue){return B(g),N(p.model.onDragEnter(ue))})("drop",function(ue){return B(g),N(p.model.onDrop(ue))})("dragover",function(ue){return B(g),N(p.model.onDragOver(ue))})("dragleave",function(ue){return B(g),N(p.model.onDragLeave(ue))}),x(6,I_,6,10,"div",7)(7,T_,3,2,"ng-container",8)(8,E_,2,1,"ng-container",8)(9,R_,2,4,"ng-container",8)(10,M_,2,5,"ng-container",8)(11,k_,2,4,"ng-container",8)(12,L_,1,1,"sv-action-bar",9),I()(),x(13,j_,4,4,"ng-template",null,1,pe)(15,B_,5,8,"ng-template",null,2,pe)}s&2&&(_(p.model.fileRootCss),h(2),f("ngIf",!p.model.isReadOnlyAttr&&!p.model.isDisabledAttr&&p.model.hasFileUI),h(),f("ngIf",p.model.isReadOnlyAttr),h(),f("ngIf",p.model.isDisabledAttr),h(),_(p.model.cssClasses.dragArea),h(),f("ngIf",p.model.showFileDecorator),h(),f("ngIf",p.model.showLoadingIndicator),h(),f("ngIf",p.model.isPlayingVideo),h(),f("ngIf",p.model.showRemoveButton),h(),f("ngIf",p.model.allowShowPreview),h(),f("ngIf",p.model.showRemoveButtonBottom),h(),f("ngIf",p.model.fileNavigatorVisible))},dependencies:[Pe,dp,$t,fp,We,qs,Y,zt,we],encapsulation:2}),a})();Q.Instance.registerComponent("file-question",CV);var xV=(()=>{class a extends Ke{onChange(s){this.model.value=s.target.value}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-question-comment"]],features:[$],decls:2,vars:2,consts:[["contentElement",""],[4,"ngIf"],[3,"component"],[3,"counter","remainingCharacterCounter",4,"ngIf"],[3,"counter","remainingCharacterCounter"]],template:function(s,p){s&1&&x(0,Q_,3,6,"ng-container",1)(1,H_,3,1,"div",1),s&2&&(f("ngIf",!p.model.isReadOnlyRenderDiv()),h(),f("ngIf",p.model.isReadOnlyRenderDiv()))},dependencies:[Hs,Y,we],encapsulation:2}),a})();Q.Instance.registerComponent("comment-question",xV);var _V=(()=>{class a extends Ke{}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-signature-component"]],features:[$],decls:8,vars:13,consts:[["contentElement",""],["sv-ng-string","",3,"visible","model"],[3,"src","width","class",4,"ngIf"],["tabindex","-1",3,"blur"],[3,"class",4,"ngIf"],[4,"ngIf"],[3,"src"],["type","button",3,"click","title"],["sv-ng-svg-icon","",3,"iconName","size",4,"ngIf"],["sv-ng-svg-icon","",3,"iconName","size"]],template:function(s,p){if(s&1){let g=fe();P(0,"div",null,0),O(2,"div",1),P(3,"div"),x(4,z_,1,5,"img",2),P(5,"canvas",3),J("blur",function(ue){return B(g),N(p.model.onBlur(ue))}),I()(),x(6,$_,4,7,"div",4)(7,G_,3,2,"ng-container",5),I()}s&2&&(_(p.model.cssClasses.root),Ne("width",p.model.renderedCanvasWidth),h(2),_(p.model.cssClasses.placeholder),f("visible",p.model.needShowPlaceholder())("model",p.model.locRenderedPlaceholder),h(2),f("ngIf",!!p.model.backgroundImage),h(),_(p.model.cssClasses.canvas),h(),f("ngIf",p.model.canShowClearButton),h(),f("ngIf",p.model.showLoadingIndicator))},dependencies:[Pe,We,fp,Gt,Y],encapsulation:2}),a})();Q.Instance.registerComponent("signaturepad-question",_V);var wV=(()=>{class a extends xe{getModel(){return this.model.isErrorsCell?null:this.model.item.editor}get item(){return this.model.item}get editor(){return this.model.item.editor}ngDoCheck(){super.ngDoCheck(),this.model.isErrorsCell&&this.editor.registerFunctionOnPropertyValueChanged("errors",()=>{this.update()},"__ngSubscription")}ngOnDestroy(){super.ngOnDestroy(),this.model.isErrorsCell&&this.editor.unRegisterFunctionOnPropertyValueChanged("errors","__ngSubscription")}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["","sv-ng-multipletext-item",""]],inputs:{question:"question",model:"model"},features:[$],attrs:Z_,decls:2,vars:2,consts:[[4,"ngIf"],[3,"class",4,"ngIf"],[3,"model"],["aria-hidden","true",3,"class",4,"ngIf"],[3,"focusin"],["aria-hidden","true"],["sv-ng-errors","",3,"element",4,"ngIf"],["sv-ng-errors","",3,"element"]],template:function(s,p){s&1&&x(0,X_,9,16,"ng-container",0)(1,t2,2,1,"ng-container",0),s&2&&(f("ngIf",!p.model.isErrorsCell),h(),f("ngIf",p.model.isErrorsCell))},dependencies:[Pe,op,Pi,Y],encapsulation:2}),a})(),PV=(()=>{class a extends xe{getModel(){return this.model}trackItemBy(s,p){return"item"+p.item.editor.id}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-multipletext-row"]],inputs:{question:"question",model:"model"},features:[$],decls:2,vars:0,consts:[["template",""],[3,"class",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["sv-ng-multipletext-item","",3,"question","model"]],template:function(s,p){s&1&&x(0,r2,1,1,"ng-template",null,0,pe)},dependencies:[wV,Y,Ae],styles:["[_nghost-%COMP%]{display:none}"]}),a})(),VV=(()=>{class a extends Ke{constructor(){super(...arguments),this.trackRowBy=s=>this.model.inputId+"rowkey"+s}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-multipletext-question"]],features:[$],decls:4,vars:4,consts:[["contentElement",""],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"model","question"]],template:function(s,p){s&1&&(P(0,"table",null,0)(2,"tbody"),x(3,o2,2,2,"ng-container",1),I()()),s&2&&(_(p.model.getQuestionRootCss()),h(3),f("ngForOf",p.model.getRows())("ngForTrackBy",p.trackRowBy))},dependencies:[PV,Ae],encapsulation:2}),a})();Q.Instance.registerComponent("multipletext-question",VV);var IV=(()=>{class a extends Sr{constructor(){super(...arguments),this.inputType="",this.trackItemBy=(s,p)=>p.value+"-"+s+"-item"}getDefaultComponentName(){return"sv-ng-ranking-item"}getItemValueComponentData(s,p,g){return{componentName:this.getDefaultComponentName(),componentData:{question:this.model,model:s,inputType:this.inputType,data:this.model.getItemValueWrapperComponentData(s),index:p,unrankedItem:g}}}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-ranking-question"]],features:[$],decls:2,vars:2,consts:[["contentElement",""],[3,"class",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"component"],["data-ranking","from-container"],["sv-ng-string","",3,"class","model",4,"ngIf"],["data-ranking","to-container"],["sv-ng-string","",3,"model"]],template:function(s,p){s&1&&x(0,l2,3,4,"div",1)(1,m2,9,14,"div",1),s&2&&(f("ngIf",!p.model.selectToRankEnabled),h(),f("ngIf",p.model.selectToRankEnabled))},dependencies:[Pe,Y,Ae,we],encapsulation:2}),a})();Q.Instance.registerComponent("ranking-question",IV);var TV=(()=>{class a extends xe{getModel(){return this.model}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-ranking-item"]],inputs:{question:"question",model:"model",index:"index",unrankedItem:"unrankedItem"},features:[$],decls:13,vars:25,consts:[["elseBlock",""],[3,"keydown","pointerdown","pointerup"],["tabindex","-1",2,"outline","none"],[3,"class",4,"ngIf","ngIfElse"],[3,"component"]],template:function(s,p){if(s&1){let g=fe();P(0,"div",1),J("keydown",function(ue){return B(g),N(p.question.handleKeydown(ue,p.model))})("pointerdown",function(ue){return B(g),N(p.question.handlePointerDown(ue,p.model,ue.currentTarget))})("pointerup",function(ue){return B(g),N(p.question.handlePointerUp(ue,p.model,ue.currentTarget))}),P(1,"div",2),O(2,"div"),P(3,"div")(4,"div"),_e(),P(5,"svg"),O(6,"use"),I(),P(7,"svg"),O(8,"use"),I()(),x(9,v2,2,3,"div",3)(10,y2,3,3,"ng-template",null,0,pe)(12,b2,0,0,"ng-template",4),I()()()}if(s&2){let g=Ue(11);_(p.question.getItemClass(p.model)),Z("tabindex",p.question.getItemTabIndex(p.model))("data-sv-drop-target-ranking-item",p.index),h(2),_(p.question.cssClasses.itemGhostNode),h(),_(p.question.cssClasses.itemContent),h(),_(p.question.cssClasses.itemIconContainer),h(),_(p.question.getIconHoverCss()),h(),Z("href",p.question.dragDropSvgIcon,null,"xlink"),h(),_(p.question.getIconFocusCss()),h(),Z("href",p.question.arrowsSvgIcon,null,"xlink"),h(),f("ngIf",!p.unrankedItem&&p.question.getNumberByIndex(p.index))("ngIfElse",g),h(3),f("component",oe(22,ge,p.question.itemComponent,oe(19,g2,p.model,p.question.cssClasses)))}},dependencies:[Y,we],encapsulation:2}),a})();Q.Instance.registerComponent("sv-ng-ranking-item",TV);var SV=(()=>{class a extends Je{}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ranking-item"]],inputs:{item:"item",cssClasses:"cssClasses"},features:[$],decls:2,vars:0,consts:[["template",""],[3,"model"]],template:function(s,p){s&1&&x(0,C2,2,3,"ng-template",null,0,pe)},dependencies:[Pe],styles:["[_nghost-%COMP%] { display: none; }"]}),a})();Q.Instance.registerComponent("sv-ranking-item",SV);var EV=(()=>{class a{constructor(){this.onInput=s=>{this.model.text=s.target.innerText},this.onClick=s=>{s.preventDefault(),s.stopPropagation()}}}return a.\u0275fac=function(s){return new(s||a)},a.\u0275cmp=j({type:a,selectors:[["sv-ng-string-editor"]],inputs:{model:"model"},decls:2,vars:2,consts:[["class","sv-string-editor","contenteditable","true",3,"innerHtml","blur","click",4,"ngIf"],["class","sv-string-editor","contenteditable","true",3,"blur","click",4,"ngIf"],["contenteditable","true",1,"sv-string-editor",3,"blur","click","innerHtml"],["contenteditable","true",1,"sv-string-editor",3,"blur","click"]],template:function(s,p){s&1&&x(0,x2,1,1,"span",0)(1,_2,2,1,"span",1),s&2&&(f("ngIf",p.model.hasHtml),h(),f("ngIf",!p.model.hasHtml))},dependencies:[Y],encapsulation:2}),a})();Q.Instance.registerComponent(ve.LocalizableString.editableRenderer,EV);var Ti=(()=>{class a{get question(){return this.model&&this.model.data.question||this.data.question}}return a.\u0275fac=function(s){return new(s||a)},a.\u0275cmp=j({type:a,selectors:[["ng-component"]],inputs:{data:"data",model:"model"},decls:0,vars:0,template:function(s,p){},encapsulation:2}),a})(),hp=(()=>{class a extends Ti{addPanelClick(){this.question.addPanelUI()}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-paneldynamic-add-btn"]],features:[$],decls:1,vars:1,consts:[["type","button",3,"id","class","click",4,"ngIf"],["type","button",3,"click","id"],[3,"model"]],template:function(s,p){s&1&&x(0,w2,3,6,"button",0),s&2&&f("ngIf",p.question.canAddPanel)},dependencies:[Pe,Y],encapsulation:2}),a})();Q.Instance.registerComponent("sv-paneldynamic-add-btn",hp);var mp=(()=>{class a extends Ti{nextPanelClick(){this.question.goToNextPanel()}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-paneldynamic-next-btn"]],features:[$],decls:2,vars:5,consts:[[3,"click"],["sv-ng-svg-icon","",3,"iconName","size"]],template:function(s,p){s&1&&(P(0,"div",0),J("click",function(){return p.nextPanelClick()}),_e(),O(1,"svg",1),I()),s&2&&(_(p.question.getNextButtonCss()),Z("title",p.question.panelNextText),h(),f("iconName",p.question.cssClasses.progressBtnIcon)("size","auto"))},dependencies:[We],encapsulation:2}),a})();Q.Instance.registerComponent("sv-paneldynamic-next-btn",mp);var gp=(()=>{class a extends Ti{prevPanelClick(){this.question.goToPrevPanel()}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-paneldynamic-prev-btn"]],features:[$],decls:2,vars:5,consts:[[3,"click"],["sv-ng-svg-icon","",3,"iconName","size"]],template:function(s,p){s&1&&(P(0,"div",0),J("click",function(){return p.prevPanelClick()}),_e(),O(1,"svg",1),I()),s&2&&(_(p.question.getPrevButtonCss()),Z("title",p.question.panelPrevText),h(),f("iconName",p.question.cssClasses.progressBtnIcon)("size","auto"))},dependencies:[We],encapsulation:2}),a})();Q.Instance.registerComponent("sv-paneldynamic-prev-btn",gp);var OV=(()=>{class a extends Ti{get panel(){return(this.data?this.data:this.model.data).panel}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-paneldynamic-remove-btn"]],features:[$],decls:4,vars:8,consts:[["type","button",3,"click","id"],[3,"model"]],template:function(s,p){s&1&&(P(0,"button",0),J("click",function(){return p.question.removePanelUI(p.panel)}),P(1,"span"),O(2,"sv-ng-string",1),I(),O(3,"span"),I()),s&2&&(_(p.question.getPanelRemoveButtonCss()),f("id",p.question.getPanelRemoveButtonId(p.panel)),h(),_(p.question.cssClasses.buttonRemoveText),h(),f("model",p.question.locPanelRemoveText),h(),_(p.question.cssClasses.iconRemove))},dependencies:[Pe],encapsulation:2}),a})();Q.Instance.registerComponent("sv-paneldynamic-remove-btn",OV);var vp=(()=>{class a extends Ti{}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-paneldynamic-progress-text"]],features:[$],decls:2,vars:3,template:function(s,p){s&1&&(P(0,"div"),re(1),I()),s&2&&(_(p.question.cssClasses.progressText),h(),me(p.question.progressText))},encapsulation:2}),a})();Q.Instance.registerComponent("sv-paneldynamic-progress-text",vp);var RV=(()=>{class a extends Ke{trackPanelBy(s,p){return p.id}onModelChanged(){super.onModelChanged(),this.model.panelCountChangedCallback=()=>{this.update()},this.model.currentIndexChangedCallback=()=>{this.update()},this.model.renderModeChangedCallback=()=>{this.update()}}get progressCssClass(){return this.model.isProgressTopShowing?this.model.cssClasses.progressTop:this.model.cssClasses.progressBottom}ngOnDestroy(){this.model.panelCountChangedCallback=()=>{},this.model.currentIndexChangedCallback=()=>{},this.model.renderModeChangedCallback=()=>{},super.ngOnDestroy()}getPanelComponentName(s){let p=this.surveyModel;if(p){let g=p.getElementWrapperComponentName(s);if(g)return g}return"panel"}getPanelComponentData(s){let p=this.surveyModel,g;return p&&(g=p.getElementWrapperComponentData(s)),{componentName:"panel",componentData:{model:s,data:g}}}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-paneldynamic-question"]],features:[$],decls:14,vars:12,consts:[["contentElement",""],["progressV2",""],["progress",""],[3,"class",4,"ngIf"],[3,"ngTemplateOutlet",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"data",4,"ngIf"],["sv-ng-string","",3,"model"],[3,"data"],["role","progressbar"],[3,"ngTemplateOutlet"],[3,"component"],[4,"ngIf"],[3,"model"],[2,"clear","both"]],template:function(s,p){s&1&&(P(0,"div",null,0),x(2,T2,3,4,"div",3)(3,S2,2,8,"div",3)(4,E2,1,1,"ng-container",4),P(5,"div"),x(6,A2,5,8,"ng-container",5),I(),x(7,k2,1,1,"ng-container",4)(8,L2,1,3,"sv-ng-paneldynamic-add-btn",6)(9,F2,1,1,"ng-container",4),I(),x(10,q2,1,1,"ng-template",null,1,pe)(12,H2,8,19,"ng-template",null,2,pe)),s&2&&(_(p.model.cssClasses.root),h(2),f("ngIf",p.model.getShowNoEntriesPlaceholder()),h(),f("ngIf",!p.model.showLegacyNavigation&&p.model.isProgressTopShowing&&p.model.isRangeShowing),h(),f("ngIf",p.model.showLegacyNavigation&&p.model.isProgressTopShowing),h(),_(p.model.cssClasses.panelsContainer),h(),f("ngForOf",p.model.renderedPanels)("ngForTrackBy",p.trackPanelBy),h(),f("ngIf",p.model.showLegacyNavigation&&p.model.isProgressBottomShowing),h(),f("ngIf",p.model.showLegacyNavigation&&p.model.isRenderModeList),h(),f("ngIf",p.model.showNavigation))},dependencies:[Pe,hp,$t,gp,mp,vp,Y,zt,Ae,we],encapsulation:2}),a})();Q.Instance.registerComponent("paneldynamic-question",RV);var DV=(()=>{class a extends Je{}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-template-renderer"]],inputs:{componentName:"componentName",componentData:"componentData",contentTempl:"contentTempl"},features:[$],decls:2,vars:0,consts:[["template",""],[4,"ngIf"],[3,"component"],[4,"ngTemplateOutlet"]],template:function(s,p){s&1&&x(0,G2,2,2,"ng-template",null,0,pe)},dependencies:[Y,we,zt],styles:["[_nghost-%COMP%]{display:none}"]}),a})();Q.Instance.registerComponent(ve.SurveyModel.TemplateRendererComponentName,DV);var MV=(()=>{class a{get hasDefaultRender(){return this.model.customWidget.isDefaultRender||this.hasAngularComponent}get hasHtml(){return!!this.model.customWidget.htmlTemplate}get customHtml(){return this.model.customWidget.htmlTemplate}get hasAngularComponent(){return Q.Instance.isComponentRegistered(this.model.customWidget.name)}get componentName(){return this.hasAngularComponent?this.model.customWidget.name:this.model.getTemplate()+"-question"}ngAfterViewInit(){this.model.customWidget.afterRender(this.model,this.container.nativeElement)}ngOnChanges(s){s.model.previousValue!==void 0&&s.model.currentValue!==void 0&&this.model.customWidget.afterRender(this.model,this.container.nativeElement)}ngOnDestroy(){this.model.customWidget.willUnmount(this.model,this.container.nativeElement)}}return a.\u0275fac=function(s){return new(s||a)},a.\u0275cmp=j({type:a,selectors:[["sv-ng-custom-widget"]],viewQuery:function(s,p){if(s&1&&Fe(Z2,5),s&2){let g;je(g=Be())&&(p.container=g.first)}},inputs:{css:"css",model:"model"},features:[an],decls:4,vars:2,consts:[["content",""],[3,"innerHTML",4,"ngIf"],[4,"ngIf"],[3,"innerHTML"],[3,"component"]],template:function(s,p){s&1&&(P(0,"div",null,0),x(2,K2,2,3,"div",1)(3,X2,2,7,"ng-container",2),I()),s&2&&(h(2),f("ngIf",p.hasHtml),h(),f("ngIf",p.hasDefaultRender))},dependencies:[Y,we,Tr],encapsulation:2}),a})();Q.Instance.registerComponent("survey-customwidget",MV);var AV=(()=>{class a extends xe{getModel(){return this.row.item}onChange(){this.cellChangedOwner.onCellChanged(this.row,this.column)}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-matrix-cell"],["","sv-ng-matrix-cell",""]],inputs:{question:"question",column:"column",row:"row",columnIndex:"columnIndex",cellChangedOwner:"cellChangedOwner"},features:[$],ngContentSelectors:Vr,decls:6,vars:18,consts:[[3,"mousedown"],["type","radio",3,"change","name","value","checked","readonly","disabled"],[3,"class",4,"ngIf"],["sv-ng-string","",3,"class","model",4,"ngIf"],["sv-ng-string","",3,"model"]],template:function(s,p){s&1&&(mi(),P(0,"label",0),J("mousedown",function(){return p.question.onMouseDown()}),P(1,"input",1),J("change",function(){return p.onChange()}),I(),P(2,"span"),x(3,ew,2,3,"svg",2),I(),x(4,tw,1,3,"span",3),I(),gi(5)),s&2&&(_(p.question.getItemClass(p.row,p.column)),h(),_(p.question.cssClasses.itemValue),f("name",p.row.fullName)("value",p.column.value)("checked",p.row.value===p.column.value)("readonly",p.row.isReadOnlyAttr)("disabled",p.row.isDisabledAttr),Z("id",p.question.inputId+"_"+p.row.name+"_"+p.columnIndex)("aria-required",p.question.a11y_input_ariaRequired)("aria-label",p.question.getCellAriaLabel(p.row.locText.renderedHtml,p.column.locText.renderedHtml))("aria-invalid",p.question.a11y_input_ariaInvalid)("aria-errormessage",p.question.a11y_input_ariaErrormessage),h(),_(p.question.cssClasses.materialDecorator),h(),f("ngIf",p.question.itemSvgIcon),h(),f("ngIf",p.question.isMobile))},dependencies:[Pe,Y],encapsulation:2}),a})();Q.Instance.registerComponent("survey-matrix-cell",AV);var yp=(()=>{class a extends Je{get question(){return this.model.data.question}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-matrix-drag-drop-icon"]],inputs:{model:"model"},features:[$],decls:2,vars:0,consts:[["template",""],[3,"class",4,"ngIf"],["data-bind","css: question.cssClasses.iconDrag",4,"ngIf"],["data-bind","css: question.cssClasses.iconDrag"]],template:function(s,p){s&1&&x(0,rw,3,2,"ng-template",null,0,pe)},dependencies:[Y],styles:["[_nghost-%COMP%]{display:none}"]}),a})();Q.Instance.registerComponent("sv-matrix-drag-drop-icon",yp);var bp=(()=>{class a extends xe{getModel(){return this.column}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-matrixheaderrequired"]],inputs:{column:"column",question:"question"},features:[$],decls:2,vars:0,consts:[["template",""],[4,"ngIf"]],template:function(s,p){s&1&&x(0,sw,1,1,"ng-template",null,0,pe)},dependencies:[Y],styles:["[_nghost-%COMP%] { display: none; }"]}),a})(),Cp=(()=>{class a extends xe{getModel(){return this.cell.hasQuestion?this.cell.question:this.cell.column?this.cell.column:null}get row(){return this.cell.row}ngDoCheck(){var s;super.ngDoCheck(),this.cell.isErrorsCell&&(!((s=this.cell)===null||s===void 0)&&s.question)&&this.cell.question.registerFunctionOnPropertiesValueChanged(["errors","visible"],()=>{this.update()},"__ngSubscription")}get panelComponentName(){let s=this.cell.panel,p=s.survey;if(p){let g=p.getElementWrapperComponentName(s);if(g)return g}return"panel"}get panelComponentData(){let s=this.cell.panel,p=s.survey,g;return p&&(g=p.getElementWrapperComponentData(s)),{componentName:"panel",componentData:{model:s,data:g}}}getComponentName(s){return Qs(s)}getCellStyle(){return this.cell.width||this.cell.minWidth?{width:this.cell.width,minWidth:this.cell.minWidth}:null}get isRequiredCell(){return!!this.cell.column&&this.cell.column.isRenderedRequired}ngAfterViewInit(){var s;if(!this.cell.hasQuestion||!this.question||!this.question.survey)return;let p=(s=this.cellContainer)===null||s===void 0?void 0:s.nativeElement;if(p){let S=this.cell.question;var g={cell:this.cell.cell,cellQuestion:S,htmlElement:p,row:this.cell.row,column:this.cell.cell.column};this.question.survey.matrixAfterCellRender(this.question,g),S.afterRenderCore(p)}}ngOnDestroy(){var s;super.ngOnDestroy(),this.cell.isErrorsCell&&(!((s=this.cell)===null||s===void 0)&&s.question)&&this.cell.question.unRegisterFunctionOnPropertiesValueChanged(["errors","visible"],"__ngSubscription")}get canRender(){return this.question&&this.question.survey&&this.cell.isVisible}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-matrixdropdown-cell"]],viewQuery:function(s,p){if(s&1&&Fe(aw,5),s&2){let g;je(g=Be())&&(p.cellContainer=g.first)}},inputs:{question:"question",cell:"cell"},features:[$],decls:2,vars:0,consts:[["template",""],["cellContainer",""],[3,"class","title","style","focusin",4,"ngIf"],[3,"focusin","title"],[3,"model",4,"ngIf"],[3,"model","handleClick",4,"ngIf"],[4,"ngIf"],["sv-ng-errors","",3,"element",4,"ngIf"],[3,"class",4,"ngIf"],[3,"class","visible",4,"ngIf"],[3,"model"],[3,"model","handleClick"],[3,"component"],["sv-ng-errors","",3,"element"],[3,"column","question"],[3,"visible"],["sv-ng-comment-other","",3,"class","question",4,"ngIf"],[3,"showLabel","inputType","question","model"],["sv-ng-comment-other","",3,"question"]],template:function(s,p){s&1&&x(0,Sw,1,1,"ng-template",null,0,pe)},dependencies:[yp,$t,Pi,Pe,bp,sp,Tn,Y,we,Gt],styles:["[_nghost-%COMP%] { display: none; }"]}),a})(),kV=(()=>{class a extends xe{getModel(){return this.model}get row(){return this.model.row}trackCellBy(s,p){return p.id}onModelChanged(){var s;super.onModelChanged(),this.previousModel&&this.previousModel.setRootElement(void 0),this.model&&(!((s=this.container)===null||s===void 0)&&s.nativeElement)&&this.model.setRootElement(this.container.nativeElement)}ngAfterViewInit(){var s;this.model&&(!((s=this.container)===null||s===void 0)&&s.nativeElement)&&this.model.setRootElement(this.container.nativeElement)}ngOnDestroy(){super.ngOnDestroy(),this.model.setRootElement(void 0)}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-matrix-row"]],viewQuery:function(s,p){if(s&1&&Fe(Hn,5,gt),s&2){let g;je(g=Be())&&(p.container=g.first)}},inputs:{model:"model",question:"question"},features:[$],decls:2,vars:0,consts:[["template",""],["container",""],[3,"class","pointerdown",4,"ngIf"],[3,"pointerdown"],[3,"cell","question",4,"ngFor","ngForOf","ngForTrackBy"],[3,"cell","question"]],template:function(s,p){s&1&&x(0,Rw,1,1,"ng-template",null,0,pe)},dependencies:[Cp,Y,Ae],styles:["[_nghost-%COMP%] { display: none; }"]}),a})(),xp=(()=>{class a extends xe{getModel(){return this.table}trackCellBy(s,p){return p.id}trackRowBy(s,p){return p.id}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-matrix-table"]],inputs:{question:"question",table:"table"},features:[$],decls:7,vars:12,consts:[["contentElement",""],[4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"class","style",4,"ngIf"],[3,"component"],[3,"model"],[3,"column","question",4,"ngIf"],[3,"column","question"],[3,"model","question"],[3,"cell","question",4,"ngFor","ngForOf","ngForTrackBy"],[3,"cell","question"]],template:function(s,p){s&1&&(P(0,"div",null,0)(2,"table"),x(3,jw,3,2,"thead",1),P(4,"tbody"),x(5,Bw,2,2,"ng-container",2),I(),x(6,qw,3,2,"tfoot",1),I()()),s&2&&(Ee(ne(10,Dw,p.question.showHorizontalScroll?"scroll":"")),_(p.question.cssClasses.tableWrapper),h(2),_(p.question.getTableCss()),h(),f("ngIf",p.table.showHeader),h(2),f("ngForOf",p.table.renderedRows)("ngForTrackBy",p.trackRowBy),h(),f("ngIf",p.table.showFooter))},dependencies:[Pe,bp,kV,Cp,Y,Ae,we],encapsulation:2}),a})(),LV=(()=>{class a extends Ke{}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-matrixdropdown-question"]],features:[$],decls:2,vars:0,consts:[["template",""],[3,"question","table",4,"ngIf"],[3,"question","table"]],template:function(s,p){s&1&&x(0,Hw,1,1,"ng-template",null,0,pe)},dependencies:[xp,Y],encapsulation:2}),a})();Q.Instance.registerComponent("matrixdropdown-question",LV);var FV=(()=>{class a extends Ke{}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-matrixdynamic-question"]],features:[$],decls:2,vars:0,consts:[["template",""],["contentElement",""],["addRowButton",""],[3,"class",4,"ngIf"],[3,"question","table",4,"ngIf"],[4,"ngTemplateOutlet"],[3,"question","table"],["sv-ng-string","",3,"model"],[4,"ngIf"],["type","button",3,"click"],[3,"model"]],template:function(s,p){s&1&&x(0,Xw,8,4,"ng-template",null,0,pe)},dependencies:[xp,Pe,Y,zt],encapsulation:2}),a})();Q.Instance.registerComponent("matrixdynamic-question",FV);var jV=(()=>{class a{get question(){return this.model.data.question}get row(){return this.model.data.row}getModel(){return this.model}}return a.\u0275fac=function(s){return new(s||a)},a.\u0275cmp=j({type:a,selectors:[["sv-ng-matrix-remove-btn"]],inputs:{model:"model"},decls:3,vars:6,consts:[["type","button",3,"click","disabled"],[3,"model"]],template:function(s,p){s&1&&(P(0,"button",0),J("click",function(){return p.question.removeRowUI(p.row)}),O(1,"sv-ng-string",1)(2,"span"),I()),s&2&&(_(p.question.getRemoveRowButtonCss()),f("disabled",p.question.isInputReadOnly),h(),f("model",p.question.locRemoveRowText),h(),_(p.question.cssClasses.iconRemove))},dependencies:[Pe],encapsulation:2}),a})();Q.Instance.registerComponent("sv-matrix-remove-button",jV);var BV=(()=>{class a{get question(){return this.model.data.question}get row(){return this.model.data.row}getModel(){return this.model}}return a.\u0275fac=function(s){return new(s||a)},a.\u0275cmp=j({type:a,selectors:[["sv-ng-matrix-detail-btn"]],inputs:{model:"model"},decls:2,vars:8,consts:[["type","button",3,"click"],["sv-ng-svg-icon","",3,"iconName","size"]],template:function(s,p){s&1&&(P(0,"button",0),J("click",function(){return p.row.showHideDetailPanelClick()}),_e(),O(1,"svg",1),I()),s&2&&(_(p.question.getDetailPanelButtonCss(p.row)),Z("aria-expanded",p.question.getIsDetailPanelShowing(p.row)?"true":"false")("aria-controls",p.question.getIsDetailPanelShowing(p.row)?p.row.detailPanelId:null),h(),_(p.question.getDetailPanelIconCss(p.row)),f("iconName",p.question.getDetailPanelIconId(p.row))("size","auto"))},dependencies:[We],encapsulation:2}),a})();Q.Instance.registerComponent("sv-matrix-detail-button",BV);var NV=(()=>{class a extends Ke{}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-expression"]],features:[$],decls:3,vars:3,consts:[["contentElement",""]],template:function(s,p){s&1&&(P(0,"div",null,0),re(2),I()),s&2&&(_(p.model.cssClasses.root),h(2),me(p.model.formatedValue))},encapsulation:2}),a})();Q.Instance.registerComponent("expression-question",NV);var qV=(()=>{class a extends Ke{ngAfterViewInit(){this.model.locImageLink.onChanged=()=>{this.detectChanges()},super.ngAfterViewInit()}ngOnDestroy(){this.model.locImageLink.onChanged=()=>{},super.ngOnDestroy()}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-image-question"]],features:[$],decls:6,vars:6,consts:[["contentElement",""],[3,"visible","class","style","load","error",4,"ngIf"],["controls","",3,"visible","class","style","loadedmetadata","error",4,"ngIf"],[3,"class","style",4,"ngIf"],[3,"class",4,"ngIf"],[3,"load","error","visible"],["controls","",3,"loadedmetadata","error","visible"],["sv-ng-svg-icon","",3,"iconName","size"]],template:function(s,p){s&1&&(P(0,"div",null,0),x(2,eP,1,13,"img",1)(3,tP,1,12,"video",2)(4,nP,2,13,"iframe",3)(5,iP,2,4,"div",4),I()),s&2&&(_(p.model.cssClasses.root),h(2),f("ngIf",p.model.renderedMode==="image"),h(),f("ngIf",p.model.renderedMode==="video"),h(),f("ngIf",p.model.renderedMode==="youtube"),h(),f("ngIf",!p.model.locImageLink.renderedHtml||p.model.contentNotLoaded))},dependencies:[We,Y,Gt,qP],encapsulation:2}),a})();Q.Instance.registerComponent("image-question",qV);var QV=(()=>{class a{}return a.\u0275fac=function(s){return new(s||a)},a.\u0275cmp=j({type:a,selectors:[["sv-question-error"]],inputs:{error:"error",cssClasses:"cssClasses",element:"element"},decls:3,vars:5,consts:[["aria-hidden","true"],["sv-ng-string","",3,"model"]],template:function(s,p){s&1&&(P(0,"div"),O(1,"span",0)(2,"span",1),I()),s&2&&(h(),_(p.cssClasses?p.cssClasses.error.icon:"panel-error-icon"),h(),_(p.cssClasses?p.cssClasses.error.item:"panel-error-item"),f("model",p.error.locText))},dependencies:[Pe],encapsulation:2}),a})();Q.Instance.registerComponent("sv-question-error",QV);var HV=(()=>{class a extends Ke{get contentQuestion(){return this.model.contentQuestion}getComponentName(s){return Qs(s)}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-custom-question"]],features:[$],decls:1,vars:6,consts:[[3,"component"]],template:function(s,p){s&1&&x(0,rP,0,0,"ng-template",0),s&2&&f("component",oe(3,ge,p.getComponentName(p.contentQuestion),ne(1,Mt,p.contentQuestion)))},dependencies:[we],encapsulation:2}),a})();Q.Instance.registerComponent("custom-question",HV);var zV=(()=>{class a extends Ke{get contentPanel(){return this.model.contentPanel}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-composite-question"]],features:[$],decls:1,vars:1,consts:[[3,"model"]],template:function(s,p){s&1&&O(0,"sv-ng-panel",0),s&2&&f("model",p.contentPanel)},dependencies:[cp],encapsulation:2}),a})();Q.Instance.registerComponent("composite-question",zV);var _p=(()=>{class a extends Je{}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-header-cell"]],viewQuery:function(s,p){if(s&1&&Fe(Ls,7,vt),s&2){let g;je(g=Be())&&(p.actionContent=g.first)}},inputs:{model:"model"},features:[$],decls:2,vars:0,consts:[["template",""],[1,"sv-header__cell-content"],["class","sv-header__logo",4,"ngIf"],["class","sv-header__title",3,"style",4,"ngIf"],["class","sv-header__description",3,"style",4,"ngIf"],[1,"sv-header__logo"],[3,"component"],[1,"sv-header__title"],[3,"element"],[1,"sv-header__description"],["sv-ng-string","",3,"class","model",4,"ngIf"],["sv-ng-string","",3,"model"]],template:function(s,p){s&1&&x(0,cP,5,9,"ng-template",null,0,pe)},dependencies:[wi,Pe,Y,we],styles:["[_nghost-%COMP%] { display: none; }"]}),a})();Q.Instance.registerComponent("sv-header-cell",_p);var wp=(()=>{class a extends Je{}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-ng-header-mobile"]],viewQuery:function(s,p){if(s&1&&Fe(Ls,7,vt),s&2){let g;je(g=Be())&&(p.actionContent=g.first)}},inputs:{model:"model"},features:[$],decls:2,vars:0,consts:[["template",""],[1,"sv-header--mobile"],["class","sv-header__logo",4,"ngIf"],["class","sv-header__title",3,"style",4,"ngIf"],["class","sv-header__description",3,"style",4,"ngIf"],[1,"sv-header__logo"],[3,"component"],[1,"sv-header__title"],[3,"element"],[1,"sv-header__description"],["sv-ng-string","",3,"class","model",4,"ngIf"],["sv-ng-string","",3,"model"]],template:function(s,p){s&1&&x(0,gP,4,3,"ng-template",null,0,pe)},dependencies:[wi,Pe,Y,we],styles:["[_nghost-%COMP%] { display: none; }"]}),a})();Q.Instance.registerComponent("sv-header-cell",wp);var UV=(()=>{class a extends xe{getModel(){return this.model.survey=this.survey,this.model}}return a.\u0275fac=(()=>{let c;return function(p){return(c||(c=G(a)))(p||a)}})(),a.\u0275cmp=j({type:a,selectors:[["sv-header"],["sv-ng-header"]],viewQuery:function(s,p){if(s&1&&Fe(Hn,5),s&2){let g;je(g=Be())&&(p.container=g.first)}},inputs:{model:"model",survey:"survey"},features:[$],decls:2,vars:0,consts:[["template",""],[3,"class","style",4,"ngIf"],[3,"style","class",4,"ngIf"],[3,"class","width",4,"ngIf"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"model"]],template:function(s,p){s&1&&x(0,wP,1,1,"ng-template",null,0,pe)},dependencies:[_p,wp,Y,Ae],styles:["[_nghost-%COMP%] { display: none }"]}),a})();Q.Instance.registerComponent("sv-header",UV);var Pp=(()=>{class a{}return a.\u0275fac=function(s){return new(s||a)},a.\u0275mod=yc({type:a}),a.\u0275inj=vc({providers:[Zc],imports:[[br,Mc]]}),a})();function $V(a,c){if(a&1){let s=fe();P(0,"button",9),J("click",function(){B(s);let g=v();return N(g.onSubmit())}),re(1," Enviar "),I()}}var Vp=class a{survey;part;rutMd5;recordsService=Nn(Ic);loginService=Nn(Vc);routeActivate=Nn(wc);router=Nn(Pc);snackbar=Nn(Tc);currentUser=this.loginService.currentUser;ngOnInit(){At.surveyStrings.pageNextText="Ir al Siguiente",At.surveyStrings.pagePrevText="Volver Atr\xE1s",At.surveyStrings.completeText="Enviar Encuesta",this.routeActivate.paramMap.subscribe(s=>{let p=s.get("part");switch(this.part=p?parseInt(p,10):1,this.part){case 1:this.survey=new At.Model(Ac);break;case 2:this.survey=new At.Model(kc);break;case 3:this.survey=new At.Model(Lc);break;case 4:this.survey=new At.Model(Fc);break;case 5:this.survey=new At.Model(jc);break;default:this.router.navigate(["/"])}this.survey.progressBarType="pages",this.survey.completedHtml="Gracias por completar la encuesta, haz click en el bot\xF3n 'Enviar' para terminar.",this.survey.showCompletedPage=!1,this.survey.onComplete.add(()=>{this.onSubmit()}),this.survey.onCurrentPageChanged.add(g=>{window.scrollTo({top:0,behavior:"smooth"})})});let c=this.loginService.getCurrentUser();c&&c.rut?this.rutMd5=c.rut:(this.snackbar.show("Usuario no autenticado o sin RUT.",4e3),this.router.navigate(["/"]))}onSubmit(){if(this.survey.state==="completed"){let c=this.survey.data,s=this.part,p=this.rutMd5;this.recordsService.createRecord(p,s,c).subscribe({next:g=>{this.snackbar.show("Respuestas contestadas correctamente",6e3),this.router.navigate(["/evaluaciones-proveedor"])},error:g=>{console.error("Error al enviar datos:",g),this.snackbar.show("Error al enviar datos: "+g.message,4e3)}})}else this.survey.completeLastPage(),this.survey.state!=="completed"&&this.snackbar.show("Por favor, complete todas las preguntas requeridas antes de enviar.",4e3)}static \u0275fac=function(s){return new(s||a)};static \u0275cmp=j({type:a,selectors:[["app-survey-form"]],standalone:!0,features:[xc],decls:10,vars:5,consts:[[1,"bg-white","min-h-screen","p-4","md:p-8","text-gray-800"],[1,"survey-container"],[1,"progress-bar-container","mb-4"],[1,"progress-bar","bg-gray-200","rounded-full"],[1,"progress-bar-fill","bg-[#EAB308]","rounded-full"],[1,"text-right","text-sm"],[3,"model"],[1,"mt-4",2,"text-align","right"],["class","px-4 py-2 bg-[#EAB308] text-gray-800 font-semibold rounded hover:bg-yellow-500 transition-colors",3,"click",4,"ngIf"],[1,"px-4","py-2","bg-[#EAB308]","text-gray-800","font-semibold","rounded","hover:bg-yellow-500","transition-colors",3,"click"]],template:function(s,p){s&1&&(P(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),O(4,"div",4),I(),P(5,"p",5),re(6),I()(),O(7,"survey",6),I(),P(8,"div",7),x(9,$V,2,0,"button",8),I()()),s&2&&(h(4),Ne("width",p.survey.getProgress()+"%"),h(2),qn(" ",p.survey.getProgress().toFixed(0),"% completado "),h(),f("model",p.survey),h(2),f("ngIf",p.survey.state==="completed"))},dependencies:[br,Y,Pp,ep],styles:[`@charset "UTF-8";.sv-string-viewer{color:#1f2937!important}.sv-btn{display:inline-block;border-radius:.375rem;background-color:#eab308;padding-top:.75rem;padding-bottom:.75rem;font-weight:600;--tw-text-opacity: 1;color:#fff;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.progress-bar-container{position:relative}.progress-bar{width:100%;height:8px;position:relative}.progress-bar-fill{height:100%;transition:width .3s ease-in-out}.sv-completedpage{margin:0 auto!important;width:90%!important;max-width:1200px}
`],encapsulation:2})};export{Vp as a};
