import{A as G,B as A,D as z,g as F,l as I,n as M,o as c,p as V,q as N,t as j,v as P,w as T}from"./chunk-SBTY2MRA.js";import{D as g,E as b,Ea as y,Ga as w,N as r,V as u,Wa as _,X as a,Ya as S,cb as C,ea as e,fa as i,ga as l,ib as k,jb as L,ma as f,na as h,pb as E,v as p,w as v,wa as s,ya as x}from"./chunk-JAORLPYH.js";var q=n=>({"opacity-0":n});function D(n,o){n&1&&(e(0,"div"),s(1," El correo es obligatorio. "),i())}function U(n,o){n&1&&(e(0,"div"),s(1," Por favor, ingresa un correo v\xE1lido. "),i())}function R(n,o){if(n&1&&(e(0,"div",41),u(1,D,2,0,"div",42)(2,U,2,0,"div",42),i()),n&2){let d,t,m=h();r(),a("ngIf",(d=m.loginForm.get("email"))==null||d.errors==null?null:d.errors.required),r(),a("ngIf",(t=m.loginForm.get("email"))==null||t.errors==null?null:t.errors.email)}}function H(n,o){n&1&&(g(),l(0,"path",43))}function Z(n,o){n&1&&(g(),l(0,"path",44))}function $(n,o){n&1&&(g(),l(0,"path",45))}function J(n,o){n&1&&(g(),l(0,"path",46))}function K(n,o){if(n&1&&(e(0,"div",47),s(1),i()),n&2){let d=h();r(),x(" ",d.errorMessage," ")}}function O(n,o){n&1&&(g(),e(0,"svg",48),l(1,"circle",49)(2,"path",50),i())}var B=class n{title=p(L);meta=p(k);loginService=p(F);fb=p(A);snackbar=p(I);loginForm=this.fb.group({email:["",[c.required,c.email]],password:["",[c.required]]});isLoading=!1;errorMessage="";isPasswordVisible=!1;hasLength=!1;hasUppercase=!1;hasSpecialChar=!1;hasNumber=!1;constructor(){this.title.setTitle("Acceso a la Plataforma | Nuevo Los Lagos"),this.meta.updateTag({name:"description",content:'Accede a la plataforma "Nuevo Los Lagos" y con\xE9ctate con una red colaborativa. Descubre nuevas oportunidades de negocio en la regi\xF3n.'}),this.loginForm.get("password")?.valueChanges.subscribe(o=>{this.validatePassword(o)})}validatePassword(o){this.hasLength=o.length>=8,this.hasUppercase=/[A-Z]/.test(o),this.hasSpecialChar=/[!@#$%^&*(),.?":{}|<>]/.test(o),this.hasNumber=/[0-9]/.test(o)}togglePasswordVisibility(){this.isPasswordVisible=!this.isPasswordVisible}onSubmit(){if(this.loginForm.invalid){this.snackbar.show("Completa nombre y contrase\xF1a antes de iniciar sesi\xF3n",4e3);return}if(!(this.hasLength&&this.hasUppercase&&this.hasSpecialChar&&this.hasNumber)){this.snackbar.show("La contrase\xF1a debe ser correcta",4e3);return}this.isLoading=!0,this.errorMessage="";let{email:o,password:d}=this.loginForm.value;this.loginService.login({mail:o,password:d}).subscribe({next:()=>{this.isLoading=!1},error:t=>{this.errorMessage=t?.error?.error||"Error al iniciar sesi\xF3n.",this.isLoading=!1}})}static \u0275fac=function(d){return new(d||n)};static \u0275cmp=v({type:n,selectors:[["app-login"]],standalone:!0,features:[y],decls:67,vars:18,consts:[[1,"min-h-screen","bg-gradient-to-br","from-gray-50","to-gray-100","flex"],[1,"w-full","lg:w-1/2","flex","items-center","justify-center","p-8"],[1,"w-full","max-w-md"],[1,"text-center","mb-8"],[1,"text-3xl","font-bold","text-gray-900","tracking-tight"],[1,"mt-2","text-sm","text-gray-600"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","email",1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"relative"],["id","email","type","email","formControlName","email","required","","placeholder","nombre@ejemplo.com",1,"appearance-none","block","w-full","px-4","py-3","border","border-gray-200","rounded-xl","transition-all","duration-200","focus:ring-2","focus:ring-indigo-500/20","focus:border-indigo-500","focus:outline-none","placeholder-gray-400","bg-gray-50/50"],["class","mt-2 text-sm text-rose-500",4,"ngIf"],["for","password",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","password","formControlName","password","required","","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"appearance-none","block","w-full","px-4","py-3","border","border-gray-200","rounded-xl","transition-all","duration-200","focus:ring-2","focus:ring-indigo-500/20","focus:border-indigo-500","focus:outline-none","placeholder-gray-400","bg-gray-50/50",3,"type"],["type","button",1,"absolute","right-3","top-1/2","transform","-translate-y-1/2","text-gray-400","hover:text-gray-600","transition-colors",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5",3,"ngClass"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13.875 18.825A10.05 10.05 0 0112 19c-4.477 0-8.268-2.943-9.542-7a9.977 9.977 0 014.058-5.642M15 12a3 3 0 11-6 0 3 3 0 016 0z",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 3l18 18",4,"ngIf"],[1,"mt-4","grid","grid-cols-2","gap-3"],[1,"flex","items-center","text-sm"],[1,"w-3","h-3","inline-block","rounded-full","mr-2","transition-colors","duration-200",3,"ngClass"],[1,"text-gray-600","text-xs"],["class","text-center text-sm text-rose-500 bg-rose-50 p-3 rounded-lg",4,"ngIf"],["type","submit",1,"w-full","flex","justify-center","py-3","px-4","border","border-transparent","rounded-xl","shadow-sm","text-sm","font-medium","text-white","bg-gradient-to-r","from-indigo-600","to-indigo-700","hover:from-indigo-500","hover:to-indigo-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","disabled:opacity-50","disabled:cursor-not-allowed","transition-all","duration-200",3,"disabled"],[3,"ngClass"],["class","absolute w-5 h-5 animate-spin","viewBox","0 0 24 24",4,"ngIf"],[1,"relative","my-6"],[1,"absolute","inset-0","flex","items-center"],[1,"w-full","border-t","border-gray-200"],[1,"relative","flex","justify-center","text-sm"],[1,"px-2","bg-white","text-gray-500"],[1,"space-y-3"],["routerLink","/registro",1,"w-full","flex","justify-center","py-3","px-4","rounded-xl","text-sm","font-medium","bg-gradient-to-r","from-gray-800","to-gray-900","text-white","hover:from-gray-700","hover:to-gray-800","transition-all","duration-200"],["routerLink","/",1,"w-full","flex","justify-center","py-3","px-4","rounded-xl","text-sm","font-medium","bg-white","border","border-gray-200","text-gray-700","hover:bg-gray-50","hover:text-gray-900","transition-all","duration-200"],[1,"hidden","lg:block","lg:w-1/2","relative","overflow-hidden"],["src","assets/images/login.jpg","alt","Login Background",1,"absolute","inset-0","w-full","h-full","object-cover"],[1,"absolute","inset-0","bg-gradient-to-r","from-gray-900/80","to-gray-900/40","flex","items-center","justify-center"],[1,"text-center","p-8"],[1,"text-3xl","font-bold","text-white","mb-4"],[1,"text-lg","text-gray-200"],[1,"mt-2","text-sm","text-rose-500"],[4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13.875 18.825A10.05 10.05 0 0112 19c-4.477 0-8.268-2.943-9.542-7a9.977 9.977 0 014.058-5.642M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 3l18 18"],[1,"text-center","text-sm","text-rose-500","bg-rose-50","p-3","rounded-lg"],["viewBox","0 0 24 24",1,"absolute","w-5","h-5","animate-spin"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4","fill","none",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(d,t){if(d&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),s(5,"Iniciar Sesi\xF3n"),i(),e(6,"p",5),s(7,"Bienvenido de vuelta"),i()(),e(8,"form",6),f("ngSubmit",function(){return t.onSubmit()}),e(9,"div")(10,"label",7),s(11," Correo electr\xF3nico "),i(),e(12,"div",8),l(13,"input",9),i(),u(14,R,3,2,"div",10),i(),e(15,"div")(16,"label",11),s(17," Contrase\xF1a "),i(),e(18,"div",8),l(19,"input",12),e(20,"button",13),f("click",function(){return t.togglePasswordVisibility()}),g(),e(21,"svg",14),u(22,H,1,0,"path",15)(23,Z,1,0,"path",16)(24,$,1,0,"path",17)(25,J,1,0,"path",18),i()()(),b(),e(26,"div",19)(27,"div",20),l(28,"span",21),e(29,"span",22),s(30,"8+ caracteres"),i()(),e(31,"div",20),l(32,"span",21),e(33,"span",22),s(34,"May\xFAscula"),i()(),e(35,"div",20),l(36,"span",21),e(37,"span",22),s(38,"Car\xE1cter especial"),i()(),e(39,"div",20),l(40,"span",21),e(41,"span",22),s(42,"N\xFAmero"),i()()()(),u(43,K,2,1,"div",23),e(44,"button",24)(45,"span",25),s(46,"Iniciar Sesi\xF3n"),i(),u(47,O,3,0,"svg",26),i(),e(48,"div",27)(49,"div",28),l(50,"div",29),i(),e(51,"div",30)(52,"span",31),s(53,"o"),i()()(),e(54,"div",32)(55,"a",33),s(56," Crear Cuenta "),i(),e(57,"a",34),s(58," Volver al Inicio "),i()()()()(),e(59,"div",35),l(60,"img",36),e(61,"div",37)(62,"div",38)(63,"h2",39),s(64,"Bienvenido a Nuevo Los Lagos"),i(),e(65,"p",40),s(66,"Plataforma de innovaci\xF3n y desarrollo industrial"),i()()()()()),d&2){let m;r(8),a("formGroup",t.loginForm),r(6),a("ngIf",((m=t.loginForm.get("email"))==null?null:m.touched)&&((m=t.loginForm.get("email"))==null?null:m.invalid)),r(5),a("type",t.isPasswordVisible?"text":"password"),r(2),a("ngClass",t.isPasswordVisible?"text-indigo-600":"text-gray-400"),r(),a("ngIf",t.isPasswordVisible),r(),a("ngIf",t.isPasswordVisible),r(),a("ngIf",!t.isPasswordVisible),r(),a("ngIf",!t.isPasswordVisible),r(3),a("ngClass",t.hasLength?"bg-green-400 shadow-sm shadow-green-200":"bg-gray-200"),r(4),a("ngClass",t.hasUppercase?"bg-green-400 shadow-sm shadow-green-200":"bg-gray-200"),r(4),a("ngClass",t.hasSpecialChar?"bg-green-400 shadow-sm shadow-green-200":"bg-gray-200"),r(4),a("ngClass",t.hasNumber?"bg-green-400 shadow-sm shadow-green-200":"bg-gray-200"),r(3),a("ngIf",t.errorMessage),r(),a("disabled",t.isLoading||!t.loginForm.valid),r(),a("ngClass",w(16,q,t.isLoading)),r(2),a("ngIf",t.isLoading)}},dependencies:[z,j,M,V,N,G,P,T,C,_,S,E]})};export{B as a};
